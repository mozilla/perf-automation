webpackJsonp([176],{"1a2I":function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function e(t,n){t.classList?t.classList.remove(n):"string"==typeof t.className?t.className=r(t.className,n):t.setAttribute("class",r(t.className&&t.className.baseVal||"",n))}},"309a":function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},"5TQk":function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o,a=b(n("IaRT")),i,l=h(n("hFyI")),s,c=h(n("1a2I")),u,p=h(n("d6ZO")),f,d=h(n("bC4m")),m=n("EtWn");function h(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function e(t,n){return t&&n&&n.split(" ").forEach(function(e){return(0,l.default)(t,e)})},v=function e(t,n){return t&&n&&n.split(" ").forEach(function(e){return(0,c.default)(t,e)})},C=r({},d.default.propTypes,{classNames:m.classNamesShape,onEnter:a.func,onEntering:a.func,onEntered:a.func,onExit:a.func,onExiting:a.func,onExited:a.func}),_=function(i){function l(){var e,a,t;y(this,l);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a=g(this,i.call.apply(i,[this].concat(r)))).onEnter=function(e,t){var n,r=a.getClassNames(t?"appear":"enter").className;a.removeClasses(e,"exit"),E(e,r),a.props.onEnter&&a.props.onEnter(e)},a.onEntering=function(e,t){var n,r=a.getClassNames(t?"appear":"enter").activeClassName;a.reflowAndAddClass(e,r),a.props.onEntering&&a.props.onEntering(e)},a.onEntered=function(e,t){var n,r=a.getClassNames("enter").doneClassName;a.removeClasses(e,t?"appear":"enter"),E(e,r),a.props.onEntered&&a.props.onEntered(e)},a.onExit=function(e){var t,n=a.getClassNames("exit").className;a.removeClasses(e,"appear"),a.removeClasses(e,"enter"),E(e,n),a.props.onExit&&a.props.onExit(e)},a.onExiting=function(e){var t,n=a.getClassNames("exit").activeClassName;a.reflowAndAddClass(e,n),a.props.onExiting&&a.props.onExiting(e)},a.onExited=function(e){var t,n=a.getClassNames("exit").doneClassName;a.removeClasses(e,"exit"),E(e,n),a.props.onExited&&a.props.onExited(e)},a.getClassNames=function(e){var t=a.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e,r,o;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active",doneClassName:"string"!=typeof t?t[e+"Done"]:n+"-done"}},g(a,t=e)}return w(l,i),l.prototype.removeClasses=function e(t,n){var r=this.getClassNames(n),o=r.className,a=r.activeClassName,i=r.doneClassName;o&&v(t,o),a&&v(t,a),i&&v(t,i)},l.prototype.reflowAndAddClass=function e(t,n){n&&(t&&t.scrollTop,E(t,n))},l.prototype.render=function e(){var t=r({},this.props);return delete t.classNames,p.default.createElement(d.default,r({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},l}(p.default.Component);_.propTypes={},t.default=_,e.exports=t.default},"6P5Y":function(e,t,n){var r=n("McbO"),o=n("qJu0"),a=n("3DTL"),i=o(function(e,t,n){return r(e,a(t)||0,n)});e.exports=i},DJud:function(e,t,n){"use strict";var p=n("d6ZO"),r=n.n(p),a=n("/e0Y"),d=n("W/Cr"),f=n("R6a3"),o=n("THYI"),m=n.n(o),h=n("gEaE"),l=n("FrUj");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function b(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?E(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){C(t,e,n[e])})}return t}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function e(t,n){var r=[],o=[],a={};return t.forEach(function(e){var t=e(n);Object.keys(t).includes("score")&&(a={score:t.score}),t.suggestions&&(o=o.concat(t.suggestions)),r=r.concat(t.errors)}),v({errors:r,suggestions:o.filter(function(e){return e})},a)},O=function e(t){var n=t.children,r=t.htmlFor,o=t.label,a=t.divide;return p.createElement(h.b,null,p.createElement(h.b,{display:"flex",padding:4},p.createElement(h.b,{alignItems:"center",marginRight:3,xs:{column:4}},p.createElement(h.q,{htmlFor:r},p.createElement(h.K,{bold:!0},o))),n),a?p.createElement(h.j,null):null)},x=function(e){function o(){var e,f;s(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(E(E(f=b(this,(e=y(o)).call.apply(e,[this].concat(n))))),"state",{buttonLoading:!1,modalLoading:!1,oldPassword:void 0,newPassword:void 0,repeatPassword:void 0,oldPasswordErrors:[],newPasswordErrors:[],repeatPasswordErrors:[]}),C(E(E(f)),"handleSubmit",function(e){var t;e.event.preventDefault();var n=f.state,r=n.oldPassword,o=n.oldPasswordErrors,a=n.newPassword,i=n.newPasswordErrors,l=n.repeatPassword,s=n.repeatPasswordErrors,c=f.props.hasPassword;if(f.handleButtonLoading(!0),f.handleBlankFields(),o.length||i.length||s.length||c&&void 0===r||void 0===a||void 0===l)f.handleButtonLoading(!1);else{var u={new_password:a,new_password_confirm:l,old_password:r},p;m.a.create("UserPasswordResource",u).callUpdate({showError:!1}).then(function(){f.props.onHide(),f.props.onSuccess&&f.props.onSuccess()},function(e){var t=((e.extra_data||{}).objects||{}).field||"old";f.setState(C({},"".concat(t,"PasswordErrors"),[e.message])),f.handleButtonLoading(!1)})}}),C(E(E(f)),"handleForgotPassword",function(){var e;a.a.trackEvent("forgot_password","click"),f.handleModalLoading(!0),m.a.create("UserResetPasswordResource",{username_or_email:f.props.username}).callCreate({showError:!1}).then(function(){a.a.trackEvent("forgot_password","success"),f.props.onPasswordForgotModal(),f.handleModalLoading(!1)},function(){a.a.trackEvent("forgot_password","error")})}),C(E(E(f)),"handleBlankFields",function(){var e={};void 0===f.state.oldPassword&&(e.oldPasswordErrors=[d.a._("Required")]),void 0===f.state.newPassword&&(e.newPasswordErrors=[d.a._("Required")]),void 0===f.state.repeatPassword&&(e.repeatPasswordErrors=[d.a._("Required")]),f.setState(e)}),C(E(E(f)),"updateAndValidate",function(e,t){var n,r={oldPassword:f.state.oldPassword,newPassword:f.state.newPassword,repeatPassword:f.state.repeatPassword};r[e]=t;var o=[],a=[],i=[];void 0!==r.oldPassword&&(o=Object(l.q)()(r.oldPassword).errors),void 0!==r.newPassword&&(a=f.validateNewPassword(r.newPassword).errors),void 0!==r.repeatPassword&&void 0!==r.newPassword&&(i=f.validateRepeatPassword(r.newPassword,r.repeatPassword).errors),f.setState((C(n={},e,t),C(n,"oldPasswordErrors",o),C(n,"newPasswordErrors",a),C(n,"repeatPasswordErrors",i),n))}),f}return g(o,e),u(o,[{key:"handleButtonLoading",value:function e(t){this.setState({buttonLoading:t})}},{key:"handleModalLoading",value:function e(t){this.setState({modalLoading:t})}},{key:"validateNewPassword",value:function e(t){var n=[Object(l.q)(),Object(l.b)({message:d.a.commonStrings.asciiPasswordError}),Object(l.n)({username:this.props.username,samePasswordStr:d.a._("Oops! Your password shouldn’t match your username.")})];return _(n,t)}},{key:"validateRepeatPassword",value:function e(t,n){var r=[Object(l.q)(),Object(l.f)({targetValue:t,message:d.a._("Passwords don’t match")})];return _(r,n)}},{key:"render",value:function e(){var r=this,t=this.state,n=t.oldPasswordErrors,o=t.newPasswordErrors,a=t.repeatPasswordErrors,i=this.props.hasPassword,l=i?d.a._("Change your password"):d.a._("Set your password"),s=i?d.a._("Change Password"):d.a._("Save"),c=(!i||this.state.oldPassword)&&this.state.newPassword&&this.state.repeatPassword&&0===n.length&&0===o.length&&0===a.length,u=p.createElement(h.b,{alignItems:"center",justifyContent:"end",marginLeft:-1,marginRight:-1,display:"flex"},p.createElement(h.b,{paddingX:1},p.createElement(h.c,{inline:!0,onClick:this.props.onHide,text:d.a._("Cancel"),size:"md"})),p.createElement(h.b,{paddingX:1},p.createElement(h.c,{color:"red",disabled:!c||this.state.buttonLoading,inline:!0,type:"submit",onClick:this.handleSubmit,text:s,size:"md"})));return p.createElement(f.a,{accessibilityCloseLabel:d.a._("Close"),accessibilityModalLabel:l,onDismiss:this.props.onHide,heading:l,footer:u,size:"md"},i?p.createElement(h.b,null,p.createElement(h.b,{display:"flex",padding:4},p.createElement(h.b,{marginRight:3,xs:{column:4}},p.createElement(h.q,{htmlFor:"changePasswordOld"},p.createElement(h.K,{bold:!0},d.a._("Old password")))),p.createElement(h.b,{flex:"grow"},p.createElement(h.M,{errorMessage:n[0],id:"changePasswordOld",idealErrorDirection:"down",name:"old",onChange:function e(t){var n=t.value;return r.updateAndValidate("oldPassword",n)},type:"password",value:this.state.oldPassword}),p.createElement(h.b,{marginTop:1,overflow:"hidden"},p.createElement(h.c,{inline:!0,onClick:this.handleForgotPassword,text:d.a._("Forgot it?"),size:"md"})))),p.createElement(h.j,null)):null,p.createElement(O,{divide:!0,htmlFor:"changePasswordNew",label:d.a._("New password")},p.createElement(h.b,{flex:"grow"},p.createElement(h.M,{errorMessage:o[0],id:"changePasswordNew",idealErrorDirection:"down",name:"new",onChange:function e(t){var n=t.value;return r.updateAndValidate("newPassword",n)},type:"password",value:this.state.newPassword}))),p.createElement(O,{htmlFor:"changePasswordNewConfirm",label:d.a._("Type it again")},p.createElement(h.b,{flex:"grow"},p.createElement(h.M,{errorMessage:a[0],id:"changePasswordNewConfirm",idealErrorDirection:"up",name:"new_confirm",onChange:function e(t){var n=t.value;return r.updateAndValidate("repeatPassword",n)},type:"password",value:this.state.repeatPassword}))))}}]),o}(p.Component);t.a=x},EtWn:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=i;var r,o=a(n("IaRT"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}var l=t.timeoutsShape=o.default.oneOfType([o.default.number,o.default.shape({enter:o.default.number,exit:o.default.number}).isRequired]),s=t.classNamesShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,exit:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterDone:o.default.string,enterActive:o.default.string,exit:o.default.string,exitDone:o.default.string,exitActive:o.default.string})])},GTkM:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=o,t.getInitialChildMapping=a,t.getNextChildMapping=i;var p=n("d6ZO");function r(e,n){var t=function e(t){return n&&(0,p.isValidElement)(t)?n(t):t},r=Object.create(null);return e&&p.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=t(e)}),r}function o(t,n){function e(e){return e in n?n[e]:t[e]}t=t||{},n=n||{};var r=Object.create(null),o=[];for(var a in t)a in n?o.length&&(r[a]=o,o=[]):o.push(a);var i=void 0,l={};for(var s in n){if(r[s])for(i=0;i<r[s].length;i++){var c=r[s][i];l[r[s][i]]=e(c)}l[s]=e(s)}for(i=0;i<o.length;i++)l[o[i]]=e(o[i]);return l}function f(e,t,n){return null!=n[t]?n[t]:e.props[t]}function a(t,n){return r(t.children,function(e){return(0,p.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:f(e,"appear",t),enter:f(e,"enter",t),exit:f(e,"exit",t)})})}function i(i,l,s){var c=r(i.children),u=o(l,c);return Object.keys(u).forEach(function(e){var t=u[e];if((0,p.isValidElement)(t)){var n=e in l,r=e in c,o=l[e],a=(0,p.isValidElement)(o)&&!o.props.in;!r||n&&!a?r||!n||a?r&&n&&(0,p.isValidElement)(o)&&(u[e]=(0,p.cloneElement)(t,{onExited:s.bind(null,t),in:o.props.in,exit:f(t,"exit",i),enter:f(t,"enter",i)})):u[e]=(0,p.cloneElement)(t,{in:!1}):u[e]=(0,p.cloneElement)(t,{onExited:s.bind(null,t),in:!0,exit:f(t,"exit",i),enter:f(t,"enter",i)})}}),u}},K1Hn:function(e,t,n){"use strict";var l=n("d6ZO"),u=n.n(l),r=n("BAXv"),p=n("W/Cr"),i=n("tmfO"),o=n("IaRT"),a=n.n(o),s=n("WBZ1"),c=n.n(s),f=n("85jk"),d=n("gEaE");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?C(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=10,x,S=function(e){function a(){var e,t;h(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _(C(C(t=g(this,(e=w(a)).call.apply(e,[this].concat(r))))),"state",{isVisible:!0}),_(C(C(t)),"onScroll",c()(function(){var e=t.getScrollPos();10<e?t.setState({isVisible:!1}):0===e&&t.setState({isVisible:!0})})),_(C(C(t)),"handleGotItClick",function(){Object(f.a)("auth_eu_cookie_banner_dismissed"),t.props.onGotItClick&&t.props.onGotItClick()}),t}return E(a,e),y(a,[{key:"componentDidMount",value:function e(){window.addEventListener("scroll",this.onScroll),this.onScroll()}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.onScroll)}},{key:"getScrollPos",value:function e(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}},{key:"hide",value:function e(){this.state.isVisible&&this.setState({isVisible:!1})}},{key:"show",value:function e(){this.state.isVisible||this.setState({isVisible:!0})}},{key:"handleLearnMoreClick",value:function e(){Object(f.a)("auth_eu_cookie_banner_learnmore")}},{key:"handlePrivacyClick",value:function e(){Object(f.a)("auth_eu_cookie_banner_privacy")}},{key:"render",value:function e(){var t,n={__style:{animation:this.state.isVisible?"fadeIn .5s":"fadeOutAndHide .5s forwards",backgroundColor:"#1c232c",opacity:.8,zIndex:1e3}};return u.a.createElement("div",{className:"EuCookieBar"},u.a.createElement(d.b,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:n,height:36,justifyContent:"between",position:"fixed",xs:{column:12,display:"flex"}},u.a.createElement(d.b,{deprecatedPadding:{x:2}},u.a.createElement(i.b,{onClick:this.handlePrivacyClick,style:{color:"white"},to:r.a.GEN.templateConst.settings.ABOUT_PRIVACY_URL},p.a._("Privacy","Accessible label for the Privacy link in the EU cookie bar"))),u.a.createElement(d.b,{display:"flex",alignItems:"center"},u.a.createElement(d.b,{deprecatedPadding:{x:1}},u.a.createElement(d.K,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},p.a._("Pinterest is using cookies to help give you the best experience we can.","Accessible label for the cookie text description in the EU cookie bar"))),u.a.createElement(d.b,{deprecatedPadding:{x:1}},u.a.createElement(i.b,{onClick:this.handleLearnMoreClick,style:{color:"white"},to:r.a.GEN.templateConst.settings.ABOUT_COOKIE_URL},p.a._("Learn More","Accessible label for the Learn More link in the EU cookie bar"))),u.a.createElement(d.b,{deprecatedPadding:{x:1}},u.a.createElement("button",{className:"Button borderless cookieButton",onClick:this.handleGotItClick},p.a._("Got it!","Accessible label for the Got it! button in the EU cookie bar"))))))}}]),a}(l.PureComponent),P=n("wUWH"),k,j=function e(t){var n=t.placementId;return l.createElement(P.a,{experienceIds:[14e3],placementId:n},function(e){var t=e.complete;return l.createElement(S,{onGotItClick:t})})},T=n("S1T6"),M=n("R6a3");function I(e){var t=e.connectType,n=e.onConfirm,r=e.onHide,o=p.a._("Erase existing password?");return u.a.createElement(M.a,{accessibilityCloseLabel:p.a._("Close"),accessibilityModalLabel:o,onDismiss:r,heading:o,footer:u.a.createElement(d.b,{marginLeft:-1,marginRight:-1},u.a.createElement(d.b,{padding:1},u.a.createElement(d.c,{size:"lg",text:p.a._("Cancel","Button text for canceling connect and erase password"),onClick:r})),u.a.createElement(d.b,{padding:1},u.a.createElement(d.c,{size:"lg",color:"red",text:p.a._("Okay","Button text for accepting connect and erase password"),onClick:n}))),role:"alertdialog"},u.a.createElement(d.b,{padding:4},u.a.createElement(d.K,null,"google"===t?p.a._("Please confirm that you’ll log in with Google—rather than your previous Pinterest password—in the future"):p.a._("Please confirm that you’ll log in with Facebook—rather than your previous Pinterest password—in the future"))))}var L=I,R,N=function e(t){var n=t.connectType,r=t.onConfirm;return u.a.createElement(M.a,{accessibilityCloseLabel:p.a._("Close","Button text for closing account connect confirmation"),accessibilityModalLabel:p.a._("Successfully connected account","Accessible label for success message after account connect"),onDismiss:r,heading:p.a._("Success!","Title for success message after account connect"),footer:u.a.createElement(d.b,{marginLeft:-1,marginRight:-1},u.a.createElement(d.b,{padding:1},u.a.createElement(d.c,{size:"lg",color:"red",text:p.a._("Got it","Button text for accepting account connect confirmation"),onClick:r}))),role:"alertdialog"},u.a.createElement(d.b,{padding:4},u.a.createElement(d.K,null,"google"===n?p.a._("You can now log into Pinterest with your Google account.","Inform users they should log in with Google after compromised account flow"):p.a._("You can now log into Pinterest with your Facebook account.","Inform users they should log in with Facebook after compromised account flow"))),u.a.createElement(d.b,{paddingBottom:4,paddingX:4},u.a.createElement(d.K,null,p.a._("That means your old password will no longer work.","Inform users they cannot login with a password after using social connect in compromised account flow"))))},D=n("lip+"),A,F=function e(t){var n=t.onClick,r=t.text;return l.createElement(d.b,{marginStart:2},l.createElement(d.c,{color:"transparent",inline:!0,onClick:n,text:r}))},G,H=function e(t){var n=t.onChangePassword,r=t.onDismiss,o=t.onFacebookConnect,a=t.onGoogleConnect;return l.createElement("div",{className:"gridCentered"},l.createElement(d.b,{marginTop:6,marginEnd:3,marginStart:3,overflow:"hidden",shape:"rounded"},l.createElement(d.b,{color:"darkGray",paddingY:4,paddingX:4},l.createElement(d.b,{display:"flex",alignItems:"start",justifyContent:"between"},l.createElement(d.b,{flex:"grow"},l.createElement(d.K,{color:"white",bold:!0},p.a._("Based on our automatic security checks, it looks like your Pinterest password is the same as one that was stolen from another site.","Notify user their account credentials are compromised")),l.createElement(d.b,{marginTop:3},l.createElement(d.K,{color:"white",bold:!0},p.a._("We recommend you change your password or connect your Google or Facebook account.","Suggest a user change their password or connect to Google / Facebook")))),l.createElement(d.b,{marginTop:-2,marginEnd:-2},l.createElement(d.o,{accessibilityLabel:p.a._("Close","accessibility close label"),onClick:r,icon:"cancel"}))),l.createElement(d.b,{xs:{display:"flexColumn"},sm:{display:"flex"},marginTop:4},l.createElement(d.c,{inline:!0,onClick:n,text:p.a._("Change Password","Shows a form for the user to change their password")}),l.createElement(F,{onClick:a,text:p.a._("Connect with Google")}),l.createElement(F,{onClick:o,text:p.a._("Connect with Facebook")})))))},B=n("dLDq"),U=n("LxoH"),z=n("DJud"),W=n("cD7N");function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function q(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?$(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te,ne=function(e){function a(){var e,t;K(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ee($($(t=q(this,(e=Z(a)).call.apply(e,[this].concat(r))))),"state",{activeModal:null}),ee($($(t)),"socialManager",W.a.instance()),ee($($(t)),"activateModal",function(e){return function(){return t.setState({activeModal:e})}}),ee($($(t)),"handleConnect",function(e){return function(){t.activateModal(null)(),t.socialManager.handleConnect(e,!0,{success:t.activateModal("google"===e?"connectedGoogle":"connectedFacebook")})}}),ee($($(t)),"handlePasswordChangeSuccessConfirm",function(){t.activateModal(null)(),t.props.onComplete()}),t}return Q(a,e),Y(a,[{key:"render",value:function e(){var t=this,n=this.props,r=n.onComplete,o=n.onDismiss,a=this.state.activeModal,i;return"confirmGoogleConnect"===a||"connectedGoogle"===a?i="google":"confirmFacebookConnect"!==a&&"connectedFacebook"!==a||(i="facebook"),l.createElement(l.Fragment,null,l.createElement(H,{onChangePassword:this.activateModal("changePassword"),onDismiss:o,onFacebookConnect:this.activateModal("confirmFacebookConnect"),onGoogleConnect:this.activateModal("confirmGoogleConnect")}),"changePassword"===a&&l.createElement(D.a,null,function(e){return l.createElement(z.a,{hasPassword:!!e.isAuth&&e.hasPassword,onHide:t.activateModal(null),onPasswordForgotModal:t.activateModal("forgotPassword"),onSuccess:t.activateModal("changedPasswordSuccess"),username:e.isAuth?e.username:""})}),"changedPasswordSuccess"===a&&l.createElement(B.a,{onHide:this.handlePasswordChangeSuccessConfirm}),"forgotPassword"===a&&l.createElement(U.a,{onHide:this.activateModal(null)}),("confirmGoogleConnect"===a||"confirmFacebookConnect"===a)&&i&&l.createElement(L,{connectType:i,onConfirm:this.handleConnect(i),onHide:this.activateModal(null)}),("connectedGoogle"===a||"connectedFacebook"===a)&&i&&l.createElement(N,{connectType:i,onConfirm:r}))}}]),a}(l.Component),re,oe=function e(t){var n=t.placementId;return l.createElement(P.a,{experienceIds:[500818],placementId:n},function(e){var t=e.complete,n=e.dismiss;return l.createElement(ne,{onComplete:t,onDismiss:n})})},ae=n("YZ7u"),ie=n("LWri"),le=n("sOF4"),se=n("Rmuw");function ce(e,t){if(null==e)return{};var n=ue(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ue(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}var pe,fe=function e(t){var n=t.placementId,o=ce(t,["placementId"]);return l.createElement(P.a,{placementId:n,type:9},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return l.createElement(ie.a,Object.assign({},Object(se.a)(le.a,!0)(r),{handleComplete:t,handleDismiss:n},o))})};function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),e}function ye(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}function ve(e,t){return(ve=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var Ce,_e=function(e){function t(){return me(this,t),ye(this,we(t).apply(this,arguments))}return Ee(t,e),be(t,[{key:"componentWillUnmount",value:function e(){this.props.denzel&&window.location.reload()}},{key:"render",value:function e(){return u.a.createElement(ie.a,Object.assign({},this.props,{handleComplete:this.props.handleComplete}))}}]),t}(l.Component),Oe=n("YZkw"),xe=n("UHjM");function Se(e,t){if(null==e)return{};var n=Pe(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pe(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}var ke=function e(t){var n=t.placementId,o=Se(t,["placementId"]);return l.createElement(P.a,{placementId:n,type:9,preventRemoval:!0},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return l.createElement(_e,Object.assign({},Object(se.a)(le.a,!0)(r),{handleComplete:t,handleDismiss:n},o))})},je=Object(Oe.a)(40001)(function(e){return l.createElement("div",{style:{marginTop:-xe.a}},l.createElement(ke,e))}),Te=ke,Me=n("SX1z"),Ie=n.n(Me),Le=n("THYI"),Re=n.n(Le),Ne=n("suNN");function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),e}function He(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?We(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}function ze(e,t){return(ze=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke="first",Xe="end",Ye,qe=function(e){function t(e){var o;return Ae(this,t),Ve(We(We(o=He(this,Be(t).call(this,e)))),"onCheck",function(e){var t=e.checked;return o.setState({checked:t})}),Ve(We(We(o)),"onTextChange",function(e){var t=e.value;return o.setState({newEmail:t})}),Ve(We(We(o)),"closeModal",function(){var e=o.props.handleComplete;setTimeout(e,5e3)}),Ve(We(We(o)),"updateEmailAddress",function(){var e=o.props.currentEmail,t=o.state,n=t.checked,r=t.newEmail;e&&r&&e.trim()!==r?Re.a.create("UserSettingsResource",{email:r,email_bounced:!1}).callUpdate({showError:!1}).then(function(){return o.updateNotifSetting(n)},function(e){return o.setState({errorMessage:e.message})}):o.updateNotifSetting(n)}),Ve(We(We(o)),"updateNotifSetting",function(e){var t;o.setState({currentStep:Xe}),t=!0===e?{section:"settings_email",option:"ALL",value:!0}:{section:"settings_email",option:"ONLY_REQUIRED",value:!0},Re.a.create("EmailSettingsResource",t).callUpdate(),o.closeModal()}),o.state={currentStep:Ke,newEmail:e.currentEmail,checked:!0},o}return Ue(t,e),Ge(t,[{key:"getModalText",value:function e(t){return t===Ke?p.a._("We're having some trouble reaching you. Is this still your email?","prompt to update email"):p.a._("Thanks! Your email preferences have been saved.","after updating email address")}},{key:"renderStep",value:function e(t){var n=this.state,r=n.checked,o=n.errorMessage,a=n.newEmail;return t===Ke?u.a.createElement(d.b,{maxWidth:310},u.a.createElement(d.b,{alignItems:"center",display:"flex",marginBottom:6},u.a.createElement(d.e,{checked:r,id:"notif",onChange:this.onCheck,size:"sm"}),u.a.createElement(d.q,{htmlFor:"notif"},u.a.createElement(d.b,{paddingX:2},u.a.createElement(d.K,{size:"sm"},p.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt"))))),u.a.createElement(d.M,{id:"email",type:"email",onChange:this.onTextChange,value:a,idealErrorDirection:"up",errorMessage:o}),u.a.createElement(d.b,{paddingY:1},u.a.createElement(d.c,{color:"red",text:p.a._("Done","done updating email address"),onClick:this.updateEmailAddress}))):u.a.createElement(d.K,{overflow:"normal",size:"lg"},Object(Ne.b)(p.a._("You can always change them later from your {{settingsLink}}.","link to change email settings"),{settingsLink:u.a.createElement(i.b,{key:"settingsLink",to:"/settings/"},p.a._("Settings","link to edit account settings"))}))}},{key:"render",value:function e(){var t=this.props.handleDismiss,n=this.state.currentStep;return u.a.createElement(d.b,{color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},u.a.createElement(d.b,{display:"flex",alignItems:"center"},u.a.createElement(d.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},u.a.createElement(d.b,{width:292,height:479,marginBottom:-6},u.a.createElement(d.p,{alt:p.a._("preview of mobile app","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:Ie.a}))),u.a.createElement(d.b,{position:"relative"},u.a.createElement(d.b,{display:"flex",alignItems:"center",width:330,height:540},u.a.createElement(d.b,{paddingX:3},u.a.createElement(d.b,{paddingY:6},u.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},this.getModalText(n))),this.renderStep(n))),n===Ke&&u.a.createElement(d.b,{padding:6,position:"absolute",bottom:!0,right:!0},u.a.createElement(d.O,{onTouch:t,fullWidth:!1},u.a.createElement(d.K,{bold:!0},p.a._("Skip for now","Skip prompt to change email address")))))))}}]),t}(l.Component),Ze=n("LQgx"),Qe=n("RklN"),Je=n.n(Qe),$e=n("6oz1"),et=n("FrUj");function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){pt(t,e,n[e])})}return t}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e}function it(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?ut(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function st(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}function ct(e,t){return(ct=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft="first",dt="end",mt={__style:{width:"382px",height:"112px",fontFamily:"HelveticaNeue",fontSize:"48px",fontWeight:"bold",fontStyle:"normal",fontStretch:"normal",lineHeight:"1.17",letterSpacing:"-1.8px",color:"#333333"}},ht=function(e){function o(){var e,c;rt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pt(ut(ut(c=it(this,(e=lt(o)).call.apply(e,[this].concat(n))))),"state",{buttonLoading:!1,currentStep:ft,currentEmail:c.props.currentEmail,newPassword:"",repeatPassword:"",newPasswordErrors:[],repeatPasswordErrors:[]}),pt(ut(ut(c)),"getFocusFieldRef",function(e){var t=Object(Qe.findDOMNode)(e);if(t&&t instanceof HTMLElement){var n=t.querySelector("input");n&&n.focus()}}),pt(ut(ut(c)),"handleCancel",function(e){Object(f.a)("unauth_web.password_upsell_modal.submit.".concat(e)),c.props.handleDismiss()}),pt(ut(ut(c)),"handleSubmit",function(e){var t=c.props.handleComplete,n=c.state,r=n.newPassword,o=n.newPasswordErrors,a=n.repeatPassword,i=n.repeatPasswordErrors;if(c.handleButtonLoading(!0),c.handleBlankFields(),o.length||i.length||""===r||""===a)c.handleButtonLoading(!1);else{var l={new_password:r,new_password_confirm:a},s;Object(f.a)("unauth_web.password_upsell_modal.submit.".concat(e)),Re.a.create("UserPasswordResource",l).callUpdate({showError:!1}).then(function(){c.setState({currentStep:dt}),setTimeout(t,e)},function(e){Object(f.a)("unauth_web.password_upsell_modal.update_error.".concat(e.api_error_code)),c.setState({newPasswordErrors:[e.message]}),c.handleButtonLoading(!1)})}}),pt(ut(ut(c)),"handleBlankFields",function(){var e={};""===c.state.newPassword&&(e.newPasswordErrors=[p.a._("Required","Error message to hint user missed a field.")]),""===c.state.repeatPassword&&(e.repeatPasswordErrors=[p.a._("Required","Error message to hint user missed a field.")]),c.setState(e)}),pt(ut(ut(c)),"runValidators",function(e,n){var r=[],o=[],a={};return e.forEach(function(e){var t=e(n);Object.keys(t).includes("score")&&(a={score:t.score}),t.suggestions&&(o=o.concat(t.suggestions)),r=r.concat(t.errors)}),nt({errors:r,suggestions:o.filter(function(e){return e})},a)}),pt(ut(ut(c)),"updateAndValidate",function(e,t){var n,r={newPassword:c.state.newPassword,repeatPassword:c.state.repeatPassword};r[e]=t;var o=[],a=[];""!==r.newPassword&&(o=c.validateNewPassword(r.newPassword).errors),""!==r.repeatPassword&&""!==r.newPassword&&(a=c.validateRepeatPassword(r.newPassword,r.repeatPassword).errors),c.setState((pt(n={},e,t),pt(n,"newPasswordErrors",o),pt(n,"repeatPasswordErrors",a),n))}),c}return st(o,e),at(o,[{key:"getModalText",value:function e(t){return t===ft?p.a._("Oh, no! You haven't set up your password yet.","prompt to upsell social users to setup their password"):p.a._("You are all set! Now you can login in using your email and password.","message to show after user successfully setup  his/her password")}},{key:"handleButtonLoading",value:function e(t){this.setState({buttonLoading:t})}},{key:"validateNewPassword",value:function e(t){var n=[Object(et.q)(),Object(et.b)({message:p.a.commonStrings.asciiPasswordError}),Object(et.n)({username:this.props.username,samePasswordStr:p.a._("Oops! Your password shouldn’t match your username.","Error message when user set his/her user name as his/her password ")})];return this.runValidators(n,t)}},{key:"validateRepeatPassword",value:function e(t,n){var r=[Object(et.q)(),Object(et.f)({targetValue:t,message:p.a._("Passwords don’t match","Error message when the password and typed password are different")})];return this.runValidators(r,n)}},{key:"render",value:function e(){var r=this,t=this.state,n=t.currentEmail,o=t.currentStep,a=t.newPassword,i=t.repeatPassword,l=t.newPasswordErrors,s=t.repeatPasswordErrors,c=a&&i&&0===l.length&&0===s.length;return u.a.createElement($e.b,{name:"upsell_social_user_set_password",activate:!1},function(e){var t;return e.group.startsWith("enabled_var1")?u.a.createElement(d.b,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},u.a.createElement(d.b,{display:"flex",alignItems:"center"},u.a.createElement(d.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},u.a.createElement(d.b,{width:292,height:479,marginBottom:-6},u.a.createElement(d.p,{alt:p.a._("preview of mobile app","prompt to setup password"),naturalWidth:292,naturalHeight:479,src:Ie.a}))),u.a.createElement(d.b,{position:"relative"},u.a.createElement(d.b,{display:"flex",alignItems:"center",width:330,height:540},u.a.createElement(d.b,{paddingY:6,marginTop:5},u.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},r.getModalText(o)),o===ft&&u.a.createElement(d.b,null,u.a.createElement(d.b,null,u.a.createElement(d.b,{display:"flex",marginTop:6},u.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},u.a.createElement(d.q,{htmlFor:"changePasswordNew"},u.a.createElement(d.K,{bold:!0}," ",p.a._("Email","label for email field")))),u.a.createElement(d.K,null,n)),u.a.createElement(d.b,{display:"flex",marginTop:3},u.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},u.a.createElement(d.q,{htmlFor:"changePasswordNew"},u.a.createElement(d.K,{bold:!0},p.a._("Password","label for new password field")))),u.a.createElement(d.b,{width:225},u.a.createElement(d.M,{ref:r.getFocusFieldRef,errorMessage:l[0],id:"changePasswordNew",idealErrorDirection:"down",name:"new",onChange:function e(t){var n=t.value;return r.updateAndValidate("newPassword",n)},type:"password",value:a}))),u.a.createElement(d.b,{display:"flex",marginTop:3},u.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},u.a.createElement(d.q,{htmlFor:"changePasswordRetype"},u.a.createElement(d.K,{bold:!0},p.a._("Retype","label for retype password field")))),u.a.createElement(d.b,{width:225},u.a.createElement(d.M,{errorMessage:s[0],id:"changePasswordRetype",idealErrorDirection:"up",name:"new_confirm",onChange:function e(t){var n=t.value;return r.updateAndValidate("repeatPassword",n)},type:"password",value:i})))),u.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:5,marginRight:6},u.a.createElement(d.c,{color:"red",type:"submit",disabled:!c||r.state.buttonLoading,onClick:function e(){return r.handleSubmit(2500)},text:p.a._("Set Password","Label text for button that will set password."),size:"md"})),u.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:3,marginRight:6},u.a.createElement(d.c,{onClick:function e(){return r.handleCancel(2500)},text:p.a._("Cancel","Label text for button that will set password."),size:"md"})))))))):u.a.createElement(d.b,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",padding:4,width:414,height:436},u.a.createElement(d.b,{display:"flex"},u.a.createElement(d.b,{dangerouslySetInlineStyle:mt},p.a._("You need a password","Header text for password upsell for social users.")),u.a.createElement(d.b,null,u.a.createElement(d.o,{accessibilityLabel:p.a._("Close","accessible label for close button"),iconColor:"gray",icon:"cancel",onClick:function e(){return r.handleCancel(0)},size:"xl"}))),u.a.createElement(d.b,{marginTop:8},u.a.createElement(d.K,{overflow:"normal",size:"lg"},p.a._("Oh no! Looks like you haven't created a password for this account yet. Set it now to log in with email and password in the future.","Explanatory text to upsell social users to setup their password")),u.a.createElement(d.b,{marginTop:3},u.a.createElement(d.K,{bold:!0,size:"lg"},n)),u.a.createElement(d.b,{marginTop:2},u.a.createElement(d.M,{ref:r.getFocusFieldRef,errorMessage:l[0],id:"changePasswordNew",idealErrorDirection:"down",name:"new",onChange:function e(t){var n=t.value;return r.updateAndValidate("newPassword",n)},placeholder:p.a._("Enter Password","placeholder text for the password textfield"),type:"password",value:a})),u.a.createElement(d.b,{marginTop:2},u.a.createElement(d.M,{errorMessage:s[0],id:"changePasswordRetype",idealErrorDirection:"up",name:"new_confirm",onChange:function e(t){var n=t.value;return r.updateAndValidate("repeatPassword",n)},placeholder:p.a._("Re-enter Password","placeholder text for the retype password textfield"),type:"password",value:i}))),u.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:2},u.a.createElement(d.c,{color:"red",type:"submit",disabled:!c||r.state.buttonLoading,onClick:function e(){return r.handleSubmit(0)},text:p.a._("Create Password","Label text for button that will set password."),size:"lg"})))})}}]),o}(l.Component);function bt(e){return 500886===e?ht:qe}var yt,gt=function e(t){var n=t.placementId;return l.createElement(P.a,{experienceIds:[500331,500886],placementId:n},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data,a=bt(t);return l.createElement(Ze.a,{noButton:!0,onHide:r},l.createElement(a,Object.assign({},Object(se.a)(le.a)(o),{handleComplete:n,handleDismiss:r})))})},wt=n("ZWUK"),Et=n("XHWU");n.d(t,"a",function(){return j}),n.d(t,"b",function(){return T.a}),n.d(t,"c",function(){return oe}),n.d(t,"d",function(){return ae.default}),n.d(t,"f",function(){return fe}),n.d(t,!1,function(){return Te}),n.d(t,"e",function(){return gt}),n.d(t,!1,function(){return wt.a}),n.d(t,"g",function(){return Et.a})},Krtm:function(e,t,n){"use strict";var r=function e(n,t){var r;return t.some(function(e){var t=e(n);return 0<t.errors.length&&(r=t.errors[0],!0)}),r};t.a=r},LxoH:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("W/Cr"),i=n("R6a3"),l=n("gEaE");function s(e){var t=e.onHide,n=a.a._("Please check your email");return o.a.createElement(i.a,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,size:"md",footer:o.a.createElement(l.b,{display:"flex",justifyContent:"end"},o.a.createElement(l.c,{color:"red",inline:!0,onClick:t,text:a.a._("Okay"),size:"md"}))},o.a.createElement(l.b,{padding:4},o.a.createElement(l.K,null,a.a._("We’ll send instructions for changing your password in just a minute."))))}t.a=s},McbO:function(e,t){var r="Expected a function";function n(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}e.exports=n},ONz4:function(e,t,n){"use strict";var r,o=p(n("5TQk")),a,i=p(n("oayS")),l,s=p(n("bQHl")),c,u=p(n("bC4m"));function p(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:u.default,TransitionGroup:s.default,ReplaceTransition:i.default,CSSTransition:o.default}},Obkj:function(e,t,n){"use strict";var r=n("d6ZO"),h=n.n(r),b=n("W/Cr"),y=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function g(e,t){return l(e)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}function l(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?w(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=80,C=0,_=1,O=2,x=3,S,P=function(e){function a(){var e,t;s(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(w(w(t=p(this,(e=f(a)).call.apply(e,[this].concat(r))))),"state",{isMouseOver:!1,isSelected:!1}),E(w(w(t)),"getSelectionState",function(e,t,n){var r;return r=n&&e||!n&&!e?C:_,t&&(r=r===C?O:x),r}),E(w(w(t)),"getIcon",function(e){var t="check-circle",n="white",r=!0;return e===C?(t="check-circle",n="white"):e===O?(t="clear",n="darkGray"):e===x?(t="check-circle",n="darkGray"):r=!1,[t,n,r]}),E(w(w(t)),"handleMouseEnter",function(){t.setState({isMouseOver:!0})}),E(w(w(t)),"handleMouseLeave",function(){t.setState({isMouseOver:!1})}),E(w(w(t)),"handleClick",function(){t.props.onClick(t.props.id),t.setState(function(e){return{isSelected:!e.isSelected,isMouseOver:!1}})}),t}return d(a,e),u(a,[{key:"render",value:function e(){var t=this.props,n=t.backgroundColor,r=t.name,o=t.isBlacklist,a=this.state,i=a.isSelected,l=a.isMouseOver,s=this.getSelectionState(i,l,o),c,u=g(this.getIcon(s),3),p=u[0],f=u[1],d=u[2],m=s===C?n:"lightGray";return h.a.createElement(y.b,{height:80,position:"relative",shape:"rounded",color:m},h.a.createElement(y.O,{shape:"rounded",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouch:this.handleClick},h.a.createElement(y.b,{height:80,display:"flex",alignItems:"center"},d&&h.a.createElement(y.b,{right:!0,position:"absolute",marginRight:4},h.a.createElement(y.n,{accessibilityLabel:b.a._("selected"),icon:p,color:f,size:24})),h.a.createElement(y.b,{marginLeft:4,marginRight:12,position:"absolute"},h.a.createElement(y.K,{align:"left",bold:!0,color:s===C?"white":"darkGray",size:"xl"},r)))))}}]),a}(r.Component),k=n("R6a3"),j=n("THYI"),T=n.n(j),M=n("mHth"),I=n("JyNp"),L=n("KDcb"),R=n("S+Qs"),N=n("y2lE"),D=n("i0Ug"),A=n("MQ2h"),F=n.n(A);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){q(t,e,n[e])})}return t}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function W(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Y(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={pointerEvents:"none",opacity:.5,transition:"opacity 0.2s"},Q=function(e){function o(){var e,f;B(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(Y(Y(f=W(this,(e=V(o)).call.apply(e,[this].concat(n))))),"state",{annotationSelectionMap:{},blacklistSelectionMap:{},isSaving:!1}),q(Y(Y(f)),"logSelection",function(e,t){f.props.contextLog(101,{component:13170,element:e,objectId:t})}),q(Y(Y(f)),"handleClickSelectAnnotation",function(r){f.setState(function(e){var t=!e.annotationSelectionMap[r],n=H({},e.annotationSelectionMap,q({},r,t));return t?f.logSelection(10530,r):f.logSelection(10531,r),H({},e,{annotationSelectionMap:n})})}),q(Y(Y(f)),"handleClickSelectBlacklist",function(r){f.setState(function(e){var t=!e.blacklistSelectionMap[r],n=H({},e.blacklistSelectionMap,q({},r,t));return t?f.logSelection(10532,r):f.logSelection(10533,r),H({},e,{blacklistSelectionMap:n})})}),q(Y(Y(f)),"handleDismiss",function(){f.props.contextLog(101,{component:13170,element:10529}),f.props.onDismiss()}),q(Y(Y(f)),"handleSave",function(){f.setState({isSaving:!0});var e=f.props,t=e.contextLog,n=e.experience,r=e.dispatch,o=e.handleCompleteExperience,a=e.onDismiss,i=e.viewer,l=f.state,s=l.annotationSelectionMap,c=l.blacklistSelectionMap,u=f.getSelectedAnnotationId(s),p=f.getSelectedAnnotationId(c);T.a.create("CuratorResource",{blacklist:u,whitelist:p}).callUpdate().then(function(e){f.setState({isSaving:!1}),a()}),r(Object(R.a)("UserHomefeedResource",Object(L.c)({experience:n,inNux:!1,staticFeed:!1,viewerIsPartner:i.isAuth&&i.isPartner}))),t(101,{component:13170,element:10528}),o&&o()}),f}return K(o,e),z(o,[{key:"getSelectedAnnotationId",value:function e(t){return Object.keys(t).filter(function(e){return t[e]})}},{key:"renderAnnotations",value:function e(t,n){var r=this;return h.a.createElement(y.b,{alignItems:"start",display:"flex",justifyContent:"start",marginLeft:-2,marginRight:-2,overflow:"hidden",position:"relative",wrap:!0},t.map(function(e,t){return h.a.createElement(y.b,{key:e.name,padding:2,width:"33%"},h.a.createElement(P,{backgroundColor:e.background_color,name:e.name,id:e.id,image:e.large_thumb_image_url,isBlacklist:n,onClick:n?r.handleClickSelectBlacklist:r.handleClickSelectAnnotation}))}))}},{key:"renderCuratorContent",value:function e(){if(this.props.curator.isFetching||!this.props.curator.isLoaded||null==this.props.curator.data)return h.a.createElement(y.G,{accessibilityLabel:b.a._("loading ideas","Spinnner to show content is loading"),show:!0});var t=this.props.curator.data,n=t.annotations,r=t.blacklist,o=this.state.isSaving;return h.a.createElement(y.b,{dangerouslySetInlineStyle:{__style:o?Z:{}}},h.a.createElement(y.b,{paddingY:4},h.a.createElement(y.K,{bold:!0,size:"xl"},b.a._("These are the ideas in your feed","Title to explain the content of the modal")),h.a.createElement(y.K,{size:"xl"},b.a._("Pick the ones you want to see less of","Subtitle to let user start selection"))),this.renderAnnotations(n,!1),r.length?h.a.createElement(y.b,{paddingY:4},h.a.createElement(y.K,{bold:!0,size:"xl"},b.a._("These ideas are hidden from your feed","Title to explain why users are seeing the ideas below")),h.a.createElement(y.K,{size:"xl"},b.a._("Check the ones you like to put them back in your feed","Subtitle to inform user that they can add ideas back to their feed"))):null,this.renderAnnotations(r,!0))}},{key:"render",value:function e(){return h.a.createElement(k.a,{size:"lg",footer:h.a.createElement(y.b,{paddingX:2},h.a.createElement(y.c,{text:b.a._("Done","Button to save selection"),size:"lg",onClick:this.handleSave,disabled:this.state.isSaving})),heading:b.a._("Tune your home feed","Title of the modal which allows user to tune their homefeed"),accessibilityModalLabel:b.a._("Tune your homefeed","Label to inform user that this modal is to tune homefeed"),accessibilityCloseLabel:b.a._("Dismiss selection","Label for dismissing the modal"),onDismiss:this.handleDismiss},h.a.createElement(y.b,{color:"white",shape:"rounded",paddingX:8},this.renderCuratorContent()))}}]),o}(r.Component),J=t.a=Object(A.compose)(N.a,M.a,Object(I.b)({name:"CuratorResource",key:"curator"},{allowStale:!1}),D.a)(Q)},Qtho:function(e,t,n){"use strict";t.a=c;var r=n("d6ZO"),o=n.n(r),a=n("W/Cr"),i=n("LQgx"),l=n("lOOp"),s=n("gEaE");function c(e){return o.a.createElement(i.a,{onHide:e.onHide,type:"confirm"},o.a.createElement("form",{className:"standardForm",method:"post",style:l.a.form},o.a.createElement("h1",null,a.a._("Oops!")),o.a.createElement("p",{className:"body"},e.error.message),o.a.createElement("div",{className:"formFooter",style:l.a.formFooter},o.a.createElement(s.b,{alignItems:"center",justifyContent:"end",display:"flex"},o.a.createElement(s.c,{color:"red",inline:!0,onClick:e.onHide,text:a.a._("Okay"),size:"md"})))))}},S1T6:function(e,t,n){"use strict";var o=n("d6ZO"),a=n.n(o),l=n("W/Cr"),r=n("IaRT"),i=n.n(r),s=n("gEaE"),c=n("Cjb7");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function p(e){return m(e)||d(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function m(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?C(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={backgroundColor:"transparent",border:0,right:80},x=function(e){function i(e,t){var n;h(this,i),_(C(C(n=g(this,w(i).call(this,e,t)))),"subscribers",[]);var r=e.handleComplete,o=e.transitionEvent,a=["navigateStarted"].concat(p(o?[o]:[]));return n.subscribers=a.map(function(e){return c.b.subscribe("site",e,r)}),n}return E(i,e),y(i,[{key:"componentWillUnmount",value:function e(){this.subscribers.forEach(function(e){return e.unsubscribe()}),this.subscribers=[]}},{key:"render",value:function e(){var t=this.props,n=t.bannerText,r=t.canClose,o=t.handleComplete;return a.a.createElement("div",{className:"Module BottomBanner"},a.a.createElement("div",{className:"bannerContainer"},a.a.createElement("div",{className:"bannerText"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),r&&a.a.createElement("button",{className:"absolute closeButton p0",onClick:o,style:O},a.a.createElement(s.n,{accessibilityLabel:l.a._("close","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0}))))}}]),i}(o.Component);_(x,"defaultProps",{canClose:!1});var S=x,P=n("wUWH"),k=n("sOF4"),j=n("Rmuw"),T=[11019,11023,500207],M=function e(t){var n=t.placementId;return o.createElement(P.a,{placementId:n,experienceIds:T},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return o.createElement(S,Object.assign({},Object(j.a)(k.a)(r),{handleComplete:t,handleDismiss:n}))})},I=t.a=M},SX1z:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/fix_email-f5fbe7f8.png"},UHjM:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return c});var r=64,o=22,a="HeaderContent",i=4,l=24,s=671,c={headerMessage:{__style:{marginBottom:i}}},u=null},XHWU:function(e,t,n){"use strict";var r=n("d6ZO"),a=n.n(r),o=n("wUWH"),i=n("IaRT"),l=n.n(i),s=n("sHM2"),c=n("gEaE"),u=[500329,500410,500688],p=function e(t){var n=t.placementId;return a.a.createElement(o.a,{placementId:n,experienceIds:u},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data;return s.a.instance().subscribe(n,r),a.a.createElement(c.O,{onTouch:r,fullWidth:!1},a.a.createElement("div",{className:"experienceSystemPushOverlay"}),";")})};t.a=p},YZ7u:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("d6ZO"),d=n.n(r),o=n("OIxG"),i=n("RR/1"),a=n("DUIN"),l=n("FqaO"),c=n("gEaE"),s=70,u=40;function p(e){var t=e.accessibilityLabel,n=e.iconType,r=e.iconBackgroundColor,o=e.iconColor,a=e.onClickHander,i=e.text,l=e.widthInColumn;return d.a.createElement(c.b,{column:l,display:"flex",justifyContent:"center",minWidth:248},d.a.createElement(c.O,{onTouch:a},d.a.createElement(c.b,{display:"flex",alignItems:"center",justifyContent:"center"},d.a.createElement(c.b,{color:r,display:"flex",justifyContent:"center",alignItems:"center",width:70,height:70,shape:"circle"},d.a.createElement(c.n,{accessibilityLabel:t,color:o,icon:n,size:40})),d.a.createElement(c.b,{display:"inlineBlock",marginLeft:2},d.a.createElement(c.K,{inline:!0,size:"xl"},i)))))}var f=p,m=n("W/Cr"),h=n("THYI"),b=n.n(h),y=n("R6a3"),g=n("FrUj");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?P(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function a(){var e,o;E(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(P(P(o=_(this,(e=O(a)).call.apply(e,[this].concat(n))))),"state",{websiteUrl:o.props.websiteUrl||"",websiteUrlErrors:[]}),k(P(P(o)),"validators",{websiteUrl:[Object(g.s)()]}),k(P(P(o)),"handleWebsiteChange",function(e){var t=e.value,n=Object(g.t)(o.validators.websiteUrl,t);o.setState({websiteUrl:t,websiteUrlErrors:n});var r=o.props.onWebsiteInputChange;r&&r(t)}),o}return x(a,e),C(a,[{key:"render",value:function e(){var t=this.props,n=t.onDismiss,r=t.onComplete,o=this.state.websiteUrlErrors;return d.a.createElement(y.a,{accessibilityCloseLabel:m.a._("Close","Modal close label"),accessibilityModalLabel:m.a._("What's your website","Accessibility label for modal to input user website"),heading:m.a._("What's your website","Header for the user website input modal."),onDismiss:n,size:"sm",footer:d.a.createElement(c.b,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2},d.a.createElement(c.b,{flex:"shrink",paddingX:4,"data-test-id":"user-website-input-close"},d.a.createElement(c.c,{color:"gray",text:m.a._("Cancel","Button label for cancelling the action to set profile cover pins"),onClick:n})),d.a.createElement(c.b,{flex:"shrink","data-test-id":"user-website-input-next"},d.a.createElement(c.c,{color:"red",text:m.a._("Next","Button label for opening the claim website modal"),onClick:function e(t){n(),r()}})))},d.a.createElement(c.b
,{height:130,padding:6},d.a.createElement(c.M,{id:"userWebsite",name:"website_url",errorMessage:o&&o.join(", "),idealErrorDirection:"down",onChange:this.handleWebsiteChange,placeholder:m.a._("www.red-shoes-online.com","Sample website prompt for claiming a website"),value:this.state.websiteUrl||""})))}}]),a}(r.Component),T=n("mQDz"),M=n("i0Ug"),I=n("MQ2h"),L=n.n(I),R=n("kzic"),N=n("y2lE");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}function H(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?W(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return(z=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){function o(){var e,a;A(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(W(W(a=H(this,(e=B(o)).call.apply(e,[this].concat(n))))),"state",{attemptToClaimWebsite:"1"===l.get("attemptToClaimWebsite"),showUserWebsiteInputModal:!1,websiteModalShown:!1,websiteUrl:a.props.viewer.domainUrl}),V(W(W(a)),"handleClaimWebsiteSuccess",function(){var e;(0,a.props.contextLog)(7509,{view:1,viewParameter:92,component:13233}),a.setState({attemptToClaimWebsite:"1"===l.get("attemptToClaimWebsite")})}),V(W(W(a)),"closeUserWebsiteInputModal",function(){return a.setState({showUserWebsiteInputModal:!1})}),V(W(W(a)),"closeClaimWebsiteModal",function(){a.setState({websiteModalShown:!1})}),V(W(W(a)),"handleWebsiteChange",function(e){a.setState({websiteUrl:e})}),V(W(W(a)),"navigateToCreatePin",function(){var e=a.props,t=e.contextLog,n=e.router;t(101,{view:1,viewParameter:92,component:13233,element:10797}),n.push("/pin-builder/")}),V(W(W(a)),"openClaimWebsiteModal",function(){var e;(a.setState({websiteModalShown:!0}),a.state.websiteUrl!==a.props.viewer.domainUrl)&&b.a.create("UserSettingsResource",{website_url:a.state.websiteUrl}).callUpdate().finally(function(){l.unset("attemptToClaimWebsite")})}),V(W(W(a)),"showUserWebsiteInputModal",function(){var e;(0,a.props.contextLog)(101,{view:1,viewParameter:92,component:13233,element:10796}),a.setState({showUserWebsiteInputModal:!0})}),V(W(W(a)),"renderChecklistAction",function(e,t){var n;switch(e){case"show_claim_website":var r=a.state.attemptToClaimWebsite;return n=m.a._("Claim your website","Label for claiming website"),d.a.createElement(f,{accessibilityLabel:n,iconType:r?"ellipsis":"globe",iconBackgroundColor:"white",iconColor:"blue",onClickHander:a.showUserWebsiteInputModal,text:n,widthInColumn:t});case"show_create_pin":var o=a.props.pinCreatedViaCreatorChecklist;return n=m.a._("Create your first Pin","Label for creating the first pin"),d.a.createElement(f,{accessibilityLabel:n,iconType:o?"check":"pin",iconBackgroundColor:o?"green":"white",iconColor:o?"white":"blue",onClickHander:a.navigateToCreatePin,text:n,widthInColumn:t});default:return null}}),a}return U(o,e),G(o,[{key:"render",value:function e(){var t=this,n=this.props,r=n.actionList,o=n.handleDismiss,a=n.header,i=n.viewer,l=r&&r.length?Math.floor(12/r.length):1,s=a||m.a._("Follow these steps to get going on Pinterest","The headline of new business user's checklist");return d.a.createElement(c.b,{display:"flex",justifyContent:"between",height:150,color:"lightGray",position:"relative"},d.a.createElement(c.b,{color:"blue",display:"flex",alignItems:"center",justifyContent:"center",width:"40%",minWidth:352,paddingX:8,paddingY:8,dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"240px 476px"}}},d.a.createElement(c.m,{color:"white",size:"sm"},s)),d.a.createElement(c.b,{display:"flex",width:"60%",alignItems:"center",justifyContent:"center",paddingX:12},r.map(function(e){return t.renderChecklistAction(e,l)})),d.a.createElement(c.b,{position:"absolute",top:!0,right:!0,padding:2},d.a.createElement(c.o,{accessibilityLabel:m.a._("Close","Close the experience UI"),icon:"cancel",onClick:o})),this.state.showUserWebsiteInputModal&&d.a.createElement(j,{onComplete:this.openClaimWebsiteModal,onDismiss:this.closeUserWebsiteInputModal,onWebsiteInputChange:this.handleWebsiteChange,websiteUrl:i.domainUrl}),this.state.websiteModalShown&&d.a.createElement(T.a,{onHide:this.closeClaimWebsiteModal,attemptToClaimWebsite:function e(){},onResourceError:function e(){},onSuccess:this.handleClaimWebsiteSuccess,websiteUrl:this.state.websiteUrl}))}}]),o}(r.Component);function X(e){var t;return e.creatorChecklist?{pinCreatedViaCreatorChecklist:e.creatorChecklist.pinCreatedViaCreatorChecklist}:{pinCreatedViaCreatorChecklist:!1}}var Y=Object(I.compose)(Object(a.connect)(X),M.a,N.a,R.withRouter)(K),q=n("WoVH"),Z=n("Obkj");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),e}function te(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ae(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return(oe=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e){function a(){var e,r;J(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ie(ae(ae(r=te(this,(e=ne(a)).call.apply(e,[this].concat(n))))),"state",{isCuratorModalOpen:!1,isNagShown:!0}),ie(ae(ae(r)),"handleCompleteExperience",function(){var e=r.props.contextLog;r.setState({isNagShown:!1,isCuratorModalOpen:!0}),e(101,{component:13171,element:10527})}),ie(ae(ae(r)),"handleDismissExperience",function(){var e=r.props,t=e.contextLog,n=e.handleDismiss;t(101,{component:13171,element:10529}),n()}),ie(ae(ae(r)),"handleHideCuratorModal",function(){r.setState({isCuratorModalOpen:!1}),r.props.contextLog(101,{component:13170,element:10529}),r.props.handleComplete()}),r}return re(a,e),ee(a,[{key:"render",value:function e(){var t=this.state,n=t.isNagShown,r=t.isCuratorModalOpen,o=this.props.handleComplete;return d.a.createElement(c.b,null,n?d.a.createElement(q.a,{experienceId:this.props.experienceId,message:m.a._("Want to change up what you see in your home feed?","Title for upsell banner"),dismissButtonText:m.a._("Not now","Upsell dismiss button"),completeButtonText:m.a._("Tune your feed","Upsell complete button"),onComplete:this.handleCompleteExperience,onDismiss:this.handleDismissExperience,useNewTab:!1}):null,r?d.a.createElement(Z.a,{onDismiss:this.handleHideCuratorModal,handleCompleteExperience:o}):null)}}]),a}(r.Component),se=Object(I.compose)(N.a)(le),ce=n("wUWH"),ue=n("lip+"),pe=n("qzVV"),fe=n("Aw5z"),de=n("63eB"),me=n("IaRT"),he=n.n(me),be=n("5tOk"),ye=n("E7T4"),ge=n("aKzT");function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function _e(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?Pe(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}function Se(e,t){return(Se=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){function n(e){var t;return Ee(this,n),ke(Pe(Pe(t=_e(this,Oe(n).call(this,e)))),"onToggleCustomGender",function(){t.setState({showCustomGenderField:!t.state.showCustomGenderField})}),t.state={gender:"",customGender:"",showCustomGenderField:!1},t}return xe(n,e),Ce(n,[{key:"onSelectGender",value:function e(t){t!==ge.c||this.state.showCustomGenderField?this.setState({gender:t,customGender:""},this.updateGenderCompleteHero):this.setState({gender:"",customGender:""},this.onToggleCustomGender)}},{key:"getCustomGenderField",value:function e(){var r=this;return d.a.createElement(c.b,{alignItems:"center",direction:"row",display:"flex"},d.a.createElement(c.b,{paddingX:1},d.a.createElement(c.M,{id:"custom_gender_input",onChange:function e(t){var n=t.value;return r.setState({customGender:n})},placeholder:m.a._("Custom gender","Placeholder text for custom gender field"),type:"text"})),d.a.createElement(c.b,{paddingX:1},d.a.createElement(c.c,{color:"white",inline:!0,onClick:function e(){return r.updateGenderCompleteHero()},size:"md",text:m.a._("Done","confirm button for entering custom gender")})))}},{key:"getGenderButtons",value:function e(){var t=this,n=this.props.handleDismiss,r=this.state.showCustomGenderField?this.getCustomGenderField():d.a.createElement(c.b,{paddingX:1},d.a.createElement(c.c,{color:"transparent",onClick:function e(){return t.onSelectGender(ge.c)},size:"md",text:m.a._("Custom","Custom gender option in list of male, female, custom")}));return d.a.createElement(c.b,{alignItems:"center",direction:"row",display:"flex",paddingX:3},d.a.createElement(c.b,{minWidth:"80px",paddingX:2},d.a.createElement(c.O,{onTouch:n},d.a.createElement(c.K,{bold:!0,color:"white",size:"md"},m.a._("Not now","Dismiss option for gender selection banner on HF")))),d.a.createElement(c.b,{paddingX:1},d.a.createElement(c.c,{color:"transparent",onClick:function e(){return t.onSelectGender(ge.n)},size:"md",text:m.a._("Male","Male gender option in list of male, female, custom")})),d.a.createElement(c.b,{paddingX:1},d.a.createElement(c.c,{color:"transparent",onClick:function e(){return t.onSelectGender(ge.i)},size:"md",text:m.a._("Female","Female gender option in list of male, female, custom")})),r)}},{key:"getGenderSignalHero",value:function e(){return d.a.createElement(c.b,{alignItems:"center",direction:"row",display:"flex",padding:4},d.a.createElement(c.b,{flex:"grow"},d.a.createElement(c.K,{bold:!0,color:"white",size:"md"},d.a.createElement(ue.a,null,function(e){return e.firstName?Object(be.h)(m.a._("Hey {{first_name}}! Pick what describes you best to personalize your experience on Pinterest","Copy for banner asking user to select gender"),{first_name:e.firstName}):m.a._("Hey there! Pick what describes you best to personalize your experience on Pinterest","Copy for banner asking user to select gender")}))),this.getGenderButtons())}},{key:"updateGenderCompleteHero",value:function e(){var n=this,t={updateUserData:{gender:"",custom_gender:""}};this.state.showCustomGenderField?(t.updateUserData.custom_gender=this.state.customGender,t.updateUserData.gender=null):(t.updateUserData.gender=this.state.gender,t.updateUserData.custom_gender=null);var r=function e(){n.props.handleComplete(),n.props.contextLog(101,{component:17,element:241,view:1});var t=new de.a;t.evt=new pe.a("",null,{forceRefresh:1}),fe.default.navigate("/",t)};this.props.dispatch(Object(ye.g)(t)).then(r)}},{key:"render",value:function e(){var t=d.a.createElement("div",{className:"Module HeroBasic genderSignalHero gray"},this.getGenderSignalHero());return"IE"===this.context.userAgent.browserName?t:d.a.createElement(c.H,{dangerouslySetZIndex:{__zIndex:2},top:65},t)}}]),n}(r.Component);ke(je,"contextTypes",{userAgent:he.a.shape({browserName:he.a.string.isRequired}).isRequired}),ke(je,"defaultProps",{handleComplete:function e(){},handleDismiss:function e(){}});var Te=Object(N.a)(je);function Me(e){var t=e.completeButtonText,n=e.completeButtonUrl,r=e.completeButtonUrlInNewTab,o=e.dismissButtonText,a=e.handleComplete,i=void 0===a?function(){}:a,l=e.handleDismiss,s=void 0===l?function(){}:l,c=e.header,u=void 0===c?"":c,p=e.headerSubtitle,f=void 0===p?"":p;return d.a.createElement(q.a,{message:(u+" "+f).trim(),dismissButtonText:o||m.a._("Close","Closing a Hero banner"),completeButtonText:t||m.a._("Go","Completing the Hero banner"),completeUrl:n,onComplete:i,onDismiss:s,useNewTab:r})}var Ie=Me,Le=n("tmfO"),Re=n("FJZF");function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}function Ge(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?ze(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){function a(){var e,r;De(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return We(ze(ze(r=Ge(this,(e=He(a)).call.apply(e,[this].concat(n))))),"state",{isOnHover:!1}),We(ze(ze(r)),"handleClick",function(){var e=r.props,t=e.interest,n;(0,e.onClick)(t)}),We(ze(ze(r)),"handleHover",function(){r.setState({isOnHover:!0})}),We(ze(ze(r)),"handleUnhover",function(){r.setState({isOnHover:!1})}),r}return Be(a,e),Fe(a,[{key:"render",value:function e(){var t=this.props,n=t.color,r=t.interest,o=this.state.isOnHover,a=Re.a.getQueryStringFromObject({q:r,rs:"homefeed_interest_upsell",scope:"pins"});return d.a.createElement("div",{onMouseOver:this.handleHover,onMouseOut:this.handleUnhover,style:{borderRadius:8}},d.a.createElement(c.b,{shape:"rounded",marginLeft:1,marginRight:1,position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:n}}},d.a.createElement(Le.b,{to:"/search/pins/?".concat(a),onClick:this.handleClick},d.a.createElement(c.b,{shape:"rounded",position:"absolute",display:o?"block":"none",top:!0,right:!0,bottom:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .06)"}}}),d.a.createElement(c.b,{position:"relative",display:"flex",alignItems:"center",paddingX:4,paddingY:3},d.a.createElement(c.b,{marginRight:1,padding:1},d.a.createElement(c.n,{icon:"search",accessibilityLabel:m.a._("search icon","icon label"),color:"white",size:16})),d.a.createElement(c.K,{color:"white",size:"lg",overflow:"normal",bold:!0,inline:!0},"".concat(r.charAt(0).toUpperCase()).concat(r.substr(1)))))))}}]),a}(r.PureComponent);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),e}function Ze(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?et(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}function $e(e,t){return($e=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=260,rt=24,ot=["#E2780D","#F13535","#133A5E"],at=function(e){function a(){var e,o;Xe(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tt(et(et(o=Ze(this,(e=Qe(a)).call.apply(e,[this].concat(n))))),"handleComplete",function(e){var t=o.props,n=t.contextLog,r;(0,t.handleComplete)(),n(101,{view:1,viewParameter:92,component:13203,interest:e})}),tt(et(et(o)),"renderInterestQuery",function(e,t){return d.a.createElement(Ve,{key:e,color:ot[t],interest:e,onClick:o.handleComplete})}),o}return Je(a,e),qe(a,[{key:"render",value:function e(){var t=this.props,n=t.header,r=t.interests,o=t.handleDismiss;return d.a.createElement(c.b,{display:"flex",justifyContent:"center",marginTop:9,marginBottom:2,marginLeft:4,marginRight:4},d.a.createElement(c.b,{minWidth:756,maxWidth:910},d.a.createElement(c.b,{display:"flex",direction:"column",justifyContent:"center"},d.a.createElement(c.b,{display:"flex",alignItems:"start",justifyContent:"between",marginBottom:3},d.a.createElement(c.m,{size:"sm",overflow:"normal"},n),d.a.createElement(c.o,{icon:"cancel",size:"sm",accessibilityLabel:m.a._("close interests upsell hero","accessibility label"),onClick:o})),d.a.createElement(c.b,{display:"flex",alignItems:"start",marginLeft:-1,marginRight:-1},r.map(this.renderInterestQuery)))))}}]),a}(r.PureComponent),it=Object(I.compose)(N.a)(at),lt=n("BAXv"),st=n("FTnl"),ct=n("kxCB");function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),e}function mt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?gt(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=3e3,vt=function(e){function a(){var e,o;pt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wt(gt(gt(o=mt(this,(e=ht(a)).call.apply(e,[this].concat(n))))),"state",{errorMessages:{name:null,email:null}}),wt(gt(gt(o)),"handleDismissClick",function(e){var t=e.event;o.dismiss(t),o.props.contextLog(101,{component:13088,element:10267})}),wt(gt(gt(o)),"handleSubmitClick",function(){var e=o.props,t=e.contextLog,n=e.handleComplete,r=e.showToast;o.validate(o.state)&&(o.submitLead(o.state),r(function(e){var t=e.onHide;return d.a.createElement(st.a,{duration:Et,text:m.a._("Got it! We'll be in touch soon. Learn more","[m10n]"),onHide:t,href:lt.a.GEN.templateConst.settings.PARTNER_PROPEL_BLOG_POST+"?utm_source=pinterest&utm_medium=toast&utm_campaign=propel_submit"})}),n()),t(101,{component:13088,element:10266})}),wt(gt(gt(o)),"handleNameChange",function(e){var t=e.value;o.setState({name:t})}),wt(gt(gt(o)),"handleEmailChange",function(e){var t=e.value;o.setState({email:t})}),o}return bt(a,e),dt(a,[{key:"submitLead",value:function e(t){var n;(0,this.props.contextLog)(6974,{component:13087,lead_first_name:t.name,lead_email:t.email,lead_source:"InAppLeadGenHero"})}},{key:"validate",value:function e(t){var n=t.name,r=void 0===n?"":n,o=t.email,a=void 0===o?"":o,i={},l=!1;return r.trim().length||(i.name=m.a._("What's your name?","[m10n]"),l=!0),a.trim().length&&a.includes("@")||(i.email=m.a._("What's your email?","[m10n]"),l=!0),this.setState({errorMessages:i}),!l}},{key:"dismiss",value:function e(t){t.preventDefault(),this.props.handleDismiss()}},{key:"render",value:function e(){var t=this.state.errorMessages;return d.a.createElement(c.b,{color:"darkGray",flex:"grow",position:"relative"},d.a.createElement(c.b,{position:"absolute",top:!0,right:!0,deprecatedPadding:{x:3,y:4}},d.a.createElement(c.o,{accessibilityLabel:m.a._("Close Hero","[m10n]"),iconColor:"white",icon:"cancel",onClick:this.handleDismissClick,size:"sm"})),d.a.createElement(c.i,null,d.a.createElement(c.b,{deprecatedPadding:{y:6,x:4}},d.a.createElement(c.b,{xs:{column:12}},d.a.createElement(c.m,{color:"white",size:"sm"},m.a._("You’re invited to Pinterest Propel","[m10n]"))),d.a.createElement(c.b,{xs:{column:12},deprecatedMargin:{top:2,bottom:3}},d.a.createElement(c.K,{bold:!0,color:"white",smSize:"md",mdSize:"xl"},m.a._("Join today for phone support, custom Pins and expert tips for growing your business — all for free.","[m10n]"))),d.a.createElement(c.b,{sm:{display:"flex"}},d.a.createElement(c.b,{xs:{column:12},sm:{column:5},deprecatedMargin:{right:1}},d.a.createElement(c.M,{id:"name",placeholder:m.a._("Name","[m10n] A prospective customer's name"),type:"email",idealErrorDirection:"down",onChange:this.handleNameChange,errorMessage:t.name})),d.a.createElement(c.b,{xs:{column:12},sm:{column:5},deprecatedMargin:{right:1}},d.a.createElement(c.M,{id:"email",placeholder:m.a._("Email","[m10n] A prospective customer's email address"),type:"email",idealErrorDirection:"down",onChange:this.handleEmailChange,errorMessage:t.email})),d.a.createElement(c.b,{xs:{column:12},sm:{column:2}},d.a.createElement(c.c,{color:"red",inline:!0,onClick:this.handleSubmitClick,text:m.a._("Sign up","[m10n]"),type:"submit"}))))))}}]),a}(d.a.Component),Ct=Object(I.compose)(N.a,ct.a)(vt),_t=n("x84g"),Ot=n("6P5Y"),xt=n.n(Ot);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t,n){return t&&kt(e.prototype,t),n&&kt(e,n),e}function Tt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?Rt(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function It(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=function(e){function a(){var e,t;Pt(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Nt(Rt(Rt(t=Tt(this,(e=Mt(a)).call.apply(e,[this].concat(r))))),"state",{hover:!1}),Nt(Rt(Rt(t)),"handleConnectClick",function(){t.props.handleSocialConnectClick(t.props.socialMedia)}),Nt(Rt(Rt(t)),"toggleHover",function(){t.setState({hover:!t.state.hover})}),t}return It(a,e),jt(a,[{key:"getButtonStyle",value:function e(){var t={borderRadius:"4"},n="gplus"===this.props.socialMedia?"6px 40px 6px 0px":"6px 20px 6px 0px",r="",o="";return"white"===this.props.buttonBackgroundColor?(o="#FFFFFF","facebook"===this.props.socialMedia?r="#3B5998":"gplus"===this.props.socialMedia&&(r="#0084FF")):"blue"===this.props.buttonBackgroundColor&&(r="#FFFFFF","facebook"===this.props.socialMedia?o="#3B5998":"gplus"===this.props.socialMedia&&(o="#0084FF")),this.state.hover&&(o="#EDEDED"),t.color=r,t.padding=n,t.backgroundColor=o,t}},{key:"getFacebookIcon",value:function e(){return d.a.createElement(c.b,{dangerouslySetInlineStyle:{__style:{borderRadius:10,backgroundColor:"#3B5998"}},height:24,marginLeft:2,position:"relative",left:!0,width:24},d.a.createElement(c.n,{accessibilityLabel:m.a._("facebook","accessible label for facebook icon"),color:this.state.hover?"lightGray":"white",icon:"facebook",inline:!0,size:24}))}},{key:"getGPlusIcon",value:function e(){return d.a.createElement(c.b,{alignSelf:"center",color:this.state.hover?"lightGray":"white",display:"flex",height:24,marginLeft:2,position:"relative",width:24},this.logo(24))}},{key:"logo",value:function e(t){return d.a.createElement("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg"},d.a.createElement("g",{fill:"none",fillRule:"evenodd"},d.a.createElement("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),d.a.createElement("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),d.a.createElement("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),d.a.createElement("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),d.a.createElement("path",{d:"M20 20h472v472H20V20z"})))}},{key:"renderSocialConnectButton",value:function e(){var t=this.getButtonStyle();return d.a.createElement(c.b,{marginRight:2,onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},d.a.createElement(c.O,{onTouch:this.handleConnectClick},d.a.createElement(c.b,{alignItems:"center",display:"flex",position:"relative",dangerouslySetInlineStyle:{__style:t}},"facebook"===this.props.socialMedia?this.getFacebookIcon():this.getGPlusIcon(),d.a.createElement(c.b,{marginLeft:3},d.a.createElement(c.K,{bold:!0},d.a.createElement("span",{style:{color:t.color}},this.props.buttonText))))))}},{key:"render",value:function e(){return this.renderSocialConnectButton()}}]),a}(r.Component),At=n("cD7N"),Ft=n("mHth");function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),e}function zt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?Xt(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt=function(e){function a(){var e,n;Ht(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Yt(Xt(Xt(n=zt(this,(e=Wt(a)).call.apply(e,[this].concat(r))))),"state",{network:""}),Yt(Xt(Xt(n)),"setConnectSuccess",function(e){n.setState({network:e},n.handleComplete)}),Yt(Xt(Xt(n)),"handleSocialConnectClick",function(t){var e;At.a.instance().handleConnect(t,!0,{success:function e(){n.setConnectSuccess(t)}})}),n}return Vt(a,e),Ut(a,[{key:"getText",value:function e(){return""===this.state.network?this.props.subTitle:"gplus"===this.state.network?this.props.gplusConnectSuccess:this.props.facebookConnectSuccess}},{key:"handleComplete",value:function e(){var r=this,t=!0;xt()(function(e,t,n){r.props.experienceClient.completeExperience(e,t,n)},this.props.successMsgCloseDelayInMills,11,this.props.experienceId,!0)}},{key:"render",value:function e(){var t="#0084FF",n="white",r=this.props.handleDismiss;return d.a.createElement(c.b,{dangerouslySetInlineStyle:{__style:{backgroundColor:t,borderRadius:8}},display:"flex",justifyContent:"between",marginLeft:6,marginRight:8,marginTop:4,paddingX:7,paddingY:3},d.a.createElement(c.b,{alignSelf:"center"},d.a.createElement(c.K,{bold:!0,color:"white"},d.a.createElement("span",{style:{fontSize:"23px"}},this.getText()))),""===this.state.network&&d.a.createElement(c.b,{display:"flex",alignItems:"center",justifyContent:"between",marginRight:-3,minWidth:380},d.a.createElement(Dt,{buttonBackgroundColor:n,buttonText:this.props.connectWithGoogle,socialMedia:"gplus",handleSocialConnectClick:this.handleSocialConnectClick}),d.a.createElement(Dt,{buttonBackgroundColor:n,buttonText:this.props.connectWithFacebook,socialMedia:"facebook",handleSocialConnectClick:this.handleSocialConnectClick}),d.a.createElement(c.b,{alignSelf:"center"},d.a.createElement(c.o,{accessibilityLabel:m.a._("Close","accessible label for close button"),iconColor:"white",icon:"cancel",onClick:r,size:"sm"}))),""!==this.state.network&&d.a.createElement(c.b,{marginRight:-3},d.a.createElement(c.o,{accessibilityLabel:m.a._("Close","accessible label for close button"),iconColor:"white",icon:"cancel",onClick:r,size:"sm"})))}}]),a}(r.Component),Zt=Object(I.compose)(Ft.a)(qt),Qt=n("sOF4"),Jt=n("GGB8"),$t=n.n(Jt),en=n("jPJg"),tn=n("309r"),nn=n("JyNp");function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){mn(t,e,n[e])})}return t}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t,n){return t&&ln(e.prototype,t),n&&ln(e,n),e}function cn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?dn(e):t}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}function fn(e,t){return(fn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=5,bn=function(e){function a(){var e,o;an(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mn(dn(dn(o=cn(this,(e=un(a)).call.apply(e,[this].concat(n))))),"state",{openRenux:!1}),mn(dn(dn(o)),"handleDismiss",function(){o.setState(function(){return{openRenux:!1}})}),mn(dn(dn(o)),"flipRenux",function(){var e=!o.state.openRenux,t=o.props,n=t.contextLog,r=t.topicsResource.refreshData;e?n(101,{component:13215,viewParameter:3197}):r(),o.setState(function(e){var t;return{openRenux:!e.openRenux}})}),o}return pn(a,e),sn(a,[{key:"renderTopics",value:function e(t){var n=t.filter(function(e){return e.is_followed}),r=n.slice(0,5),o=5<n.length,a=r.length-1,i=m.a._("+ more","there are other interests not shown");return r.map(function(e,t){var n=on({},e,{label:o&&t===a?i:e.name,images:{"400x":e.images["400x"]}});return d.a.createElement(c.b,{key:n.id,paddingX:2,display:"inlineBlock"},d.a.createElement(en.a,{interest:n,key:n.id,notSelectable:!0,size:"sm"}))})}},{key:"render",value:function e(){var t=this.props.topicsResource,n=t.data,r=t.isFetching,o=t.isLoaded,a=$t()("Module","HeroBasic","white");return d.a.createElement("div",{className:a},d.a.createElement(c.b,{height:80,alignItems:"start",direction:"row",display:"flex",justifyContent:"center",paddingX:12,paddingY:6},d.a.createElement(c.b,{paddingX:12},d.a.createElement(c.m,{size:"xs"},d.a.createElement(ue.a,null,function(e){return Object(be.h)(m.a._("Hi {{firstName}}! Your feed is made up of these topics","Educating user that these are the topics they picked"),{firstName:e.firstName||""})})))),d.a.createElement(c.b,{alignItems:"start",direction:"row",justifyContent:"center",display:"flex",marginBottom:8},o&&n.length?this.renderTopics(n):null,d.a.createElement(c.b,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center"},d.a.createElement(c.G,{accessibilityLabel:m.a._("Loading additional topics","Label for the loading state spinner in the Topics section of the Following page"),show:r||!o})),d.a.createElement(c.b,{display:"flex",alignItems:"center",direction:"column",alignSelf:"center"},d.a.createElement(c.b,{paddingX:2,display:"inlineBlock"},d.a.createElement(c.o,{size:"xl",bgColor:"lightGray",icon:"edit",iconColor:"gray",accessibilityLabel:"Modify Topics",onClick:this.flipRenux}),this.state.openRenux&&d.a.createElement(tn.a,{isSimpleRenux:!0,dismissCallback:this.flipRenux,completeCallback:this.flipRenux})))))}}]),a}(r.PureComponent);mn(bn,"defaultProps",{handleComplete:function e(){},handleDismiss:function e(){}});var yn=Object(I.compose)(N.a,Object(nn.b)({name:"NuxInterestsResource",key:"topicsResource",options:{is_renux:!0,isLazyLoading:!0}}))(bn),gn=n("suNN");function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t,n){return t&&vn(e.prototype,t),n&&vn(e,n),e}function _n(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?Pn(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jn=function(e){function a(){var e,t;En(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kn(Pn(Pn(t=_n(this,(e=On(a)).call.apply(e,[this].concat(r))))),"state",{hasCompleted:!1}),kn(Pn(Pn(t)),"handleCompleteExperience",function(){t.props.handleComplete(),t.setState({hasCompleted:!0})}),t}return xn(a,e),Cn(a,[{key:"render",value:function e(){var t=this,n=this.props,r=n.completeButtonText,o=n.completeButtonUrl,a=n.headerSubtitle;return d.a.createElement(ue.a,null,function(e){return d.a.createElement(c.b,{display:"flex",justifyContent:"center",position:"relative",color:"blue",dangerouslySetInlineStyle:{__style:{zIndex:1}}},d.a.createElement(c.b,{display:"flex",justifyContent:"between",alignItems:"end",width:864,margin:7},d.a.createElement(c.b,{marginRight:5},d.a.createElement(c.b,{marginBottom:2},d.a.createElement(c.m,{size:"sm",color:"white"},Object(gn.b)(m.a._("Welcome back, {{ name }}",'shown on a banner, "welcome back, first_name"'),{name:e.firstName}))),d.a.createElement(c.K,{size:"xl",color:"white"},a)),d.a.createElement(c.b,{minWidth:120},d.a.createElement(Le.b,{to:o},d.a.createElement(c.c,{size:"lg",text:r,onClick:t.handleCompleteExperience})))))})}}]),a}(r.PureComponent);kn(jn,"defaultProps",{completeButtonUrl:""});var Tn=n("ONz4"),Mn=n.n(Tn),In=n("Rmuw");function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){zn(t,e,n[e])})}return t}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t,n){return t&&Dn(e.prototype,t),n&&Dn(e,n),e}function Fn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?Un(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Hn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"ExperienceHero",function(){return Vn});var Wn=400,Vn=function(e){function a(){var e,t;Nn(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zn(Un(Un(t=Fn(this,(e=Gn(a)).call.apply(e,[this].concat(r))))),"state",{animateIn:!1}),zn(Un(Un(t)),"startTransition",function(){var e;t.state.animateIn||t.setState({animateIn:!0})}),t}return Hn(a,e),An(a,[{key:"getHeroClass",value:function e(t){switch(t){case 500268:case 500464:case 500528:case 500716:return i.a;case 500385:return Ct;case 500413:return Zt;case 500821:return _t.b;case 500654:return Te;case 500917:return se;case 500949:return it;case 500863:return jn;case 500689:return yn;case 500840:return Y;default:return Ie}}},{key:"render",value:function e(){var l=this,t=this.props,n=t.placementId,s=t.requestContext,c=this.state.animateIn;return d.a.createElement(ce.a,{placementId:n,type:13},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data,a=l.getHeroClass(t),i=Rn({},Object(In.a)(Qt.a)(o),{experienceId:t,handleComplete:n,handleDismiss:r,requestContext:s});return l.startTransition(),d.a.createElement(Tn.CSSTransition,{in:c,timeout:Wn,classNames:"ExperienceHero",unmountOnExit:!0},d.a.createElement(a,i))})}}]),a}(r.PureComponent),Kn=t.default=Object(o.b)(Vn)},ZWUK:function(e,t,n){"use strict";var c=n("d6ZO"),r=n.n(c),o=n("wUWH"),u=n("FTnl"),a=n("y2lE"),i=function e(s){return c.createElement(o.a,{placementId:s.placementId,type:10},function(e){var t=e.complete,n=e.dismiss,r=e.display_data,o=r.link||s.linkUrl,a=function e(){s.shouldLogClicks&&s.contextLog(101,{objectId:s.objectId,component:s.thriftComponentType,element:s.thriftElementType})},i=function e(){t(),s.onClick&&s.onClick(),s.shouldLogClicks&&a()},l=function e(){s.onHide(),s.completionOnDismissal?t():n()};return c.createElement(u.a,{duration:r.duration,href:o,text:r.text,onClick:i,onHide:l})})};t.a=Object(a.a)(i)},bC4m:function(e,t,n){"use strict";t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r,o=f(n("IaRT")),a,s=p(n("d6ZO")),i,c=p(n("RklN")),l=n("5VhS"),u=n("EtWn");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.UNMOUNTED="unmounted",g=t.EXITED="exited",w=t.ENTERING="entering",E=t.ENTERED="entered",v=t.EXITING="exiting",C=function(i){function l(e,t){m(this,l);var n=h(this,i.call(this,e,t)),r=t.transitionGroup,o=r&&!r.isMounting?e.enter:e.appear,a=void 0;return n.appearStatus=null,e.in?o?(a=g,n.appearStatus=w):a=E:a=e.unmountOnExit||e.mountOnEnter?y:g,n.state={status:a},n.nextCallback=null,n}return b(l,i),l.prototype.getChildContext=function e(){return{transitionGroup:null}},l.getDerivedStateFromProps=function e(t,n){var r;return t.in&&n.status===y?{status:g}:null},l.prototype.componentDidMount=function e(){this.updateStatus(!0,this.appearStatus)},l.prototype.componentDidUpdate=function e(t){var n=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==w&&r!==E&&(n=w):r!==w&&r!==E||(n=v)}this.updateStatus(!1,n)},l.prototype.componentWillUnmount=function e(){this.cancelNextCallback()},l.prototype.getTimeouts=function e(){var t=this.props.timeout,n=void 0,r=void 0,o=void 0;return n=r=o=t,null!=t&&"number"!=typeof t&&(n=t.exit,r=t.enter,o=t.appear),{exit:n,enter:r,appear:o}},l.prototype.updateStatus=function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=arguments[1];if(null!==n){this.cancelNextCallback();var r=c.default.findDOMNode(this);n===w?this.performEnter(r,t):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===g&&this.setState({status:y})},l.prototype.performEnter=function e(t,n){var r=this,o=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:n,i=this.getTimeouts();n||o?(this.props.onEnter(t,a),this.safeSetState({status:w},function(){r.props.onEntering(t,a),r.onTransitionEnd(t,i.enter,function(){r.safeSetState({status:E},function(){r.props.onEntered(t,a)})})})):this.safeSetState({status:E},function(){r.props.onEntered(t)})},l.prototype.performExit=function e(t){var n=this,r=this.props.exit,o=this.getTimeouts();r?(this.props.onExit(t),this.safeSetState({status:v},function(){n.props.onExiting(t),n.onTransitionEnd(t,o.exit,function(){n.safeSetState({status:g},function(){n.props.onExited(t)})})})):this.safeSetState({status:g},function(){n.props.onExited(t)})},l.prototype.cancelNextCallback=function e(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},l.prototype.safeSetState=function e(t,n){n=this.setNextCallback(n),this.setState(t,n)},l.prototype.setNextCallback=function e(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},l.prototype.onTransitionEnd=function e(t,n,r){this.setNextCallback(r),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=n&&setTimeout(this.nextCallback,n)):setTimeout(this.nextCallback,0)},l.prototype.render=function e(){var t=this.state.status;if(t===y)return null;var n=this.props,r=n.children,o=d(n,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof r)return r(t,o);var a=s.default.Children.only(r);return s.default.cloneElement(a,o)},l}(s.default.Component);function _(){}C.contextTypes={transitionGroup:o.object},C.childContextTypes={transitionGroup:function e(){}},C.propTypes={},C.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},C.UNMOUNTED=0,C.EXITED=1,C.ENTERING=2,C.ENTERED=3,C.EXITING=4,t.default=(0,l.polyfill)(C)},bQHl:function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r,o=u(n("IaRT")),a,l=u(n("d6ZO")),s=n("5VhS"),c=n("GTkM");function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},b={component:o.default.any,children:o.default.node,appear:o.default.bool,enter:o.default.bool,exit:o.default.bool,childFactory:o.default.func},y={component:"div",childFactory:function e(t){return t}},g=function(o){function a(e,t){f(this,a);var n=d(this,o.call(this,e,t)),r=n.handleExited.bind(n);return n.state={handleExited:r,firstRender:!0},n}return m(a,o),a.prototype.getChildContext=function e(){return{transitionGroup:{isMounting:!this.appeared}}},a.prototype.componentDidMount=function e(){this.appeared=!0},a.getDerivedStateFromProps=function e(t,n){var r=n.children,o=n.handleExited,a;return{children:n.firstRender?(0,c.getInitialChildMapping)(t,o):(0,c.getNextChildMapping)(t,r,o),firstRender:!1}},a.prototype.handleExited=function e(n,t){var r=(0,c.getChildMapping)(this.props.children);n.key in r||(n.props.onExited&&n.props.onExited(t),this.setState(function(e){var t=i({},e.children);return delete t[n.key],{children:t}}))},a.prototype.render=function e(){var t=this.props,n=t.component,r=t.childFactory,o=p(t,["component","childFactory"]),a=h(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?a:l.default.createElement(n,o,a)},a}(l.default.Component);g.childContextTypes={transitionGroup:o.default.object.isRequired},g.propTypes={},g.defaultProps=y,t.default=(0,s.polyfill)(g),e.exports=t.default},dLDq:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("W/Cr"),i=n("R6a3"),l=n("gEaE");function s(e){var t=e.onHide,n=a.a._("Password Changed!");return o.a.createElement(i.a,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,footer:o.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"end"},o.a.createElement(l.c,{color:"red",inline:!0,onClick:t,text:a.a._("Okay"),size:"md"}))},o.a.createElement(l.b,{padding:4},o.a.createElement(l.K,null,a.a._("Your password has been changed successfully."))))}t.a=s},hFyI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r,o=a(n("309a"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}e.exports=t.default},lOOp:function(e,t,n){"use strict";var r={form:{padding:0,margin:0},"form > ul":{margin:0,borderRadius:0,boxShadow:"none"},formFooter:{borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"none"}};t.a=r},mQDz:function(e,t,n){"use strict";var r=n("d6ZO"),l=n.n(r),a=n("FqaO"),s=n("TFwt"),i=n("Qtho"),c=n("W/Cr"),u=n("R6a3"),o=n("THYI"),p=n.n(o),f=n("y2lE"),d=n("JyNp"),m=n("MQ2h"),h=n.n(m),b=n("gEaE");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function v(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?x(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){function o(){var e,i;g(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(x(x(i=v(this,(e=C(o)).call.apply(e,[this].concat(n))))),"state",{downloadClicked:!1,modalStep:1,verificationType:""}),S(x(x(i)),"handleForward",function(){return i.setState({modalStep:2})}),S(x(x(i)),"handleBack",function(){return i.setState({modalStep:1})}),S(x(x(i)),"handleSubmit",function(){var e,t;(0,i.props.contextLog)(101,{element:10736}),p.a.create("DomainVerifyResource",{type:i.state.verificationType}).callUpdate(),i.props.onHide(),i.props.attemptToClaimWebsite(),a.set("attemptToClaimWebsite","1",24),i.props.onSuccess&&i.props.onSuccess()}),S(x(x(i)),"handleDownload",function(){i.setState({downloadClicked:!0}),Object(s.a)("/website/confirm/download/")}),S(x(x(i)),"handleCopy",function(){var e;window.document.getElementById("textAreaMetatag").select(),document.execCommand("copy")}),S(x(x(i)),"renderNextFooter",function(e){return l.a.createElement(b.b,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2},l.a.createElement(b.c,{color:e?"red":"gray",text:c.a._("Next","Button label for completing step 1 of the claim website sequence"),onClick:i.handleForward,disabled:!e,inline:!0}))}),S(x(x(i)),"renderModalStep1",function(){var e=i.state,t=e.downloadClicked,n=e.verificationType,r,o="metatag"===n||"filename"===n&&t,a='<meta name="p:domain_verify" content="'+i.props.domainVerifyResource.data.verification_code+'"/>';return l.a.createElement(u.a,{accessibilityCloseLabel:c.a._("Close modal","Label to close modal"),accessibilityModalLabel:c.a._("Confirm your website","Accessibility label for confirm website modal"),footer:i.renderNextFooter(o),heading:c.a._("Pick claim option","Modal heading for confirm website modal"),onDismiss:i.props.onHide,size:"md"},l.a.createElement(b.b,{paddingY:7,paddingX:3},l.a.createElement(b.b,{alignItems:"start",display:"flex",justifyContent:"start"},l.a.createElement(b.b,{paddingX:3,flex:"shrink"},l.a.createElement(b.B,{checked:"metatag"===n,id:"metatag",name:"websiteVerification",onChange:function e(){return i.setState({verificationType:"metatag"})},size:"md",value:"metatag"})),l.a.createElement(b.b,{flex:"grow",marginTop:1},l.a.createElement(b.b,{marginBottom:1},l.a.createElement(b.K,{bold:!0,color:"darkGray"},c.a._("Add HTML tag","Label for adding an HTML tag to claim a website"))),l.a.createElement(b.b,null,l.a.createElement(b.K,null,c.a._("Paste this tag into the <head> section of your site’s index.html file","Label for adding an HTML tag to claim a website"))))),"metatag"===n&&l.a.createElement(b.b,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:3,paddingY:3},l.a.createElement(b.b,{column:12},l.a.createElement(b.L,{id:"textAreaMetatag",onChange:function e(t,n){i.forceUpdate()},value:a})))),l.a.createElement(b.b,{marginBottom:8,paddingX:3},l.a.createElement(b.b,{alignItems:"start",display:"flex",justifyContent:"start"},l.a.createElement(b.b,{paddingX:3,flex:"shrink"},l.a.createElement(b.B,{checked:"filename"===n,id:"filename",name:"websiteVerification",size:"md",onChange:function e(){return i.setState({verificationType:"filename"})},value:"filename"})),l.a.createElement(b.b,{flex:"grow",marginTop:1},l.a.createElement(b.b,{marginBottom:1},l.a.createElement(b.K,{bold:!0,color:"darkGray"},c.a._("Upload HTML file","Label for uploading an html file to claim a website"))),l.a.createElement(b.b,null,l.a.createElement(b.K,null,c.a._("Download this file and upload it to your website's root directory","Label for uploading an html file to claim a website"))))),"filename"===n&&l.a.createElement(b.b,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:3,paddingY:3},l.a.createElement(b.c,{color:t?"gray":"red",onClick:i.handleDownload,text:c.a._("Download","Button label for downloading a file to claim a website")}))))}),S(x(x(i)),"renderModalStep2",function(){var e=l.a.createElement(b.b,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2},l.a.createElement(b.b,{flex:"shrink",marginRight:4},l.a.createElement(b.c,{color:"gray",text:c.a._("Back","Button label for going back to step 1 of the claim website sequence"),onClick:i.handleBack})),l.a.createElement(b.b,{flex:"shrink",marginLeft:4},l.a.createElement(b.c,{color:"red",text:c.a._("Submit","Button label for completing step 1 of the claim website sequence"),onClick:i.handleSubmit})));return l.a.createElement(u.a,{accessibilityCloseLabel:c.a._("Close modal","Label to close modal"),accessibilityModalLabel:c.a._("Submit for review","Accessibility label for confirm website modal"),footer:e,heading:c.a._("Submit for review","Modal heading for confirm website modal"),onDismiss:i.props.onHide,size:"md"},l.a.createElement(b.b,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:6,paddingX:6},l.a.createElement(b.K,null,c.a._("All set? We'll check your site for the meta tag and email you in the next 24 hours.","Confirmation message before claiming website"))))}),i}return _(o,e),E(o,[{key:"render",value:function e(){if(this.props.domainVerifyResource.isLoaded)return this.props.domainVerifyResource.error?l.a.createElement(i.a,{error:this.props.domainVerifyResource.error,onHide:this.props.onHide}):1===this.state.modalStep?this.renderModalStep1():this.renderModalStep2();var t=l.a.createElement(b.b,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2},l.a.createElement(b.c,{color:"gray",text:c.a._("Next","Button label for completing step 1 of the claim website sequence"),disabled:!0,inline:!0}));return l.a.createElement(u.a,{accessibilityCloseLabel:c.a._("Close modal","Label to close modal"),accessibilityModalLabel:c.a._("Claim your website","Accessibility label for confirm website modal"),footer:t,heading:c.a._("Pick claim option","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md"},l.a.createElement(b.b,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10},l.a.createElement(b.G,{accessibilityLabel:c.a._("Loading","Accessibility label for loading spinner"),show:!0})))}}]),o}(r.Component);t.a=Object(m.compose)(Object(d.b)({name:"DomainVerifyResource",key:"domainVerifyResource"},{allowStale:!1}),f.a)(P)},mdMx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("d6ZO"),i=n.n(r),o=n("DUIN"),l=n("qzVV"),s=n("Aw5z"),c=n("W/Cr"),u=n("nWYF"),p=n("63eB"),f=n("Krtm"),a=n("y2lE"),d=n("sSkN"),m=n("E7T4"),h=n("mHth"),b=n("i0Ug"),y=n("FrUj"),g=n("gEaE"),w=n("MQ2h"),E=n.n(w);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function x(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?j(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M="age",I="parent_info",L=16,R=13,N=30,D=500735,A=function(e){function a(){var e,n;C(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return T(j(j(n=x(this,(e=S(a)).call.apply(e,[this].concat(r))))),"state",{age:"",ageValidatorError:"",parentEmail:"",parentEmailValidatorError:"",step:n.props.skipAgeStep?I:M}),T(j(j(n)),"handleAgeChange",function(e){var t=e.value;n.setState({age:t,ageValidatorError:""})}),T(j(j(n)),"handleAgeSubmit",function(){var e=[Object(y.a)({message:c.a._("Please enter a valid number.","Error message when user enters invalid age.")})],t=Object(f.a)(n.state.age,e);t?n.setState({age:"",ageValidatorError:t}):parseInt(n.state.age,10)<13?n.setState({age:"",ageValidatorError:c.a._("Age must be at least 13.","Error message when user enters age less than 13")}):n.completeAgeStep()}),T(j(j(n)),"handleParentEmailSubmit",function(){var e=[Object(y.e)({message:c.a._("Hmm... that doesn't look like an email address.","Error message when user enters invalid email address")})],t=Object(f.a)(n.state.parentEmail,e);t?n.setState({age:"",parentEmailValidatorError:t}):n.props.viewer.email===n.state.parentEmail?n.setState({age:"",parentEmailValidatorError:c.a._("Not a valid email.","Invalid email error message")}):n.completeParentConsentStep()}),T(j(j(n)),"handleParentEmailChange",function(e){var t=e.value;n.setState({parentEmail:t,parentEmailValidatorError:""})}),n}return P(a,e),O(a,[{key:"componentDidMount",value:function e(){this.contextLogView(3175)}},{key:"contextLogView",value:function e(t){var n;(0,this.props.contextLog)(13,{view:205,viewParameter:t})}},{key:"contextLogClick",value:function e(t){var n;(0,this.props.contextLog)(101,{component:17,element:1112,view:205,viewParameter:t})}},{key:"completeAgeStep",value:function e(){var t=this,n=this.props,r=n.dispatch,o=n.experienceClient,a={age:this.state.age},i=function e(){t.contextLogClick(3175),parseInt(t.state.age,10)<16?(o.fetchExperienceForPlacement(30),t.setState({step:I}),t.contextLogView(3176)):(o.completeExperience(30,D),r(d.a))};r(Object(m.g)({updateUserData:a})).then(i)}},{key:"completeParentConsentStep",value:function e(){var n=this,t=this.props,r=t.dispatch,o=t.experienceClient,a={parent_email:this.state.parentEmail},i=function e(){n.contextLogClick(3176),o.fetchExperienceForPlacement(30);var t=new p.a;t.evt=new l.a("",null,{forceRefresh:1}),s.default.navigate("/",t),r(d.a)};r(Object(m.g)({updateUserData:a})).then(i)}},{key:"renderAgeStep",value:function e(){var n=this,t=c.a._("To continue using Pinterest, let us know how old you are.","Subtext on age step of GDPR flow.");return i.a.createElement(g.b,{alignItems:"center",direction:"column",display:"flex"},
i.a.createElement(g.b,{margin:3},i.a.createElement(g.m,{size:"sm"},c.a._("Tell us your age","Prompt asking user to enter age"))),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6},i.a.createElement(g.K,{color:"darkGray",overflow:"normal"},t)),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},i.a.createElement("div",{ref:function e(t){n._ageTextField=t}},i.a.createElement(g.M,{id:"age",onChange:this.handleAgeChange,placeholder:"Age",value:this.state.age,type:"number"})),this.state.ageValidatorError?i.a.createElement(g.k,{color:"orange",anchor:this._ageTextField,idealDirection:"right",onDismiss:function e(){},size:"xs",shouldFocus:!1},i.a.createElement(g.b,{padding:3},i.a.createElement(g.K,{bold:!0,color:"white"},i.a.createElement("span",null,this.state.ageValidatorError)))):null),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},i.a.createElement(g.c,{color:"red",disabled:!this.state.age,onClick:this.handleAgeSubmit,text:c.a._("Submit","Text on submit button on GDPR age step"),type:"submit"})))}},{key:"renderParentInfoStep",value:function e(){var n=this,t=c.a._("In some countries, you can only use Pinterest if you're old enough to consent to us using your information under the laws of your country, or if your parent or guardian has agreed that you can use Pinterest.","Subtext in parent consent step for underaged users."),r=c.a._("If you'd like for us to contact your parent or guardian, let us know how to reach them.","Prompt in parent consent step asking underaged users for parent information.");return i.a.createElement(g.b,{alignItems:"center",direction:"column",display:"flex"},i.a.createElement(g.b,{margin:3},i.a.createElement(g.m,{size:"sm"},c.a._("Get parental consent","Title text for parent consent information step"))),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginTop:5,maxWidth:400},i.a.createElement(g.K,{color:"darkGray",overflow:"normal"},t)),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6,maxWidth:400},i.a.createElement(g.K,{color:"darkGray",overflow:"normal"},r)),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},i.a.createElement("div",{ref:function e(t){n._parentEmailField=t}},i.a.createElement(g.M,{id:"email",onChange:this.handleParentEmailChange,placeholder:"Parent's email",value:this.state.parentEmail,type:"email"})),this.state.parentEmailValidatorError?i.a.createElement(g.k,{anchor:this._parentEmailField,color:"orange",idealDirection:"right",onDismiss:function e(){},size:"xs",shouldFocus:!1},i.a.createElement(g.b,{padding:3},i.a.createElement(g.K,{bold:!0,color:"white"},i.a.createElement("span",null,this.state.parentEmailValidatorError)))):null),i.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},i.a.createElement(g.c,{color:"red",disabled:!this.state.parentEmail,onClick:this.handleParentEmailSubmit,text:c.a._("Send","Text on submit button on GDPR parent consent email step"),type:"submit"})))}},{key:"render",value:function e(){return i.a.createElement(g.b,{alignItems:"center",color:"white",direction:"column",display:"flex",height:540,overflow:"hidden",shape:"rounded",width:400},i.a.createElement(g.b,{marginTop:7},Object(u.a)(50,!0)),this.state.step===M?this.renderAgeStep():this.renderParentInfoStep())}}]),a}(r.PureComponent),F=Object(w.compose)(Object(o.connect)(),a.a,h.a,b.a)(A),G=n("LQgx"),H=n("309r"),B=n("K1Hn"),U=function e(t){return!!(t&&t.display_data&&t.display_data.is_partner_renux)},z=function e(t){var n=t.experience,r=t.isNux,o=t.showGDPRModal,a=t.showGDPRParentConsentModal;return i.a.createElement(i.a.Fragment,null,r||U(n)?i.a.createElement(B.f,{placementId:11}):i.a.createElement(H.a,{experience:n}),i.a.createElement(B.g,{placementId:11}),i.a.createElement(B.e,{placementId:11}),i.a.createElement(B.d,{placementId:11}),i.a.createElement(B.c,{placementId:11}),o&&i.a.createElement(G.a,{noButton:!0},i.a.createElement(F,{skipAgeStep:a,additionalChildren:null})))},W=t.default=z},nWYF:function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),o=function e(t,n,r){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a="M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",i=c.a.createElement("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),l,s;return l=n?"-3 -3 82 82":"3 3 70 70",s=r||"#e60023",o?c.a.createElement("svg",{height:t,viewBox:l,width:t},n?i:null,c.a.createElement("path",{d:a,fill:s,fillRule:"evenodd"})):c.a.createElement("svg",{height:t,style:{display:"block"},viewBox:l,width:t},n?i:null,c.a.createElement("path",{d:a,fill:s,fillRule:"evenodd"}))};t.a=o},oayS:function(e,t,n){"use strict";t.__esModule=!0;var r,o=l(n("IaRT")),a,s=l(n("d6ZO")),c=n("RklN"),i,u=l(n("bQHl"));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={in:o.default.bool.isRequired,children:function e(t,n){return 2!==s.default.Children.count(t[n])?new Error('"'+n+'" must be exactly two transition components.'):null}},b=function(i){function l(){var e,t,n;f(this,l);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t=d(this,i.call.apply(i,[this].concat(o))),y.call(t),d(t,n=e)}return m(l,i),l.prototype.handleLifecycle=function e(t,n,r){var o,a=this.props.children,i=s.default.Children.toArray(a)[n];i.props[t]&&(o=i.props)[t].apply(o,r),this.props[t]&&this.props[t]((0,c.findDOMNode)(this))},l.prototype.render=function e(){var t=this.props,n=t.children,r=t.in,o=p(t,["children","in"]),a=s.default.Children.toArray(n),i=a[0],l=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,s.default.createElement(u.default,o,r?s.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},l}(s.default.Component),y=function e(){var r=this;this.handleEnter=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEnter",0,t)},this.handleEntering=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEntering",0,t)},this.handleEntered=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onEntered",0,t)},this.handleExit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExit",1,t)},this.handleExiting=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExiting",1,t)},this.handleExited=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.handleLifecycle("onExited",1,t)}};b.propTypes={},t.default=b,e.exports=t.default},sSkN:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r={type:"OPEN_GDPR_MODAL"},o={type:"OPEN_GDPR_PARENT_CONSENT_MODAL"},a={type:"CLOSE_GDPR_MODAL"},i=function e(t){return{openGDPRModal:function e(){return t(r)},openGDPRParentConsentModal:function e(){return t(o)},closeGDPRModal:function e(){return t(a)}}},l=null},x84g:function(e,t,n){"use strict";var u=n("d6ZO"),r=n.n(u),o=n("DUIN"),p=n("W/Cr"),a=n("IaRT"),i=n.n(a),l=n("THYI"),s=n.n(l),f=n("Akne"),c=n("MQ2h"),d=n.n(c),m=n("gEaE");function h(e){var t=e.accessibilityLabel,n=e.icon,r=e.text,o=e.isCompleted,a=u.createElement(u.Fragment,null,u.createElement(m.b,{marginRight:3},u.createElement(m.b,{padding:4,color:o?"blue":"white",shape:"circle"},u.createElement(m.n,{size:18,icon:o?"check":n,accessibilityLabel:o?"done":t,color:o?"white":"blue"}))),u.createElement(m.K,{size:"xl"},r));return u.createElement(u.Fragment,null,u.createElement(m.b,{width:265,alignItems:"center",lgDisplay:"none",mdDisplay:"flex",smDisplay:"flex"},a),u.createElement(m.b,{width:265,alignItems:"center",justifyContent:"center",lgDisplay:"flex",mdDisplay:"none",smDisplay:"none"},a))}var b=u.memo(h);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function v(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?x(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(n){return new Promise(function(e,t){return s.a.create("UserResource",{user_id:n,field_set_key:"pin_actions"}).callGet().then(e).catch(t)})}function k(n){return new Promise(function(e,t){return s.a.create("UserStateResource",{state:n,value:1}).callCreate().then(e).catch(t)})}t.c=P,t.a=k;var j=function(e){function c(e){var t;g(this,c),S(x(x(t=v(this,C(c).call(this,e)))),"delayBeforeCompletionMS",5e3);var n=e.initialDidPinClickthrough,r=e.initialDidPinCloseup,o=e.initialDidPinSave,a=e.updatePinActions,i=e.didPinClickthrough,l=e.didPinCloseup,s=e.didPinSave;return n&&(i=!0),r&&(l=!0),o&&(s=!0),a({didPinClickthrough:i,didPinCloseup:l,didPinSave:s}),t}return _(c,e),E(c,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.handleComplete,r=t.initialDidPinClickthrough,o=t.initialDidPinCloseup,a=t.initialDidPinSave,i=this.props,l=i.didPinClickthrough,s=i.didPinCloseup,c=i.didPinSave,u;r&&(l=!0),o&&(s=!0),a&&(c=!0),l&&s&&c&&setTimeout(n,this.delayBeforeCompletionMS)}},{key:"shouldComponentUpdate",value:function e(t){if(!Object(f.a)(this.props,t)){var n=this.props,r=n.didPinClickthrough,o=n.didPinCloseup,a=n.didPinSave;if(!r&&t.didPinClickthrough||!o&&t.didPinCloseup||!a&&t.didPinSave)return!0}return!1}},{key:"render",value:function e(){var t=this.props,n=t.didPinClickthrough,r=t.didPinCloseup,o=t.didPinSave,a=t.handleDismiss,i,l;i=n&&r&&o?p.a._("You're ready! Keep exploring to find your next great idea","user completed list of actions below the header"):o?p.a._("Saved! Each Pin you save improves your feed","user completed a pin save and the header text is changing"):n?p.a._("See! Every Pin links to the website it came from","user completed a pin clickthrough and the header text is changing"):r?p.a._("Nice find! You can click any Pin to learn more about it","user completed a closeup and the header text is changing"):p.a._("Here's how to get the most out of Pinterest","user has a list of actions below the header to complete");var s=[{accessibilityLabel:"closeup",icon:"arrow-up-right",text:p.a._("Click on a Pin you like","explaining what to do to complete the closeup step of checklist"),isCompleted:r},{accessibilityLabel:"save",icon:"pin",text:p.a._("Save it for later","explaining what to do to complete the pin save step of checklist"),isCompleted:o},{accessibilityLabel:"link",icon:"globe",text:p.a._("Visit the link it's from ","explaining what to do to complete the clickthrough step of checklist"),isCompleted:n}];return u.createElement(m.H,{dangerouslySetZIndex:{__zIndex:2},top:65},u.createElement(m.b,{color:"lightGray",display:"flex",dangerouslySetInlineStyle:{__style:{overflow:"hidden"}}},u.createElement(m.b,{display:"flex",alignItems:"center",justifyContent:"center",paddingX:12,paddingY:8,color:"blue",maxWidth:550,width:"100%",dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"80px 380px"}}},u.createElement(m.m,{size:"sm",color:"white",overflow:"normal"},i)),u.createElement(m.b,{position:"absolute",top:!0,right:!0,paddingY:2,paddingX:5},u.createElement(m.o,{accessibilityLabel:p.a._("Hide Checklist","hide the checklist of pin actions at the top of the homefeed"),icon:"cancel",onClick:a,size:"sm"})),u.createElement(m.b,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},u.createElement(m.b,{display:"flex",padding:4,marginStart:-4,marginEnd:-4,marginTop:-2,marginBottom:-2,maxWidth:900,width:"100%",wrap:!0},s.map(function(e){var t=e.icon,n=e.accessibilityLabel,r=e.text,o=e.isCompleted;return u.createElement(m.h,{key:r,lgSpan:4,span:12},u.createElement(m.b,{display:"flex",justifyContent:"center",paddingX:4,paddingY:2},u.createElement(b,{accessibilityLabel:n,icon:t,text:r,isCompleted:o})))})))))}}]),c}(u.Component),T=function e(n){return{updatePinActions:function e(t){return n({type:"UPDATE_PIN_ACTIONS",payload:t})}}},M=function e(t){var n=t.ui.checklist,r,o,a;return{didPinCloseup:n.didPinCloseup,didPinClickthrough:n.didPinClickthrough,didPinSave:n.didPinSave}},I=t.b=Object(c.compose)(Object(o.connect)(M,T))(j)}});