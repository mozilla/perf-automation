!function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],E=0,_=[];E<i.length;E++)n[o=i[E]]&&_.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);_.length;)_.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,i=1;i<s.length;i++){0!==n[s[i]]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},n={4:0},r=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=n[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise(function(t,a){s=n[e]=[t,a]});t.push(s[2]=a);var r,i=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=o.p+window.ymailManifest[e],r=function(t){c.onerror=c.onload=null,clearTimeout(l);var s=n[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");o.type=a,o.request=r,s[1](o)}n[e]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,i.appendChild(c)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;r.push([641,0]),s()}([function(e,t,s){"use strict";s.d(t,"Zd",function(){return o}),s.d(t,"ee",function(){return i}),s.d(t,"fe",function(){return c}),s.d(t,"de",function(){return l}),s.d(t,"wb",function(){return d}),s.d(t,"ae",function(){return E}),s.d(t,"U",function(){return _}),s.d(t,"Nb",function(){return u}),s.d(t,"r",function(){return p}),s.d(t,"cb",function(){return m}),s.d(t,"Fc",function(){return h}),s.d(t,"P",function(){return S}),s.d(t,"ib",function(){return g}),s.d(t,"xc",function(){return I}),s.d(t,"oc",function(){return C}),s.d(t,"nc",function(){return T}),s.d(t,"mc",function(){return A}),s.d(t,"dc",function(){return O}),s.d(t,"cc",function(){return b}),s.d(t,"Td",function(){return R}),s.d(t,"I",function(){return D}),s.d(t,"ab",function(){return f}),s.d(t,"sb",function(){return N}),s.d(t,"Cc",function(){return M}),s.d(t,"Dd",function(){return L}),s.d(t,"td",function(){return y}),s.d(t,"sd",function(){return P}),s.d(t,"qd",function(){return v}),s.d(t,"Cb",function(){return F}),s.d(t,"Xc",function(){return U}),s.d(t,"qb",function(){return H}),s.d(t,"Ed",function(){return k}),s.d(t,"H",function(){return G}),s.d(t,"Mc",function(){return w}),s.d(t,"t",function(){return x}),s.d(t,"cd",function(){return B}),s.d(t,"xb",function(){return j}),s.d(t,"u",function(){return V}),s.d(t,"jb",function(){return K}),s.d(t,"Bb",function(){return Y}),s.d(t,"J",function(){return Z}),s.d(t,"ec",function(){return X}),s.d(t,"kd",function(){return Q}),s.d(t,"jc",function(){return $}),s.d(t,"kc",function(){return J}),s.d(t,"ic",function(){return ee}),s.d(t,"Wb",function(){return se}),s.d(t,"Xb",function(){return ae}),s.d(t,"Pc",function(){return ne}),s.d(t,"Xd",function(){return re}),s.d(t,"T",function(){return oe}),s.d(t,"Sb",function(){return ie}),s.d(t,"Qd",function(){return ce}),s.d(t,"S",function(){return le}),s.d(t,"Rb",function(){return de}),s.d(t,"ub",function(){return Ee}),s.d(t,"gc",function(){return _e}),s.d(t,"Uc",function(){return ue}),s.d(t,"Fd",function(){return pe}),s.d(t,"Gd",function(){return me}),s.d(t,"vc",function(){return he}),s.d(t,"wc",function(){return Se}),s.d(t,"b",function(){return ge}),s.d(t,"Ic",function(){return Ie}),s.d(t,"pc",function(){return Te}),s.d(t,"Ub",function(){return Ae}),s.d(t,"hc",function(){return Oe}),s.d(t,"gd",function(){return Re}),s.d(t,"G",function(){return De}),s.d(t,"wd",function(){return fe}),s.d(t,"bd",function(){return Ne}),s.d(t,"ad",function(){return Me}),s.d(t,"Sc",function(){return Le}),s.d(t,"Tc",function(){return ye}),s.d(t,"Yd",function(){return Pe}),s.d(t,"Rc",function(){return ve}),s.d(t,"Vd",function(){return Fe}),s.d(t,"g",function(){return Ue}),s.d(t,"dd",function(){return He}),s.d(t,"Vb",function(){return Ge}),s.d(t,"e",function(){return we}),s.d(t,"Lc",function(){return xe}),s.d(t,"f",function(){return Be}),s.d(t,"ce",function(){return je}),s.d(t,"Db",function(){return Ve}),s.d(t,"Nd",function(){return We}),s.d(t,"Eb",function(){return qe}),s.d(t,"pd",function(){return Ke}),s.d(t,"Kd",function(){return ze}),s.d(t,"W",function(){return Ye}),s.d(t,"Ad",function(){return Ze}),s.d(t,"Bd",function(){return Xe}),s.d(t,"zd",function(){return Qe}),s.d(t,"Md",function(){return $e}),s.d(t,"Ld",function(){return Je}),s.d(t,"O",function(){return et}),s.d(t,"Bc",function(){return tt}),s.d(t,"od",function(){return st}),s.d(t,"ac",function(){return at}),s.d(t,"Y",function(){return nt}),s.d(t,"Ac",function(){return rt}),s.d(t,"h",function(){return ot}),s.d(t,"bc",function(){return it}),s.d(t,"lc",function(){return ct}),s.d(t,"Yb",function(){return lt}),s.d(t,"s",function(){return dt}),s.d(t,"fd",function(){return Et}),s.d(t,"ed",function(){return _t}),s.d(t,"mb",function(){return ut}),s.d(t,"ob",function(){return pt}),s.d(t,"nb",function(){return mt}),s.d(t,"pb",function(){return ht}),s.d(t,"K",function(){return St}),s.d(t,"n",function(){return gt}),s.d(t,"o",function(){return It}),s.d(t,"Pd",function(){return Ct}),s.d(t,"y",function(){return Tt}),s.d(t,"ld",function(){return At}),s.d(t,"rd",function(){return Ot}),s.d(t,"Fb",function(){return bt}),s.d(t,"zb",function(){return Rt}),s.d(t,"rb",function(){return Dt}),s.d(t,"x",function(){return ft}),s.d(t,"rc",function(){return Nt}),s.d(t,"Dc",function(){return Mt}),s.d(t,"q",function(){return Lt}),s.d(t,"gb",function(){return yt}),s.d(t,"yb",function(){return Pt}),s.d(t,"F",function(){return vt}),s.d(t,"fb",function(){return Ft}),s.d(t,"vd",function(){return Ut}),s.d(t,"ud",function(){return Ht}),s.d(t,"Q",function(){return kt}),s.d(t,"qc",function(){return Gt}),s.d(t,"z",function(){return wt}),s.d(t,"p",function(){return xt}),s.d(t,"Wc",function(){return Bt}),s.d(t,"vb",function(){return jt}),s.d(t,"uc",function(){return Vt}),s.d(t,"Wd",function(){return Wt}),s.d(t,"Jd",function(){return qt}),s.d(t,"kb",function(){return Kt}),s.d(t,"id",function(){return zt}),s.d(t,"tc",function(){return Yt}),s.d(t,"sc",function(){return Zt}),s.d(t,"hb",function(){return Xt}),s.d(t,"v",function(){return Qt}),s.d(t,"xd",function(){return $t}),s.d(t,"V",function(){return Jt}),s.d(t,"zc",function(){return es}),s.d(t,"Tb",function(){return ts}),s.d(t,"Mb",function(){return ss}),s.d(t,"w",function(){return as}),s.d(t,"Gb",function(){return ns}),s.d(t,"Zc",function(){return rs}),s.d(t,"Yc",function(){return os}),s.d(t,"Ab",function(){return is}),s.d(t,"Zb",function(){return cs}),s.d(t,"X",function(){return ls}),s.d(t,"Ob",function(){return ds}),s.d(t,"Qb",function(){return Es}),s.d(t,"hd",function(){return _s}),s.d(t,"Sd",function(){return us}),s.d(t,"be",function(){return ps}),s.d(t,"Od",function(){return ms}),s.d(t,"tb",function(){return hs}),s.d(t,"Rd",function(){return Ss}),s.d(t,"Id",function(){return gs}),s.d(t,"bb",function(){return Is}),s.d(t,"lb",function(){return Cs}),s.d(t,"l",function(){return Ts}),s.d(t,"m",function(){return As}),s.d(t,"yc",function(){return Os}),s.d(t,"C",function(){return bs}),s.d(t,"D",function(){return Rs}),s.d(t,"A",function(){return Ds}),s.d(t,"Pb",function(){return fs}),s.d(t,"Jc",function(){return Ns}),s.d(t,"Kc",function(){return Ms}),s.d(t,"Qc",function(){return Ls}),s.d(t,"E",function(){return ys}),s.d(t,"i",function(){return Ps}),s.d(t,"j",function(){return vs}),s.d(t,"M",function(){return Fs}),s.d(t,"db",function(){return Us}),s.d(t,"Nc",function(){return Hs}),s.d(t,"L",function(){return ks}),s.d(t,"c",function(){return Gs}),s.d(t,"Hb",function(){return ws}),s.d(t,"Lb",function(){return xs}),s.d(t,"k",function(){return Bs}),s.d(t,"Hd",function(){return js}),s.d(t,"Vc",function(){return Vs}),s.d(t,"Ud",function(){return Ws}),s.d(t,"Cd",function(){return qs}),s.d(t,"B",function(){return Ks}),s.d(t,"Z",function(){return zs}),s.d(t,"Gc",function(){return Ys}),s.d(t,"jd",function(){return Zs}),s.d(t,"Ec",function(){return Xs}),s.d(t,"fc",function(){return Qs}),s.d(t,"N",function(){return $s}),s.d(t,"nd",function(){return Js}),s.d(t,"d",function(){return ea}),s.d(t,"yd",function(){return ta}),s.d(t,"Oc",function(){return sa}),s.d(t,"md",function(){return aa}),s.d(t,"a",function(){return na}),s.d(t,"R",function(){return ra}),s.d(t,"Hc",function(){return oa}),s.d(t,"Jb",function(){return ia}),s.d(t,"Kb",function(){return ca}),s.d(t,"Ib",function(){return la}),s.d(t,"eb",function(){return da});var a=s(229),n=s(8),r=s(71);const o="YMailNorrin",i="YMailNoble",c="YMailNodin",l="YahooMailNeo",d=959521194,E=(e="us",t="en-US")=>`https://login.yahoo.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.yahoo.com%2Fd&prefill=0`,_=2,u=3,p=Object(n.c)(["MAIL_APP","COMPOSE_APP","MOBILE_APP","BASIC_MAIL_APP"]),m="EMPTY_SEARCH_QUERY",h="/img/grocery.png",S="STORE_FORWARD",g={IC:"ic"},I=Object(n.c)(["MESSAGE","COMPOSE","SEARCH","NAVIGATION","V3_MAIL_READER","MAIL_READER","PREVIEW","SPONSORED_MESSAGE","TUTORIAL"]),C=(Object(n.c)(["ALERT","CONFIRM","PROMPT"]),Object(n.c)(["NORMAL","ADVISORY","WARNING","POSITIVE","NEGATIVE","PENDING","FOWARDING_WARNING"])),T={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},A={LOW:1,MEDIUM:2,HIGH:3},O=Object(n.c)(["READ","STAR","SPAM","HAM","MOVE","DELETE","ANSWER","FORWARD","DECO"]),b=Object(n.c)(["SUCCESS","ASYNC","FAIL","PARTIAL"]),R=Object(n.c)(["LAUNCH","DOCUMENT_FETCH","COMPOSE_SUGGESTIONS_FETCH","SEARCH_SUGGESTIONS_FETCH","IMPORTANT_CONTACTS_FETCH","VIDEO_CHANNELS_METADATA_FETCH","VIDEO_CHANNEL_FETCH","COMPOSE","MESSAGE_ITEM_TO_FETCH","MESSAGE_ITEM_TO_UPDATE","LIST_TO_UPDATE","GEMINI_AD_ASSET","SETTINGS_TO_CHANGE","BLOCKED_SENDERS_TO_FETCH","BUSINESS_LISTING","GEO_LOCATION","GEMINI_AD","RELATED_SEARCHES_TO_FETCH","PAYMENTS_CONTENT_TO_FETCH","ASYNC_TASK_STATUS","OLYMPIC_CONTENT_TO_FETCH","COMPONENT_UI_STATE","CONTACT_CARD","GIFS_TO_FETCH","GIF_CATEGORY_TO_FETCH","CONTACT_LIST_TO_FETCH","ACCOUNT_TO_UPDATE","BASENAME_TO_CREATE","FOLDER","RSVP_FETCH","VACATION_RESPONSE_SETTINGS","MORE_ITEMS_TO_FETCH","RAW_MESSAGE","RELATED_COUPONS_TO_FETCH","PARENT_MESSAGE_TO_FETCH","COUPON_RECOMMENDATIONS_TO_FETCH","COUPONS_TO_FETCH","CONVERSATION_MODE_TO_UPDATE","TOP_COUPONS_TO_FETCH","PLA_ADS_TO_FETCH","TOP_RETAILERS_TO_FETCH","TOP_DEAL_CATEGORIES_TO_FETCH","YAHOO_DEALS_TO_FETCH","RECENT_SEARCH_DELETE","CONTACTS_LIST","CONTACTS_CATEGORY_LIST","CONTACT_DETAILS","EDIT_CONTACT","CONTACT_SAVE","CONTACT_PHOTO_UPLOAD","SOCIAL_ACCOUNT_IMPORT","SOCIAL_ACCOUNT_AUTH_URL","SOCIAL_ACCOUNT_STATUS","CONTACT_CREATE","ACTIVATE_OFFER","ACTIVATED_OFFERS","MORE_ACTIVATED_OFFERS","MORE_OFFERS","OFFERS","RETAILER_LINK","RETAILER_UNLINK","RETAILERS","SAVINGS","SR_RETAILERS","PENSIEVE_ITEM_TO_DELETE","COUPON_SEARCH","ACCOUNT_DELETE","ACCOUNT_ADD","SAVED_SEARCH","LOCATION_TO_UPDATE","CONVERSATION_MODE_TO_UPDATE","ACCOUNT_TO_REAUTH","ALIAS_EMAIL_TO_CREATE","CONFIRM_EMAIL_TO_RESEND","SHOPLIFT_AD_TO_FETCH","COMPOSE_ATTRIBUTES_TO_FETCH","POST_LUNCH_TO_SYNC","LINK_ENHANCER_TO_FETCH"]),D={Modes:Object(n.c)(["NEW","REPLY","REPLY_ALL","FORWARD","EDIT","SPONSORED_FORWARD"])},f={Status:Object(n.c)(["DOES_NOT_EXIST","INIT","EDITED","SAVING","SAVED","SAVED_PARTIAL","SAVE_FAILED","SENDING","SEND_FAILED","SENT","CAPTCHAING"])},N=Object(n.c)(["INBOX","BULK","DRAFT","SENT","TRASH","ARCHIVE","TOKENCACHE","USER","STAGING","SYNC","NOTES","DELETED","CHATS","INVISIBLE","NOT_SEARCHABLE","EXTERNAL_ALL","ALERTSTORE","CARD"]),M=Object(n.c)([N.INBOX,N.DRAFT,N.SENT,N.TRASH,N.BULK,N.ARCHIVE,N.TOKENCACHE,N.USER,N.STAGING,N.SYNC,N.NOTES,N.DELETED,N.CHATS]),L=Object(n.c)([N.INBOX,N.DRAFT,N.SENT,N.ARCHIVE,N.TRASH,N.BULK]),y=Object(n.c)(["UNREAD","STARRED","DOCUMENTS","PHOTOS","PHOTOS_EMAIL","PHOTOS_MOBILE","TUTORIAL","COUPONS","RECEIPTS","TRAVEL","TRAVEL_PAST","TRAVEL_EMAILS","PEOPLE","FINANCE","SOCIAL","SHOPPING","SHOPPING_EMAILS","SHOPPING_YAHOO_DEALS","GROCERIES"]),P=Object(n.c)(["TAB_BAR","SIDE_BAR"]),v={[y.UNREAD]:"is:unread",[y.STARRED]:"is:starred",[y.TRAVEL]:"is:travel",[y.COUPONS]:"is:shopping"},F=[y.PHOTOS,y.DOCUMENTS,y.COUPONS,y.GROCERIES,y.TRAVEL,y.TUTORIAL,y.RECEIPTS],U=Object(n.c)(["USER"]),H=Object.assign(Object(n.c)(["ALL_MAIL"]),N),k={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},G=Object(n.c)(["DOWN","LEFT","NONE"]),w=Object(n.c)(["DOES_NOT_EXIST","REFRESHING","LOADING","LOADED","ERROR"]),x=Object(n.c)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),B=Object(n.c)(["CONTACT","SUBJECT"]),j={TRIPODWEB:"tripodweb"},V={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff"}},W={TIMEZONE:"web.timezone",LAST_OBSERVED_TIMEZONE:"web.lastObservedTimezone"},q=babelHelpers.extends({},{DESKTOP_MAIL_VERSION:"web.ymv",CONVERSATIONS:"web.enableConversations"},{DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"}),K={HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile",THEME:"web.mailTheme",POSTCARD_THEME:"web.postcardTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",IS_UDB_MIGRATION_COMPLETE:"web.isUdbMigrationComplete",BLOCK_IMAGES:"web.blockImages",LEGAL_JURISDICTION:"cp.legalJurisdiction"},z=(babelHelpers.extends({},K,W,q),{HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",IS_UDB_MIGRATION_COMPLETE:"web.isUdbMigrationComplete",SCOUT_ONBOARDING:"web.norrinOnboard",MOBILE_SHOW_IMAGES:"mobileweb.showImages",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference"}),Y=(babelHelpers.extends({},z,W),{PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",UNSUBSCRIBE_NOTIFICATION:"web.showUnsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"web.unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"web.numUnsubscribedItems",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",EMAIL_SUBSCRIPTIONS:"web.emailSubscriptions",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",SUPPRESSED_UPSELLS:"web.suppressedUpsells"}),Z={COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed"},X={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference"},Q=babelHelpers.extends({},Z,{VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",TWEET:"web.enableTweet"}),$=babelHelpers.extends({},Z,{MAILBOX_SIZE:"mailboxSize"}),J=babelHelpers.extends({},K,Y,Q,q,W,Z),ee=babelHelpers.extends({},X,z,W,{MOBILE_CONVERSATIONS:"mobileweb.conversations",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"}),te=babelHelpers.extends({},{HAS_ADS:"hasAds",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",TIMEZONE:"web.timezone",BLOCK_IMAGES:"web.blockImages"},{HAS_ADS:"hasAds",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",DEA_BASE_NAME:"disposableAddressesPrefix"}),se=babelHelpers.extends({},ee,K,J,te,{USE_RICH_TEXT:"web.useRichText",ADD_UNKNOWN_CONTACT:"web.addUnknownContact",EXPAND_SMART_VIEWS:"web.showSmartViews",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",BREAKING_NEWS:"web.breakingNews",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs",POSTCARD_THEME:"web.postcardTheme"}),ae=Object(n.c)(["INTERSTITIAL_FREQUENCY","CLIENT_BUCKETS","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","LINK_ENHANCER","DESKTOP_NOTIFICATION","MOBILE_NOTIFICATION","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","TWEET","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","SUPPRESSED_UPSELLS","AD_BLOCK_FEATURE_CUE_ID","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_NOTIFICATION","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS","SYSTEM_TABS","EMAIL_SUBSCRIPTIONS","SCOUT_ONBOARDING","MOBILE_SHOW_IMAGES","MOBILE_SNIPPETS","MOBILE_THEME","MOBILE_THEME_MODE","DESKTOP_MAIL_VERSION","DESKTOP_MAIL_PREVIOUS_VERSION","DESKTOP_MAIL_VERSION_HISTORY","POSTCARD_THEME","CONVERSATIONS","TIMEZONE","LAST_OBSERVED_TIMEZONE","IS_UDB_MIGRATION_COMPLETE","PREFERRED_AD_FORMAT"]),ne={LIST:"list",BASE:"base",FOLDER:"folder",MESSAGE_FROM_FOLDER_LIST:"message_from_folder_list",MESSAGE_FROM_SEARCH_LIST:"message_from_search_list",MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:"message_group_list_from_folder_list",MESSAGE_FROM_LIST:"message_from_list",NEW_DRAFT:"new_draft",EDIT_DRAFT:"edit_draft",SEARCH:"search",SETTINGS:"settings",CONTACTS:"contacts",CONTACT_DETAILS:"contact_details",EDIT_CONTACT:"edit_contact",CREATE_CONTACT:"create_contact",SIGNATURES_FROM_SETTINGS:"signatures_from_settings",EDIT_FOLDER:"edit_folder",THEME_CHOOSER:"theme_chooser",ACCOUNT_LIST_FROM_SETTINGS:"account_list_from_settings",ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:"account_selector_from_account_list",ADD_ACCOUNT_PROVIDER:"add_account_provider",ATTACHMENT:"attachment",SPONSORED_MESSAGE:"sponsored_message",SECURE_COMPOSE:"secure_compose",SECURE_BODY:"secure_body",SECURE_SETTINGS:"secure_settings",TUTORIAL:"tutorial",PHOTO:"photo",MESSAGE:"message",BLOCKED_SENDERS:"blocked_senders",LIST_FOLDERS:"list_folders"},re=(Object(n.c)([ne.SETTINGS]),"/d"),oe="/d",ie="/m",ce="/[dm]",le=oe+"/log",de=ie+"/log",Ee=re+"/heartbeat",_e=re+"/optout",ue="http://yo/norrinjsesearch",pe="https://www.huffingtonpost.com/static/terms",me="https://www.shoprunner.com/terms/sr/",he="http://privacy.aol.com/",Se="https://www.shoprunner.com/about/policies/",ge="https://payments.mail.yahoo.com",Ie="/public/js/rapidworker_1.2.js",Ce="https://mail.yahoo.com",Te=Ce+"/neo/b/launch",Ae=Ce+"/neo/m/launch",Oe="https://mail.yahoo.com/d/"+ne.TUTORIAL,be=["yql","price_grabber_api","location_autosuggest_api","heartbeat","gemini_api","video_api","subscription_api","linkEnhancer","payment_api","oauth","bootcamp_api","udb"].join("|"),Re=(new RegExp("^(?!"+ce+"/("+be+")/?)"),new RegExp("^"+oe+"(?!/("+be+")/?)"),new RegExp("^/b(?!/("+be+")/?)"),new RegExp("^"+ie+"(?!/("+be+")/?)"),{ALL:"all",NONE:"none",READ:"read",UNREAD:"unread",STARRED:"flagged",UNSTARRED:"unflagged"}),De=Object(n.c)(["NONE","ALL","PARTIAL"]),fe={DATE_DESC:"date_desc",DATE_ASC:"date_asc",UNREAD:"unread",STARRED:"flagged",SENDER:"sender",RECIPIENT:"recipient",SUBJECT:"subject",ATTACHMENT:"attachment",RELEVANCE:"relevance",CARD_DATE_DESC:"carddate_desc",CARD_DATE_ASC:"carddate_asc"},Ne={DESC:fe.DATE_DESC,ASC:fe.DATE_ASC},Me={DESC:fe.DATE_DESC,ASC:fe.DATE_ASC,ATTACHMENT:fe.ATTACHMENT,RELEVANCE:fe.RELEVANCE},Le="cardDate",ye="time asc",Pe=28,ve=Math.floor(65535*Math.random()),Fe="https://data.mail.yahoo.com/xobni",Ue=Object(n.c)(["FREE","IMAPIN","ALIAS","SENDAS","DEA","PARTNER","POPIN","BIZMAIL","PHONE","EXTERNAL"]),He=[Ue.FREE,Ue.IMAPIN,Ue.PARTNER,Ue.BIZMAIL],ke=Object(n.c)(["STORM","ODIN","MUNIN","NORRIN","NOBLE"]),Ge={[ke.STORM]:"4",[ke.ODIN]:"5",[ke.NORRIN]:"6"},we=Object(n.c)(["IMAPIN","ALIAS","SENDAS","DEA"]),xe=[Ue.PARTNER,Ue.FREE,Ue.IMAPIN,Ue.BIZMAIL],Be=Object(n.c)(["ENABLED","DISABLED","DELETED","PENDING","DELETE_IN_PROGRESS"]),je=(Object(n.c)(["PLAIN","OAUTH2","PASSKEY"]),Object(n.c)(["DISABLED","DELETED","MAINTENANCE"])),Ve=Object(n.c)(["MESSAGES","MESSAGE","IMAGES","DOCUMENTS","LINKS","PEOPLE","EXTRACTIONS","ADS","GIFS","TIMECHUNK","LOAD_MORE","FOLDER","SMARTVIEW","TRAVEL_CARDS","COUPON_SEPARATOR","TOP_DEALS_HEADER","RECEIPT_SEPARATOR","ZERO_SAVED_GROCERY_STORES","GROCERY_STORES_SEPARATOR","SINGLE_STORE_SEPARATOR","CONTACTS","CONTACTS_SEPARATOR","CONTACTS_CONTROLS","EXPAND_COLLAPSE_CONTACTS","LOADING_INDICATOR","COUPON_CARDS","GROCERY_STORES","OFFER_CARDS","REFUND_CARDS","ZERO_SAVED_COUPONS","CARDS","SEARCH_PLACEHOLDER","COMPOSE","PLAADS","ADS_SM","YAHOO_DEAL_CARDS","YAHOO_DEAL_ACTIVITY_HEADER","YAHOO_DEAL_HEADER","RECEIPT_CARDS","RECOMMENDED_ITEMS"]),We={Types:Object(n.c)(["TODAY","YESTERDAY","DAY","MONTH","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","EARLIER_IN_YEAR","THIS_MONTH","THIS_YEAR","YEAR"]),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}},qe=Object(n.c)(["FROM","TO","ALL","RELATED","WITH_KEYWORD","WITH_KEYWORD_RELEVANCE","TO_WITH_RELEVANCE","FROM_WITH_RELEVANCE","ALL_WITH_RELEVANCE","SHOPPING","TRAVEL","FINANCE","SOCIAL","TRAVEL_VIEW_UPCOMING","TRAVEL_VIEW_PAST","SYSTEMFOLDER","CUSTOMFOLDER","FOLDERLABEL","SAVED_COUPON_CARDS","ALL_REFUND_CARDS","ALL_COUPON_CARDS","ALL_RECEIPT_CARDS","LINKED_GROCERY_STORES","UNLINKED_GROCERY_STORES","RECOMMENDED_OFFER_CARDS","ACTIVATED_OFFER_CARDS","GIFS","EMAIL_PHOTOS","MOBILE_PHOTOS","ALL_PHOTOS","RECOMMENDED_ITEMS","PEOPLE","NOT_PEOPLE","TOP_CONTACTS","USER_CREATED_CONTACTS","IMPORTANT_CONTACTS"]),Ke=[qe.PEOPLE,qe.SHOPPING],ze=[y.PEOPLE,y.COUPONS],Ye={[y.PEOPLE]:"PE",[y.COUPONS]:"SH",[y.SOCIAL]:"SO",[y.FINANCE]:"FI",[y.TRAVEL]:"TR"},Ze=Object(n.c)(["PEOPLE","KEYWORD","ALL","RECENT"]),Xe=Object(n.c)(["PERSON","KEYWORD","WEB_SEARCH","RECENT","HEADER"]),Qe=Object(n.c)(["PERSON","KEYWORD","RECENT"]),$e=Object(n.c)(["TEXT","NEW_DRAFT","NO_SUBJECT","LOADING","SEARCH_KEYWORD","ERROR","SEARCH_DEFAULT","SETTINGS","PREVIEW","SPONSORED_AD","SMART_VIEW"]),Je=Object(n.c)(["NONE","SEARCH","SETTINGS","COMPOSE","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","SMARTVIEW_PHOTOS","SMARTVIEW_DOCUMENTS","SMARTVIEW_COUPONS","SMARTVIEW_GROCERIES","SMARTVIEW_RECEIPTS","SMARTVIEW_TRAVEL","SMARTVIEW_TUTORIAL","EXCLAMATION_ALT"]),et=Object(n.c)(["UP","DOWN","FIRST","LAST","LEFT","RIGHT"]),tt={NO:0,RIGHT:1,BOTTOM:2},st={ALWAYS:!0,NEVER:!1},at={SLIM:1,NORMAL:2,RELAXED:3},nt={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:r.c.MEDIUM},rt=Object(n.c)(["LAUNCH","CHECK_MAIL","NEIGHBOR"]),ot={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},it=Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},at),ct=Object(n.c)(["BROWSER","PUSH"]),lt=(Object(n.c)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),{IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999}),dt={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:Object(n.c)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:Object(n.c)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},Et=Object(n.c)(["FLOW","PINNED","PUSHED"]),_t=.8,ut=Object(n.c)(["MOVETOFOLDER"]),pt=Object(n.c)(["ALL"]),mt=Object(n.c)(["SUBJECT","SENDER","TOORCC","BODY"]),ht=Object(n.c)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),St=Object(n.c)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),gt={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"},It={ALL_MAIL:"allMail"},Ct=Object(n.c)(["STAR_CHANGE_ALL_ITEMS","STAR_CHANGE_SELECTED_ITEMS","READ_CHANGE_FOLDER_ITEMS","READ_CHANGE_ALL_ITEMS","READ_CHANGE_SELECTED_ITEMS","DELETE_FOLDER_ITEMS","DELETE_ALL_ITEMS","DELETE_SELECTED_ITEMS","DELETE_ALL_FROM_SENDERS","MOVE_ALL_ITEMS","MOVE_SELECTED_ITEMS","ARCHIVE_FOLDER_ITEMS","ARCHIVE_ALL_ITEMS","ARCHIVE_SELECTED_ITEMS","RESTORE_ALL_ITEMS","RESTORE_SELECTED_ITEMS","SPAM_ALL_ITEMS","SPAM_SELECTED_ITEMS","NOT_SPAM_ALL_ITEMS","NOT_SPAM_SELECTED_ITEMS","UNDO_MOVE","DELETE_DRAFT"]),Tt=Object(n.c)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),At={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",SOCIAL_ACCOUNTS:"9",ENCRYPTION:"10",MAIL_PRO:"11"},Ot={[y.UNREAD]:"unread",[y.STARRED]:"starred",[y.PHOTOS]:"photos",[y.DOCUMENTS]:"documents",[y.TRAVEL]:"travel",[y.COUPONS]:"coupons",[y.RECEIPTS]:"receipts",[y.PEOPLE]:"people",[y.GROCERIES]:"groceries"},bt=babelHelpers.extends({},Ot,{CONTACT_DETAILS:"contactDetails",RELATED_COUPONS:"relatedCoupons",COUPON_RECOMMENDATIONS:"couponRecommendations",TOP_COUPONS:"topCoupons"}),Rt={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},Dt=Object(n.c)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),ft={CARDS:"CARDS",MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE",PLA_AD:"AL"},Nt={MAC:"mac",WINDOWS:"windows",IOS:"ios",ANDROID:"android",OTHER:"other"},Mt=Object(n.c)(["MESSAGE","OFFERS"]),Lt={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2},yt=Object(n.c)(["LAUNCH_API_ERROR","WRONG_MAILBOX_STATE","LAUNCH_PAGE_NOT_FOUND_ERROR","NO_SCRIPT","UNSUPPORTED_BROWSER","UNSUPPORTED_FBMAILBOT","SERVER_ERROR","REACT_ERROR","DEFAULT"]),Pt="internal.apis.mail.yahoo.com",vt="//ws.progrss.yahoo.com",Ft={YAHOO:"yahoo",YAHOO_SB:"yahoosb",GOOGLE:"google",GOOGLE_APP:"googleapp",OUTLOOK:"outlook",AOL:"aol",OATH:"oath",OTHER:"other"},Ut=Object(n.c)(["Facebook","LinkedIn","Twitter","LinkedInTest"]),Ht={[Ut.Facebook]:"b9ed13cc-ddec-11de-9c83-001b784d35e1",[Ut.LinkedIn]:"f7e0ac2c-98e8-11df-8527-000ffef4f721",[Ut.Twitter]:"1ce67640-113b-11df-a7d6-001b784d35e1",[Ut.LinkedInTest]:"f8f1ac2c-99e8-11df-8517-000gfef5f721"},kt=100,Gt=30,wt=Object(n.c)(["STACKED","COLLAPSED","EXPANDED"]),xt={AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",CredstoreClient:"credstore_client_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",SubscriptionAPIClient:"subscription_api_client_call",MailAPIClient:"mail_api_client_call",PaymentClient:"payment_client_call",TaiwanCommerceClient:"taiwan_commerce_client_call",RapidClient:"i13n_beacon",UDBClient:"udb_client_call",XobniClient:"xobni_client_call",EmojiSearch:"emoji_search_call",PriceGrabberClient:"price_grabber_client_call",LocationAutoSuggestClient:"location_autosuggest_api_client_call",GeoAPIClient:"geo_api_client",RelatedSearchesAPIClient:"related_searches_api_client",LinkEnhancerClient:"lucy_api_call",TripodAPIClient:"tripod_api_client",ClassicABClient:"classic_ab_client",SearchAdClient:"search_ad_client",DarlaAdClient:"darla_ad_client"},Bt=[Ft.YAHOO,Ft.GOOGLE,Ft.GOOGLE_APP,Ft.OUTLOOK,Ft.AOL],jt={[Ft.GOOGLE]:{domainCheck:["gmail","google","googlemail"],imapServer:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Ft.YAHOO]:{domainCheck:["yahoo","ymail","rocketmail"],imapServer:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[Ft.OUTLOOK]:{domainCheck:["outlook","hotmail","live","msn"],imapServer:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"scope=wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},[Ft.AOL]:{domainCheck:["aol","aim"],imapServer:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"scope=offline_access email profile addressbook opencalendar"},[Ft.GOOGLE_APP]:{imapServer:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Ft.YAHOO_SB]:{imapServer:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[Ut.LinkedIn]:{scope:"r_basicprofile r_member_lookup"}},Vt=Object(n.c)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),Wt=Object(n.c)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),qt=Object(n.c)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]),Kt={DEBUG_UNSYNCED_DATA:"debugUnsyncedData",ADS:"ads",ATTACHMENT_PREVIEW:"attachmentPreview",NO_ADS:"noAds",DARLA_PREFETCH:"darlaPrefetch",DARLA_LOOKAHEAD:"darlaLookAhead",DARLA_SANDBOX:"darlaSandbox",GEMINI_SPONSORED_VIDEO:"geminiSponsoredVideo",AD_FREE_SUPPORTED:"adFreeSupported",COM_SCORE_BEACONING:"comScoreBeaconing",EMPTY_FOLDER_VIDEO:"emptyFolderVideo",MESSAGE_READ_AD_ROTATION:"messageReadAdRotation",MESSAGE_UNREAD_INDICATOR:"messageUnreadIndicator",GEMINI_VIEWABILITY:"geminiViewability",GEMINI_VIEWABILITY_IO:"geminiViewabilityIO",RESIZABLE_PREVIEW_PANE:"previewpaneResizable",MAIL_PRO_ELIGIBLE:"mailProEligible",WIDE_RIGHT_RAIL:"wideRightRail",HIDE_RIGHT_RAIL:"hideRightRail",PREMIUM_AD_DETECTION:"premiumAdDetection",GEMINI_CONTEXTUAL_ADS:"geminiContextualAds",AUTOPLAY_EMPTY_FOLDER_VIDEO:"autoplayEmptyFolderVideo",ROTATE_ADS_ONLINE:"rotateAdsOnline",HIPMUNK_CARD:"hipmunkCard",BOOKING_CARD:"bookingCard",SEATGEEK_CARD:"seatgeekCard",WIDER_MAIL_ELIGIBLE:"widerMailEligible",CLOSE_ICON_PENCIL_AD:"closeIconPencilAd",MAIL_PRO:"mailPro",MAIL_PRO_LINK_IN_SETTINGS_MENU:"mailProLinkInSettingsMenu",ABORT_DARLA_IN_PROGRESS:"abortDarlaInProgress",MON_ADS:"monAds",ADBLOCK_UPSELL:"adBlockUpsell",SHOPPING_CART_AD:"shoppingCartAd",APAC_SHOPPING_CART_AD:"APACShoppingCartAd",SEARCH_AD_BACK_BUCKET:"searchAdBackBucket",SEARCH_AD_ICON_ON_HOVER:"searchAdIconOnHover",HP_EXT_INSTALLED:"hpsetInstalled",RAPID_K8S:"rapidK8s",AUTO_FORWARD_EMAIL:"autoForwardEmail",RIGHT_RAIL_AD_FREE_UPSELL:"rightRailAdFreeUpsell",PENCIL_AD:"pencilAd",SECOND_PENCIL_AD:"secondPencilAd",RELATED_SEARCHES_CARD:"relatedSearchesCard",ADVERTISER_RELATED_SEARCHES:"advertiserRelatedSearches",HOTELS_CARD_PREFILL:"hotelsCardPrefill",VIGLINK:"viglink",CONTACT_CARD_TRACKING:"contactCardTracking",LEFT_RAIL_AD_ARBITRATION:"leftRailAdArbitration",MESSAGE_READ_AD_CAROUSEL:"messageReadAdCarousel",TIMECHUNK_PENCIL_AD:"timechunkPencilAd",FLASH_SALE_AD:"flashSaleAd",FLASH_SALE_AD_IN_SECONDS:"flashSaleAdInSeconds",PLA_SEARCH_ADS:"plaSearchAds",PLA_ADS_ON_COUPON_MESSAGE_READ:"plaAdsOnCouponMessageRead",PLA_ADS_AVAILABLE:"plaAdsAvailable",PLA_ADS_FOR_RECOMMENDATION_EMAILS:"plaAdsForRecommendationEmails",PLA_ADS_ON_RECOMMENDATION_EMAIL_READ:"plaAdsOnRecommendationEmailRead",MESSAGE_READ_AD_ROTATION_V2:"messageReadAdRotationV2",ROTATE_PENCIL_AD_ON_EXPIRE:"rotatePencilAdOnExpire",AOL_VIDEO_PLAYER:"aolVideoPlayer",OATH_VIDEO_PLAYER:"oathVideoPlayer",RIGHT_RAIL_NATIVE_AD:"rightRailNativeAd",RELATED_RETAILERS:"relatedRetailers",RELATED_RETAILERS_EXPANDED:"relatedRetailersExpanded",RELATED_RETAILERS_WITH_LOGO:"relatedRetailersWithLogo",COUPONS_ON_SEARCH_RIGHT_RAIL:"couponsOnSearchRightRail",SUBSCRIPTION_ADS:"subscriptionAds",DEBUG_DARLA:"debugDarla",COUPONS_SMART_VIEW_SEARCH:"couponsSmartViewSearch",SPONSORED_MOMENT:"sponsoredMoment",VIDEO_SPONSORED_MOMENT:"videoSponsoredMoment",AD_BLOCK_COUPONS:"adBlockCoupons",AD_BLOCK_COUPONS_ON_PENCIL_ADS:"adBlockCouponsOnPencilAds",ROTATE_ADS_ON_CHECK_MAIL:"rotateAdsOnCheckMail",AD_BLOCK_VERIFIED_BEACON:"adBlockVerifiedBeacon",AD_VIEWABILITY_TRACKER:"adViewabilityTracker",EBAY_WARRANTY_UPSELL:"ebayWarrantyUpsell",AD_FORMAT_SELECTION:"adFormatSelection",TAIWAN_SHOPPING_VIEW:"taiwanShoppingView",SHOPLIFT_AD:"shopliftAd",COMMERCIAL_ANALYSIS_OF_CONTENT:"commercialAnalysisOfContent",RETAILER_FILTER:"retailerFilter",CATEGORY_FILTER:"categoryFilter",ROTATE_ADS_ON_MANUAL_CHECK_MAIL:"rotateAdsOnManualCheckMail",RIGHT_RAIL_UPSELL_VIDEO_AD:"rightRailUpsellVideoAd",TOOLTIP_EMOJI:"tooltipEmoji",NUKE_DISPLAY_ADS_ON_INACTIVE:"nukeDisplayAdsOnInactive",COMPOSE_V3:"composeV3",LIST_V3:"listV3",MAIL_READER_V3:"mailReaderV3",UPDATE_ITEMS_V3:"updateItemsV3",CEP_FORWARD:"cepForward",PREVIEW_MESSAGE_V3:"previewMessageV3",MESSAGE_READ_CONTACT_CARD:"messageReadContactCard",RSVP_PREFETCH_API:"rsvpPrefetchAPI",RSVP:"rsvp",RSVP_RESPONSE:"rsvpResponse",STATIONERY_THEME_DATES:"stationeryThemeDates",PARSE_RSVP_REPLY_LINKS:"parseRsvpReplyLinks",PHOTO_THEMES:"photoThemes",TOOLBAR_V3:"toolbarV3",RIGHT_RAIL_CONTACT_CARD:"rightRailContactCard",RIGHT_RAIL_PHOTO_CARD:"rightRailPhotosCard",RIGHT_RAIL_DOCS_CARD:"rightRailDocsCard",RIGHT_RAIL_MESSAGES_CARD:"rightRailMessagesCard",SUBSCRIPTION_RECOMMENDATIONS:"subscriptionRecommendations",SCOUT_PREDICATE:"scoutPredicate",SCOUT_RECURRING:"scoutRecurring",CONTACTS_PANE_FEATURE:"contactsPaneFeature",CONTACT_SUMMARY:"contactSummary",CONTACTS_PANE_CUE:"contactsPaneCue",SOCIAL_ACCOUNTS:"socialAccounts",LINKEDIN_REAUTH_CUE:"linkedinReauthCue",USE_LINKEDIN_TEST_SPID:"useLinkedinTestSpid",SHOW_LINKEDIN_REAUTH_UPSELL:"showLinkedinReauthUpsell",RELOADING_BAR:"reloadingBar",CALENDAR_TAB:"calendarTab",NOTEPAD_TAB:"notepadTab",CONVERSATIONS:"conversations",CONVERSATIONS_FEATURE:"conversationsFeature",SHOW_COMMS_PROPERTIES:"showCommsProperties",AUTO_OPEN_REAUTH:"autoOpenReauth",ACTION_MODULE:"actionModule",ADD_SEND_ONLY_ACCOUNTS:"addSendOnlyAccounts",DISPOSABLE_ADDRESS:"disposableAddress",SHOW_FORWARD_SETTINGS:"showForwardSettings",INLINE_ATTACHMENT:"inlineAttachment",EMOJI_SEARCH:"emojiSearch",TUTORIAL:"tutorial",COLLAPSIBLE_SYSTEM_FOLDERS:"collapsibleSystemFolders",SETTINGS:"settings",UDB_MIGRATION_COMPLETE:"udbMigrationComplete",SHOW_TWEET:"showTweet",TIMEZONE_CHECK:"timezoneCheck",CHECK_MAIL_PREFETCH:"checkMailPrefetch",RTL:"rtl",IS_RETURNING_USER:"isReturningUser",HAS_MAPPED_THEME:"hasMappedTheme",FETCH_FULL_BODY:"fetchFullBody",THEMES_CUE_V3:"themesCueV3",SSA_BREACH_SECURITY_ALERT:"ssaBreachSecurityAlert",APT_SECURITY_CUE:"aptSecurityCue",NEW_USER_ONBOARDING_CUE:"newUserOnboardingCue",PHOTOS_CUE:"photosCue",STARRED_CUE:"starredCue",SETTINGS_CUE:"settingsCue",SEARCH_CUE:"searchCue",ALL_TABS_PLUS_CUE:"allTabsPlusCue",PEOPLE_SMARTVIEW_CUE:"peopleSmartViewCue",STATIONERY_CUE:"stationeryCue",UPDATE_WIDER_MAIL_CUE:"updateWiderMailCue",ADBLOCK_UPSELL_CUE:"adBlockUpsellCue",RIGHT_RAIL_AD_FREE_UPSELL_CUE:"rightRailAdFreeUpsellCue",EMOJI_CUE:"emojiCue",INBOX_COUPONS_CUE:"inboxCouponsCue",COUPON_CLIPPER_CUE:"couponClipperCue",COUPONS_VIEW_CUE:"couponsViewCue",COUPONS_VIEW_LAUNCH_CUE:"couponsViewLaunchCue",RELATED_COUPONS:"relatedCoupons",RELATED_COUPONS_EXPANDED:"relatedCouponsExpanded",IS_WIDER_MAIL_EXTN_ENABLED:"isWiderMailExtnEnabled",MSG_READ_EARNY_CARD:"msgReadEarnyCard",QTNT_VIEW_MSG_READ_CARD:"qtntviewMsgReadCard",MSG_READ_QUOTIENT_MODAL:"msgReadQuotientModal",PURCHASES_VIEW_CUE:"purchasesViewCue",SHOPRUNNER_VIEW_CUE:"shopRunnerViewCue",QTNT_VIEW_LEFT_RAIL_CUE:"qtntviewLeftRailCue",QUOTIENT_LINKED_CARD:"quotientLinkedCard",MSG_READ_SHOPRUNNER_CARD:"msgReadShopRunnerCard",MSG_READ_SHOPRUNNER_MODAL:"msgReadSRModal",MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD:"msgReadShopRunnerPostSignUpCard",SHOPRUNNER:"shoprunner",BROWSER_NOTIFICATIONS:"browserNotifications",DESIGN_CLASSIFIER:"designClassifier",DRAWER:"drawer",MOBILE_MESSAGE_SNIPPETS:"mobileMessageSnippets",DELAY_MOBILE_ONBOARDING:"delayMobileOnboarding",MOBILE_ONBOARDING_CUE:"mobileOnboardingCue",DELAY_MOBILE_ONBOARDING_CUE:"delayMobileOnboardingCue",MOBILE_SEARCH_SUGGESTIONS:"mobileSearchSuggestions",MOBILE_SIGNATURE:"mobileSignature",MOBILE_THEMING:"mobileTheming",MOBILE_VIRTUAL_LIST:"mobileVirtualList",MOBILE_EDIT_RECIPIENTS:"mobileEditRecipients",PUSH_NOTIFICATIONS_CUE_PTR:"pshNotifctnsCueOnPTR",PUSH_NOTIFICATIONS_CUE_LAUNCH:"pshNotifctnsCueOnLnch",PUSH_NOTIFICATIONS_CUE_COMPOSE:"pshNotifctnsCueOnCmps",LOADING_FALLBACK:"loadingFallback",MOBILE_MESSAGE_READ_NAVIGATION:"mobileMessageReadNavigation",MESSAGE_READ_HOME_BUTTON:"messageReadHomeButton",LANDSHARK_CUE:"landsharkCue",COUPON_CARD_EXTRACTIONS:"couponCardExtractions",BOOTCAMP_COUPONS:"bootcampCoupons",COUPON_SELF_EXTRACTION:"couponSelfExtraction",COUPON_RECOMMENDATIONS:"couponRecommendations",MULTI_COUPON_RECOMMENDATIONS:"couponRecMulti",COUPON_REC_WITH_ADS:"couponRecWithAds",COUPON_REC_WITH_BOLD_ADS:"couponRecWithBoldAds",COUPON_REC_WITH_TOP_ADS:"couponRecWithTopAds",COUPON_REC_VENDOR:"couponRecVendor",COUPONS_VIEW:"couponsView",COUPON_STORE_LOCATOR:"couponStoreLocator",COUPONS_AUTO_CLIP:"couponsAutoClip",CPN_ICON_MSG_LIST:"cpnIconMsgList",FLIGHT_CARD_EXTRACTIONS:"flightCardExtractions",TRAVEL_VIEW:"travelView",AUTOTAG:"autotag",EARNY_CARD_EXTRACTIONS:"earnyCardExtractions",RECEIPTS_VIEW:"receiptsView",BULK_DELETE_MSG_EARNY_UPSELL:"bulkDeleteMsgEarnyUpsell",BULK_DELETE_MSG_EARNY_CUE:"blkDeleteMsgErnyCue",DISPLAY_EARNY_DIALOG:"displayEarnyDialogOnDelete",MSG_READ_DELETE_EARNY_CUE:"msgReadDeleteEarnyCue",QUOTIENT:"quotient",GROCERIES_VIEW:"groceriesView",QUOTIENT_TEXT_VARIANT:"quotientTextVariant",EMOJI:"emoji",PRELOAD_EMOJI:"preloadEmoji",GIF:"gif",STATIONERY:"stationery",RECENTLY_USED_EMOJI:"recentlyUsedEmoji",EXCEPTION_NOTIFICATION:"exceptionNotification",MKTG_BEACON:"marketingBeaconing",NEWUSER_MKTG_BEACON:"newUserMarketingBeaconing",VACATION_RESPONSE_STATIONERY:"vacationResponseStationery",VACATION_RESPONSE_V2:"vacationResponseV2",DELETE_FROM_PHOTOS_VIEW:"deleteFromPhotosView",DELETE_FROM_DOCUMENTS_VIEW:"deleteFromDocumentsView",BLOCK_SENDERS:"blockSenders",GEO_LOCATION:"geoLocation",SMARTVIEW_CATEGORIES_ENABLED:"smartViewCategoriesEnabled",SMARTVIEW_CATEGORIES_ALL:"allSmartViews",SMARTVIEW_CATEGORIES_PEOPLE:"peopleSmartView",SMARTVIEW_CATEGORIES_PEOPLE_V2:"peopleSmartViewV2",SMARTVIEW_CATEGORIES_SHOPPING:"shoppingSmartView",STARRED_MAIL_ENHANCED:"starredMailEnhanced",SHOW_TABS:"showTabs",PENSIEVE:"pensieve",SERVICE_WORKER_CACHING:"serviceWorkerCaching",PUSH_NOTIFICATIONS:"pushNotifications",SHOULD_SW_SUBSCRIBE:"shouldServiceWorkerSubscribe",SHOW_ABOUT_OUR_ADS_LINK:"showAboutOurAdsLink",SHOW_ABOUT_YAHOO_MAIL_LINK:"showAboutYahooMailLink",SHOW_GIVE_FEEDBACK_LINK:"showGiveFeedbackLink",SHOW_OPT_OUT_LINK_MORE_SETTINGS:"optOutLinkInMoreSettings",SHOW_FORWARDING_NOTIFICATION:"showForwardingNotification",SHOW_RECENT_SUGGESTIONS:"showRecentSuggestions",SHOW_EMPTY_SEARCH_SUGGESTIONS:"showEmptySearchSuggestions",SEARCH_SUGGESTIONS_V2:"searchSuggestionsV2",FILTER_COMMERCIAL_IMAGES:"filterCommercialImages",EXTERNAL_CSS:"externalCss",ENABLE_EARNY_UPSELLS:"enableEarnyUpsells",DISPOSABLE_ADDRESS_DELETE_ONLY:"disposableAddressDeleteOnly",SHOW_SOCIAL_ACCOUNTS_TAB_IF_NONE_CONNECTED:"showSocialAccountsTabIfNoneConnected",SHOW_RIGHT_RAIL_HELP_LINKS:"showRightRailHelpLinks",ALLOW_USERNAME_AND_PHONE_REGISTRATION:"allowUsernameAndPhoneReg",INLINE_IMAGES_PROXIED:"inlineImagesProxied",CLICK_URL_LOGGING:"clickUrlLogging",DEALS_VIEW_V2:"dealsViewV2",MESSAGE_OP_PERF:"messageOpPerf"},zt={SUPPRESSED_UPSELLS:"suppressedUpsells",APP_ROOT_PATH:"appRootPath",THEME:"theme",THEME_MODE:"themeMode",TEXTUAL_SUGGESTIONS:"textualSuggestions",CLIENT_WIDTH:"clientWidth",ORIENTATION:"orientation",PREVIEW_PANE:"previewpane",MSG_LIST_DENSITY:"messageListDensity",LIST_ITEM_HEIGHT:"listItemHeight",SNIPPETS:"snippets",COMPOSE_FONT_FAMILY:"composeFontFamily",COMPOSE_FONT_SIZE:"composeFontSize",COMPOSE_SAVE_INTERVAL:"composeSaveInterval",DESKTOP_NOTIFICATION:"desktopNotification",MOBILE_NOTIFICATION:"mobileNotification",MOBILE_ONBOARDING_VERSION:"mobileOnboardingVersion",MOBILE_ONBOARDING_EXPERIMENT:"mobileOnboardingExperiment",MARK_AS_READ_INTERVAL:"markAsReadInterval",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",SHOW_IMAGES:"showImages",LINK_ENHANCR:"linkEnhancer",VACATION_PREFERENCES:"vacationPreferences",MESSAGE_FILTERS:"messageFilters",MAIL_TABS:"multiTask",CONVERSATIONS:"conversations",ACTION_AFTER_MSG_MOVE:"actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"showCustomFolders",EXPANDED_FOLDERS:"expandedFolders",STATIONERY_DEFAULT_THEME:"stationeryDefaultTheme",TOGGLE_CONV_RELOAD_DELAY:"toggleConversationReloadDelayMS",SHOW_ALL_SYSTEM_FOLDERS:"showAllSystemFolders",RECENTLY_USED_EMOJIS:"recentlyUsedEmojis",SYSTEM_TABS:"systemTabs",SENDING_EMAIL_CONFIRM_STATUS:"sendingConfirmEmail",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",SEARCH_SOURCE_TAG:"searchSourceTag",SEARCH_FETCH_COUNT:"searchFetchCount",SEARCH_FIRST_PAGE_COUNT:"searchFirstPageCount",SPACE_IDS:"spaceids",AD_BLOCK_FEATURE_CUE_ID:"adBlockFeatureCueId",HP_EXT_STORE_URL:"homepageExtStoreURL",ACTIONABLE_RIGHT_RAIL_CONTENT:"actionableRightRailContent",THROTTLE_API_LIST:"throttleAPIList",SCOUT_ONBOARDING:"scoutOnboarding",EMPTY_FOLDER_VIDEO_CHANNELS:"emptyFolderVideoChannels",HIDE_AD:"hideAd",TIME_TO_WAIT_SINCE_LAST_AD_CALL:"timeToWaitSinceLastAdCall",GEMINI_AD_COUNT:"geminiAdCount",GEMINI_SECTION_IDS:"geminiSectionIds",GEMINI_SECTION_IDS_TO_CACHE:"sectionIdsToCache",GEMINI_FORCE_FILTER:"geminiForceFilter",AD_FREE_MAIL_URL:"adFreeMailUrl",ABOUT_AD_URL:"aboutAdsUrl",PRIVACY_URL:"privacyUrl",TERMS_URL:"termsUrl",HELP_URL:"helpUrl",HELPER_COMMUNITY_URL:"mailHelperCommunityUrl",ITEM_LIST_PAGE_THRESHOLD:"itemListPageThreshold",MESSAGE_READ_AD_ROTATION_INTERVAL:"messageReadAdRotationInterval",MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL:"messageReadAdRotationIdleInterval",WIDER_MAIL_EXTENSION:"widerMailExtension",UNSUBSCRIBE_NOTIFICATION:"unsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"numUnsubscribedItems",MAIL_PRO_MONTHLY_PRICE:"mailProMonthlyPrice",MAIL_PRO_YEARLY_PRICE:"mailProYearlyPrice",NOTIFICATION_MODE:"notificationMode",GEMINI_VIDEO_AD_ID:"geminiVideoAdId",GEMINI_VIDEO_AD_SITE:"geminiVideoAdSite",GEMINI_VIDEO_AD_EXP_NAME:"geminiVideoAdExpName",CHROME_EXTENSION_WHITELIST:"chromeExtensionWhitelist",ADBLOCK_UPSELL_HELP_URL:"adBlockUpsellHelpUrl",RELATED_SEARCHES_CARD_STYLE:"relatedSearchesCardStyle",VIDEO_PLAYER_URL:"videoPlayerUrl",AOL_VIDEO_PLAYER_URL:"aolVideoPlayerUrl",AOL_VIDEO_PLAYER_IFRAME_SRC:"aolVideoPlayerIframeSrc",OATH_VIDEO_PLAYER_URL:"oathVideoPlayerUrl",SECOND_PENCIL_AD_DEPTH:"secondPencilAdDepth",PENCIL_AD_EXPIRE_TIME:"pencilAdExpireTime",VIGLINK_BLACKLIST:"viglinkBlacklist",PLA_SEARCH_ADS_BUCKET_ID:"plaSearchAdsBucketId",PENCIL_AD_VERSION:"pencilAdVersion",RIGHT_RAIL_UPSELL_VERSION:"rightRailUpsellVersion",AB_BLOCK_COUPONS_ON_PENCIL_AD_VERSION:"adBlockCouponsOnPencilAdVersion",PLA_ADS_ON_MESSAGE_READ_CONFIGURATION:"plaAdsOnMessageReadConfiguration",PARTNER_ATTRIBUTION_URL:"partnerAttributionUrl",EBAY_WARRANTY_UPSELL_POSITION:"ebayWarrantyUpsellPosition",PREFERRED_AD_FORMAT:"preferredAdFormat",AD_BLOCK_COUPONS_SORT_ORDER:"adBlockCouponsSortOrder",RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION:"rightRailUpsellVideoAdDuration",RIGHT_RAIL_UPSELL_CUE_INTERVAL:"rightRailUpsellCueInterval",NUM_MESSAGE_GROUPS_TO_PREFETCH:"numMessageGroupsToPrefetch",NEIGHBOR_PREFETCH_COUNT:"neighborPrefetchCount",SYNC_TIME:"syncTime",ASYNC_TASK_POLL_INTERVAL:"asyncTaskPollInterval",CHECK_MAIL_INTERVAL:"checkMailInterval",SYNC_DATA_INTERVAL:"syncDataInterval",MAIL_URL:"mailURL",CALENDAR_URL:"calendarURL",NOTEPAD_URL:"notePadURL",FEEDBACK_URL:"feedbackURL",BUFFER_SIZE:"bufferSize",PREVIEWABLE_INLINE_ATTACHMENT_SIZE:"previewableInlineAttachmentSize",MESSAGE_INITIAL_RENDER_COUNT:"messageInitialRenderCount",STATIONERY_RESTRICTED_THEMES:"stationeryRestrictedThemes",MESSAGE_FETCH_COUNT:"messageFetchCount",MESSAGE_FETCH_COUNT_INITIAL:"messageFetchCountInitial",COUPON_CARDS_FETCH_COUNT:"couponCardsFetchCount",COUPON_RECOMMENDATIONS_FETCH_COUNT:"couponRecommendationsFetchCount",COUPON_STORE_LOCATOR_COLLAPSED:"couponStoreLocatorCollapsed",YAHOO_MAPS_URL:"yahooMapsUrl",CARD_GROUPS_FETCH_COUNT:"cardGroupsFetchCount",LINK_ENHANCER_URL_BLACK_LIST:"linkEnhancerUrlBlacklist",APT_SECURITY_HELP_URL:"aptSecurityHelpURL",MEDIAN_TIME_TO_LOAD_EVENT:"medianTimeToLoadEvent",NOTIFICATION_TTL:"notificationTTL",EMAIL_SUBSCRIPTIONS:"emailSubscriptions",COMPOSE_THROTTLE_COUNT:"composeThrottleCount",NOTIFICATION:"notification",MESSAGE_DESTINATION_LABEL_TYPE:"messageDestinationLabelType",STAR_ANIMATION:"starAnimation",GUIDED_STAR_ANIMATION:"guidedStarAnimation",HAS_GUIDED_STAR_ANIMATION:"hasGuidedStarAnimation",SERVICE_WORKER_CACHE_CONFIG:"serviceWorkerCacheConfig",PARTNER_BRAND:"partnerBrand",HAS_WIDE_LOGO:"hasWideLogo",QUOTIENT_DEBUG_FLAG:"quotientDebugFlag",PUSH_NOTIFICATIONS_EXPERIMENT:"pushNotificationsExperiment",IMAPIN:"imapin",MSG_READ_SHOPRUNNER_VARIANT:"msgReadSRVariant",INTERSTITIAL_FREQUENCY:"interstitialFrequency",RELEVENT_ADS_URL:"relevantAdsURL",LEGAL_INFO_URL:"legalInfoURL",PRIVACY_INFO_URL:"privacyInfoURL",BASIC_MAIL_HELP_URL:"basicMailHelpURL",ACCOUNT_INFO_URL:"accountInfoURL",SIGN_OUT_URL:"signOutURL",HOME_URL:"homeURL"},Yt=Object(n.c)(["LANDSCAPE","PORTRAIT"]),Zt="__setOauthStatus",Xt=["fullscreen","target","sponsoredForward"],Qt=["newAccount","soAccountId","deaAccountId"],$t=Object(n.c)(["featured","everyday","birthday","seasonal"]),Jt=32e3,es=Object(n.c)(["NotInitialized","Initializing","Initialized"]),ts="999+",ss=999,as={TUMBLR:"www@tumblr",TENOR:"www@tenor"},ns=Object(n.c)(["IDLE","START","FINISH"]),rs=Object(n.c)(["ReservationPackage","FlightReservation","CheckInAction","Coupon","Order","Recommendation"]),os={SUBSCRIBE_ACTION:"SubscribeAction"},is=Object(n.c)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","SETTINGS_FAILED_TO_LOAD"]),cs=Object(n.c)(["CPN","FLR","POE","ORD","TAG","EML","CRD","USB","PKG"]),ls=Object(n.c)(["NORMAL"]),ds=200,Es=864e5,_s=Object(n.c)(["NONE","ERROR","VALIDATING","RESOLVED"]),us=Object(n.c)(["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","js","jse","lib","lnk","mde","msc","msi","msp","mst","pif","reg","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"]),ps=Object(a.h)("SLN15987"),ms={LEFT:"left",RIGHT:"right"},hs={MESSAGE_LIST:"messageList",MESSAGE_LIST_2:"messageList2",MESSAGE_LIST_SM:"messageListSM",MESSAGE_READ:"messageRead",COUPON_REC:"couponRec",SHOPPING_CART:"shoppingCart",SUBSCRIPTION:"subscription",MESSAGE_READ_CAROUSEL:"messageReadCarousel",RIGHT_RAIL_UPSELL:"rightRailUpsell"},Ss=200,gs=10*Ss,Is="https://mail.yahoo.com/d/earnyOauth",Cs={OFFENSIVE:"offensive",NOT_RELEVANT:"notRelevant",KEEP_SEEING:"keepSeeing",SOMETHING_ELSE:"somethingElse"},Ts={UI_1:1,UI_3:3,UI_4:4},As=[Ts.UI_1,Ts.UI_4,Ts.UI_3,Ts.UI_4],Os={bucket_1:"CMUSMNPLAMR01",bucket_2:"CMUSMNPLAMR02",bucket_3:"CMUSMNPLAMR03",bucket_4:"CMUSMNPLAMR04",bucket_5:"CMUSMNPLAMR05",bucket_6:"CMUSMNPLAMR06"},bs="0a131ca69834ba58632792a2d7122797",Rs="91835879f027bd9de92f72e355cd359a",Ds="fb3da3418dae370da3c415cf613a8b86",fs="283181fd71e977feed2e8d123174599b",Ns="b9f7df97e47bf35bcf240bd1f927e19c",Ms="4b03a58c27ad649096a7378ac1cf478b",Ls="6d7834a7a25b042ce22226d4eba2a515",ys="343c782b962f0bb7cca8668692203a8d",Ps={RECOMMENDED:"recommended",RANDOM:"random",EXPIRATION:"expiration"},vs={[Ps.RECOMMENDED]:"ff5541571bc615a3d2a1d34bdc59037b",[Ps.RANDOM]:"7650b21ea963a334ebec9c8cf42d1486",[Ps.EXPIRATION]:"0904c6f3d4922940a711bb6d59490b79"},Fs={EARNY:"earny",SHOPRUNNER:"shoprunner"},Us={LOADING:"loading",CONNECT:"connect",CREDIT:"credit",PAYMENT:"payment",DONE:"done",DISCONNECTED:"disconnected"},Hs=Object(n.c)(["CONTACTS_PANE"]),ks=Object(n.c)(["CONTACTS_LIST","CONTACT_DETAILS","EDIT_CONTACT"]),Gs=-1,ws=4,xs=10,Bs=Object(n.c)(["STARTED","SUBMITTED","ENDED"]),js=Object(n.c)(["LIGHT","DARK"]),Vs={SLIDEUP:"slideUp",GUIDEDSTAR:"guidedStars"},Ws=Object(n.c)(["SAVE_VACATION_RESPONSE","PREVENT_ROUTE_CHANGE"]),qs=(Object(n.c)(["INVALID_EMAIL","INVALID_PROVIDER","DUPLICATE_EMAIL","NONE"]),{ATT:"AT&T",BT:"British Telecom",FRONTIER:"Frontier",ROGERS:"Rogers",SKY:"Sky",VERIZON:"Verizon"}),Ks="ycorp",zs="defaultPurchasesCue",Ys={PERCENT:"PercentOff",AMOUNT:"AmountOff"},Zs={filters:500,blockedSenders:1e3},Xs={DEFAULT:"default",PTRV01:"ptrv01",PTRV02:"ptrv02",LAUNCHV01:"launchv01",COMPOSEV01:"composev01"},Qs={DEFAULT_OFF:"defaultOff",DEFAULT_ON:"defaultOn",NOTIFS_FIRST:"notifsFirst",NOTIFS_NATIVE:"notifsNative",ONBOARDING_DELAY:"onboardingDelay"},$s=Object(n.c)(["1800flowers.com","abercrombie.com","ae.com","aeropostale.com","bananarepublic.com","bananarepublicfactory.com","barnesandnoble.com","bathandbodyworks.com","beallsflorida.com","bedbathandbeyond.com","emailbedbathandbeyond.com","belkemail.com","bestbuy.com","bradsdeals.com","carters.com","childrensplace.com","chilis.com","christopherandbanks.com","costco.com","crocs-email.com","cvs.com","dcsg.com","dominos.com","dsw.com","dunkindonuts.com","eddiebauer.com","email-PetSmart.com","expediamail.com","express.com","famousfootwear.com","fbmta.com","forever21.com","frys.com","gap.com","gapfactory.com","gilt.com","gnc.com","groupon.com","gymboree.com","hollisterco.com","homedepot.com","hotels.com","jcpenney.com","jcpenneyportraits.com","joann.com","kohls.com","lids.com","livingsocial.com","loccitane.com","lowes.com","macys.com","mail-dunkindonutsshop.com","marcospizza.net","maurices.com","michaels.com","fandango.com","neimanmarcusemail.com","nflshop.com","nordstrom.com","nordstromrack.com","nyandcompany.com","officedepot.com","oldnavy.com","olivegarden.com","orbitz.com","oshkosh.com","overstock.com","panerabreadnews.com","payless.com","petco.com","petsmart.com","pmall.com","potterybarn.com","potterybarnkids.com","sallybeauty.com","sears.com","searshomeservices.com","shoprite.com","shopyourwayrewards.com","shutterfly.com","southwest.com","spencersonline.com","staples.com","target.com","toysrus.com","ulta.com","underarmour.com","victoriassecret.com","vistaprint.com","walgreens.com","walmart.com","wayfair.com","westelm.com","williams-sonoma.com","zazzle.com","amazon.com","big5sportinggoods.com","biglots.com","llbean.com","pizzahutoffers.com","shopbonton.com","baskinrobbins.com","sephora.com","stagestores.com","bloomingdales.com","elfcosmetics.com","fragrancenet.com","buybuybaby.com","charlotterusse.com"]),Js=Object(n.c)(["amazon.com","macys.com","wayfair.com","jossandmain.com","zulily.com","wayfair.ca","trivago.com","opticsplanet.com","joybird.com","redbubble.com","revolve.com","nordstromrack.com","ncl.com","birchlane.com","allmodern.com","shopdisney.com","webstaurantstore.com","novica.com","ihg.com","jcpenney.com","modcloth.com","victoriasecret.com","brilliantearth.com","slidebelts.com"]),ea=Object(n.c)(["nike.com.hk","nike.hk","play-asia.com","food123.com.tw","buy123.com.tw","caco.com.tw","obdesign.com.tw","shopping99.com","uv100.com.tw","s3.com.tw","gomaji.com","candybox.com.tw","brands.com.tw","andenhud.com.tw","etmall.com.tw","momoshop.com.tw","miu-star.com.tw","twhg.com.tw","mdmmd.com.tw","101.com.tw","tkec.com.tw","levi.com.tw","suitangtang.com","supercolor.com.tw","airspace.com.tw","watsons.com.tw","citiesocial.com","17life.com","utsavfashion.com","titan.co.in"]),ta=Object(n.c)(["washingtonpost.com","nbcnews.com","foxnews.com","newsmax.com","newsmax.com","welcomefinancial-news.com","newyorker.com","thebay.com","trumptrainnews.com","thedailypressnews.com","laposte.net","americanactionnews.com","myhearstnewspaper.com","metronewsupdate.com","conservativenews.com","cntraveler.com","bizjournals.com","newyorktimes.com","nwitimes.com","huffingtonpost.com","latimes.com","huffpost.com","thetimes.co.uk","latimes.com","nypost.com","latimes.com","washingtontimesnews.com","westernjournalism.com","nytimes.com"]),sa=Object(n.c)(["AttachmentUi","ContactsPane","ContactCard","MessageBrief","PhotoBrief","DocumentBrief","AdBlockCoupons","SubscriptionAds","RightRailNativeAd","RelatedSearchesCard","RelatedCoupons","RelatedRetailers","SearchRightRailCoupons","TravelCardsGroup","PlaAds","RightPaneAds","EbayWarrantyUpsell","ShopliftAd","SavedDeals","RetailerFilter"]),aa=Object(n.c)(["wayfair.com"]),na=["imaps://gmail.com:993","imaps://gmail.com"],ra=10,oa=Object(n.c)(["Phone","LoyaltyNumber"]),ia=5,ca=15,la=3,da=((-1).toString(),{TOP:"top",RIGHT:"right"})},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["INITIAL_STATE","LAUNCH_COMPLETED","WINDOW_RESIZING","WINDOW_RESIZED","APPLICATION_VISIBILITY_DID_CHANGE","CANCEL_APP_RELOAD","CONFIRM_APP_RELOAD","SHOW_APP_RELOAD","LAUNCH_ERROR","USER_LOCATION_UPDATE_SUCCEEDED","USER_LOCATION_UPDATE_FAILED","HEADER_NAVIGATION_SELECTED","ACCOUNT_MENU_SHOWN","USER_LOGGED_OUT","HOME_BUTTON_CLICKED","TIMEZONE_CHANGE_DETECTED","PREFERRED_TIMEZONE_CHANGE_REJECTED","ONLINE_STATUS_CHANGED","OPEN_PAGE_REQUESTED","CLOSE_PAGE_REQUESTED","CLOSE_ALL_PAGES_REQUESTED","EXTERNAL_LINK_CLICKED","SYNC_DATA","ROTATE_AD_ON_LIST_SCROLL","LAUNCH_PAGE_REQUESTED","LAUNCH_FAILED","OPEN_TABS_MENU","PREVIEW_MESSAGE_REQUESTED","PREVIEW_MESSAGE_CLOSED","MULTI_TASKING_PREF_CHANGE_REQUESTED","MULTI_TASKING_PREF_CHANGE_SUCCEEDED","MULTI_TASKING_PREF_CHANGE_FAILED","EXPAND_ACCOUNT_LIST","EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED","EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED","EXPANDED_FOLDERS_PREF_CHANGE_FAILED","SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED","SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED","SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED","CONVERSATIONS_CHANGE_REQUESTED","CONVERSATIONS_CHANGE_SUCCEEDED","CONVERSATIONS_CHANGE_FAILED","SHOW_IMAGE_PREF_CHANGE_REQUESTED","SHOW_IMAGE_PREF_CHANGE_SUCCEEDED","SHOW_IMAGE_PREF_CHANGE_FAILED","MESSAGE_READ_SHOW_IMAGES_REQUESTED","HIDEAD_PREF_CHANGE_REQUESTED","HIDEAD_PREF_CHANGE_SUCCEEDED","HIDEAD_PREF_CHANGE_FAILED","MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED","MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED","MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED","ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED","ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED","ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED","DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED","DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED","DEFAULT_SENDING_ADDRESS_CHANGE_FAILED","SIGNATURE_STATUS_CHANGE_REQUESTED","SIGNATURE_STATUS_CHANGE_SUCCEEDED","SIGNATURE_STATUS_CHANGE_FAILED","SIGNATURE_TEXT_CHANGE_REQUESTED","SIGNATURE_TEXT_CHANGE_SUCCEEDED","SIGNATURE_TEXT_CHANGE_FAILED","COMPOSE_FONT_SIZE_CHANGE_REQUESTED","COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED","COMPOSE_FONT_SIZE_CHANGE_FAILED","COMPOSE_FONT_FAMILY_CHANGE_REQUESTED","COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED","COMPOSE_FONT_FAMILY_CHANGE_FAILED","LINK_ENHANCER_FETCH_REQUESTED","LINK_ENHANCER_FETCH_SUCCEEDED","LINK_ENHANCER_FETCH_FAILED","LINK_ENHANCER_ADD_LINK","LINK_ENHANCER_RESIZE_LINK","LINK_ENHANCER_REMOVE_LINK","LINK_ENHANCER_OPEN_LINK","LINK_ENHANCER_SHARE_LINK","LINK_ENHANCER_MOVE_LINK_BOTTOM","LINK_ENHANCER_MOVE_LINK_INLINE","DARLA_ADS_RECEIVED","DARLA_ADS_FAILED","PREFETCHED_AD_RENDERED","PREFETCHED_ADS_RENDERED","LOOK_AHEAD_ADS_PARSED","LOOK_AHEAD_ADS_RENDERED","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED","DARLA_AD_RENDERED","GEMINI_AD_RENDERED","HIDE_RIGHT_PANE_ADS","AD_RECEIVED","AD_FAILED","GEMINI_AD_RECEIVED","GEMINI_AD_FAILED","GEMINI_AD_REQUESTED","AD_FALLBACK_CLICKED","AD_GEMINI_CLICKED","AD_FEEDBACK_STARTED","AD_FEEDBACK_SUBMITTED","AD_FEEDBACK_CLOSED","GEMINI_SPONSORED_ASSET_RECEIVED","GEMINI_SPONSORED_ASSET_FAILED","FLASH_SALE_AD_ENDED","SHOPLIFT_AD_FETCH_SUCCEEDED","SHOPLIFT_AD_FETCH_FAILED","ADFREE_UPSELL_ACCEPT","ADFREE_UPSELL_CANCEL","GET_WIDER_MAIL_EXTENSION","WIDER_MAIL_INSTALL_SUCCESS","WIDER_MAIL_INSTALL_FAILURE","KEY_DID_BIND","KEY_DID_UPDATE","KEY_DID_UNBIND","NAVIGATE_TO_COMPOSE_REQUESTED","FEEDBACK_PANEL_GIVE_FEEDBACK","HOMEPAGE_EXTENSION_PANEL","HOMEPAGE_EXTENSION_CLOSED","SUPPRESSED_UPSELL_SAVE_SUCCEEDED","SUPPRESSED_UPSELL_SAVE_FAILED","V3_MESSAGE_SAVE_REQUESTED","V3_MESSAGE_SAVE_SUCCEEDED","V3_MESSAGE_SAVE_FAILED","V3_MESSAGE_SEND_REQUESTED","V3_MESSAGE_SEND_SUCCEEDED","V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED","V3_MESSAGE_SEND_FAILED","MESSAGE_SAVE_REQUESTED","MESSAGE_SAVE_SUCCEEDED","MESSAGE_SAVE_FAILED","MESSAGE_AUTO_SAVE_REQUESTED","MESSAGE_AUTO_SAVE_SUCCEEDED","MESSAGE_AUTO_SAVE_FAILED","SPONSORED_SAVE_TO_INBOX_REQUESTED","SPONSORED_SAVE_TO_INBOX_SUCCEEDED","SPONSORED_SAVE_TO_INBOX_FAILED","COMPOSE_OPENED","COMPOSE_CLOSED","AUTOTAG_DROPDOWN_CLOSED","SEND","SEND_SUCCESS","SEND_FAILURE","ATTACHMENT_STATE_UPDATED","DELETE_DRAFT_SUCCEEDED","DELETE_DRAFT_FAILED","UPDATE_EDIT_DRAFT_STATE","DRAFT_SUBJECT_UPDATED","CONTACT_SUGGESTIONS_REQUESTED","CONTACT_SUGGESTIONS_SUCCEEDED","DELETE_CONTACT_SUGGESTIONS_REQUESTED","DELETE_CONTACT_SUGGESTIONS_SUCCEEDED","CONTACT_SUGGESTIONS_FAILED","CONTACT_ADDED","SUGGESTION_ADDED","XOBNIFIED_RESPONDED","XOBNIFIED_FAILED","COMPOSE_NO_ADDRESS_DETECTED","COMPOSE_RECIPIENT_LIMIT_EXCEEDED","COMPOSE_ADDRESSING_FAILED","COMPOSE_INVALID_MESSAGE_OPENED","SUBJECT_FOCUSED","RTE_MORE_MENU_SHOWN","HANDLE_RTE_TOOLBAR_ACTIONS","CONFIRM_DELETE_DIALOG_CLOSED","QUOTED_TEXT_EXPANDED","UPLOAD_PROGRESS_RECEIVED","GIF_FETCHED","GIF_FETCH_REQUESTED","GIF_FETCH_SUCCEEDED","GIF_FETCH_FAILED","GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED","GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD","GIF_CATEGORIES_CONTENT_FETCH_REQUESTED","GIF_CATEGORIES_CONTENT_FETCH_FAILED","MORE_RECEIPTS_REQUESTED","MORE_RECEIPTS_REQUEST_FAILED","MORE_RECEIPTS_SUCCESS","RECEIPTS_LIST_SUCCEEDED","RECEIPTS_LIST_FAILED","REFUND_ESTIMATE_UPSELL_CLICKED","EARNY_UPSELL_CLICKED","CLOSE_DELETE_MSG_EARNY_DIALOG","TRAVEL_LIST_SUCCEEDED","TRAVEL_LIST_FAILED","MORE_TRAVEL_ITEMS_SUCCEEDED","MORE_TRAVEL_ITEMS_FAILED","MESSAGE_GROUP_WITH_BODIES_OPENED","MESSAGE_GROUP_WITH_BODIES_RECEIVED","MESSAGE_GROUP_WITH_BODIES_FAILED","MESSAGE_GROUP_OPENED","MESSAGE_BODIES_REQUESTED","MESSAGE_BODIES_RECEIVED","MESSAGE_BODIES_FAILED","MESSAGE_BODIES_OPEN_GROUP_RECEIVED","MESSAGE_CARD_FOCUSED","ATTACHMENT_PREVIEW_FAILED","CHECK_MAIL_RECEIVED_WITH_UPDATES","CHECK_MAIL_RECEIVED_WITH_NO_UPDATES","CHECK_MAIL_FAILED","MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED","MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED","MESSAGE_BODY_LINK_CLICKED","DELETE_PREVIEW_REQUESTED","DELETE_PREVIEW_CLOSED","STAR_CHANGE_REQUESTED","STAR_CHANGE_SUCCEEDED","STAR_CHANGE_FAILED","READ_CHANGE_REQUESTED","READ_CHANGE_SUCCEEDED","READ_CHANGE_FAILED","UNDO_MOVE_REQUESTED","UNDO_MOVE_SUCCEEDED","UNDO_MOVE_FAILED","UPDATE_ITEMS_SUCCEEDED","UPDATE_ITEMS_FAILED","FILE_ATTACHMENT_ADDED","ATTACHMENT_REMOVED","ATTACHMENT_DOWNLOADED","ALL_ATTACHMENTS_DOWNLOADED","INLINE_FILE_ATTACHMENT_ADDED","INLINE_FILE_ATTACHMENT_REMOVED","INLINE_ATTACHMENT_MOVED_TO_TRAY","ATTACHMENT_MOVED_TO_INLINE","MESSAGES_LIST_SCROLLED","ITEM_LIST_PAGE_SCROLLED","MORE_MESSAGES_REQUEST_SUCCESS","MORE_MESSAGES_REQUEST_FAILED","MESSAGE_GROUP_BY_CHANGED","MESSAGE_LIST_TOOLBAR_MENU_SHOWN","MESSAGES_SELECTION_REPLACED","ITEMS_DRAG_STARTED","COUPON_ICON_MSG_LIST_CLICKED","STREAM_CURSOR_MOVED","ALL_STREAM_ITEMS_SELECTED","STREAM_ITEMS_SELECTION_CLEARED","STREAM_ITEM_TOGGLED","STREAM_ITEMS_MULTIPLE_TOGGLE","STREAM_SELECT_CURSOR_MOVED","STREAM_ITEMS_SELECTION_CHANGED","STREAM_ITEMS_RANGE_SELECTED","TOGGLE_LIST_VISIBILITY","CHANGE_FOLDER_SUCCEEDED","CHANGE_FOLDER_FAILED","CREATE_FOLDER_REQUESTED","CREATE_FOLDER_SUCCEEDED","CREATE_FOLDER_FAILED","DELETE_FOLDER_REQUESTED","DELETE_FOLDER_SUCCEEDED","DELETE_FOLDER_FAILED","RENAME_FOLDER_REQUESTED","RENAME_FOLDER_SUCCEEDED","RENAME_FOLDER_FAILED","FOLDER_CONTEXT_MENU_REQUESTED","DELETE_NON_EMPTY_FOLDER_REQUESTED","CAPTCHA_BEGAN","SEARCH_INPUT_FOCUSED","SEARCH_INPUT_BLURRED","SEARCH_LIST_ITEMS_REQUESTED","SEARCH_LIST_ITEMS_BLOCK_RECEIVED","SEARCH_LIST_ITEMS_RECEIVED","SEARCH_LIST_ITEMS_FAILED","MOVE_ITEMS_REQUESTED","MOVE_ITEMS_SUCCEEDED","MOVE_ITEMS_FAILED","MORE_ITEMS_REQUESTED","DELETE_ITEMS_REQUESTED","DELETE_ITEMS_SUCCEEDED","DELETE_ITEMS_FAILED","BLOCK_SENDERS_REQUESTED","BLOCK_SENDERS_WITH_DELETE_REQUESTED","MORE_SEARCH_LIST_ITEMS_REQUESTED","MORE_SEARCH_LIST_ITEMS_RECEIVED","MORE_SEARCH_LIST_ITEMS_FAILED","SUGGESTIONS_REQUESTED","SUGGESTIONS_RECEIVED","SUGGESTIONS_FROM_CONTACTS_RECEIVED","SUGGESTIONS_FAILED","SEARCH_PLA_AD_CLICKED","FETCH_PLA_ADS_BY_KEYWORD","FETCH_PLA_ADS_BY_KEYWORD_RECEIVED","PLA_ADS_BY_KEYWORD_FETCH_FAILED","RECENT_SEARCHES_REQUEST","RECENT_SEARCHES_FAILED","RECENT_SEARCHES_SUCCEEDED","DELETE_RECENT_SEARCH_REQUESTED","DELETE_RECENT_SEARCH_SUCCEEDED","DELETE_RECENT_SEARCH_FAILED","CONTENT_PROVIDERS_SUCCEEDED","CONTENT_PROVIDERS_FAILED","ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN","ATTACHMENT_OPENED","ATTACHMENT_ZOOMED","DOCUMENT_FETCH_SUCCEEDED","DOCUMENT_FETCH_FAILED","DOCUMENT_FETCH_REQUESTED","SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED","SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED","SETTINGS_MENU_REQUESTED","SETTINGS_MENU_CLOSED","SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED","SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED","SETTINGS_SAVE_VACATION_PREFERENCES_FAILED","SETTINGS_SAVE_FILTERS_REQUESTED","SETTINGS_SAVE_FILTERS_SUCCEEDED","SETTINGS_SAVE_FILTERS_FAILED","SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED","SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED","SETTINGS_LOCATION_CHANGE_REQUESTED","SETTINGS_LOCATION_CHANGE_SUCCEEDED","SETTINGS_LOCATION_CHANGE_FAILED","SETTINGS_BLOCKED_SENDERS_REQUESTED","SETTINGS_BLOCKED_SENDERS_RECEIVED","SETTINGS_BLOCKED_SENDERS_FETCH_FAILED","SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED","SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED","SETTINGS_SAVE_BLOCKED_SENDERS_FAILED","SETTINGS_CHANGE_REQUESTED","SETTINGS_CHANGE_SUCCEEDED","SETTINGS_CHANGE_FAILED","CONTACT_DETAIL_FETCH_REQUESTED","CONTACT_DETAIL_FETCH_SUCCEEDED","CONTACT_DETAIL_FETCH_FAILED","IMPORTANT_CONTACTS_FETCH_SUCCEEDED","IMPORTANT_CONTACTS_FETCH_FAILED","NOTIFICATION_CLOSED","NOTIFICATION_PAUSED","NOTIFICATION_RESUME","SCOUT_TIMER","FEATURE_CUE_MARK_AS_SHOWN_REQUESTED","FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED","FEATURE_CUE_MARK_AS_SHOWN_FAILED","FEATURE_TRY_NOW_REQUESTED","FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED","FEATURE_CUE_MARK_AS_SUCCESS_FAILED","FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED","FEATURE_CUE_MARK_AS_CLOSE_FAILED","FEATURE_CLOSED","FEATURE_CUE_NOTIFICATION_CLOSED","CARD_MARK_AS_SHOWN_REQUESTED","CARD_TRY_NOW_REQUESTED","CARD_CLOSED","SSA_BREACH_ALERT_SHOWN","SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED","SSA_BREACH_ALERT_MARK_AS_ACTED_SUCCEEDED","SSA_BREACH_ALERT_AS_ACTED_FAILED","BROWSER_NOTIFICATIONS_DISPLAYED","BULK_PROGRESS_INITIATED","BULK_PROGRESS_RECEIVED","BULK_CANCEL_REQUESTED","BULK_CANCEL_FAILED","MESSAGE_PRINT_REQUESTED","MESSAGE_PRINT_SUCCEEDED","MESSAGE_PRINT_CLOSED","MESSAGE_PRINT_CANCELED","MESSAGE_PRINT_FAILED","DOWNLOAD_REQUESTED","DOWNLOAD_COMPLETED","DOWNLOAD_FAILED","OPT_OUT_OF_NORRIN","OPT_OUT_REQUESTED","OPT_OUT_SUBMIT_FEEDBACK","OPT_OUT_CANCEL_FEEDBACK","ABOUT_YAHOO_MAIL_PAGE_REQUESTED","ADFREE_MAIL_PAGE_REQUESTED","HELP_PAGE_REQUESTED","PRIVACY_TERMS_PAGE_REQUESTED","ABOUT_OUR_ADS_PAGE_REQUESTED","FEEDBACK_SUBMITTED","SETTINGS_POPOVER_AUTOOPEN_CHANGED","THEME_CHANGE_REQUESTED","THEME_CHANGE_SUCCEEDED","THEME_CHANGE_FAILED","THEME_MODE_CHANGE_REQUESTED","THEME_MODE_CHANGE_SUCCEEDED","THEME_MODE_CHANGE_FAILED","ACCOUNT_DETAILS_CHANGE_REQUESTED","ACCOUNT_DETAILS_CHANGE_SUCCEEDED","ACCOUNT_DETAILS_CHANGE_FAILED","ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED","ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED","ACCOUNT_DELETE_REQUESTED","ACCOUNT_DELETE_SUCCEEDED","ACCOUNT_DELETE_FAILED","ACCOUNT_ADD_REQUESTED","ACCOUNT_ADD_SUCCEEDED","ACCOUNT_ADD_FAILED","ACCOUNT_ADD_FINISHED","ACCOUNT_SETTINGS_CANCEL","ACCOUNT_ADD_WIZARD_OPENED","ACCOUNT_ADD_SELECT_PROVIDER","ACCOUNT_DELETE_CONFIRMED","ACCOUNT_ADD_AUTHORIZED","CONFIRM_EMAIL_RESEND_REQUESTED","CONFIRM_EMAIL_RESEND_SUCCEEDED","CONFIRM_EMAIL_RESEND_FAILED","REVIEW_FORWARD_EMAIL","ACCOUNT_REAUTH_REQUESTED","ACCOUNT_REAUTH_SUCCEEDED","ACCOUNT_REAUTH_FAILED","MESSAGE_CARD_EXPANSION_CHANGED","MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED","SOCIAL_ACCOUNTS_STATUS_RECEIVED","SOCIAL_ACCOUNT_STATUS_FETCH_FAILED","SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED","SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED","SOCIAL_ACCOUNTS_DISCONNECT_FAILED","SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED","SOCIAL_ACCOUNTS_CONNECT_FAILED","SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED","SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED","SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED","SOCIAL_ACCOUNTS_IMPORT_FAILED","DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED","DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED","DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED","DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED","ALIAS_EMAIL_CREATE_REQUESTED","ALIAS_EMAIL_CREATE_SUCCEEDED","ALIAS_EMAIL_CREATE_FAILED","UNSEEN_COUNT_RESET","UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED","UNSUBSCRIBE_SINGLE_LIST_CLEANED","UNSUBSCRIBE_DIALOG_CLOSED","UNSUBSCRIBE_EMAIL_REQUESTED","UNSUBSCRIBE_DISPLAY_LIST","UNSUBSCRIBE_ACTION_TAKEN","CHECK_UNSUBSCRIBE_MAIL_REQUESTED","CHECK_UNSUBSCRIBE_MAIL_SUCCEEDED","CHECK_UNSUBSCRIBE_MAIL_FAILED","TUTORIAL_VIDEO_PLAYED","EXCEPTION_OCCURRED","MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED","MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED","UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED","UNSUBSCRIBE_LIST_REQUEST_FAILED","CHANNEL_CHANGED","VIDEO_PLAYER_OPENED","VIDEO_PLAYER_CLOSED","CHANNELS_FETCH_REQUESTED","VIDEO_CHANNELS_METADATA_RECEIVED","VIDEO_CHANNELS_METADATA_FAILED","CHANNEL_FETCH_REQUESTED","VIDEO_CHANNEL_RECEIVED","VIDEO_CHANNEL_FAILED","VIDEO_PLAYER_PLAYED","VIDEO_PLAYER_PAUSED","EMPTY_FOLDER_VIDEO_FETCH_CHANNEL","UNSUBSCRIBE_NOTIFICATION_CHANGE_REQUESTED","UNSUBSCRIBE_NOTIFICATION_CHANGE_SUCCEEDED","UNSUBSCRIBE_NOTIFICATION_CHANGE_FAILED","UNSUBSCRIBE_TIMESTAMP_CHANGE_REQUESTED","UNSUBSCRIBE_TIMESTAMP_CHANGE_SUCCEEDED","UNSUBSCRIBE_TIMESTAMP_CHANGE_FAILED","NUM_UNSUBSCRIBED_ITEMS_CHANGE_REQUESTED","NUM_UNSUBSCRIBED_ITEMS_CHANGE_SUCCEEDED","NUM_UNSUBSCRIBED_ITEMS_CHANGE_FAILED","CONTACT_GROUPS_REQUESTED","CONTACT_GROUPS_RECEIVED","CONTACT_GROUPS_FAILED","CONTACT_SAVE_REQUESTED","CONTACT_SAVE_SUCCEEDED","CONTACT_SAVE_FAILED","CONTACT_PHOTO_UPLOAD_SUCCEEDED","CONTACT_PHOTO_UPLOAD_FAILED","CREATE_CONTACT_FAILED","CREATE_CONTACT_SUCCEEDED","MESSAGE_READ_AD_ROTATION_TIMER","EMOJI_PICKER_CLOSED","EMOJI_PICKER_OPENED","EMOJI_CATEGORY_CHANGED","CONTACT_DRAG_DROP","FEATURE_DISABLED","FEATURE_ENABLED","MAILBOX_NOT_SYNCING","PAYMENTS_FETCH_RECEIVED","PAYMENTS_FETCH_FAILED","GET_INVITE_INFO_REQUESTED","GET_INVITE_INFO_SUCCEEDED","GET_INVITE_INFO_FAILED","RESPOND_TO_INVITE","RESPOND_TO_INVITE_SUCCEEDED","RESPOND_TO_INVITE_FAILED","RSVP_NAVIGATE_TO_CALENDAR","DRAWER_OPENED","DRAWER_CLOSED","CC_BCC_TOGGLED","PENSIEVE_DELETE_SUCCESS","PENSIEVE_DELETE_REQUESTED","PENSIEVE_DELETE_FAILED","LIST_REFRESHED","NAVIGATE_TO_MAIL_PRO","LOCATION_SUGGEST_REQUESTED","LOCATION_SUGGEST_FAILED","LOCATION_SUGGEST_SUCCEEDED","LIST_SAVED_SEARCH_SUCCEEDED","LIST_SAVED_SEARCH_FAILED","CREATE_SAVED_SEARCH_REQUESTED","CREATE_SAVED_SEARCH_SUCCEEDED","CREATE_SAVED_SEARCH_FAILED","DELETE_SAVED_SEARCH_REQUESTED","DELETE_SAVED_SEARCH_SUCCEEDED","DELETE_SAVED_SEARCH_FAILED","NAVIGATE_TO_HIPMUNK","HIPMUNK_CARD_RENDERED","NAVIGATE_TO_SEATGEEK","SEATGEEK_CARD_RENDERED","NAVIGATE_TO_BOOKING","BOOKING_CARD_RENDERED","EXPIRING_COUPON_CLIPPER_SHOWN","EXPIRING_COUPON_EXPAND_STATE_CHANGED","UPDATE_BUSINESS_LISTING_SUCCEEDED","UPDATE_BUSINESS_LISTING_FAILED","GEO_LOCATION_UPDATE_REQUESTED","GEO_LOCATION_UPDATE_SUCCEEDED","GEO_LOCATION_UPDATE_FAILED","COUPON_STORE_LOCATOR_SHOWN","COUPONS_ADD_TAG_DECO_REQUESTED","COUPONS_REMOVE_TAG_DECO_REQUESTED","COUPONS_ADD_TAG_DECO_SUCCEEDED","COUPONS_REMOVE_TAG_DECO_SUCCEEDED","COUPONS_ADD_TAG_DECO_FAILED","COUPONS_REMOVE_TAG_DECO_FAILED","PARENT_MESSAGE_METADATA_REQUESTED","PARENT_MESSAGE_METADATA_SUCCEEDED","PARENT_MESSAGE_METADATA_FAILED","COUPON_RECOMMENDATIONS_OPENED","COUPON_RECOMMENDATIONS_CLOSED","COUPON_RECOMMENDATIONS_AD_CLICKED","MORE_SMARTVIEW_COUPONS_REQUESTED","MORE_COUPONS_REQUESTED","MORE_COUPONS_REQUEST_FAILED","MORE_COUPONS_SUCCESS","COUPONS_LIST_SUCCEEDED","COUPONS_LIST_FAILED","TAIWAN_COMMERCE_DEALS_SUCCEEDED","TAIWAN_COMMERCE_DEALS_FAILED","EXTRACT_COUPON_REQUESTED","EXTRACT_COUPON_SUCCEEDED","EXTRACT_COUPON_FAILED","SELF_EXTRACT_COUPON_MODAL_OPENED","SELF_EXTRACT_COUPON_MODAL_CLOSED","COUPON_SEARCH_SUCCEEDED","COUPON_SEARCH_FAILED","SEARCH_RIGHT_RAIL_COUPONS_TOGGLED","ACTIVATE_OFFER_FAILED","ACTIVATE_OFFER_REQUESTED","ACTIVATE_OFFER_SUCCEEDED","ACTIVATED_OFFERS_LIST_FAILED","ACTIVATED_OFFERS_LIST_SUCCEEDED","LINK_MODAL_CLOSED","LINK_MODAL_OPENED","LINK_RETAILER_FAILED","LINK_RETAILER_REQUESTED","LINK_RETAILER_SUCCEEDED","LINKED_CARD_CLICKED","LINKED_CARD_SHOWN","MORE_ACTIVATED_OFFERS_LIST_FAILED","MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED","MORE_ACTIVATED_OFFERS_REQUESTED","MORE_OFFERS_LIST_FAILED","MORE_OFFERS_LIST_SUCCEEDED","MORE_OFFERS_REQUESTED","OFFERS_LIST_FAILED","OFFERS_LIST_SUCCEEDED","PRINT_OFFERS_FAILED","PRINT_OFFERS_REQUESTED","PRINT_OFFERS_SUCCEEDED","QUOTIENT_MODAL_SHOWN","RETAILERS_LIST_FAILED","RETAILERS_LIST_SUCCEEDED","SAVINGS_LIST_FAILED","SAVINGS_LIST_SUCCEEDED","UNLINK_RETAILER_FAILED","UNLINK_RETAILER_REQUESTED","UNLINK_RETAILER_SUCCEEDED","SR_RETAILERS_LIST_FAILED","SR_RETAILERS_LIST_SUCCEEDED","LINK_SR_MODAL_OPENED","LINK_SR_MODAL_CLOSED","SHOPRUNNER_MODAL_SHOWN","ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED","ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED","ADBLOCK_UPSELL_OPTION_CLICKED","ADBLOCK_DETECTED","SUBSCRIPTION_SELECTED","SUBSCRIPTION_FAILURE","SUBSCRIPTION_SUCCESS","SHOW_MOBILE_ONBOARDING_CUE","USER_DWELLED_ON_CONTENT","USER_NAVIGATED_ONBOARDING","RIGHT_RAIL_COMMS_ICON_CLICKED","CONTACTS_PANE_LIST_FILTER_CHANGED","CONTACTS_LIST_FETCH_SUCCEEDED","CONTACTS_LIST_FETCH_FAILED","CATEGORY_LIST_EXPANSION_TOGGLED","CONTACTS_PANE_CONTACT_CLICKED","CONTACTS_PANE_BACK_BUTTON_CLICKED","CONTACTS_PANE_EDIT_BUTTON_CLICKED","CONTACT_EDIT_CANCELLED","CONTACTS_PANE_SEARCHED","CONTACT_CREATE_CLICKED","CONTACT_SEARCH_CLOSED","RELATED_SEARCHES_FETCH_SUCCEEDED","RELATED_SEARCHES_FETCH_FAILED","RELATED_SEARCHES_CARD_CLICKED","RELATED_COUPONS_TOGGLED","SHOW_PUSH_NOTIFICATIONS_CUE","PUSH_NOTIFICATIONS_REQUEST_GRANTED","VIGLINK_CLICKED","PERMANENT_DELETE_CANCELLED","RELATED_RETAILERS_TOGGLED","SHOPLIFT_AD_CLICKED","VIEW_RAW_MESSAGE","SPONSORED_MOMENT_CLICKED","SPONSORED_MOMENT_CLOSED","AD_BLOCK_COUPON_CLICKED","COUPONS_SEARCH_TOP_DEAL_CLICKED","COUPON_CLICKED_FROM_PENCIL","COUPON_RENDERED_ON_PENCIL","TOGGLE_DETAIL_PANE_EXPANSION","EBAY_WARRANTY_UPSELL_CLICKED","AD_FORMAT_SELECTION_CLOSED","UPDATE_AD_FORMAT_SELECTION_CLICKED","YAHOO_DEAL_CARD_CLICKED","POST_LAUNCH_SYNC_SUCCEEDED","POST_LAUNCH_SYNC_FAILED","COMPOSE_ATTRIBUTES_REQUESTED","COMPOSE_ATTRIBUTES_RECEIVED","COMPOSE_ATTRIBUTES_FETCH_FAILED","TOP_RETAILERS_REQUEST_SUCCEEDED","TOP_RETAILERS_REQUEST_FAILED","TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED","TOP_DEAL_CATEGORIES_REQUEST_FAILED","USER_NAME_PHONE_REG_UPSELL_LOADED","RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED","RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED","RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED"])},,function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return d}),s.d(t,"a",function(){return _});var a=s(8),n=s(29),r=s(10);const o=Object(a.c)(["ADD","ALIGN_CENTER","ALIGN_LEFT","APP_HIDDEN","ARCHIVE","ARROW_RIGHT_DOC","ARROW_UP","ATTACH","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_DOC_48","ATTACH_GENERIC_48","ATTACH_ICS_48","ATTACH_IMAGE","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_SOUND_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTENTION","BELL","BIG_STAR","BOLD","BUG","CALENDAR","CALENDAR_EMPTY","CALENDAR_SETTINGS","CAL_ACCEPT","CAL_DECLINE","CAL_MAYBE","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","CHEVRON_UP","CIRCLE","CLEAR","CLOCK","CLOCK_OUTLINE","CLOSE","CLOSE_MINI","COLLAPSE_LIST","COMPOSE","COMPOSE_EMOJI","CONTACT_CARD","CONTRACT","DEALS","DELETE","DEVICE_DESKTOP","DEVICE_PHONE","CAR","DOCUMENTS_S","DOWNLOAD","DRAFTS","EMOJI_FOOD_AND_DRINK","ENTER","EXCLAMATION_ALT","EXPAND","EXPAND_LIST","FEEDBACK","FINANCE","FOLDER","FORWARD","GETAWAYFILL","GIF_BOX","GUEST_LIST","HEART","HOME","IMAGEOFF-FILL","INBOX","INDENT","INFO","INPUT_ARROW_DOWN","ITALIC","LINK","LIST_ORDERED","LIST_ORDERED_FLIPPED","LIST_UNORDERED","LOCATION_MARKER","LOCK","MAGIC","MESSENGER","MINUS","MIXED_CHECKBOX","MORE","MOVE_TO_FOLDER","NOTEPAD","NO_INTERNET","NONE-BELL","ORB","OUTDENT","PEOPLE","POP_OUT","PRINTER","READ","REFRESH","REPLY","REPLY_ALL","RESTORE_TO_INBOX","RICHTEXT_OFF","RICHTEXT_ON","SCISSORS","SEARCH","SEARCH_MAIL","SEARCH_MINI","SEARCH_WEB","SELECTED","SENT","SETTINGS","SHARE","SHARE_SOCIAL","SHOPPING","SPAM","SPONSORED","STAR","STATIONERY","STRIKETHROUGH","TAB_IMAGES","TEXT","TEXT_COLOR","TRAVEL","TRUSTED","TUMBLR","UNLOCK","VIDEO_CALL","YBADGE","TAP_TO_TOP","SIDEBAR","BIG_STAR","SOLID_CIRCLE","HOTELS","RESTAURANTS","TICKETS","THEATERS","CONCERTS","SPORTS","FACEBOOK","FLICKR","FLICKR_MONOCHROME","TWITTER","LINKEDIN","FOOTBALLFILL","BASKETBALLFILL","BASKET","CAMERA-FILL"]),i=Object(a.c)(["BELL","CONTRACT","EXCLAMATION_ALT","EXPAND","INBOX","SETTINGS","HOME","CONTACT_CARD","ADD-CONTACT","CHEVRON_UP","ARROW_RIGHT_DOC","MORE","FOLDER","REPLY","REPLY_ALL","FORWARD","STAR","CIRCLE","READ","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_IMAGE","ARROW_UP","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","MONOCHROME_MIXED_CHECKBOX","CLOSE","SEARCH","ORB","SENT","COMPOSE","DELETE","MOVE_TO_FOLDER","ARCHIVE","SPAM","TAB_IMAGES","NOTSPAM","ADD","DRAFTS","SIDEBAR","BIG_STAR","SOLID_CIRCLE","FEEDBACK","ATTACH","SEARCH_MAIL","SPONSORED","ATTENTION","YBADGE","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_GENERIC_48","ATTACH_SOUND_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTACH_DOC_48","ATTACH_ICS_48","EXCLAMATION_ALT","NO_INTERNET","TAB_IMAGES","SEARCH_MINI","FACEBOOK","FLICKR","FLICKR_MONOCHROME","TWITTER","LINKEDIN","CAMERA-FILL","IMAGEOFF-FILL","BLOCK_PEOPLE","BLOCK_PEOPLE_FILL","NONE-BELL","INFO","PHONE"]),c=babelHelpers.extends({},o,i),l=Object(a.c)(["XXXS","XXS","XS","S","M","L","XL","XXL","XXXL"]);Object.assign(l,{AVATAR_SIZE_40:r.AVATAR_SIZE_40});const d=Object(a.c)(["D0","D45","D90","D180","D270"]),E=Object(a.c)(Object.keys(n.a).map(e=>`THEME_GRADIENT_${e}`)),_=Object.assign(Object(a.c)(["NORMAL","FIRST_LEVEL_GRAY","FIRST_LEVEL_ORANGE","NORMAL_LESS_DIM","IMPROVED_GRAY_DARK","SECOND_LEVEL_GRAY","DARK","WHITE","INHERITED","INVERTED","INVERTED_DIM","INVERTED_LESS_DIM","INVERTED_MORE_DIM","SELECTED","PRIMARY_HOVER","SELECTED_DARK_THEME_MODE","STARRING","STARRED","STARRED_DARK","SMARTVIEW_DARK","DISABLED","LESS_IMPORTANT","FAINT","TRANSPARENT","HEADING","GRAD_RED","GRAD_BLUE","COOL_FAINT","ADVISORY","WARNING","WARNING_GRAD_RED","SUCCESS","ATTACH_GENERIC","ATTACH_MEDIA","ATTACH_CAL","ATTACH_EXCEL","ATTACH_DOC","ATTACH_SLIDE","ATTACH_PDF","ATTACH_COMPRESSED","YBADGE","TOUCH_PRIMARY","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","FACEBOOK_ENABLED","TWITTER_ENABLED","LINKEDIN_ENABLED","ICON_HOVER_BGCOLOR"]),E)},,function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return d});var a=s(8);const n=Object(a.c)(["click","nav","shortcut","keydown","callout"]),r=Object(a.c)(["SEARCH_SUGGESTION","SEARCH_ZERO_RESULTS","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED","DARLA_AD_RENDERED","GEMINI_AD_RENDERED"]),o={MOBILE_ONBOARDING_WELCOME:"welcomeOnbrdng",MOBILE_ONBOARDING_PAGINATED_CONTENT:"pgntdCntntOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS:"notifsOnbrdng",MOBILE_ONBOARDING_FOLDERS:"folderOnbrdng",MOBILE_ONBOARDING_SWIPING:"swipeOnbrdng",MOBILE_ONBOARDING_COMPOSE:"composeOnbrdng",MOBILE_ONBOARDING_THEMING:"thmOnbrdng",MOBILE_ONBOARDING_SNIPPETS:"snptsOnbrdng",MOBILE_ONBOARDING_BLOCK_IMAGES:"blkImgsOnbrdng",MOBILE_ONBOARDING_DONE:"doneOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS_ON:"notifsOnbrdngOn",MOBILE_ONBOARDING_NOTIFICATIONS_OFF:"notifsOnbrdngOff",TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_RESTORE:"tlbrRstr",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",DRAG_DROP_MOVE:"dndMov",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_PRINT:"tlbrPrint",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_HDR_PREV:"msgHdrPrev",MSG_HDR_NEXT:"msgHdrNext",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",SHOW_IMG:"showImg",SHOW_IMG_ALWAYS:"showImgAlws",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_DELETE_PREVIEW_OPEN:"preDelDocOp",DOC_DELETE_PREVIEW_CLOSE:"preDelDocCls",DOC_DELETE_PREVIEW_READ_MSG:"preDelRdMsgDoc",DOC_MESSAGE_DELETE:"msgDelDoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DELETE_PREVIEW_OPEN:"preDelImgOp",PHOTO_DELETE_PREVIEW_CLOSE:"preDelImgCls",PHOTO_DELETE_PREVIEW_READ_MSG:"preDelRdMsgImg",PHOTO_MESSAGE_DELETE:"msgDelImg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",PENSIEVE_PHOTO_OPEN:"openpensieveimg",TRAVEL_READ_MSG:"rdmsgtrv",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",TOGGLE_LIST_VISIBILITY:"toggleListView",UNDO_DELETE_ACTION:"undoDel",UNDO_ARCHIVE_ACTION:"undoArchv",UNDO_MOVE_ACTION:"undoMov",VIEW_MSG_LINK:"viewMsgLnk",AUTO_FORWARD_LINK:"autoFwdLnk",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",SETTINGS_LABEL:"sttgsLabelBtn",SEARCH_BAR:"clickSrchBar",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",SEARCH_EMPTY_PEOPLE_SUGGEST:"mailSrchEmptyPeopleSuggst",SEARCH_EMPTY_KWRD_SUGGEST:"mailSrchEmptyKwrdSuggst",SEARCH_EMPTY_RECENT_SUGGEST:"mailSrchEmptyRecentSuggst",SEARCH_SUGGESTION_SHOWN:"srchsuggst",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",HOME_BUTTON:"homeBtn",SIDEBAR_BUTTON:"sidebarBtn",MARKETING_BEACON:"mktgBeacn",NEWUSER_MARKETING_BEACON:"newUserMktgBeacn",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",RECEIPTS_SMARTVIEW:"rcptSmrtvw",TRAVEL_SMARTVIEW:"trvSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",FOLDER_EMPTY:"fldrEmpty",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",THEME_CHANGED:"thmSttgs",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_SWITCH_TO_CLASSIC:"swtchSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_HELP:"hlpSttgs",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_FEEDBACK:"fdbckSttgs",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_TERMS:"termsSttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS:"socialSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_AUTOMATIC_REPLY:"saveReplySttgs",SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY:"cancelEditReplySttgs",SETTINGS_UNSUBSCRIBE_ENABLE:"unsub_enable",SETTINGS_UNSUBSCRIBE_DISABLE:"unsub_disable",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_CATEGORIZATION_CHANGE:"chgCtgrySttgs",SETTINGS_CATEGORIZATION_ORDER:"ordCtgrySttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",SETTINGS_BLOCK_IMAGES:"showImgSttgs",SETTINGS_MOBILE_NOTIFICATION:"mobNtfctn",SETTINGS_OPT_OUT:"optOutSttgs",SETTINGS_SIGNATURE:"sigSttgs",SETTINGS_ACCOUNTS:"acctSttngs",SETTINGS_DISABLE_FORWARDING:"delAutoFwd",SETTINGS_BLOCKED_SENDERS:"blkSdrSttgs",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",DELETE_CONTACT_SUGGEST:"delcontctsuggst",SELECT_CONTACT:"slctcontct",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",DELETE_DRAFT:"delDraft",SEND:"send",COMPOSE_AUTO_OPEN_STATIONERY_POPUP:"compsAutoOpnStnryPop",COMPOSE_OPEN_STATIONERY_POPUP:"compsOpnStnryPop",COMPOSE_CLOSE_STATIONERY_POPUP:"compsClsStnryPop",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_CLEAR_STATIONERY:"compsClrStnry",COMPOSE_CLEAR_DEFAULT_STATIONERY:"compsClrDfltStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",COMPOSE_STRIKETHROUGH_TEXT:"compsStrikeThrough",COMPOSE_SHOW_CC_BCC:"compsshowCC",COMPOSE_HIDE_CC_BCC:"compsHideCC",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",FILTER_TRAVEL_VIEW_UPCOMING:"fltrTrUpc",FILTER_TRAVEL_VIEW_PAST:"fltrTrPst",FILTER_EMAIL_PHOTOS:"fltrPhotoEml",FILTER_MOBILE_PHOTOS:"fltrPhotoMob",FILTER_PHOTOS:"fltrPhoto",UNSUB_DISPLAYED:"unsub_disp",UNSUB_UNSUB_CLICKED:"unsub_unsub",UNSUB_HIDE:"unsub_hide",UNSUB_UNDO:"unsub_undo",UNSUB_DONE:"unsub_done",UNSUB_DISMISS:"unsub_dismiss",UNSUB_UNDO_BATCH_DELETE:"unsub_undoBatchDel",UNSUB_MAILTO_SEND:"unsub_mailToSend",UNSUB_MAILTO_CANCEL:"unsub_mailToCancel",UNSUB_TAB_GO:"unsub_tabGo",UNSUB_TAB_CANCEL:"unsub_tabCancel",UNSUB_ALL_DONE:"unsub_allDone",UNSUB_DISABLE:"unsub_disable",SUBSCRIPTION_SHOWN:"subscriptionShown",SUBSCRIPTION_SELECTED:"subscriptionSelect",SUBSCRIPTION_SUCCESS:"subscriptionSuccess",SUBSCRIPTION_RETRY:"subscriptionRetry",SUBSCRIPTION_RETRY_SUCCESS:"subscriptionRetrySuccess",COUPON_STORE_UPDATE_LOCATION:"cpnStrLctrUpdtLctn",COUPON_STORE_LOCATOR_SHOWN:"cpnStrLctrShwn",COUPON_STORE_LOCATOR_COLLAPSED:"cpnStrLctrCllpsd",MULTI_COUPON_CLIPPER_SHOWN:"cpnClprMltiShwn",SINGLE_COUPON_CLIPPER_SHOWN:"cpnClprSnglShwn",SELF_EXTRACTION_COUPON_CLIPPER_SHOWN:"cpnSlfExtrnShwn",COUPON_CLIPPED:"cpnClipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_CLIPPER_EXPANDED:"cpnClprExpnd",COUPON_CLIPPER_SHRUNK:"cpnClprShrnk",COUPON_OPENED:"cpnOpen",RECEIPT_OPENED:"rcptOpn",COUPON_REC_OPENED:"cpnRecOpened",COUPON_REC_CLOSED:"cpnRecClosed",COUPON_ICON_CLICKED:"cpnIcnClicked",COUPON_SELF_EXTRACTION_MODAL_OPENED:"cpnSlfExtrnOpnd",COUPON_SELF_EXTRACTION_MODAL_CLOSED:"cpnSlfExtrnClsd",COUPON_SELF_EXTRACTION_MODAL_CANCELLED:"cpnSlfExtrnCncld",COUPON_SELF_EXTRACTION_MODAL_SAVE:"cpnSlfExtrnSv",COUPON_AUTO_CLIP_TURNED_ON:"cpnAutoClipped",COUPON_AUTO_CLIP_TURNED_OFF:"cpnAutoUnclipped",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",HOMEPAGE_EXTENSION_SHOWN:"hpextShown",HOMEPAGE_EXTENSION_CLICKED:"hpextClicked",HOMEPAGE_EXTENSION_CLOSED:"hpextClosed",TUTORIAL_VIDEO:"tutorialVid",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",NAVIGATE_TO_HIPMUNK:"navigateToHipmunk",HIPMUNK_CARD_RENDERED:"hipmunkCardRendered",NAVIGATE_TO_SEATGEEK:"navigateToSeatgeek",SEATGEEK_CARD_RENDERED:"seatgeekCardRendered",BOOKING_CARD_RENDERED:"bookingCardRendered",NAVIGATE_TO_BOOKING:"navigateToBooking",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_GEMINI_CLICKED:"pencilAdGeminiClicked",PENCIL_AD_FEEDBACK_OPEN:"pencilAdFeedbackOpen",PENCIL_AD_FEEDBACK_SUBMITTED:"pencilAdFeedbackSubmitted",PENCIL_AD_FEEDBACK_CLOSED:"pencilAdFeedbackClosed",SEARCH_AD_FETCHED:"searchAdFetched",COUPON_OPENED_FROM_PENCIL:"couponOpenedFromPencil",COUPON_CLIPPED_FROM_PENCIL:"couponClippedFromPencil",COUPON_CLICKED_FROM_PENCIL:"couponClickedFromPencil",COUPON_RENDERED_ON_PENCIL:"couponRenderedOnPencil",NAVIGATE_TO_MAIL_PRO_MONTHLY:"navigateToMailProUrlMonthly",NAVIGATE_TO_MAIL_PRO_YEARLY:"navigateToMailProUrlYearly",NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:"navigateToMailProUrlActiveUser",NAVIGATE_TO_MAIL_PRO_PASTDUE_USER:"navigateToMailProUrlPastDueUser",NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE:"navigateToMailProUrlFromErrorPage",NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE:"navigateToTryMailProForFree",TABS_MENU_OPEN:"tabsMenuOpen",TABS_MENU_CLOSE:"tabsMenuClose",SEARCH_PLA_AD_ITEM_CLICKED:"searchPlaAdItemClicked",SEARCH_PLA_AD_FETCHED:"searchPlaAdFetched",PLA_ADS_BY_KEYWORD_RECEIVED_OPEN_PAGE:"plaAdsByKeywordReceivedOpenPage",PLA_ADS_BY_KEYWORD_RECEIVED_USER_CLICK:"plaAdsByKeywordReceivedUserClick",PLA_ADS_BY_KEYWORD_FETCH_FAILED:"plaAdsByKeywordFetchFailed",PLA_GPT_CATEGORY_CLICKED:"plaGptCategoryClicked",RSVP_CALENDAR_RESPONSE:"rsvpCalendarResponse",RSVP_NAVIGATE_TO_CALENDAR:"rsvpNavigateToCalendar",RSVP_LOADED:"rsvpModuleLoaded",RELATED_SEARCHES_CARD_CLICKED:"relatedSearchesCardClicked",RELATED_COUPONS_CLICKED:"relatedCouponsClicked",RELATED_COUPONS_TOGGLED:"relatedCouponsToggled",SEARCH_RIGHT_RAIL_COUPONS_CLICKED:"searchRightRailCouponsClicked",SEARCH_RIGHT_RAIL_COUPONS_TOGGLED:"searchRightRailCouponsToggled",FEATURE_VIEWED:"featureViewed",ADBLOCK_DETECTED:"adblockDetected",ADBLOCK_UI_UPDATE:"adblockUIUpdate",PUSH_NOTIFICATION_RECEIVED:"pushNotificationReceived",PUSH_NOTIFICATION_OPENED:"pushNotificationOpened",PUSH_NOTIFICATIONS_REQUEST_GRANTED:"pushNotificationsRequestGranted",PUSH_NOTIFICATIONS_REQUEST_REJECTED:"pushNotificationsRequestRejected",PUSH_NOTIFICATION_ACTION_DELETE:"pushNotificationActionDelete",PUSH_NOTIFICATION_ACTION_MARK_AS_READ:"pushNotificationActionMarkAsRead",PULL_TO_REFRESH:"pullToRefresh",NAVIGATE_TO_FOLDER:"navigateToFolder",CHECK_MAIL:"checkMail",MANUAL_SAVE_DRAFT:"manualSaveDraft",CONTACT_CARD_EMAIL_CLICKED:"contactCardEmailClicked",CONTACT_CARD_AVATAR_CLICKED:"contactCardAvatarClicked",CONTACT_CARD_URL_CLICKED:"contactCardUrlClicked",CONTACT_CARD_LOAD_FAILED:"contactCardLoadFailed",OPEN_CONTACT_LIST:"openCntctLst",OPEN_CONTACT:"openCntct",CONTACTS_PANE_ICON_ON:"cntctIconOn",CONTACTS_PANE_ICON_OFF:"cntctIconOff",TOP_VIEW:"cntctsPaneTopView",USER_CREATED_VIEW:"cntctsPaneUserView",PEOPLE_VIEW:"cntctsPanePeopleView",BUSINESS_VIEW:"cntctsPaneBusinessView",TOGGLE_ALPHA_SECTION:"toggleAlphaSctn",CONTACT_DETAILS_BACK:"contactDetailsBack",OPEN_EDIT_CONTACT:"openEditContact",CONTACT_EDIT_SAVE:"contactEditSave",CONTACT_CREATE_SAVE:"contactCreateSave",CONTACT_EDIT_CANCEL:"contactEditCancel",CONTACT_CREATE_CANCEL:"contactCreateCancel",SEARCH_CONTACTS:"searchContacts",CLEAR_CONTACTS_SEARCH:"clearContactsSearch",OPEN_CREATE_CONTACT:"openCreateContact",CONTACT_ITEM_EMAIL_CLICKED:"contactListEmailClicked",CONTACT_DETAILS_EMAIL_CLICKED:"contactDetailsEmailClicked",COUPON_VIGLINK_CLICKED:"couponViglinkClicked",COUPON_CARD_VIGLINK_CLICKED:"couponMsgReadCardClicked",COUPON_LIST_VIGLINK_CLICKED:"couponSmrtViewCardClicked",MESSAGE_READ_AVATAR_CLICKED:"MsgReadCardLogoClicked",SHOPPING_COUPONS_VIEW_CLICKED:"shoppingCouponsVwClicked",SHOPPING_EMAILS_VIEW_CLICKED:"shoppingEmailsVwClicked",SHOPPING_YAHOO_DEALS_VIEW_CLICKED:"shoppingYahooDealsVwClicked",YAHOO_DEAL_CARD_CLICKED:"yahooDealCardClicked",REFUND_ESTIMATE_UPSELL:"rfndEstmtUpsell",EARNY_UPSELL:"earnyUpsell",EARNY_CONNECTED:"earny_connected",QTNT_HEADER_VIEW:"qtnt_header_view",QTNT_ONBOARD_COMPLETE:"qtnt_onboard_complete",QTNT_ONBOARD_FAILURE:"qtnt_onboard_failure",QTNT_SMARTVIEW_ACTION:"qtnt_smartview_action",QTNTVIEW_HEADER_ACTION:"qtntview_header_action",QTNTVIEW_LEFTRAIL:"qtntview_leftrail",QTNTVIEW_SMARTVIEW_ACTION:"qtntview_smartview_action",SHOPRUNNER_SUCCESS:"shoprunner_successs",SHOPRUNNER_CLOSED:"shoprunner_closed",BLOCK_SENDERS_SUBMIT:"blkSdrSbmt",BLOCK_SENDERS_WITH_DELETE_SUBMIT:"blkSdrDelSbmt",UNBLOCK_SENDERS_SUBMIT:"unblkSdrSbmt",RELATED_RETAILERS_TOGGLED:"relatedRetailersToggled",RELATED_RETAILERS_CLICKED:"relatedRetailersClicked",SPONSORED_MOMENT_CLICKED:"sponsoredMomentClicked",SPONSORED_MOMENT_CLOSED:"sponsoredMomentClosed",AD_BLOCK_COUPON_CLICKED:"adBlockCouponClicked",COUPONS_SEARCH_TOP_RETAILER_CLICKED:"couponsSearchTopRetailerClicked",COUPONS_SEARCH_TOP_DEAL_CLICKED:"couponsSearchTopDealClicked",COUPONS_SEARCH_RECENT_SEARCH_CLICKED:"couponsSearchRecentSearchClicked",EBAY_WARRANTY_UPSELL_CLICKED:"ebayWarrantyUpsellClicked",AD_FORMAT_SELECTION_UPDATED:"adFormatSelectionUpdated",AD_FORMAT_SELECTION_CLOSED:"adFormatSelectionClosed",UPDATE_AD_FORMAT_SELECTION_CLICKED:"updateAdFormatSelectionClicked",SHOPLIFT_AD_CLICKED:"shopliftAdClicked",RETAILER_FILTER_CLICKED:"retailerFilterClicked",CATEGORY_FILTER_CLICKED:"categoryFilterClicked",USERNAME_PHONE_REG_ONBOARDING:"userNamePhoneRegOnbrdng",USERNAME_PHONE_REG_ADD_ACCOUNT:"userNamePhoneRegAddAcct",RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:"rightRailUpsellVideoAdStarted",RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:"rightRailUpsellVideoAdFinished",RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:"rightRailUpsellVideoAdClicked"},i={LAUNCH:"launch",ONBOARDING:"onboarding",LEFTRAIL_COMPOSE:"leftr_comp",COMPOSE_CLOSE:"comp_cls",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",RTE_TOOLBAR:"rte_toolbr",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_READ_AD:"msgrd_ad",MSG_HEADER:"msgrd_header",MSG_LIST:"msglst",MSG_LIST_MSG:"msglst_msg",MSG_LIST_TOOLBAR:"msglst_toolbr",MSG_LIST_TOOLBAR_POPUP:"msglst_toolbr_pop",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",MSG_LIST_AD:"msglst_ad",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",COUPONS_LIST:"coupons_vw",RECEIPTS_LIST:"receipts_vw",TRAVEL_LIST:"travel_vw",SHOPPING_VIEW:"shopping_vw",INBOX_FILTERS:"inbox_filters",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",FEATURE_CARD:"feature_card",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",LEFTRAIL_FOLDER:"leftr_fldr",RIGHT_RAIL:"rightrail",RIGHT_RAIL_WIDER_MAIL_UPSELL:"rrWMailUpsell",RIGHT_RAIL_TRAVEL_CARD:"rightRailTravelCard",RIGHT_RAIL_PLA_CARD:"rightRailPlaCard",SETTINGS_POPUP:"sttgspop",SETTINGS_MAIN:"sttgsMain",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",SETTINGS_CATEGORIZATION_TAB:"sttgsCtgry",CPN_STORE_LOCATOR:"cpnStoreLctr",CPN_RECOMMENDATION:"cpnRec",CPN_RECOMMENDATION_SMRTVW:"cpnRecSmrtVw",COUPON_SELF_EXTRACTION_MODAL:"cpnSlfExtrnMdl",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",VIDEO_PLAYER:"video_player",UNSUB_PANE:"unsub_pane",FEEDBACK_PANEL:"feedback_panel",HOMEPAGE_EXT_PANEL:"hpext",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn",MAIL_PRO_SETTINGS:"mailProSettings",TABS_MENU:"tabsMenu",RSVP_CARD:"rsvp_card",RIGHT_RAIL_RELATED_SEARCHES_CARD:"rr_related_searches_card",FEATURE_VIEWABILITY:"feature_viewability",CONTACTS_PANE:"contacts_pane",CONTACT_CARD:"contact_card",TOP_CONTACTS_TAB:"top_contacts_tab",PEOPLE_CONTACTS_TAB:"people_contacts_tab",BUSINESS_CONTACTS_TAB:"business_contacts_tab",USER_CREATED_CONTACTS_TAB:"user_created_contacts_tab",CONTACTS_PANE_SEARCH:"contacts_pane_search",RELATED_CONTACTS:"related_contacts",CONTENT_PROVIDERS:"content_providers",COUPONS_SEARCH_PANE:"coupons_search_pane",EBAY_WARRANTY_UPSELL:"ebay_warranty_upsell",AD_FEEDBACK:"ad_feedback",QUOTIENT:"quotient",SHOPRUNNER:"shopRunner",USERNAME_PHONE_REG:"userName_Phone_reg"},c=Object(a.c)(["reply","replyAll","forward","delete","archive","move","open_msg","dwnld_attmnt","print_attmnt","launch","search","create_fldr","mark_read","mark_unread","mark_star","mark_unstar","mark_spam","rename_fldr","move_fldr","delete_fldr","add_attmnt","compose","send"]),l={TRAVEL_UPCOMING:"trvUpcEmpty",TRAVEL_PAST:"trvPstEmpty",SEARCH:"search_zero_results"},d={CHANGE:"change"}},,function(e,t,s){"use strict";s.d(t,"a",function(){return u}),s.d(t,"t",function(){return b}),s.d(t,"u",function(){return R}),s.d(t,"m",function(){return D}),s.d(t,"s",function(){return f}),s.d(t,"i",function(){return N}),s.d(t,"j",function(){return M}),s.d(t,"o",function(){return L}),s.d(t,"y",function(){return y}),s.d(t,"P",function(){return v}),s.d(t,"O",function(){return F}),s.d(t,"w",function(){return U}),s.d(t,"z",function(){return H}),s.d(t,"h",function(){return k}),s.d(t,"D",function(){return G}),s.d(t,"r",function(){return w}),s.d(t,"q",function(){return x}),s.d(t,"v",function(){return B}),s.d(t,"g",function(){return j}),s.d(t,"x",function(){return V}),s.d(t,"l",function(){return W}),s.d(t,"p",function(){return q}),s.d(t,"n",function(){return K}),s.d(t,"M",function(){return z}),s.d(t,"Q",function(){return Y}),s.d(t,"S",function(){return Z}),s.d(t,"R",function(){return X}),s.d(t,"d",function(){return Q}),s.d(t,"f",function(){return $}),s.d(t,"e",function(){return J}),s.d(t,"G",function(){return ee}),s.d(t,"A",function(){return te}),s.d(t,"B",function(){return se}),s.d(t,"J",function(){return ae}),s.d(t,"I",function(){return ne}),s.d(t,"E",function(){return re}),s.d(t,"K",function(){return oe}),s.d(t,"L",function(){return ie}),s.d(t,"C",function(){return ce}),s.d(t,"k",function(){return le}),s.d(t,"N",function(){return de}),s.d(t,"H",function(){return Ee}),s.d(t,"F",function(){return _e}),s.d(t,"c",function(){return ue}),s.d(t,"b",function(){return pe}),s.d(t,"T",function(){return me});var a=s(224),n=s.n(a),r=s(45),o=s.n(r),i=s(0),c=s(268),l=s(24),d=s(31),E=s.n(d),_=s(8);const u="DEFAULT_MESSAGES_METADATA_CACHEKEY",p=/^folders=([0-9]+)$/,m=/^is\:(starred|flagged|unread|read)$/gi;function h({name:e="",referrer:t="",keyword:s="",excludefolders:a=[],folders:n=[],accountIds:r=[],emailAddresses:o=[],listContentType:c=i.Db.MESSAGES,listFilter:l=i.Eb.WITH_KEYWORD,sortOrder:d=i.wd.DATE_DESC,contactIds:E=[]}){return{name:e,referrer:t,keyword:s,folders:[].concat(n),accountIds:[].concat(r),emailAddresses:[].concat(o),excludefolders:[].concat(a),listContentType:c,listFilter:l,sortOrder:d,contactIds:[].concat(E)}}const S=h(Object.create(null)),g=Object.keys(S).sort(),I=g.map(e=>S[e]),C=JSON.stringify(g.map(()=>""));function T(e){const t=JSON.parse(e);return Array.isArray(t)?h(t.reduce(function(e,t,s){return e[g[s]]=t||I[s],e},Object.create(null))):h(t)}const A=function(e){return JSON.stringify(g.map(function(t,s){return!e[t]||e[t]===I[s]||Array.isArray(e[t])&&e[t].length<=0?"":Array.isArray(I[s])&&!Array.isArray(e[t])?[e[t]]:e[t]}))},O=Object(l.b)()?n()(T):T;function b(e){const{query:t,fid:s,serializedListId:a}=e.params||{};let n={};if(a)return R(a);if(t)n=o.a.parse(t);else if(s){n=o.a.parse(s);const{folders:e=[s]}=n;n.folders=e}else e.query&&(n=e.query);return A(n)}function R(e){let t={};t=o.a.parse(e)||{};const s=parseInt(e,10)?e:t.folders;return s&&(t.folders=[s]),A(t)}function D(e){const{folders:t}=O(e);if(1===t.length)return t[0]}function f(e,t=i.wd.DATE_DESC){return A({folders:[e],sortOrder:t})}const N=e=>A({listContentType:i.Db.CONTACTS,listFilter:e}),M=e=>A({listContentType:i.Db.CONTACTS,keyword:e}),L=e=>A({listContentType:i.Db.CONTACTS,listFilter:i.Eb.IMPORTANT_CONTACTS,keyword:e}),y=e=>A({listContentType:i.Db.PEOPLE,referrer:i.Fb.CONTACT_DETAILS,emailAddresses:[e]});function P(e){const{keyword:t=""}=O(e);return t.split(" ").filter(e=>e.trim().match(m))}function v(e){return P(e).length>0}function F(e,t){const s=P(e);let a=!0;return s.forEach(e=>{if(a)switch(e){case"is:unread":a=!t.read;break;case"is:read":a=!!t.read;break;case"is:starred":case"is:flagged":a=!!t.flagged}}),a}function U(e){if(!e)return u;const{keyword:t}=O(e);return t&&w(e)===i.Eb.WITH_KEYWORD?e:u}function H(e){const t=O(e);return t.name||t.keyword||""}function k(e,t=!1){const s=O(e),a=x(e);let n=w(e);const r=V(e),{MESSAGES:o,IMAGES:c,DOCUMENTS:l,PEOPLE:d,PLA_AD:E,CARDS:_}=i.x;let u=[o,c,l,d].join(",");const p=oe(e);let m="";if(t&&(u+=","+E),p)switch(a){case i.Db.MESSAGES:u=o;break;case i.Db.IMAGES:u=c,m=n;break;case i.Db.DOCUMENTS:u=l}else if(ee(e))r===i.Fb.CONTACT_DETAILS&&(n=i.Eb.FROM,u=[d,c,l,_].join(","));else switch(a){case i.Db.MESSAGES:u=[o,d].join(","),t&&(u+=","+E);break;case i.Db.IMAGES:u=[c,d].join(",");break;case i.Db.DOCUMENTS:u=[l,d].join(",")}const h=Object.assign({},s,{listFilter:n,expand:u});return p&&[i.Db.IMAGES,i.Db.DOCUMENTS].indexOf(a)>-1&&(h.keyword=""),m&&(h.filters=m),h}function G(e){return O(e).sortOrder}function w(e){return O(e).listFilter}function x(e){return O(e).listContentType}function B(e){return O(e).name}function j(e){return O(e).accountIds}function V(e){return O(e).referrer}function W(e){return O(e).excludefolders}function q(e){return O(e).keyword}function K(e){const{folders:t,keyword:s}=O(e),a=Object(c.d)(s);return t.length?{folderIds:t,folderNames:[]}:{folderIds:[],folderNames:a[c.a.FOLDERS]||[]}}function z(e){return e!==C}function Y(e,t={}){return A(Object.assign({},O(e),t))}function Z(e){const t=O(e),s=h({}),a={},{emailAddresses:n=[],listFilter:r=i.Eb.WITH_KEYWORD}=t;return n.length>0&&r===i.Eb.WITH_KEYWORD&&(t.listFilter=i.Eb.FROM),Object.keys(t).filter(e=>Array.isArray(t[e])?t[e].length>0:t[e]&&t[e]!==s[e]).map(e=>{a[e]=t[e]}),o.a.stringify(a)}function X(e){return Z(e).replace(p,"$1")}function Q(e){return A(e)}const $=Q,J=e=>{let{referrer:t="",listFilter:s=i.Eb.ALL_COUPON_CARDS}=e,a=babelHelpers.objectWithoutProperties(e,["referrer","listFilter"]);return""===t?"":$(babelHelpers.extends({listContentType:i.Db.COUPON_CARDS,listFilter:s,referrer:t},a))};function ee(e){const{emailAddresses:t=[]}=O(e);return t.length>0}function te(e){const t=w(e);return i.pd.indexOf(t)>-1?t:null}function se(e){return te(b(e))}function ae(e){const t=b(e);return e.name===i.Pc.LIST&&re(t)&&!!se(e)}function ne(e){const t=b(e);return(e.name===i.Pc.LIST||e.name===i.Pc.SEARCH)&&re(t)}function re(e){const t=V(e);return!!t&&Object(_.e)(i.rd).indexOf(t)>-1}function oe(e){return re(e)&&!te(e)}function ie(e){const t=ce(b(e));return e.name===i.Pc.SEARCH&&[i.td.UNREAD,i.td.STARRED].indexOf(t)>-1}function ce(e){if(!oe(e))return;const t=P(e),s=t.length;for(let e=0;e<s;e++){const s=t[e];if("is:unread"===s)return i.td.UNREAD;if("is:starred"===s)return i.td.STARRED}}function le(e){const{emailAddresses:t=[]}=O(e);return t[0]}function de(e,t){const{keyword:s=""}=O(e);return-1!==(Object(c.d)(s).is||[]).indexOf(t)}function Ee(e){const{referrer:t,keyword:s,emailAddresses:a,folders:n}=O(e);return!!(t||s||a&&a.length||n&&0===n.length)}function _e(e){const t=x(e);return t===i.Db.REFUND_CARDS||t===i.Db.COUPON_CARDS||t===i.Db.GROCERY_STORES||t===i.Db.TRAVEL_CARDS||t===i.Db.OFFER_CARDS||t===i.Db.YAHOO_DEAL_CARDS}const ue=(e,t)=>t.reduce((e,t)=>-1!==e.indexOf(t)?e:[...e,t],[...e]);function pe(e,t,s){if(-1!==t.indexOf(s))return t;return G(e)===i.wd.DATE_DESC?[s,...t]:[...t,s]}const me=(e,t,s)=>{const{itemIds:a,totalHits:n,hasMoreItems:r}=t.lists[s];return 0!==a.length&&r?a.length>e.length?a:a.length<e.length&&a.length===n?a:E()(e.slice(0,a.length),a)?e:((e,t)=>{const s=e.findIndex(e=>e===t[t.length-1]);return ue(t,e.slice(s+1,e.length))})(e,a):a.length===e.length&&E()(e,a)?e:a}},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return c});const a=Object.prototype.hasOwnProperty;function n(e,t,s){if(!t||!e)return s;if("string"==typeof t&&(t=t.split(".")),1===t.length)return a.call(e,t[0])?e[t[0]]:s;return(e=e[t.splice(0,1)[0]])?n(e,t,s):s}function r(e){var t={};return("[object Array]"===Object.prototype.toString.call(e)?e:Object.keys(e)).forEach(function(e){null===e?t.null=null:void 0===e?t.undefined=void 0:t[e]=e.toString()}),t}function o(e){return!e||0===Object.keys(e).length}function i(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every(s=>e[s]===t[s])}function c(e){return Object.keys(e).map(t=>e[t])}},function(e,t,s){"use strict";var a=s(345),n=s.n(a),r=s(64),o=s.n(r),i=s(25),c=s(169);const l="100%",d="320px",E="360px",_=640,u=1112;var p=s(4),m=s(10),h=s(8);Object(p.h)({adFormatSelectionPrompt:{id:"ad.adFormatSelectionPrompt",defaultMessage:"Choose your ad format"},adFormatSelectionHeader:{id:"ad.adFormatSelectionHeader",defaultMessage:"Don't like this ad format?"},adFormatSelectionAction:{id:"ad.adFormatSelectionAction",defaultMessage:"Set"},sponsoredMomentDescription:{id:"ad.adFormatSelectionSMDescription",defaultMessage:"Image ad below your newest messages"},pencilAdDescription:{id:"ad.adFormatSelectionPencilDescription",defaultMessage:"Text ad above your messages"},adFreeDescription:{id:"ad.adFormatSelectionAdFreeDescription",defaultMessage:"Ad free subscription"},adFreeAction:{id:"ad.adFormatSelectionAdFreeAction",defaultMessage:"Upgrade to Mail Pro"}});const S=Object(h.c)(["PENCIL_AD","SPONSORED_MOMENT","AD_FREE","UNSET"]),g={[S.UNSET]:0,[S.PENCIL_AD]:1,[S.SPONSORED_MOMENT]:2};var I=s(65),C=s(257),T=s(0),A=s(1),O=s(14),b=s(78),R=s(101),D=s(46),f=s(33),N=s(7),M=s(48),L=s(17),y=s(70),P=s(55),v=s(31),F=s.n(v);const U=Object(i.c)({amountUnit:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.amountUnit;default:return e}},brandName:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.brandName;default:return e}},description:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.description;default:return e}},discountType:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.discountType;default:return e}},expiryTimestamp:(e=0,t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.expiryTimestamp;default:return e}},imageUrl:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.imageUrl||"";default:return e}},offerId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.offerId;default:return e}},value:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a.value;default:return e}}});var H=function(e={},{type:t,offers:s}){switch(t){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:{const a=(s||[]).filter(t=>!F()(e[t.offerId],t));return a.length?a.reduce((e,s)=>babelHelpers.extends({},e,{[s.offerId]:U(e[s.id],{type:t,offer:s})}),babelHelpers.extends({},e)):e}case A.a.ACTIVATE_OFFER_SUCCEEDED:{if(!s)return e;const a=s.reduce((s,a)=>babelHelpers.extends({},s,{[a.offerId]:U(e[a.offerId],{type:t,offer:a})}),{});return Object.keys(a).length?babelHelpers.extends({},e,a):e}default:return e}};var k=s(139);var G=Object(i.c)({contacts:(e={},t)=>{switch(t.type){case A.a.CONTACT_GROUPS_RECEIVED:return babelHelpers.extends({},t.response.contacts,e);case A.a.CONTACT_DETAIL_FETCH_SUCCEEDED:return babelHelpers.extends({},e,{[t.email]:babelHelpers.extends({},t.contactDetails)})}return e},contactBlackList:(e=[],t)=>{switch(t.type){case A.a.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED:return[...e,t.contactInfo]}return e},contactCategories:(e={},t)=>{switch(t.type){case A.a.CONTACT_GROUPS_RECEIVED:return babelHelpers.extends({},e,t.response.categoryIdToGroupNameAndContacts)}return e},contactCategoriesStatus:(e=T.Mc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.a.CONTACT_GROUPS_REQUESTED:return T.Mc.LOADING;case A.a.CONTACT_GROUPS_RECEIVED:return T.Mc.LOADED;case A.a.CONTACT_GROUPS_FAILED:return T.Mc.ERROR}return e}});const w=(e,t,s)=>{const{getSetting:a,isFeatureEnabled:n,getAdsSelectors:r}=t,o=n(T.kb.ROTATE_PENCIL_AD_ON_EXPIRE),i=a(T.id.PENCIL_AD_EXPIRE_TIME),{getGeminiAds:c,getAdRotationId:l}=r(),d=c(s)||[],E=l();return s?d.filter((e,t)=>!o||E-e.timestamp<i||t===d.length-1):[]},x=(e,t,s)=>{const{ads:a}=w(0,t,s)[0]||{};return(a&&a.length>0?a[0]:a)||$},B=(e,t,s)=>{const{ads:a}=w(0,t,s)[0]||{};return(a&&1===a.length&&!a[0].creativeId?a[0]:a)||[]},j=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t,n=a(T.kb.SPONSORED_MOMENT),r=s(T.id.GEMINI_SECTION_IDS),o=x(0,t,r[T.tb.MESSAGE_LIST_SM]);return n&&o.creativeId?o:null};var V=s(189),W=s(5);const{MESSAGE_FROM_SEARCH_LIST:q,MESSAGE_FROM_FOLDER_LIST:K,SPONSORED_MESSAGE:z}=T.Pc,{STARTED:Y,SUBMITTED:Z,ENDED:X}=T.k,Q=Object(h.c)([5564699]),$={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{},impressionTrackingUrls:[]},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{},embeddedLandingUrls:{}},timestamp:0},J=Object(i.c)({ads:(e={spaceId:"",positions:[]},t)=>{switch(t.type){case A.a.DARLA_ADS_RECEIVED:return{spaceId:t.spaceId,positions:t.positions}}return e},errorMessage:(e="",t)=>{switch(t.type){case A.a.DARLA_ADS_FAILED:return t.error}return e}}),ee=Object(i.c)({timestamp:(e=0,t)=>{switch(t.type){case A.a.MESSAGE_CARD_EXPANSION_CHANGED:case A.a.V3_MESSAGE_CARD_EXPANSION_CHANGED:return t.actionTimestamp;case A.a.DELETE_ITEMS_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return t.actionTimestamp;break;case A.a.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&Object(h.a)(t,"card.folderType",null)===T.sb.DRAFT)return 0;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(h.a)(t,"card.folderType",null)!==T.sb.DRAFT)return t.actionTimestamp;break;case A.a.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible&&t.messageReadAdRotationActive?t.actionTimestamp:0;case A.a.OPEN_PAGE_REQUESTED:return t.route.name===q||t.route.name===K?t.actionTimestamp:0;case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case A.a.HIDE_RIGHT_PANE_ADS:return 0}return e},timestampV2:(e=0,t)=>{switch(t.type){case A.a.MESSAGE_READ_AD_ROTATION_TIMER:return t.actionTimestamp}return e},active:(e=!1,t)=>{switch(t.type){case A.a.MESSAGE_CARD_EXPANSION_CHANGED:case A.a.V3_MESSAGE_CARD_EXPANSION_CHANGED:return!0;case A.a.DELETE_ITEMS_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return!0;break;case A.a.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&Object(h.a)(t,"card.folderType",null)===T.sb.DRAFT)return!1;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(h.a)(t,"card.folderType",null)!==T.sb.DRAFT)return!0;break;case A.a.APPLICATION_VISIBILITY_DID_CHANGE:return!(!t.isVisible||!t.messageReadAdRotationActive)||e;case A.a.OPEN_PAGE_REQUESTED:return t.route.name===q||t.route.name===K;case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return!1}return e}}),te=e=>{const t=Object.keys(e).reduce((e,t)=>babelHelpers.extends({},e,{[t]:e[t]===Z?X:null}),e);return F()(e,t)?e:t},se=Object(i.c)({searchPlaAds:(e={},t)=>{switch(t.type){case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:if(Object(h.a)(t,"response.PLAADS",null))return babelHelpers.extends({},e,{[t.listId]:Object(h.a)(t,"response.PLAADS.WITH_KEYWORD.items",null)})}return e},currentGptItem:(e=null,t)=>{switch(t.type){case A.a.FETCH_PLA_ADS_BY_KEYWORD:return t.keyword;case A.a.FETCH_PLA_ADS_BY_KEYWORD_RECEIVED:case A.a.PLA_ADS_BY_KEYWORD_FETCH_FAILED:return t.originalKeyword;case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:return null}return e},plaAdsOnMessageRead:(e={},t)=>{switch(t.type){case A.a.FETCH_PLA_ADS_BY_KEYWORD_RECEIVED:return babelHelpers.extends({},e,{[t.keyword]:Object(h.a)(t,"plaAds",[])})}return e}});var ae=Object(i.c)({adRotationId:(e=0,t)=>{if(b.a[t.type])return t.actionTimestamp;switch(t.type){case A.a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible)return t.actionTimestamp;break;case A.a.OPEN_PAGE_REQUESTED:if(t.route.name!==z)return t.actionTimestamp;break;case A.a.STREAM_CURSOR_MOVED:if(t.previewPane!==T.Bc.NO)return t.actionTimestamp;break;case A.a.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return t.actionTimestamp;break;case A.a.SYNC_DATA:if(t.forceSync&&Object(h.a)(t,"i13nModel.mKey",null)===W.e.PULL_TO_REFRESH)return t.actionTimestamp;break;case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return t.actionTimestamp}return e},darla:J,geminiAds:(e={},t)=>{switch(t.type){case A.a.AD_FEEDBACK_SUBMITTED:return t.sectionId&&e[t.sectionId]?babelHelpers.extends({},e,{[t.sectionId]:[e[t.sectionId][0]]}):e;case A.a.INITIAL_STATE:case A.a.GEMINI_AD_RECEIVED:if(t.geminiAd)return Object.keys(t.geminiAd).reduce((e,s)=>Q[s]?babelHelpers.extends({},e,{[s]:[{ads:t.geminiAd[s],timestamp:t.actionTimestamp}]}):(e[s]=[...e[s]||[],{ads:t.geminiAd[s],timestamp:t.actionTimestamp}].filter(e=>t.actionTimestamp-e.timestamp<6e5),e),babelHelpers.extends({},e));break;case A.a.GEMINI_AD_REQUESTED:{const{sectionIds:s={}}=t;return Object(h.e)(s).reduce((e,s)=>(e[s]&&(e[s]=e[s].length>1?e[s].slice(1).filter(e=>t.actionTimestamp-e.timestamp<6e5):e[s].filter(e=>t.actionTimestamp-e.timestamp<6e5)),e),babelHelpers.extends({},e))}}return e},geminiError:(e=null,t)=>{switch(t.type){case A.a.GEMINI_AD_RECEIVED:return null;case A.a.GEMINI_AD_FAILED:return t.error}return e},searchAds:(e={},t)=>{switch(t.type){case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:if(Object(h.a)(t,"response.ADS",null))return babelHelpers.extends({},e,{[t.listId]:Object(h.a)(t,"response.ADS.WITH_KEYWORD.items.0",null)})}return e},plaAds:se,adFeedback:(e={},t)=>{if(b.a[t.type]&&t.type!==A.a.AD_FEEDBACK_CLOSED)return te(e);switch(t.type){case A.a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible)return te(e);break;case A.a.OPEN_PAGE_REQUESTED:if(t.route.name!==z)return te(e);break;case A.a.STREAM_CURSOR_MOVED:if(t.previewPane!==T.Bc.NO)return te(e);break;case A.a.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return te(e);break;case A.a.AD_FEEDBACK_STARTED:return babelHelpers.extends({},e,{[t.sectionId]:Y});case A.a.AD_FEEDBACK_SUBMITTED:return babelHelpers.extends({},e,{[t.sectionId]:Z});case A.a.AD_FEEDBACK_CLOSED:return babelHelpers.extends({},e,{[t.sectionId]:e[t.sectionId]===Z?X:null})}return e},messageReadAdRotation:ee,geminiCategories:(e=[],t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:if(t.geminiCategories&&t.geminiCategories.length)return t.geminiCategories}return e},sponsoredAds:(e={},t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:return t.sponsoredAd?babelHelpers.extends({},e,{[Object(h.a)(t,"sponsoredAd.creativeId")]:t.sponsoredAd}):e;case A.a.GEMINI_SPONSORED_ASSET_RECEIVED:{const s=e[t.creativeId]&&babelHelpers.extends({},e[t.creativeId].nativeAd,{geminiSponsoredAsset:t.asset});return babelHelpers.extends({},e,{[t.creativeId]:babelHelpers.extends({},e[t.creativeId],{nativeAd:s})})}}return e},relatedSearches:(e={},t)=>{switch(t.type){case A.a.RELATED_SEARCHES_FETCH_SUCCEEDED:return t.queries}return e},isAdBlocked:(e=!1,t)=>{switch(t.type){case A.a.ADBLOCK_DETECTED:return!0}return e},couponOnPencilState:(e=-1,t)=>{switch(t.type){case A.a.COUPONS_LIST_SUCCEEDED:if(Object(N.x)(t.listId)===T.Fb.TOP_COUPONS&&-1===e)return 0}if(Object(b.d)(t)){const{numberOfRotation:s}=t;if(s>=0){if(0===s&&0===e)return 1;if(0===s&&e>0)return 2;if(e>=0&&e<s)return++e;if(0!==s&&e>=s)return 0}}return e},isSponsoredMomentClosed:(e=!1,t)=>{switch(t.type){case A.a.SPONSORED_MOMENT_CLOSED:return!0}return e},shopliftAds:(e={},t)=>{switch(t.type){case A.a.SHOPLIFT_AD_FETCH_SUCCEEDED:return babelHelpers.extends({},e,{[t.groupId]:t.items})}return e}});var ne=s(44),re=s(35),oe=s.n(re);const{Dispositions:ie}=T.u;var ce=function(e={},t){const{type:s,listData:a={},message:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.OPEN_PAGE_REQUESTED:case A.a.MESSAGE_SAVE_SUCCEEDED:{const t=n?n.attachments.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:t}),{}):a.attachments;if(!t)return e;const s=function(e,t){return Object.keys(t).reduce((s,a)=>{const n=t[a],r=e[a]||{};return(e[a]||{}).contentId&&e[a].disposition===n.disposition||(s[a]=n),r.disposition&&r.disposition!==n.disposition&&(s[a]=babelHelpers.extends({},r,{disposition:n.disposition})),s},{})}(e,t);return Object.keys(s).length?babelHelpers.extends({},e,s):e}case A.a.V3_MESSAGE_SAVE_FAILED:{const{newContentIds:s=[]}=t;if(!s.length)return e;const a=s.map(e=>({contentId:e}));return babelHelpers.extends({},e,a)}case A.a.PENSIEVE_DELETE_REQUESTED:{const{streamItems:s}=t;return oe()(e,s.map(e=>e.id))}case A.a.ATTACHMENT_ZOOMED:{const{id:s,newZoomLevel:a}=t,n=e[s];return n?babelHelpers.extends({},e,{[s]:babelHelpers.extends({},n,{previewerUiState:babelHelpers.extends({},n.previewerUiState,{zoomLevel:a})})}):e}default:return e}};const le={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};var de=(e={},{type:t="",senderEmail:s="",nearbyListing:a={}}={})=>{switch(t){case A.a.UPDATE_BUSINESS_LISTING_SUCCEEDED:{const{name:t="",latlong:n="",address:{street:r="",city:o=""}={},hours_status:{hours:i={}}={},phone:c="",distance_in_miles:l=""}=a,d=n?Date.now():1/0,E=Object.keys(i).sort((e,t)=>le[e]-le[t]).map(e=>i[e]);return babelHelpers.extends({},e,{[s]:{name:t,latlong:n,streetAddress:r,city:o,hours:E,phone:c,distance:l,lastUpdated:d}})}case A.a.GEO_LOCATION_UPDATE_SUCCEEDED:return Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,{[s]:babelHelpers.extends({},e[s],{lastUpdated:0})}),{});default:return e}};const Ee=Object(i.c)({startTime:(e=0,t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.startTime",e);default:return e}},endTime:(e=0,t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.endTime",e);default:return e}},location:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.location",e);default:return e}},summary:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.summary",e);default:return e}},state:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.state",e);default:return e}},firstAttendeeStatus:(e=[],t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.firstAttendeeStatus",e);default:return e}},isSameDay:(e=!1,t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.isSameDay",e);default:return e}},attendees:(e=[],t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.attendees",e);default:return e}},videoLink:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.videoLink",e);default:return e}},firstAttendeeEmail:(e=null,t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.firstAttendeeEmail","");default:return e}},response:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.response",e);case A.a.RESPOND_TO_INVITE_SUCCEEDED:case A.a.RESPOND_TO_INVITE_FAILED:return t.response;default:return e}},messageId:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"messageId",e);default:return e}},status:(e=null,t)=>{switch(t.type){case A.a.GET_INVITE_INFO_FAILED:return"ERROR";case A.a.GET_INVITE_INFO_REQUESTED:return"LOADING";case A.a.GET_INVITE_INFO_SUCCEEDED:return"READY";default:return e}},uid:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.uid",e);default:return e}},email:(e="",t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:return Object(h.a)(t,"inviteInfo.email",e);default:return e}}});var _e=(e={},t)=>{switch(t.type){case A.a.GET_INVITE_INFO_SUCCEEDED:case A.a.GET_INVITE_INFO_FAILED:case A.a.GET_INVITE_INFO_REQUESTED:case A.a.RESPOND_TO_INVITE:case A.a.RESPOND_TO_INVITE_SUCCEEDED:case A.a.RESPOND_TO_INVITE_FAILED:return babelHelpers.extends({},e,{[t.messageId]:Ee(e[t.messageId],t)});default:return e}};const ue=(e=[],t)=>{const{type:s,cardGroup:a=[]}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return F()(a,e)?e:a;default:return e}};var pe=function(e={},t){const{type:s,listData:a={}}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:{const{groupIdToMessageIdsMap:t}=a;if(!t)return e;const n=Object.keys(t).filter(s=>!F()(t[s],e[s])).reduce((a,n)=>babelHelpers.extends({},a,{[n]:ue(e[n],{type:s,cardGroup:t[n]})}),{});return Object.keys(n).length?babelHelpers.extends({},e,n):e}default:return e}};const me=(e=[],t)=>{const{cards:s,type:a}=t;switch(a){case A.a.MORE_COUPONS_SUCCESS:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.INITIAL_STATE:return F()(s,e)?e:s;default:return e}};var he=function(e={},t){const{listData:s={},type:a}=t;switch(a){case A.a.MORE_COUPONS_SUCCESS:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.INITIAL_STATE:{if(!s.messageIdToSchemaIdsMap)return e;const t=Object.keys(s.messageIdToSchemaIdsMap).filter(t=>!F()(e[t],s.messageIdToSchemaIdsMap[t])).reduce((t,n)=>babelHelpers.extends({},t,{[n]:me(e[n],{type:a,cards:s.messageIdToSchemaIdsMap[n]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};var Se=Object(i.c)({composeAttributesStatus:(e=T.Mc.LOADING,t)=>{const{route:s}=t;switch(t.type){case A.a.LAUNCH_COMPLETED:return s.name===T.Pc.NEW_DRAFT||s.name===T.Pc.EDIT_DRAFT?T.Mc.LOADED:e;case A.a.COMPOSE_ATTRIBUTES_RECEIVED:case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return T.Mc.LOADED;case A.a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case A.a.COMPOSE_ATTRIBUTES_FETCH_FAILED:return T.Mc.ERROR;default:return e}}});var ge=s(71),Ie=s(23);const Ce=Object(i.c)({mailToLink:(e=null,t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:{const{mailtoAttr:s}=t;return s||e}}return e},stationeryTheme:(e=Ie.NO_STATIONERY,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case A.a.OPEN_PAGE_REQUESTED:if(t.stationeryTheme)return t.stationeryTheme}return a.stationeryTheme||e},composeUndoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case A.a.V3_MESSAGE_SAVE_SUCCEEDED:return[]}return a.undoStack||e},composeRedoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case A.a.V3_MESSAGE_SAVE_SUCCEEDED:return[]}return a.redoStack||e},composeUiState:(e=null,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case A.a.QUOTED_TEXT_EXPANDED:return Object.assign({},e,{isQuotedTextExpanded:!0})}return a.uiState||e},lastAutotagQuery:(e="",t)=>{switch(t.type){case A.a.CONTACT_SUGGESTIONS_REQUESTED:return t.query}return e},attachmentProgress:(e={},t)=>{switch(t.type){case A.a.UPLOAD_PROGRESS_RECEIVED:{const s=babelHelpers.extends({},e);return t.newFileContentIds.forEach(e=>s[e]=t.percent),s}}return e},sendStatus:(e=null,t)=>{switch(t.type){case A.a.UNSUBSCRIBE_EMAIL_REQUESTED:case A.a.V3_MESSAGE_SEND_REQUESTED:return e!==ge.g.SENT?ge.g.SENDING:e;case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return ge.g.SENT;case A.a.V3_MESSAGE_SAVE_FAILED:return t.error&&"ES-2001"===t.error.errorCode?ge.g.SENT:e;case A.a.V3_MESSAGE_SEND_FAILED:return t.error&&"ES-2001"===t.error.errorCode?ge.g.SENT:ge.g.SEND_FAILED}return e},composeFieldToFocus:(e=ge.a.TO,t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?ge.a.SUBJECT:e;case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{inForwardToMessageId:e}=t;return e?ge.a.TO:ge.a.EDITOR}case A.a.V3_MESSAGE_SEND_FAILED:return ge.a.EDITOR}return e},doComposeFromRouteQueryParams:(e=!1,t)=>{switch(t.type){case A.a.INITIAL_STATE:return!!t.mrdParams;case A.a.OPEN_PAGE_REQUESTED:return!1}return e},forwardCreativeId:(e=null,t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:return t.forwardCreativeId||null}return e},forwardAttachmentIds:(e=[],t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:return t.attachments?t.attachments.map(({id:e})=>e):e}return e},inReplyToMessageId:(e=null,t)=>{switch(t.type){case A.a.INITIAL_STATE:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.replied&&s.id?s.id:null}case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyToMessageId||null;case A.a.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},inReplyAllToMessageId:(e=null,t)=>{switch(t.type){case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyAllToMessageId||null;case A.a.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},inForwardToMessageId:(e=null,t)=>{switch(t.type){case A.a.INITIAL_STATE:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.forwarded&&s.id?s.id:null}case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inForwardToMessageId||null;case A.a.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},draftMessageId:(e=null,t)=>{switch(t.type){case A.a.INITIAL_STATE:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:return t.draftMessageId||null;case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.message.id;case A.a.OPEN_PAGE_REQUESTED:return t.isReplyingMessageSubjectEdited?null:e}return e},fatalErrorCount:(e=0,t)=>{switch(t.type){case A.a.MESSAGE_SAVE_FAILED:case A.a.V3_MESSAGE_SAVE_FAILED:case A.a.MESSAGE_AUTO_SAVE_FAILED:return t.error&&/^(E(S|C|T|P)-|EMPTY_RESPONSE)/.test(t.error.errorCode)?e+1:e;case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return 0}return e},lastSaveTimeStamp:(e=0,t)=>{switch(t.type){case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.lastEditedTimeStamp||t.actionTimestamp}return e},lastOpenTimeStamp:(e=0,t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:return t.actionTimestamp||e}return e},isAutotagDisabled:(e=!1)=>e,composeParams:(e=null,t)=>{switch(t.type){case A.a.OPEN_PAGE_REQUESTED:{const{composeParams:s={}}=t;if(Object.keys(s).length>0)return babelHelpers.extends({},e,s)}}return e}});var Te=(e={},t)=>{switch(t.type){case A.a.MESSAGE_SAVE_FAILED:case A.a.MESSAGE_AUTO_SAVE_FAILED:case A.a.V3_MESSAGE_SAVE_REQUESTED:case A.a.V3_MESSAGE_SAVE_FAILED:case A.a.V3_MESSAGE_SEND_REQUESTED:case A.a.V3_MESSAGE_SEND_FAILED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.QUOTED_TEXT_EXPANDED:case A.a.UPLOAD_PROGRESS_RECEIVED:case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Ce(e[t.csid],t)});break;case A.a.AUTOTAG_DROPDOWN_CLOSED:return babelHelpers.extends({},e,{[t.csid]:babelHelpers.extends({},e[t.csid],{isAutotagDisabled:!0})});case A.a.SYNC_DATA:case A.a.ONLINE_STATUS_CHANGED:case A.a.APPLICATION_VISIBILITY_DID_CHANGE:case A.a.OPEN_PAGE_REQUESTED:{const{unsyncedData:s=[]}=t,a=s.filter(e=>e.type===T.Td.COMPOSE);if(a.length){const s=a.map(s=>({[s.id]:Ce(e[s.id],{type:t.type,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsyncedDataItem:s})}));return babelHelpers.extends({},e,t.csid?{[t.csid]:Ce(e[t.csid],t)}:{},Object.assign.apply({},s))}if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Ce(e[t.csid],t)});break}case A.a.INITIAL_STATE:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{mrdParams:s={},draftData:a={}}=t;if(s.csid)return babelHelpers.extends({},e,{[s.csid]:Ce(e[s.csid],t)});if(a.csid)return babelHelpers.extends({},e,{[a.csid]:Ce(e[a.csid],t)});if(t.listData&&t.listData.messages){const s=t.unsyncedData.filter(e=>e.type===T.Td.COMPOSE).map(e=>e.id),a=Object(h.e)(t.listData.messages||[]).filter(e=>-1===s.indexOf(e.csid)).map(s=>({[s.csid]:Ce(e[s.csid],babelHelpers.extends({},t,{draftMessageId:s.id,inReplyTo:s.inReplyTo}))}));return a.length?babelHelpers.extends({},e,Object.assign.apply({},a)):e}if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Ce(e[t.csid],t)});break}case A.a.DELETE_ITEMS_REQUESTED:if(t.csid)return oe()(e,t.csid);if(t.itemsToUpdate)return oe()(e,t.itemsToUpdate.filter(e=>!e.destinationFolder&&e.isAffected).map(({csid:e})=>e).filter(Boolean));break;case A.a.CONTACT_SUGGESTIONS_REQUESTED:case A.a.UNSUBSCRIBE_EMAIL_REQUESTED:if(t.csid)return babelHelpers.extends({},e,{[t.csid]:Ce(e[t.csid],t)})}return e};var Ae=Object(i.c)({composeSuggestions:function(e={},t){switch(t.type){case A.a.CONTACT_SUGGESTIONS_SUCCEEDED:return babelHelpers.extends({},e,{[t.query]:t.contacts})}return e},composeSuggestionsFromImportantContacts:function(e={},t){switch(t.type){case A.a.CONTACT_SUGGESTIONS_REQUESTED:return babelHelpers.extends({},e,{[t.query]:t.contacts},t.nextContacts);case A.a.OPEN_PAGE_REQUESTED:return{}}return e}});var Oe=s(478),be=s.n(Oe);const Re={name:"",emails:[],emailType:{},phonesWithType:[],addressesWithType:[]},De=(e=Re,t)=>{switch(t.type){case A.a.CONTACT_SAVE_SUCCEEDED:case A.a.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:return babelHelpers.extends({},e,t.contact);case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const{contact:s}=t;return babelHelpers.extends({},e,{name:s.name,emails:be()(e.emails,s.emails),id:s.xobniId})}case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const e=t.contact,{xobniId:s}=e,a=babelHelpers.objectWithoutProperties(e,["xobniId"]);return babelHelpers.extends({},a,{id:s})}default:return e}};const fe={COMPOSE_FROM_CONTACTS_PANE:[W.e.CONTACT_ITEM_EMAIL_CLICKED,W.e.CONTACT_DETAILS_EMAIL_CLICKED],REPLACE_ATTACHMENT_WITH_RIGHT_RAIL:[W.e.CONTACTS_PANE_ICON_ON]},Ne=e=>e.type===T.L.CONTACTS_LIST?e:babelHelpers.extends({},e,{type:T.L.CONTACTS_LIST,id:null});var Me=Object(i.c)({byId:(e={},t)=>{switch(t.type){case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:{const s=babelHelpers.extends({},e);return t.contacts.forEach(({contacts:a})=>{a.forEach(a=>{s[a.id]=De(e[a.id],{type:t.type,contact:a})})}),s}case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{listData:s={}}=t,a=Object.keys(s.people||{});if(!a.length)return e;const n=babelHelpers.extends({},e);return a.forEach(s=>{n[s]=De(e[s],{type:t.type,contact:t.listData.people[s]})}),n}case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const s=babelHelpers.extends({},e);return t.contacts.forEach(a=>{const{xobniId:n}=a;s[n]=De(e[n],{type:t.type,contact:a})}),s}case A.a.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case A.a.CONTACT_SAVE_SUCCEEDED:{const s=babelHelpers.extends({},e);return s[t.contact.id]=De(e[t.contact.id],{type:t.type,contact:t.contact}),s}default:return e}},idByEmail:(e={},t)=>{switch(t.type){case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{listData:s={}}=t,{people:a}=s;return a?(e=babelHelpers.extends({},e),Object(h.e)(a).forEach(({xobniId:t,id:s})=>{e[s]=t}),e):e}case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return babelHelpers.extends({},e,t.contactEmailToId);default:return e}},currentFilter:(e=T.Eb.USER_CREATED_CONTACTS,t)=>{switch(t.type){case A.a.CONTACTS_PANE_LIST_FILTER_CHANGED:return t.listFilter;default:return e}},contactsPaneView:(e={},t)=>{const{type:s}=t;switch(s){case A.a.RIGHT_RAIL_COMMS_ICON_CLICKED:if(t.name===T.Nc.CONTACTS_PANE)return Ne(e);break;case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:{const{uiContext:{mKey:s}={},route:{name:a}={}}=t;if(a===T.Pc.NEW_DRAFT)break;if(!s||-1===fe.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return Ne(e);break}case A.a.CONTACTS_PANE_BACK_BUTTON_CLICKED:case A.a.CONTACT_EDIT_CANCELLED:case A.a.CONTACT_SAVE_REQUESTED:switch(e.type){case T.L.EDIT_CONTACT:return babelHelpers.extends({},e,{type:T.L.CONTACT_DETAILS});case T.L.CONTACT_DETAILS:case T.L.CREATE_CONTACT:return Ne(e)}break;case A.a.CONTACTS_PANE_EDIT_BUTTON_CLICKED:switch(e.type){case T.L.CONTACT_DETAILS:return babelHelpers.extends({},e,{type:T.L.EDIT_CONTACT})}break;case A.a.CONTACT_CREATE_CLICKED:return babelHelpers.extends({},e,{type:T.L.CREATE_CONTACT});case A.a.CONTACTS_PANE_CONTACT_CLICKED:return babelHelpers.extends({},e,{type:T.L.CONTACT_DETAILS,id:t.id});case A.a.CONTACTS_PANE_VIEW_LIST:return Ne(e)}return e}});var Le=(e={},{type:t,contentProviders:s={}})=>{switch(t){case A.a.CONTENT_PROVIDERS_SUCCEEDED:return babelHelpers.extends({},e,s)}return e};const ye=(e={})=>({doesContentProviderExist:t=>void 0!==e[t],isContentProviderConnected:t=>e[t].isConnected,isCreditCardConnectedWithEarny:t=>e[t].connectionDetails&&e[t].connectionDetails.ccpp,isAmazonConnectedWithEarny:t=>e[t].connectionDetails&&e[t].connectionDetails.amazon,isPaymentConnectedWithEarny:t=>e[t].connectionDetails&&e[t].connectionDetails.payment,isContentProviderDisconnected:t=>void 0!==e[t].isConnected&&!e[t].isConnected,getEarnyUpgrade:t=>{const s=!ye(e).doesContentProviderExist(t)&&!1,a=(!ye(e).doesContentProviderExist(t)||!ye(e).isContentProviderConnected(t)&&!ye(e).isContentProviderDisconnected(t))&&T.db.CONNECT,n=ye(e).doesContentProviderExist(t)&&!ye(e).isCreditCardConnectedWithEarny(t)&&!ye(e).isContentProviderDisconnected(t)&&T.db.CREDIT,r=ye(e).doesContentProviderExist(t)&&!ye(e).isPaymentConnectedWithEarny(t)&&!ye(e).isContentProviderDisconnected(t)&&T.db.PAYMENT,o=ye(e).doesContentProviderExist(t)&&ye(e).isPaymentConnectedWithEarny(t)&&!ye(e).isContentProviderDisconnected(t)&&T.db.DONE;return s||a||n||r||o||T.db.CONNECT}}),Pe=Object(i.c)({imageUrl:(e=null,t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.imageUrl||e;default:return e}},validThrough:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.validThrough;default:return e}},isInferredDate:(e=!1,t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.isInferredDate||!1;default:return e}},savedSearchQuery:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.savedSearchQuery?a.savedSearchQuery:e;default:return e}},dealLink:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.dealLink?a.dealLink:e;default:return e}},description:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.description;default:return e}},clipped:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_ADD_TAG_DECO_REQUESTED:case A.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.clipped;default:return e}},from:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.from;default:return e}},gptCategory:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:return a.gptCategory;default:return e}},retailer:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:return a.retailer;default:return e}},cardConversationId:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return a.cardConversationId;default:return e}}});var ve=function(e={},t){const{listData:s={},type:a}=t;switch(a){case A.a.MORE_COUPONS_SUCCESS:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.COUPONS_LIST_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===T.Zc.Coupon&&!F()(e[t],oe()(s.schemaCards[t],["id","type"]))).reduce((t,n)=>babelHelpers.extends({},t,{[n]:Pe(e[n],{type:a,card:s.schemaCards[n]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:case A.a.COUPONS_ADD_TAG_DECO_REQUESTED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).reduce((t,n)=>babelHelpers.extends({},t,{[n]:Pe(e[n],{type:a,card:s.schemaCards[n]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};const Fe=(e={})=>({getImageUrl:t=>e[t].imageUrl,getValidThroughDate:t=>e[t].validThrough,isInferredDate:t=>e[t].isInferredDate,getSavedSearchQuery:t=>e[t].savedSearchQuery,getDealLink:t=>e[t].dealLink,getDescription:t=>e[t].description,getFromAddress:t=>e[t].from,isClipped:t=>e[t].clipped,getCardConversationId:t=>e[t].cardConversationId,getCoupons:()=>e,getGptCategory:t=>e[t].gptCategory,getRetailer:t=>e[t].retailer});var Ue=Object(i.c)({topRetailers:(e=null,t)=>{switch(t.type){case A.a.TOP_RETAILERS_REQUEST_SUCCEEDED:return t.topRetailers}return e},topDealCategories:(e=null,t)=>{switch(t.type){case A.a.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:return t.topDealCategories}return e}});var He=Object(i.c)({isDetailPaneExpanded:(e=!1,t)=>{switch(t.type){case A.a.TOGGLE_DETAIL_PANE_EXPANSION:return!e;case A.a.OPEN_PAGE_REQUESTED:case A.a.DELETE_ITEMS_SUCCEEDED:case A.a.MOVE_ITEMS_SUCCEEDED:return!1;default:return e}}});const ke=Object(i.c)({content:(e=null,t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.page.content}return e},status:(e=T.Mc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.page.state;case A.a.DOCUMENT_FETCH_REQUESTED:return T.Mc.LOADING}return e}}),Ge=(e,t)=>`${e}-${t}`,we=Object(i.c)({pages:(e={},t)=>{const{startPage:s,endPage:a}=t,n={};switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return babelHelpers.extends({},e,Object.keys(t.response.pages).reduce((s,a)=>(s[a]=ke(e[a],babelHelpers.extends({},t,{page:t.response.pages[a]})),s),{}));case A.a.DOCUMENT_FETCH_REQUESTED:for(let r=s;r<=a;r++)n[r]=ke(e[r],t);return babelHelpers.extends({},e,n)}return e},height:(e=null,t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.response.height||e}return e},width:(e=null,t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.response.width||e}return e},numPages:(e=0,t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.response.numPages||e}return e},exceptions:(e={},t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.response.exceptions||e}return e},sheets:(e={},t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:return t.response.sheets||e}return e},status:(e=T.Mc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_REQUESTED:return e!==T.Mc.LOADED?T.Mc.LOADING:e;case A.a.DOCUMENT_FETCH_SUCCEEDED:return T.Mc.LOADED;case A.a.DOCUMENT_FETCH_FAILED:return T.Mc.ERROR}return e},error:(e={},t)=>{const{error:s={}}=t,{info:a={}}=s.data||{},{documentError:n={}}=a;switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:case A.a.DOCUMENT_FETCH_REQUESTED:return{};case A.a.DOCUMENT_FETCH_FAILED:return n}return e},retryCount:(e={},t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:case A.a.DOCUMENT_FETCH_FAILED:{const s=Ge(t.startPage,t.endPage);return babelHelpers.extends({},e,{[s]:(e[s]||0)+1})}}return e}});var xe=(e={},t)=>{switch(t.type){case A.a.DOCUMENT_FETCH_REQUESTED:case A.a.DOCUMENT_FETCH_SUCCEEDED:case A.a.DOCUMENT_FETCH_FAILED:return babelHelpers.extends({},e,{[t.documentId]:we(e[t.documentId],t)})}return e};var Be=function(e=[],t){switch(t.type){case A.a.DOWNLOAD_REQUESTED:case A.a.ATTACHMENT_DOWNLOADED:case A.a.ALL_ATTACHMENTS_DOWNLOADED:return function(e,t){return t.downloadId=`download-${Object(O.f)()}`,e.concat(t)}(e,t.download);case A.a.DOWNLOAD_COMPLETED:case A.a.DOWNLOAD_FAILED:return function(e,t){return e.filter(e=>e.downloadId!==t)}(e,t.downloadId);default:return e}};const je={clientWidth:0,clientHeight:0,innerWidth:0,innerHeight:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0};var Ve=Object(i.c)({app:(e=null,t)=>{switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return t.app||e;default:return e}},isInternalIP:(e=!1,t)=>{switch(t.type){case A.a.INITIAL_STATE:return t.internal;default:return e}},isAMT:(e=!1,t)=>{switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return t.isAMT||!1;default:return e}},applicationVisibility:(e=!0,t)=>{switch(t.type){case A.a.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible}return e},applicationLastVisibleTimeStamp:(e=null,t)=>{switch(t.type){case A.a.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible?null:t.actionTimestamp}return e},buildRefreshStatus:(e=T.q.NO_REFRESH,t)=>{switch(t.type){case A.a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.heartbeatRefresh&&t.isVisible){const e=(t.actionTimestamp-t.applicationLastVisibleTimeStamp)/6e4;if(t.emergencyRefresh&&e>t.appRefreshIdleInterval.emergencyRefresh)return T.q.EMERGENCY_REFRESH;const s=864e5,a=15,n=Math.round(t.elapsedTimeFromSessionStart)/s;if(e>t.appRefreshIdleInterval.periodicRefresh&&n>=a)return T.q.PERIODIC_REFRESH}return e;case A.a.CANCEL_APP_RELOAD:return T.q.NO_REFRESH;default:return e}},isXobnified:(e=null,t)=>{switch(t.type){case A.a.XOBNIFIED_RESPONDED:return t.isXobnified;default:return e}},timeZoneName:(e="UTC",t)=>{switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.timezone||t.timezone&&t.timezone.name||"UTC";default:return e}},geoLocation:(e="",{type:t="",latlong:s=""})=>{switch(t){case A.a.GEO_LOCATION_UPDATE_SUCCEEDED:return s;default:return e}},timezoneUpdating:(e=!1,t)=>{switch(t.type){case A.a.SETTINGS_LOCATION_CHANGE_REQUESTED:return t.isUpdating||e;default:return e}},windowDimensions:(e=je,t)=>{switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.windowInnerWidth&&t.clientParams.windowInnerHeight?babelHelpers.extends({},e,{innerWidth:t.clientParams.windowInnerWidth,innerHeight:t.clientParams.windowInnerHeight}):e;case A.a.WINDOW_RESIZING:return{clientWidth:t.clientWidth,clientHeight:t.clientHeight,contentAndRightRailHeight:t.contentAndRightRailHeight,contentAndRightRailWidth:t.contentAndRightRailWidth,innerWidth:t.innerWidth};default:return e}},pageDirection:(e="ltr",t)=>{switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return t.pageDirection||e;default:return e}}});var We=s(348),qe=s.n(We),Ke=s(24),ze=s(29);var Ye=(e,t)=>{const{getRoute:s}=t,a=Object(N.t)(s());return Object(N.q)(a)===T.Db.MESSAGES?e:T.Bc.NO},Ze=s(41);var Xe=(e,t)=>{const{getRoute:s,getSetting:a,hasMultipleRootAccounts:n}=t,r=s(),o=Object(N.t)(r);return a(T.id.PREVIEW_PANE)===T.Bc.RIGHT?Ze.l.NONE:Object(N.K)(o)||Object(N.J)(r)?Ze.l.FOLDER:r.name===T.Pc.SEARCH?n()?Ze.l.ACCOUNT:Ze.l.FOLDER:Ze.l.NONE};function Qe(e,t){return e.length?function(e,t){return e.find(e=>{const s=Object(y.a)(e);return s&&s.name===t})}(e,t):null}var $e=(e,t)=>{const s=[],{getFeaturesSelectors:a}=t,n=a().isEnabled(T.kb.SMARTVIEW_CATEGORIES_ALL),r=a().isEnabled(T.kb.SMARTVIEW_CATEGORIES_PEOPLE),o=a().isEnabled(T.kb.SMARTVIEW_CATEGORIES_PEOPLE_V2),i=a().isEnabled(T.kb.SMARTVIEW_CATEGORIES_SHOPPING),c=`${T.W[T.td.PEOPLE]}:1`,l=`${T.W[T.td.PEOPLE]}:0`,d=`${T.W[T.td.COUPONS]}:1`;if(!(n||r||o||i))return[];if(r||o||i){if(r||o){const t=Qe(e,T.td.PEOPLE);s.push(t?Object(y.a)(t):r?Object(y.a)(c):Object(y.a)(l))}if(i){const t=Qe(e,T.td.COUPONS);s.push(t?Object(y.a)(t):Object(y.a)(d))}}else e.forEach(e=>{const t=Object(y.a)(e);t&&s.push(t)}),T.Kd.forEach(e=>{s.find(({name:t})=>t===e)||s.push({name:e,status:0})});return s};var Je=(e,t)=>{const{getFeaturesSelectors:s,isMobileRoute:a}=t,{getSetting:n}=s(),r=n(T.id.PREVIEW_PANE)===T.Bc.RIGHT,o=n(T.id.MSG_LIST_DENSITY),i=n(T.id.SNIPPETS);if(a())return i?m.MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT:m.MOBILE_MESSAGE_LIST_ITEM_HEIGHT;switch(o){case T.ac.SLIM:return r?i?m.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT:m.MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT:m.MESSAGE_LIST_ITEM_SLIM_HEIGHT;case T.ac.RELAXED:return r?i?m.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT:m.MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT:m.MESSAGE_LIST_ITEM_RELAXED_HEIGHT;default:return r?i?m.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT:m.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT:m.MESSAGE_LIST_ITEM_NORMAL_HEIGHT}},et=s(85);const tt=Object(h.c)(["luv.southwest.com","sg.booking.com","mail.hotels.com","booking.com","email.travelzoo.com","e.delta.com","h1.hilton.com","airbnb.com","email-marriott.com","united.com","email.jetblue.com","frontier.com","mailer.orbitz.com","news.united.com","save.spirit-airlines.com","aa.com","your.choicehotels.com","carnivalcruiselineemail.com","res.hilton.com","ifly.alaskaair.com"]);var st=s(89),at=(e,t)=>{const{getRouteParams:s,getRouteName:a,getRoute:n,getMessageGroupsSelectors:r,getMessagesSelectors:o,getSmartViewTypeFromRoute:i}=t,{doesMessageGroupIdExist:c,getMessageIdsFromMessageGroupId:l}=r(),{doesMessageIdExist:d,getFromAddresses:E}=o(),_=a(),u=_===T.Pc.MESSAGE_FROM_FOLDER_LIST||_===T.Pc.MESSAGE_FROM_SEARCH_LIST,p=n(),m=Object(N.I)(p)&&i(p)===T.td.TRAVEL,{groupId:S}=s()||{},g=c(S)&&l(S)[0],I=d(g)&&E(g)[0];return Object(st.c)(e,t,!0)&&(u&&function(e){if(!e)return!1;const t=Object(h.a)(e,"email",""),s=t.slice(t.indexOf("@")+1).toLowerCase();return!!tt[s]}(I)||m)};const nt={start:Date.parse("2017-09-24T04:55:00-07:00"),end:Date.parse("2017-09-24T10:00:00-07:00")};var rt=e=>{if(!Object(Ke.b)()||!window.performance||!window.performance.timing)return!1;return window.performance.timing.loadEventStart-window.performance.timing.navigationStart>e};const ot=(e,t)=>{const{getFeaturesSelectors:s}=t,a=s().isEnabled(T.kb.PHOTO_THEMES),n=e[T.id.THEME];return!ze.g[n]||!a&&Object(ze.m)(n)};var it=e=>{const{getRoute:t,getSmartViewTypeFromRoute:s}=e,a=t();return(Object(N.I)(a)?s(a):null)===T.td.COUPONS?Object(N.F)(Object(N.t)(a)):a.name===T.Pc.LIST&&!Object(N.J)(a)};var ct=(e,t)=>{const{getRoute:s,getListsSelectors:a}=t,{doesListExist:n}=a(),r=Object(N.t)(s()),o=Object(N.q)(r)===T.Db.TRAVEL_CARDS;return n(r)&&o&&e},lt=s(422);var dt=e=>{const{getFeaturesSelectors:t,isMobileRoute:s}=e,a=s(),{getSetting:n}=t();return n(a?T.id.MOBILE_NOTIFICATION:T.id.DESKTOP_NOTIFICATION)};var Et=e=>{const{getAction:t}=e,s=t();return s.type===A.a.STAR_CHANGE_REQUESTED&&!s.isStarred};const _t={[T.kb.PHOTOS_CUE]:!1,[T.kb.STARRED_CUE]:!1,[T.kb.SETTINGS_CUE]:!1,[T.kb.SEARCH_CUE]:!1,[T.kb.ALL_TABS_PLUS_CUE]:!1,[T.kb.PEOPLE_SMARTVIEW_CUE]:!1,[T.kb.STATIONERY_CUE]:!1,[T.kb.EMOJI_CUE]:!1,[T.kb.COUPON_STORE_LOCATOR]:!1,[T.id.COUPON_STORE_LOCATOR_COLLAPSED]:!1,[T.kb.GEO_LOCATION]:!1,[T.id.YAHOO_MAPS_URL]:"",[T.kb.COUPON_CLIPPER_CUE]:!1,[T.kb.INBOX_COUPONS_CUE]:!1,[T.kb.THEMES_CUE_V3]:!1,[T.kb.SSA_BREACH_SECURITY_ALERT]:!1,[T.kb.APT_SECURITY_CUE]:!1,[T.kb.NEW_USER_ONBOARDING_CUE]:!1,[T.kb.UPDATE_WIDER_MAIL_CUE]:!1,[T.kb.COUPONS_VIEW_CUE]:!1,[T.kb.MSG_READ_EARNY_CARD]:!1,[T.id.QUOTIENT_DEBUG_FLAG]:!1,[T.id.MSG_READ_SHOPRUNNER_VARIANT]:"srVariant1",[T.kb.QTNT_VIEW_MSG_READ_CARD]:!1,[T.kb.PURCHASES_VIEW_CUE]:!1,[T.kb.SHOPRUNNER_VIEW_CUE]:!1,[T.kb.QTNT_VIEW_LEFT_RAIL_CUE]:!1,[T.kb.BULK_DELETE_MSG_EARNY_CUE]:!1,[T.kb.MSG_READ_DELETE_EARNY_CUE]:!1,[T.kb.ADBLOCK_UPSELL_CUE]:!1,[T.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:!1,[T.kb.COUPONS_VIEW_LAUNCH_CUE]:!1,[T.kb.IS_WIDER_MAIL_EXTN_ENABLED]:!1,[T.kb.CONVERSATIONS_FEATURE]:!0,[T.kb.CONVERSATIONS]:!0,[T.id.IMAPIN]:!1,canAddImapInAccount:!1,canRemoveImapInAccount:!1,[T.kb.AUTO_OPEN_REAUTH]:!1,linkAccountList:!1,[T.kb.COLLAPSIBLE_SYSTEM_FOLDERS]:!1,[T.id.SHOW_ALL_SYSTEM_FOLDERS]:!1,addAliasAccount:!1,[T.id.SNIPPETS]:!1,[T.id.SHOW_IMAGES]:!1,[T.id.DESKTOP_NOTIFICATION]:0,[T.id.MOBILE_NOTIFICATION]:!1,[T.id.MAIL_TABS]:!1,[T.id.EMAIL_SUBSCRIPTIONS]:[],[T.id.MARK_AS_READ_INTERVAL]:T.Yb.IMMEDIATELY,[T.id.THEME]:ze.g.DEFAULT,[T.id.THEME_MODE]:ze.f.LIGHT,[T.id.CLIENT_WIDTH]:0,[T.id.ORIENTATION]:"portrait",[T.id.PREVIEW_PANE]:T.Bc.NO,[T.id.MSG_LIST_DENSITY]:T.ac.NORMAL,[T.id.COMPOSE_FONT_SIZE]:T.Y.SIZE,[T.id.COMPOSE_FONT_FAMILY]:T.Y.FAMILY,focusBasedVisibilityDetection:!1,[T.id.DELIVERY_BLOCKED_SENDERS]:[],[T.id.LINK_ENHANCR]:!1,[T.id.VACATION_PREFERENCES]:{enabled:!1},[T.id.DEA_BASE_NAME]:null,[T.id.LIST_ITEM_HEIGHT]:32,[T.id.MESSAGE_FILTERS]:[],[T.id.ACTION_AFTER_MSG_MOVE]:T.h.GO_BACK_TO_FOLDER,[T.id.SHOW_CUSTOM_FOLDERS]:!0,[T.id.SUPPRESSED_UPSELLS]:[],[T.id.EXPANDED_FOLDERS]:[],[T.id.STATIONERY_DEFAULT_THEME]:"",[T.id.TOGGLE_CONV_RELOAD_DELAY]:300,[T.kb.RESIZABLE_PREVIEW_PANE]:!0,[T.id.RECENTLY_USED_EMOJIS]:[],[T.kb.EMOJI_SEARCH]:!1,[T.id.SYSTEM_TABS]:[],[T.kb.COMPOSE_V3]:!1,[T.kb.OPTIMISTIC_SEND]:!1,[T.kb.LIST_V3]:!1,[T.kb.MAIL_READER_V3]:!1,[T.kb.UPDATE_ITEMS_V3]:!1,[T.kb.CEP_FORWARD]:!1,[T.kb.DEBUG_UNSYNCED_DATA]:!1,[T.kb.RSVP_PREFETCH_API]:!1,[T.kb.RSVP]:!1,[T.kb.RSVP_RESPONSE]:!1,[T.kb.STATIONERY_THEME_DATES]:!1,[T.kb.PARSE_RSVP_REPLY_LINKS]:!1,[T.id.SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search",[T.id.SEARCH_FETCH_COUNT]:25,[T.id.SEARCH_FIRST_PAGE_COUNT]:25,[T.id.MEDIAN_TIME_TO_LOAD_EVENT]:3500,[T.id.SPACE_IDS]:{},[T.kb.SUBSCRIPTION_RECOMMENDATIONS]:!1,[T.kb.TOOLBAR_V3]:!1,[T.kb.RIGHT_RAIL_CONTACT_CARD]:!1,[T.kb.RIGHT_RAIL_PHOTO_CARD]:!1,[T.kb.RIGHT_RAIL_DOCS_CARD]:!1,[T.kb.RIGHT_RAIL_MESSAGES_CARD]:!1,[T.id.AD_BLOCK_FEATURE_CUE_ID]:1,[T.kb.CONTACTS_PANE_FEATURE]:!1,[T.kb.CONTACTS_PANE_CUE]:!1,[T.kb.SOCIAL_ACCOUNTS]:!1,[T.kb.LINKEDIN_REAUTH_CUE]:!1,[T.kb.USE_LINKEDIN_TEST_SPID]:!1,[T.kb.MESSAGE_UNREAD_INDICATOR]:!1,[T.id.THROTTLE_API_LIST]:{},[T.kb.ADS]:!0,[T.kb.NO_ADS]:!1,[T.kb.DARLA_PREFETCH]:!0,[T.kb.DARLA_LOOKAHEAD]:!0,[T.kb.DARLA_SANDBOX]:!0,[T.kb.GEMINI_SPONSORED_VIDEO]:!1,[T.kb.AD_FREE_SUPPORTED]:!1,[T.kb.COM_SCORE_BEACONING]:!1,[T.kb.EMPTY_FOLDER_VIDEO]:!1,[T.kb.MESSAGE_READ_AD_ROTATION]:!0,[T.kb.GEMINI_VIEWABILITY]:!0,[T.kb.GEMINI_VIEWABILITY_IO]:!1,[T.id.HIDE_AD]:!1,[T.kb.MAIL_PRO_ELIGIBLE]:!1,[T.kb.MESSAGE_READ_CONTACT_CARD]:!1,[T.kb.WIDE_RIGHT_RAIL]:!1,[T.kb.PREMIUM_AD_DETECTION]:!1,[T.kb.GEMINI_CONTEXTUAL_ADS]:!1,[T.kb.NUKE_DISPLAY_ADS_ON_INACTIVE]:!1,[T.kb.ROTATE_ADS_ONLINE]:!1,[T.kb.CLOSE_ICON_PENCIL_AD]:!1,[T.kb.HIPMUNK_CARD]:!1,[T.kb.BOOKING_CARD]:!1,[T.kb.SEATGEEK_CARD]:!1,[T.kb.WIDER_MAIL_ELIGIBLE]:!1,[T.kb.MAIL_PRO]:!1,[T.kb.MAIL_PRO_LINK_IN_SETTINGS_MENU]:!1,[T.kb.ADBLOCK_UPSELL]:!1,[T.kb.SHOPPING_CART_AD]:!1,[T.kb.APAC_SHOPPING_CART_AD]:!1,[T.kb.SEARCH_AD_BACK_BUCKET]:!1,[T.kb.SEARCH_AD_ICON_ON_HOVER]:!1,[T.kb.HP_EXT_INSTALLED]:!1,[T.kb.AUTO_FORWARD_EMAIL]:!1,[T.id.HP_EXT_STORE_URL]:"",[T.kb.RIGHT_RAIL_AD_FREE_UPSELL]:!1,[T.kb.PENCIL_AD]:!1,[T.kb.SECOND_PENCIL_AD]:!1,[T.kb.HOTELS_CARD_PREFILL]:!1,[T.kb.RELATED_SEARCHES_CARD]:!1,[T.kb.RELATED_RETAILERS]:!1,[T.kb.RELATED_RETAILERS_EXPANDED]:!1,[T.kb.RELATED_RETAILERS_WITH_LOGO]:!1,[T.kb.SUBSCRIPTION_ADS]:!1,[T.kb.ADVERTISER_RELATED_SEARCHES]:!1,[T.kb.LEFT_RAIL_AD_ARBITRATION]:!1,[T.kb.MESSAGE_READ_AD_CAROUSEL]:!1,[T.kb.TIMECHUNK_PENCIL_AD]:!1,[T.kb.FLASH_SALE_AD]:!1,[T.kb.FLASH_SALE_AD_IN_SECONDS]:!1,[T.kb.PLA_SEARCH_ADS]:!1,[T.kb.PLA_ADS_ON_COUPON_MESSAGE_READ]:!1,[T.id.PLA_SEARCH_ADS_BUCKET_ID]:"",[T.id.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION]:"",[T.kb.PLA_ADS_FOR_RECOMMENDATION_EMAILS]:!1,[T.kb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ]:!1,[T.kb.MESSAGE_READ_AD_ROTATION_V2]:!1,[T.kb.ROTATE_PENCIL_AD_ON_EXPIRE]:!1,[T.kb.AOL_VIDEO_PLAYER]:!1,[T.kb.OATH_VIDEO_PLAYER]:!1,[T.kb.RIGHT_RAIL_NATIVE_AD]:!1,[T.kb.SPONSORED_MOMENT]:!1,[T.kb.VIDEO_SPONSORED_MOMENT]:!1,[T.kb.VIGLINK]:!1,[T.kb.CONTACT_CARD_TRACKING]:!1,[T.kb.DEBUG_DARLA]:!1,[T.kb.AD_BLOCK_COUPONS]:!1,[T.kb.AD_BLOCK_COUPONS_ON_PENCIL_ADS]:!1,[T.kb.ROTATE_ADS_ON_CHECK_MAIL]:!1,[T.kb.COUPONS_SMART_VIEW_SEARCH]:!1,[T.kb.AD_BLOCK_VERIFIED_BEACON]:!1,[T.id.PARTNER_ATTRIBUTION_URL]:"",[T.kb.AD_VIEWABILITY_TRACKER]:!1,[T.kb.EBAY_WARRANTY_UPSELL]:!1,[T.kb.AD_FORMAT_SELECTION]:!1,[T.kb.TAIWAN_SHOPPING_VIEW]:!1,[T.kb.SHOPLIFT_AD]:!1,[T.kb.DEALS_VIEW_V2]:!1,[T.kb.RETAILER_FILTER]:!1,[T.kb.CATEGORY_FILTER]:!1,[T.kb.ROTATE_ADS_ON_MANUAL_CHECK_MAIL]:!1,[T.kb.MESSAGE_OP_PERF]:!1,[T.kb.RIGHT_RAIL_UPSELL_VIDEO_AD]:!1,[T.id.EMPTY_FOLDER_VIDEO_CHANNELS]:{},[T.id.TIME_TO_WAIT_SINCE_LAST_AD_CALL]:0,[T.id.GEMINI_AD_COUNT]:{pencilAd:1,carouselAd:5},[T.id.GEMINI_SECTION_IDS]:{},[T.id.GEMINI_FORCE_FILTER]:!1,[T.id.AD_FREE_MAIL_URL]:"",[T.id.ABOUT_AD_URL]:"",[T.kb.SHOW_ABOUT_OUR_ADS_LINK]:!0,[T.kb.SHOW_ABOUT_YAHOO_MAIL_LINK]:!0,[T.kb.SHOW_GIVE_FEEDBACK_LINK]:!0,[T.kb.SHOW_OPT_OUT_LINK_MORE_SETTINGS]:!1,[T.id.PRIVACY_URL]:"",[T.id.TERMS_URL]:"",[T.id.HELPER_COMMUNITY_URL]:"",[T.id.ITEM_LIST_PAGE_THRESHOLD]:0,[T.id.MESSAGE_READ_AD_ROTATION_INTERVAL]:0,[T.id.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL]:0,[T.id.WIDER_MAIL_EXTENSION]:{},[T.id.UNSUBSCRIBE_NOTIFICATION]:!0,[T.id.UNSUBSCRIBE_TIMESTAMP]:Date.now(),[T.id.NUM_UNSUBSCRIBED_ITEMS]:0,[T.id.MAIL_PRO_MONTHLY_PRICE]:"$3.49",[T.id.MAIL_PRO_YEARLY_PRICE]:"$34.99",[T.id.GEMINI_VIDEO_AD_ID]:"",[T.id.GEMINI_VIDEO_AD_SITE]:"",[T.id.GEMINI_VIDEO_AD_EXP_NAME]:"",[T.id.CHROME_EXTENSION_WHITELIST]:[],[T.id.ADBLOCK_UPSELL_HELP_URL]:"https://help.yahoo.com/kb/SLN28075.html",[T.kb.ABORT_DARLA_IN_PROGRESS]:!1,[T.id.RELATED_SEARCHES_CARD_STYLE]:"default",[T.kb.MON_ADS]:!1,[T.id.VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/js/3/videoplayer-min.js?r=nextgen-desktop",[T.id.AOL_VIDEO_PLAYER_URL]:"https://cdn.vidible.tv/prod/player/js/latest/iframe-api.min.js",[T.id.AOL_VIDEO_PLAYER_IFRAME_SRC]:"https://delivery.vidible.tv/htmlembed/pid=5aaad183c74d475e29adfe4c/5aaacba1841fad0ac9a8566b.html?m.loadingplaceholder=1",[T.id.OATH_VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/oath/js/1/oath-player.js",[T.id.SECOND_PENCIL_AD_DEPTH]:10,[T.id.PENCIL_AD_EXPIRE_TIME]:7e3,[T.kb.COUPONS_ON_SEARCH_RIGHT_RAIL]:!1,[T.id.VIGLINK_BLACKLIST]:[],[T.id.PENCIL_AD_VERSION]:"default",[T.id.RIGHT_RAIL_UPSELL_VERSION]:"default",[T.id.AB_BLOCK_COUPONS_ON_PENCIL_AD_VERSION]:"default",[T.id.EBAY_WARRANTY_UPSELL_POSITION]:"top",[T.id.PREFERRED_AD_FORMAT]:0,[T.id.AD_BLOCK_COUPONS_SORT_ORDER]:"recommended",[T.kb.COMMERCIAL_ANALYSIS_OF_CONTENT]:!1,[T.id.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION]:30,[T.id.RIGHT_RAIL_UPSELL_CUE_INTERVAL]:36e5,[T.id.NUM_MESSAGE_GROUPS_TO_PREFETCH]:10,[T.id.NEIGHBOR_PREFETCH_COUNT]:0,documentTitleStandardDuration:3e3,documentTitleNotificationDuration:5e3,bulkActionDialogThreshold:50,[T.kb.SHOW_RECENT_SUGGESTIONS]:!1,[T.kb.SEARCH_SUGGESTIONS_V2]:!1,[T.kb.SHOW_EMPTY_SEARCH_SUGGESTIONS]:!1,[T.kb.FILTER_COMMERCIAL_IMAGES]:!1,deaSuggestionJWS:!1,[T.kb.ATTACHMENT_PREVIEW]:!0,[T.kb.AUTOTAG]:!1,[T.kb.EXTERNAL_CSS]:!1,messageScrollLoadThreshold:10,[T.id.PARTNER_BRAND]:"",[T.kb.RAPID_K8S]:!1,logoUrl:"https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png",secureCryptoMode:0,unsubscribe:!1,unsubscribeFromMessage:!1,ybar:!0,[T.kb.CONTACT_SUMMARY]:!1,[T.id.COMPOSE_SAVE_INTERVAL]:2e4,rteFormattingToolbar:!0,[T.kb.MKTG_BEACON]:!1,[T.kb.NEWUSER_MKTG_BEACON]:!1,[T.kb.SMARTVIEW_CATEGORIES_ALL]:!1,[T.kb.SMARTVIEW_CATEGORIES_PEOPLE]:!1,[T.kb.SMARTVIEW_CATEGORIES_PEOPLE_V2]:!1,[T.kb.SMARTVIEW_CATEGORIES_SHOPPING]:!1,udb:!0,theming:!0,[T.kb.PHOTO_THEMES]:!1,norrinOptOut:!0,optOutSurvey:!0,[T.id.HELP_URL]:"https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US",asyncTaskPollCount:200,unsubInterval:648e5,[T.kb.FETCH_FULL_BODY]:!1,peopleNotifications:!1,[T.kb.PUSH_NOTIFICATIONS]:!1,[T.kb.BROWSER_NOTIFICATIONS]:!1,dragDropPill:!0,offlineChecking:!0,promptToSync:!0,appRefreshIdleInterval:{emergencyRefresh:30,periodicRefresh:120},heartbeatRefresh:!0,[T.id.APP_ROOT_PATH]:"/d",[T.kb.TOOLTIP_EMOJI]:!1,[T.kb.CALENDAR_TAB]:!1,[T.kb.NOTEPAD_TAB]:!1,newMailVideoId:{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"},selectAll:!1,[T.kb.LOADING_FALLBACK]:!1,[T.kb.RELOADING_BAR]:!1,[T.kb.SHOW_COMMS_PROPERTIES]:!1,[T.kb.ACTION_MODULE]:!1,[T.id.SYNC_TIME]:20,[T.kb.DISPOSABLE_ADDRESS]:!0,[T.kb.ADD_SEND_ONLY_ACCOUNTS]:!0,[T.id.ASYNC_TASK_POLL_INTERVAL]:2e3,[T.id.CHECK_MAIL_INTERVAL]:3e4,[T.id.SYNC_DATA_INTERVAL]:3e4,[T.id.MAIL_URL]:"https://mail.yahoo.com",[T.id.CALENDAR_URL]:"https://calendar.yahoo.com",[T.id.NOTEPAD_URL]:"https://calendar.yahoo.com/?view=notepad",[T.kb.INLINE_ATTACHMENT]:!0,[T.id.FEEDBACK_URL]:"https://yahoo.uservoice.com/forums/600772?auth=yahoo",[T.kb.TUTORIAL]:!0,[T.kb.SETTINGS]:!0,[T.kb.UDB_MIGRATION_COMPLETE]:!1,[T.id.BUFFER_SIZE]:35,[T.id.PREVIEWABLE_INLINE_ATTACHMENT_SIZE]:51200,restoreToInbox:!1,[T.id.MESSAGE_INITIAL_RENDER_COUNT]:15,[T.kb.SHOW_TWEET]:!1,[T.id.STATIONERY_RESTRICTED_THEMES]:!1,[T.kb.TIMEZONE_CHECK]:!0,[T.kb.CHECK_MAIL_PREFETCH]:!1,[T.id.MESSAGE_FETCH_COUNT]:100,[T.id.MESSAGE_FETCH_COUNT_INITIAL]:40,[T.id.COUPON_CARDS_FETCH_COUNT]:25,[T.kb.BOOTCAMP_COUPONS]:!1,[T.id.COUPON_RECOMMENDATIONS_FETCH_COUNT]:150,[T.kb.COUPON_REC_WITH_ADS]:!1,[T.kb.COUPON_REC_WITH_BOLD_ADS]:!1,[T.kb.COUPON_REC_WITH_TOP_ADS]:!1,[T.kb.RELATED_COUPONS]:!1,[T.kb.RELATED_COUPONS_EXPANDED]:!1,[T.id.CARD_GROUPS_FETCH_COUNT]:10,[T.id.LINK_ENHANCER_URL_BLACK_LIST]:[],[T.kb.RTL]:!1,[T.id.APT_SECURITY_HELP_URL]:"https://help.yahoo.com/kb/index?page=content&y=PROD_ACCT&locale=en_US&id=SLN26995&actp=email",[T.kb.IS_RETURNING_USER]:!1,[T.kb.HAS_MAPPED_THEME]:!1,[T.kb.COUPON_CARD_EXTRACTIONS]:!1,[T.kb.COUPON_SELF_EXTRACTION]:!1,[T.kb.COUPONS_AUTO_CLIP]:!1,[T.kb.COUPON_RECOMMENDATIONS]:!1,[T.kb.COUPON_REC_VENDOR]:!1,[T.kb.MULTI_COUPON_RECOMMENDATIONS]:!1,[T.kb.CPN_ICON_MSG_LIST]:!1,[T.kb.EARNY_CARD_EXTRACTIONS]:!1,[T.kb.ENABLE_EARNY_UPSELLS]:!1,[T.kb.BULK_DELETE_MSG_EARNY_UPSELL]:!1,[T.kb.FLIGHT_CARD_EXTRACTIONS]:!1,[T.kb.COUPONS_VIEW]:!1,[T.kb.GROCERIES_VIEW]:!1,[T.kb.RECEIPTS_VIEW]:!1,[T.kb.TRAVEL_VIEW]:!1,[T.kb.EMOJI]:!0,[T.kb.PRELOAD_EMOJI]:!1,[T.kb.GIF]:!0,[T.kb.STATIONERY]:!0,[T.kb.VACATION_RESPONSE_STATIONERY]:!1,[T.kb.VACATION_RESPONSE_V2]:!1,[T.kb.RECENTLY_USED_EMOJI]:!1,[T.kb.EXCEPTION_NOTIFICATION]:!1,[T.id.NOTIFICATION_TTL]:5e3,[T.kb.QUOTIENT]:!1,[T.kb.SHOPRUNNER]:!1,[T.id.COMPOSE_THROTTLE_COUNT]:Number.MAX_VALUE,[T.kb.SCOUT]:!0,[T.kb.SCOUT_PREDICATE]:!0,[T.kb.SCOUT_RECURRING]:!0,[T.id.SCOUT_ONBOARDING]:[],[T.kb.DELETE_FROM_PHOTOS_VIEW]:!1,[T.kb.DELETE_FROM_DOCUMENTS_VIEW]:!1,[T.kb.QUOTIENT_TEXT_VARIANT]:!1,[T.kb.MSG_READ_SHOPRUNNER_CARD]:!1,[T.kb.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD]:!1,[T.kb.BLOCK_SENDERS]:!1,[T.kb.MOBILE_MESSAGE_SNIPPETS]:!1,[T.kb.DELAY_MOBILE_ONBOARDING]:!1,[T.id.MOBILE_ONBOARDING_VERSION]:1,[T.id.MOBILE_ONBOARDING_EXPERIMENT]:T.fc.DEFAULT_OFF,[T.kb.MOBILE_ONBOARDING_CUE]:!1,[T.kb.DELAY_MOBILE_ONBOARDING_CUE]:!1,[T.kb.DESIGN_CLASSIFIER]:!1,[T.kb.MOBILE_SEARCH_SUGGESTIONS]:!1,[T.kb.MOBILE_SIGNATURE]:!1,[T.kb.MOBILE_THEMING]:!1,[T.kb.MOBILE_VIRTUAL_LIST]:!1,[T.kb.MOBILE_EDIT_RECIPIENTS]:!1,[T.kb.SHOULD_SW_SUBSCRIBE]:!1,[T.kb.PUSH_NOTIFICATIONS_CUE_PTR]:!1,[T.kb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:!1,[T.kb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:!1,[T.id.PUSH_NOTIFICATIONS_EXPERIMENT]:T.Ec.DEFAULT,[T.kb.MOBILE_MESSAGE_READ_NAVIGATION]:!1,[T.kb.MESSAGE_READ_HOME_BUTTON]:!1,[T.kb.LANDSHARK_CUE]:!1,landsharkCreative:!1,showInvisibleLandshark:!1,[T.kb.SERVICE_WORKER_CACHING]:!1,[T.id.SERVICE_WORKER_CACHE_CONFIG]:[],[T.kb.STARRED_MAIL_ENHANCED]:!1,[T.id.STAR_ANIMATION]:{},[T.id.GUIDED_STAR_ANIMATION]:{},[T.id.HAS_GUIDED_STAR_ANIMATION]:!1,[T.kb.SHOW_TABS]:!1,[T.kb.PENSIEVE]:!1,[T.id.HAS_WIDE_LOGO]:!1,[T.kb.SHOW_FORWARDING_NOTIFICATION]:!1,[T.kb.DISPOSABLE_ADDRESS_DELETE_ONLY]:!1,[T.kb.SHOW_SOCIAL_ACCOUNTS_TAB_IF_NONE_CONNECTED]:!0,[T.kb.SHOW_RIGHT_RAIL_HELP_LINKS]:!0,[T.kb.ALLOW_USERNAME_AND_PHONE_REGISTRATION]:!1,[T.kb.INLINE_IMAGES_PROXIED]:!1,[T.kb.CLICK_URL_LOGGING]:!1,[T.id.BASIC_MAIL_FEEDBACK_URL]:"",[T.id.RELEVENT_ADS_URL]:"",[T.id.LEGAL_INFO_URL]:"",[T.id.PRIVACY_INFO_URL]:"",[T.id.BASIC_MAIL_HELP_URL]:"",[T.id.ACCOUNT_INFO_URL]:"",[T.id.SIGN_OUT_URL]:"",[T.id.HOME_URL]:""},ut={drawer:(e=!1,t)=>{switch(t.type){case A.a.DRAWER_OPENED:return!0;case A.a.DRAWER_CLOSED:return!1;default:return e}},autoOpenSettingsPopover:(e=!1,t)=>{switch(t.type){case A.a.SETTINGS_POPOVER_AUTOOPEN_CHANGED:return t.status||e;default:return e}},sendingEmailConfirmStatus:(e=!1,t)=>{switch(t.type){case A.a.CONFIRM_EMAIL_RESEND_REQUESTED:return!0;case A.a.CONFIRM_EMAIL_RESEND_SUCCEEDED:case A.a.CONFIRM_EMAIL_RESEND_FAILED:return!1;default:return e}},actionableRightRailContent:(e,t)=>{const{type:s,name:a}=t;switch(e||(e={currentView:null,historyViews:[]}),s){case A.a.RIGHT_RAIL_COMMS_ICON_CLICKED:if(!qe()(Object.keys(T.Nc).filter(e=>null!==e),a))break;return babelHelpers.extends({},e,{currentView:e.currentView!==a?a:null});case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:{const{uiContext:{mKey:s}={},route:{name:a}={}}=t;if(a===T.Pc.NEW_DRAFT)return e;if(s){if(-1!==fe.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return e;if(-1!==fe.REPLACE_ATTACHMENT_WITH_RIGHT_RAIL.indexOf(s)&&qe()(Object.keys(T.Nc),a))return babelHelpers.extends({},e,{currentView:a})}return babelHelpers.extends({},e,{currentView:null})}}return e},hideRightPaneAds:(e=!1,t)=>{if((t.type!==A.a.WINDOW_RESIZED||!t.autoRightRailCollapsed)&&b.a[t.type])return!1;switch(t.type){case A.a.APPLICATION_VISIBILITY_DID_CHANGE:case A.a.OPEN_PAGE_REQUESTED:return!1;case A.a.HIDE_RIGHT_PANE_ADS:return!0}return e},autoRightRailCollapsed:(e=!1,t)=>!(t.type!==A.a.HIDE_RIGHT_PANE_ADS||!t.onWindowExpand&&!t.onMessageSend)||e,[T.kb.MSG_READ_QUOTIENT_MODAL]:(e=!1,t)=>{switch(t.type){case A.a.LINK_MODAL_OPENED:return!0;case A.a.LINK_MODAL_CLOSED:return!1;default:return e}},[T.kb.MSG_READ_SHOPRUNNER_MODAL]:(e=!1,t)=>{switch(t.type){case A.a.LINK_SR_MODAL_OPENED:return!0;case A.a.LINK_SR_MODAL_CLOSED:return!1;default:return e}},[T.kb.DISPLAY_EARNY_DIALOG]:(e=!1,t)=>{const{type:s,enableEarnyBulkDeleteUpsell:a}=t;switch(s){case A.a.DELETE_ITEMS_REQUESTED:return!!a;case A.a.CLOSE_DELETE_MSG_EARNY_DIALOG:return!1;default:return e}}};Object.keys(_t).forEach(e=>{ut[e]=((e,t=!1)=>(s=t,a)=>{switch(a.type){case A.a.LAUNCH_PAGE_REQUESTED:case A.a.INITIAL_STATE:case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case A.a.SETTINGS_BLOCKED_SENDERS_RECEIVED:case A.a.POST_LAUNCH_ATTRIBUTES_RECEIVED:case A.a.COMPOSE_ATTRIBUTES_RECEIVED:return void 0!==a.features[e]?a.features[e]:s;case A.a.FEATURE_CLOSED:case A.a.FEATURE_DISABLED:case A.a.FEATURE_TRY_NOW_REQUESTED:case A.a.FEATURE_CUE_NOTIFICATION_CLOSED:case A.a.SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED:{const{fromFeature:t,name:n}=a;if((t||n)===e)return!1;const{nextFeatureCues:r=[]}=a;return-1!==r.indexOf(e)||s}case A.a.FEATURE_ENABLED:case A.a.SETTINGS_CHANGE_REQUESTED:case A.a.SETTINGS_SAVE_FILTERS_REQUESTED:case A.a.RENAME_FOLDER_REQUESTED:case A.a.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case A.a.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:case A.a.SUPPRESSED_UPSELL_SAVE_SUCCEEDED:case A.a.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{name:t,value:n}=a;return void 0===t||void 0===n?s:t===e?n:s}case A.a.BLOCK_SENDERS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const{name:t,blockSenders:n}=a;return void 0===t||void 0===n?s:t===e?n:s}case A.a.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:{const{value:t}=a;return e===T.id.VACATION_PREFERENCES?t:s}case A.a.THEME_MODE_CHANGE_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:{const{nextFeature:t}=a;if(t===e)return!0;if(a.updatedSettingAttributes){const{updatedSettingAttributes:t}=a,n=Array.isArray(t)?t.find(t=>t.name===e):t,{name:r,value:o}=n||{};return void 0===r||void 0===o?s:r===e?o:s}return s}default:{const{nextFeature:t}=a;return t===e||s}}})(e,_t[e])});var pt=Object(i.c)(ut);function mt(e,t){return babelHelpers.extends({},e,{[t]:Object.assign({},e[t],{isShown:!0})})}function ht(e,t){return babelHelpers.extends({},e,{[t]:Object.assign({},e[t],{isKeySaved:!0})})}var St=(e={},t)=>{switch(t.type){case A.a.INITIAL_STATE:{const{nextFeature:e,featureCues:s={}}=t;return e?mt(s,e):s}case A.a.FEATURE_CLOSED:case A.a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:case A.a.SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED:{const{name:s}=t;return s&&(e[s]||void 0===e[s])?mt(e,s):e}case A.a.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{feature:s}=t;return s&&e[s]&&!e[s].isPersistent?ht(e,s):e}case A.a.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case A.a.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:{const{feature:s}=t;return s&&e[s]?ht(e,s):e}default:{const{nextFeature:s}=t;return s?mt(e,s):e}}};const gt=Object(i.c)({providerName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerName;default:return e}},providerIataCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerIataCode;default:return e}},providerUrl:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerUrl;default:return e}},departureAirportName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportName;default:return e}},departureAirportDesc:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportDesc;default:return e}},departureAirportCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportCode;default:return e}},departureTime:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureTime;default:return e}},departureTerminal:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureTerminal;default:return e}},arrivalAirportName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportName;default:return e}},arrivalAirportDesc:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportDesc;default:return e}},arrivalAirportCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportCode;default:return e}},arrivalTime:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalTime;default:return e}},arrivalTerminal:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalTerminal;default:return e}},reservationId:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.reservationId;default:return e}},flightNumber:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.flightNumber;default:return e}},passengers:(e=[],t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.passengers;default:return e}},checkInUrl:(e="",t)=>{const{type:s,card:a}=t;switch(s){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.checkInUrl;default:return e}}});var It=function(e={},t){const{listData:s,type:a}=t;switch(a){case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===T.Zc.FlightReservation&&!F()(e[t],s.schemaCards[t])).reduce((t,n)=>babelHelpers.extends({},t,{[n]:gt(e[n],{type:a,card:s.schemaCards[n]})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};var Ct=s(83);const Tt=Object(i.c)({id:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.id}return e},name:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:return a.name;case A.a.CREATE_FOLDER_SUCCEEDED:case A.a.RENAME_FOLDER_SUCCEEDED:return a.name.substr(a.name.lastIndexOf("/")+1)}return e},path:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:return a&&a.path?a.path:e;case A.a.CREATE_FOLDER_SUCCEEDED:case A.a.RENAME_FOLDER_SUCCEEDED:return a&&a.name?a.name:e}return e},accountId:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.accountId}return e},types:(e=[],t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return F()(e,a.types)?e:a.types}return e},isSystem:(e=!1,t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.isSystem}return e},total:(e=0,t)=>{const{type:s,folder:a,isDestinationFolder:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.total;case A.a.MOVE_ITEMS_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:return n?e+1:e-1;case A.a.V3_MESSAGE_SAVE_SUCCEEDED:return t.draftMessageId?e:e+1}return e},unread:(e=0,t)=>{const{type:s,folder:a,isDestinationFolder:n,flags:r={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.unread;case A.a.READ_CHANGE_REQUESTED:return r.read?e+1:e-1;case A.a.MOVE_ITEMS_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:return n?r.read?e:e+1:r.read?e:e-1;default:return e}},highestModSeq:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.highestModSeq}return e},uidNext:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.CREATE_FOLDER_SUCCEEDED:return a.uidNext}return e},level:(e=0,t)=>{const{type:s,folder:a,folderNameMap:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:return a.level;case A.a.CREATE_FOLDER_SUCCEEDED:return Object(f.j)(a,n).length||0}return e}});var At=function(e={},t){switch(t.type){case A.a.INITIAL_STATE:case A.a.CREATE_FOLDER_SUCCEEDED:case A.a.RENAME_FOLDER_SUCCEEDED:{const s=Object.keys(t.folderMap||{}).map(e=>t.folderMap[e]).filter(t=>!F()(e[t.id],t));return s.length?s.reduce((s,a)=>babelHelpers.extends({},s,{[a.id]:Tt(s[a.id],{type:t.type,folder:a,folderNameMap:e})}),babelHelpers.extends({},e)):e}case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:{const{folderMap:s={}}=t,a=Object.keys(s);if(!a.length)return e;const n=a.map(e=>s[e]).filter(t=>!F()(e[t.id],t)),r=Object.keys(e).filter(e=>!s[e]);return n.length||r.length?n.reduce((e,s)=>babelHelpers.extends({},e,{[s.id]:Tt(e[s.id],{type:t.type,folder:s})}),oe()(e,r)):e}case A.a.DELETE_FOLDER_SUCCEEDED:return oe()(e,[t.folderId]);case A.a.MOVE_ITEMS_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.READ_CHANGE_REQUESTED:{const{itemsToUpdate:s=[]}=t,a=s.filter(e=>e.isAffected);return a.length?a.reduce((e,{flags:s,folder:a,destinationFolder:n})=>babelHelpers.extends({},e,{[a.id]:Tt(e[a.id],{type:t.type,folder:a,flags:babelHelpers.extends({},s,{read:"boolean"==typeof t.isRead?t.isRead:s.read})})},n?{[n.id]:Tt(e[n.id],{type:t.type,folder:a,isDestinationFolder:!0,flags:s})}:{}),babelHelpers.extends({},e)):e}case A.a.V3_MESSAGE_SAVE_SUCCEEDED:{const{draftFolderId:s}=t;return s?babelHelpers.extends({},oe()(e,[s]),{[s]:Tt(e[s],{type:t.type,folder:e[s],folderNameMap:e,draftMessageId:t.draftMessageId})}):e}default:return e}};const Ot=(e=T.Mc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.a.GIF_FETCH_REQUESTED:return T.Mc.LOADING;case A.a.GIF_FETCH_SUCCEEDED:return T.Mc.LOADED;case A.a.GIF_FETCH_FAILED:return T.Mc.ERROR;default:return e}};var bt=Object(i.c)({categories:(e={},t)=>{switch(t.type){case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.reduce((e,t)=>babelHelpers.extends({},e,{[t.categoryId]:{category:t}}),{});case A.a.GIF_FETCH_FAILED:case A.a.GIF_FETCH_REQUESTED:case A.a.GIF_FETCH_SUCCEEDED:{const{query:s,preloadItems:a}=t;return a?babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],{status:Ot(e[s].status,t)})}):e}default:return e}},categoriesStatus:(e=T.Mc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return T.Mc.LOADED;case A.a.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return T.Mc.LOADING;case A.a.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return T.Mc.ERROR;default:return e}},categoryIds:(e=[],t)=>{switch(t.type){case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.map(e=>e.categoryId);default:return e}}});var Rt=(e={},t)=>{switch(t.type){case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.GIF_FETCH_SUCCEEDED:{const{listData:{gifItems:s={}}}=t;return babelHelpers.extends({},e,s)}default:return e}};var Dt=s(370);const ft=({now:e,timezone:t})=>(({now:e,timezone:t})=>{const s=T.Nd.Types,a=(e,t,s)=>({type:e,value:t,timestamp:s}),n=(e,t)=>a(e,t,t),{weekday:r,month:o,year:i,startOfPastHour:c,startOfPastDay:l,startOfMonth:d,startOfYear:E}=Object(D.h)({time:e,timezone:t}),_=[a(s.TODAY,0,c(0)),a(s.YESTERDAY,0,l(1)),a(s.THIS_WEEK,0,l(r)),a(s.LAST_WEEK,0,l(7+r)),a(s.THIS_MONTH,o,d(o))];for(let e=2;e<r+1;e++)_.push(a(s.DAY,r-e,l(e)));for(let e=0;e<6&&!(o-e-1<0);e++)_.push(a(s.MONTH,o-e-1,d(o-e-1)));_.push(n(s.THIS_YEAR,E(i)));for(let e=0;e<i-1970&&!(i-e-1<0);e++)_.push(n(s.YEAR,E(i-e-1)));return _.sort((e,t)=>t.timestamp-e.timestamp)})({now:e,timezone:t}).map(e=>({listId:Object(N.f)({listContentType:T.Db.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp})),Nt=({now:e,timezone:t})=>(({now:e,timezone:t})=>{const s=T.Nd.Types,a=(e,t)=>((e,t,s)=>({type:e,value:t,timestamp:s}))(e,t,t),{year:n,startOfYear:r}=Object(D.h)({time:e,timezone:t}),o=[];for(let e=0;e<20;e++)o.push(a(s.YEAR,r(n+e)));return o.sort((e,t)=>t.timestamp-e.timestamp)})({now:e,timezone:t}).map(e=>({listId:Object(N.f)({listContentType:T.Db.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp})),Mt=(e=[],t=[],s=(e=>!(e.length<2)&&e[0].timestamp<e[e.length-1].timestamp))=>{let a=[...e],n=0;if(0===t.length)return e;const r=s(e);r&&a.reverse();const o=t.reduce((e,{type:t,value:s,listId:o,predicate:i})=>{const c=a.filter(e=>i(e,n));return a=a.slice(n=c.length),n?e.concat({type:t,value:s,ts:new Date(s),listId:o,items:r?c.reverse():c}):e},[]);return r&&o.reverse(),o},Lt=(e=[])=>e.reduce((e,{items:t,listId:s,type:a,value:n})=>e.concat({id:[s,a,n].join("-"),type:a,value:n,listId:s}).concat(t),[]),yt=(e,t,s)=>{const{id:a,listId:n}=e;if(Object(N.q)(n)!==T.Db.MESSAGES)return!1;const r=s.getStreamSelectionType(t),o=s.getMessageIdsFromMessageGroupId(a);switch(r){case T.gd.READ:return!o.some(e=>!s.getMessageFlags(e).read);case T.gd.STARRED:return o.some(e=>s.getMessageFlags(e).flagged);case T.gd.UNREAD:return o.some(e=>!s.getMessageFlags(e).read);case T.gd.UNSTARRED:return!o.some(e=>s.getMessageFlags(e).flagged);case T.gd.ALL:return!0;default:return!1}};var Pt=s(271);const vt=(e,t)=>(e=>e.map(e=>e.folderType===T.sb.DRAFT?babelHelpers.extends({},e,{expansionState:T.z.EXPANDED}):babelHelpers.extends({},e,{expansionState:T.z.COLLAPSED})))(e).map(e=>e.messageId===t?babelHelpers.extends({},e,{expansionState:T.z.EXPANDED}):e),Ft=(e,t)=>{const{getMessageFlags:s}=t,a=(e=>{const{getRouteParams:t,getHashParams:s,getRoute:a}=e,n=t(),r=a(),o=n.attachmentId&&"1"!==r.query.fullscreen,i=s();return o?Object(M.f)(r.params.attachmentId):i.messageId||null})(t);if(a)return vt(e,a);const n=e.filter(e=>e.folderType!==T.sb.DRAFT).pop(),r=e.filter(e=>e.messageId).some(e=>!s(e.messageId).read),o=e.map(e=>e.folderType===T.sb.DRAFT||!s(e.messageId).read||!r&&s(e.messageId).flagged||e.messageId===n.messageId?babelHelpers.extends({},e,{expansionState:T.z.EXPANDED}):babelHelpers.extends({},e,{expansionState:T.z.COLLAPSED}));return o.map((e,t)=>{if(e.expansionState===T.z.EXPANDED)return e;const s=t+1<o.length?o[t+1]:void 0;return 0===t||s&&s.expansionState===T.z.EXPANDED?e:babelHelpers.extends({},e,{expansionState:T.z.STACKED})})},Ut=Object(h.e)(T.wd),Ht=Object(h.e)(T.ad),kt=Object(h.e)(T.bd),Gt=[T.wd.DATE_DESC,T.wd.DATE_ASC,T.wd.STARRED,T.wd.SUBJECT],wt=[T.wd.DATE_DESC,T.wd.DATE_ASC,T.wd.UNREAD,T.wd.STARRED];var xt=s(423);var Bt=function(e=[],t){switch(t.type){case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return t.contacts}return e};var jt=Object(i.c)({type:(e="",t)=>{const{type:s,launchError:a,mailboxAttributes:n}=t;switch(s){case A.a.INITIAL_STATE:return a||(n&&!n.success?T.Ab.SETTINGS_FAILED_TO_LOAD:e);case A.a.LAUNCH_FAILED:return"";default:return e}}});var Vt=(e=!1,t)=>{const{listId:s,type:a}=t;switch(a){case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.RETAILERS_LIST_SUCCEEDED:case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:return void 0!==t.listData.lists[s].hasMoreItems?t.listData.lists[s].hasMoreItems:e;default:return e}};var Wt=(e=[],t)=>{const{listId:s,type:a}=t;switch(a){case A.a.PENSIEVE_DELETE_REQUESTED:{const{itemsToUpdate:s=[]}=t,a=s.filter(e=>e.isAffected).map(e=>e.id);return a.length?e.filter(e=>-1===a.indexOf(e)):e}case A.a.INITIAL_STATE:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.COUPONS_ADD_TAG_DECO_REQUESTED:case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case A.a.LINK_RETAILER_SUCCEEDED:case A.a.UNLINK_RETAILER_SUCCEEDED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.ACTIVATE_OFFER_SUCCEEDED:{const{itemIds:a}=t.listData.lists[s];return F()(e,a)?e:Object(N.c)(e,a)}case A.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const s=t.itemsToUpdate.filter(e=>e.isAffected&&Object(N.r)(t.listToUpdate.listId)!==T.Eb.ALL_COUPON_CARDS).map(e=>e.id);return s.length?e.filter(e=>-1===s.indexOf(e)):e}case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.RETAILERS_LIST_SUCCEEDED:{const{listData:s,listId:a}=t;return Object(N.T)(e,s,a)}case A.a.READ_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a,isRead:n}=t;if(!s)return e;const{listId:r}=s,o=Object(Ct.a)(a,r,n?[]:["unread"]);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case A.a.STAR_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a,isStarred:n}=t;if(!s)return e;const{listId:r}=s,o=Object(Ct.a)(a,r,n?["flagged","starred"]:[]);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case A.a.V3_MESSAGE_SAVE_SUCCEEDED:{const{itemsToUpdate:s=[]}=t;return s.length?e.map(e=>{const t=s.find(t=>t.isAffected&&t.id===e);return t?t.newId:e}):e}case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.SEND_SUCCESS:{const{listToUpdate:s,itemsToUpdate:a=[],conversationsMode:n,message:r}=t;if(!s)return e;const{folderIds:o=[]}=s;let i=Object(Ct.b)(a,o);const c=(i=a.reduce((e,{attachmentIds:t=[]})=>e.concat(t),i)).length?e.filter(e=>-1===i.indexOf(e)):e,l=Object(N.s)(t.destinationFolderId);if(s.listId===l&&r){const e=n?r.conversationId:r.id;return Object(N.b)(l,c,e)}return c}case A.a.OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:{const{itemIds:e}=t.listData.lists[s];return e||{}}default:return e}};var qt=(e=null,t)=>{const{listId:s,type:a}=t;switch(a){case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return void 0!==t.listData.lists[s].lmv3Query?t.listData.lists[s].lmv3Query:e;default:return e}};var Kt=(e="",t)=>{const{listId:s,type:a}=t;switch(a){case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.listData.lists[s].nextItemsUrl||"";default:return e}};var zt=(e="",t)=>{const{listId:s,type:a}=t;switch(a){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return t.listData.lists[s].offerType||e;default:return e}};var Yt=(e=0,t)=>{const{listId:s,type:a}=t;switch(a){case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.listData.lists[s].offset||e;default:return e}};var Zt=(e=T.Mc.DOES_NOT_EXIST,t)=>{switch(t.type){case A.a.INITIAL_STATE:return-1===[T.Pc.FOLDER,T.Pc.LIST,T.Pc.SEARCH,T.Pc.BASE].indexOf(t.route.name)?e:T.Mc.LOADED;case A.a.GIF_FETCH_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case A.a.RETAILERS_LIST_SUCCEEDED:case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.TAIWAN_COMMERCE_DEALS_SUCCEEDED:return T.Mc.LOADED;case A.a.GIF_FETCH_REQUESTED:return T.Mc.LOADING;case A.a.COUPONS_LIST_FAILED:case A.a.RECEIPTS_LIST_FAILED:case A.a.MORE_RECEIPTS_REQUEST_FAILED:case A.a.MORE_COUPONS_REQUEST_FAILED:case A.a.GIF_FETCH_FAILED:case A.a.CHANGE_FOLDER_FAILED:case A.a.SEARCH_LIST_ITEMS_FAILED:case A.a.TRAVEL_LIST_FAILED:case A.a.CONTACTS_LIST_FETCH_FAILED:case A.a.IMPORTANT_CONTACTS_FETCH_FAILED:case A.a.RETAILERS_LIST_FAILED:case A.a.OFFERS_LIST_FAILED:case A.a.MORE_OFFERS_LIST_FAILED:case A.a.ACTIVATED_OFFERS_LIST_FAILED:case A.a.MORE_ACTIVATED_OFFERS_LIST_FAILED:case A.a.TAIWAN_COMMERCE_DEALS_FAILED:return T.Mc.ERROR;default:return e}};var Xt=(e=[],t)=>{const{listId:s,type:a}=t;switch(a){case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{if(void 0===t.listData.lists[s].suggestedWords)return e;const{suggestedWords:a=[]}=t.listData.lists[s],[n]=a;return(n||{}).suggested||e}default:return e}};var Qt=(e=null,t)=>{const{listId:s,type:a}=t;switch(a){case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:return void 0!==t.listData.lists[s].totalHits?t.listData.lists[s].totalHits:e;default:return e}};var $t=(e=!1,t)=>{const{type:s}=t;switch(s){case A.a.TOGGLE_LIST_VISIBILITY:return!e;default:return e}};const Jt=Object(i.c)({itemIds:Wt,nextItemsUrl:Kt,offset:Yt,hasMoreItems:Vt,offerType:zt,status:Zt,lmv3Query:qt,totalHits:Qt,suggestedWords:Xt,searchCoupons:(e=null,t)=>{switch(t.type){case A.a.COUPON_SEARCH_SUCCEEDED:return t.response;default:return e}},expanded:$t});var es=(e={},t)=>{switch(t.type){case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.COUPONS_ADD_TAG_DECO_REQUESTED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case A.a.RETAILERS_LIST_SUCCEEDED:case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:case A.a.RETAILERS_LIST_FAILED:return babelHelpers.extends({},e,Object.keys(t.listData.lists||{}).reduce((s,a)=>babelHelpers.extends({},s,{[a]:Jt(e[a],babelHelpers.extends({},t,{listId:a}))}),{}));case A.a.GIF_FETCH_FAILED:case A.a.COUPONS_LIST_FAILED:case A.a.MORE_COUPONS_REQUEST_FAILED:case A.a.RECEIPTS_LIST_FAILED:case A.a.MORE_RECEIPTS_REQUEST_FAILED:case A.a.CHANGE_FOLDER_FAILED:case A.a.CONTACTS_LIST_FETCH_FAILED:case A.a.SEARCH_LIST_ITEMS_FAILED:case A.a.COUPON_SEARCH_SUCCEEDED:case A.a.OFFERS_LIST_FAILED:case A.a.MORE_OFFERS_LIST_FAILED:case A.a.ACTIVATED_OFFERS_LIST_FAILED:case A.a.MORE_ACTIVATED_OFFERS_LIST_FAILED:case A.a.TAIWAN_COMMERCE_DEALS_SUCCEEDED:case A.a.TAIWAN_COMMERCE_DEALS_FAILED:case A.a.TOGGLE_LIST_VISIBILITY:{const{listId:s}=t;return babelHelpers.extends({},e,{[s]:Jt(e[s],t)})}case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.READ_CHANGE_REQUESTED:case A.a.SEND_SUCCESS:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.STAR_CHANGE_REQUESTED:case A.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:case A.a.PENSIEVE_DELETE_REQUESTED:{const{listsToUpdate:s=[],itemsToUpdate:a=[]}=t;return s.length&&a.length?babelHelpers.extends({},e,s.reduce((s,n)=>babelHelpers.extends({},s,{[n.listId]:Jt(e[n.listId],babelHelpers.extends({},t,{listToUpdate:n,itemsToUpdate:a}))}),{})):e}case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:{const{listsToUpdate:s=[],itemsToUpdate:a=[]}=t;return babelHelpers.extends({},e,s.reduce((s,n)=>babelHelpers.extends({},s,{[n.listId]:Jt(e[n.listId],babelHelpers.extends({},t,{listToUpdate:n,itemsToUpdate:a}))}),{}))}case A.a.COUPON_RECOMMENDATIONS_CLOSED:{const{listId:s=""}=t;return""===s?e:oe()(e,s)}case A.a.LINK_RETAILER_SUCCEEDED:{const s=Object.keys(t.listData.lists),a=babelHelpers.extends({},e,s.reduce((s,a)=>babelHelpers.extends({},s,{[a]:Jt(e[a],babelHelpers.extends({},t,{listId:a}))}),{}));return a[s[1]].itemIds=a[s[1]].itemIds.filter(e=>!a[s[0]].itemIds.includes(e)),a}case A.a.UNLINK_RETAILER_SUCCEEDED:{const s=Object.keys(t.listData.lists),a=babelHelpers.extends({},e,s.reduce((s,a)=>babelHelpers.extends({},s,{[a]:Jt(e[a],babelHelpers.extends({},t,{listId:a}))}),{}));return a[s[0]].itemIds=a[s[0]].itemIds.filter(e=>!a[s[1]].itemIds.includes(e)),a}default:return e}};var ts=Object(i.c)({locationSuggestions:(e={},t)=>{switch(t.type){case A.a.LOCATION_SUGGEST_SUCCEEDED:return babelHelpers.extends({},e,{[t.keyword]:t.suggestions});default:return e}},locationFetchStatus:(e={},t)=>{switch(t.type){case A.a.LOCATION_SUGGEST_REQUESTED:return{[t.keyword]:T.Mc.LOADING};case A.a.LOCATION_SUGGEST_SUCCEEDED:return{[t.keyword]:T.Mc.LOADED};case A.a.LOCATION_SUGGEST_FAILED:return{[t.keyword]:T.Mc.ERROR};default:return e}}});var ss=Object(i.c)({suggestions:function(e={},t){switch(t.type){case A.a.ALIAS_EMAIL_CREATE_REQUESTED:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:return{};case A.a.ALIAS_EMAIL_CREATE_FAILED:return t.suggestions?{[t.email]:t.suggestions}:e}return e},status:function(e={},t){switch(t.type){case A.a.ALIAS_EMAIL_CREATE_REQUESTED:return{[t.email]:T.Mc.LOADING};case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:return{[t.email]:T.Mc.LOADED};case A.a.ALIAS_EMAIL_CREATE_FAILED:return{[t.email]:T.Mc.ERROR}}return e}});function as(e){return{getSuggestions:t=>e.suggestions[t],getStatus:t=>e.status[t]||T.Mc.DOES_NOT_EXIST}}var ns=s(47);const rs=Object(i.c)({id:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.id}return e},email:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return-1===[T.g.EXTERNAL,T.g.PHONE].indexOf(a.type)?a.email:"";case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{email:t=e}=n;return t}}return e},description:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.description||"";case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{description:t=e}=n;return t}}return e},isPrimary:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return!!a.isPrimary;case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{isPrimary:t=e}=n;return t}}return e},isSelected:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return!!a.isSelected;case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{isSelected:t=e}=n;return t}}return e},isSending:(e=!1,t)=>{const{type:s,account:a,isSending:n,accountType:r}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.isSending;case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(void 0!==n)return-1!==[T.g.IMAPIN].indexOf(r)?e:n}return e},signatureActive:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:case A.a.SIGNATURE_STATUS_CHANGE_REQUESTED:return!!a.signatureActive;case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{signatureActive:t=e}=n;return t}}return e},signature:(e="",t)=>{const{type:s,account:a,updatedProperties:n={},updatedAccount:r}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.signature||"";case A.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:return void 0!==n.signature?n.signature:r&&void 0!==r.signature?r.signature:e;case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{signature:t=e}=n;return t}}return e},sendingName:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.sendingName||"";case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{sendingName:t=e}=n;return t}}return e},status:(e=null,t)=>{const{type:s,account:a,status:n,updatedProperties:r={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.status;case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{status:t=e}=r;return t}case A.a.ACCOUNT_DELETE_REQUESTED:return e===n?e:n}return e},type:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.type||"";case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{type:t=e}=n;return t}}return e},replyToAddress:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.replyToAddress||"";case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{replyToAddress:t=e}=n;return t}}return e},isActive:(e=!1,t)=>{const{type:s,account:a}=t;switch(s){case A.a.INITIAL_STATE:return a.isPrimary;default:return e}},accountVerified:(e=!1,t)=>{const{type:s,account:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.accountVerified}return e},isSynced:(e=!0,t)=>{switch(t.type){case A.a.ACCOUNT_ADD_SUCCEEDED:case A.a.ACCOUNT_ADD_FINISHED:return!0;case A.a.ACCOUNT_ADD_FAILED:return!1;default:return e}},subscriptionId:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.subscriptionId||e;default:return e}},link:(e={},t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ACCOUNT_ADD_SUCCEEDED:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:return a.link||{};case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{link:t=e}=n;return t}default:return e}},serverUri:(e="",t)=>{const{type:s,account:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.serverUri||""}return e},forwardEmail:(e="",t)=>{const{type:s,account:a={},updatedProperties:n={}}=t,{unsetFields:r=[]}=n,{forwardEmail:o=""}=a;switch(s){case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==r.indexOf("forwardEmail"))return"";break;case A.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(n.hasOwnProperty("forwardEmail"))return a.forwardEmail;break;case A.a.INITIAL_STATE:return o}return e},forwardEmailVerified:(e=!1,t)=>{const{type:s,account:a={},updatedProperties:n={}}=t,{unsetFields:r=[]}=n,{forwardEmailVerified:o=!1}=a;switch(s){case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==r.indexOf("forwardEmail"))return!1;break;case A.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(n.hasOwnProperty("forwardEmailVerified"))return a.forwardEmailVerified;break;case A.a.INITIAL_STATE:return o}return e},createTime:(e="",t)=>{const{type:s,account:a={}}=t;switch(s){case A.a.INITIAL_STATE:return a.createTime;case A.a.ACCOUNT_ADD_SUCCEEDED:return Date.now()/1e3}return e},linkedAccounts:(e=[],t)=>{const{type:s,account:a={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ACCOUNT_ADD_SUCCEEDED:return a.linkedAccounts||e}return e},showForwardReviewAlert:(e=!1,t)=>{const{type:s,updatedProperties:a}=t;switch(s){case A.a.REVIEW_FORWARD_EMAIL:return a.showForwardReviewAlert}return e}});var os=(e={},t)=>{switch(t.type){case A.a.INITIAL_STATE:{const{accounts:s=[]}=t;return s.length?s.reduce((e,s)=>(e[s.id]=rs({},babelHelpers.extends({},t,{account:s})),e),{}):e}case A.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case A.a.SIGNATURE_STATUS_CHANGE_REQUESTED:case A.a.ACCOUNT_ADD_SUCCEEDED:case A.a.ACCOUNT_ADD_FAILED:{const{updatedAccount:s}=t;return s?babelHelpers.extends({},e,{[s.id]:rs(e[s.id],babelHelpers.extends({},t,{account:s}))}):e}case A.a.REVIEW_FORWARD_EMAIL:{const{accountId:s,updatedProperties:a}=t;return a?babelHelpers.extends({},e,{[s]:rs(e[s],t)}):e}case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{accountId:s,updatedProperties:a}=t;return a&&a.isSending&&1===Object.keys(a).length?Object.keys(e).reduce((a,n)=>babelHelpers.extends({},a,{[n]:rs(e[n],babelHelpers.extends({},t,{isSending:n===s,accountType:e[n].type}))}),{}):a?babelHelpers.extends({},e,{[s]:rs(e[s],t)}):e}case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:{const{newAccount:s}=t;return s?babelHelpers.extends({},e,{[s.id]:rs(e[s.id],babelHelpers.extends({},t,{account:s}))}):e}case A.a.ACCOUNT_DELETE_SUCCEEDED:{const{updatedAccount:s}=t;return s?oe()(e,[s.id]):e}case A.a.ACCOUNT_ADD_FINISHED:return Object.keys(e).reduce((s,a)=>babelHelpers.extends({},s,{[a]:rs(e[a],t)}),{});case A.a.ACCOUNT_DELETE_REQUESTED:{const{accountId:s}=t;if(!s)return e;const a=Object.keys(e).map(t=>e[t]).filter(e=>e.type===T.g.ALIAS),n=e[s]||a.find(e=>e.id===s),r=babelHelpers.extends({},n,{status:T.f.DELETE_IN_PROGRESS});return r.type===T.g.DEA?oe()(e,[r.id]):babelHelpers.extends({},e,{[r.id]:rs(e[r.id],babelHelpers.extends({},t,{account:r,status:T.f.DELETE_IN_PROGRESS}))})}default:return e}};const is=4002,cs=4003;var ls=Object(i.c)({id:(e=null,t)=>{switch(t.type){case A.a.INITIAL_STATE:return t.selectedMailbox.id}return e},accounts:os,aliasSuggestion:ss,socialAccountsStatus:(e={},t)=>{switch(t.type){case A.a.SOCIAL_ACCOUNTS_STATUS_RECEIVED:return t.response||e;case A.a.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:{const{key:s}=t;return oe()(e||{},s)}default:return e}},deaBaseName:(e={deaDomain:"",deaPrefix:""},t)=>{switch(t.type){case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{features:s={}}=t,a=s[T.Wb.DEA_BASE_NAME];return void 0!==a?a:e}case A.a.INITIAL_STATE:{const{mailboxAttributes:s={}}=t,a=(s.responses||{})[T.Wb.DEA_BASE_NAME];return void 0!==a?a:e}case A.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:{const{baseName:e,domain:s}=t;return{deaPrefix:e,deaDomain:s}}default:return e}},baseNameSuggestions:(e=[],t)=>{switch(t.type){case A.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:case A.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return[];case A.a.INITIAL_STATE:case A.a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:{const{suggestions:e=[]}=t;return e}default:return e}},recentlyAddedAccount:(e=null,t)=>{switch(t.type){case A.a.ACCOUNT_ADD_SUCCEEDED:{const{updatedAccount:e}=t;return e.id}case A.a.ACCOUNT_ADD_FINISHED:return null;default:return e}},accountAlerts:(e=[],t)=>{const{type:s,accountAlerts:a=[]}=t;switch(s){case A.a.INITIAL_STATE:case A.a.ACCOUNT_REAUTH_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.POST_LAUNCH_SYNC_SUCCEEDED:return a&&a.length>0?a:e;default:return e}},mailboxSize:(e=0,t)=>{switch(t.type){case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{features:s={}}=t;return s[T.Wb.MAILBOX_SIZE]||e}case A.a.INITIAL_STATE:{const{mailboxAttributes:s={}}=t;return(s.responses||{})[T.Wb.MAILBOX_SIZE]||e}default:return e}}});const ds=Object(i.c)({body:function(e={},t){const{type:s,messageId:a,v3MessageBodiesMap:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return n[a].body||{};default:return e}},status:function(e=T.Mc.DOES_NOT_EXIST,t){const{type:s,errorMessageIds:a=[]}=t;switch(s){case A.a.INITIAL_STATE:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return-1===a.indexOf(t.messageId)?T.Mc.LOADED:T.Mc.ERROR;case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.MESSAGE_BODIES_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:return e===T.Mc.LOADED?T.Mc.LOADED:T.Mc.DOES_NOT_EXIST;case A.a.MESSAGE_BODIES_FAILED:return T.Mc.ERROR;default:return e}},isSecure:function(e=!1,t){switch(t.type){case A.a.INITIAL_STATE:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!1;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case A.a.MESSAGE_BODIES_REQUESTED:return!!t.secure;default:return e}},hasFullBody:function(e=!1,t){const{type:s,messageId:a,full:n,v3MessageBodiesMap:r}=t;switch(s){case A.a.INITIAL_STATE:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!0;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case A.a.MESSAGE_BODIES_REQUESTED:{const{body:e={}}=r[a],{htmlAnnotations:t}=e;return!n&&t?!t.some(({type:e})=>"quoted"===e):!!n}default:return e}},retryCount:function(e=0,t){switch(t.type){case A.a.MESSAGE_BODIES_FAILED:return Math.min(T.Nb+1,e+1);default:return e}}});var Es=function(e={},t){switch(t.type){case A.a.INITIAL_STATE:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case A.a.OPEN_PAGE_REQUESTED:case A.a.MESSAGE_BODIES_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.MESSAGE_BODIES_FAILED:{const s=Object.keys(t.v3MessageBodiesMap||{});if(!s.length)return e;const a=s.reduce((s,a)=>babelHelpers.extends({},s,{[a]:ds(e[a],babelHelpers.extends({},t,{messageId:a}))}),{});return babelHelpers.extends({},e,a)}case A.a.SETTINGS_CHANGE_REQUESTED:if(t.name===T.id.SHOW_IMAGES){if(!0===t.value){const t=Object.keys(e).reduce((t,s)=>e[s].body.htmlAnnotations.some(({type:e})=>"blocked"===e)?babelHelpers.extends({},t):babelHelpers.extends({},t,{[s]:e[s]}),{});return babelHelpers.extends({},t)}return{}}return e;default:return e}};var _s=function(e={},t){const{listData:s={},type:a,itemsToUpdate:n,messageMetadataMap:r={}}=t,o=-1!==[A.a.MESSAGE_AUTO_SAVE_SUCCEEDED,A.a.MESSAGE_SAVE_SUCCEEDED].indexOf(a),i=-1!==[A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),c=-1!==[A.a.EXTRACT_COUPON_SUCCEEDED].indexOf(a);switch(a){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const t=Object.keys(s.messages).filter(t=>o||i||c?!F()(e[t],s.messages[t]):!e[t]).reduce((e,t)=>babelHelpers.extends({},e,{[t]:s.messages[t].flags}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(r);if(!t.length)return e;const a=t.map(t=>({[t]:e[t]})),n=Object.keys(s.messages||[]).reduce((t,a)=>{const n=s.messages[a].decos,r=n&&n.some(e=>e&&e.id===T.Zb.CRD);return babelHelpers.extends({},t,{[a]:r?s.messages[a].flags:e[a]})},{});return babelHelpers.extends({},e,Object.assign({},...a,n))}case A.a.READ_CHANGE_REQUESTED:case A.a.STAR_CHANGE_REQUESTED:{const s=n.filter(e=>e.isAffected).reduce((s,n)=>babelHelpers.extends({},s,{[n.messageId]:a===A.a.READ_CHANGE_REQUESTED?babelHelpers.extends({},e[n.messageId],{read:!t.isRead}):babelHelpers.extends({},e[n.messageId],{flagged:!t.isStarred})}),{});return Object.keys(s).length?babelHelpers.extends({},e,s):e}case A.a.MOVE_ITEMS_REQUESTED:{const t=n.filter(e=>e.isAffected).reduce((t,s)=>{const a=babelHelpers.extends({},e[s.messageId]);return(s.isSpamMove||s.isHamMove)&&(a.spam=s.isSpamMove,a.ham=s.isHamMove),babelHelpers.extends({},t,{[s.messageId]:a})},{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};var us=function(e={},t){const{listData:s={},type:a,message:n={},itemsToUpdate:r,messageMetadataMap:o={}}=t,i=-1!==[A.a.MESSAGE_AUTO_SAVE_SUCCEEDED,A.a.MESSAGE_SAVE_SUCCEEDED].indexOf(a),c=-1!==[A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),l=-1!==[A.a.EXTRACT_COUPON_SUCCEEDED].indexOf(a);switch(a){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const t=Object.keys(s.messages).filter(t=>i||c||l?!F()(e[t],s.messages[t]):!e[t]).reduce((e,t)=>babelHelpers.extends({},e,{[t]:s.messages[t].folder.id}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.a.V3_MESSAGE_SEND_SUCCEEDED:return n.id&&n.folder&&n.folder.id?babelHelpers.extends({},e,{[n.id]:n.folder.id}):e;case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(o);if(!t.length)return e;const a=t.map(t=>({[t]:e[t]})),n=Object.keys(s.messages||[]).reduce((t,a)=>{const n=s.messages[a].decos,r=n&&n.some(e=>e&&e.id===T.Zb.CRD);return t[a]=r?s.messages[a].folder.id:e[a],t},{});return babelHelpers.extends({},e,Object.assign({},...a,n))}case A.a.UNDO_MOVE_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:{const t=r.filter(e=>e.isAffected),s=t.filter(e=>!e.destinationFolder).map(e=>e.messageId),a=t.reduce((t,s)=>babelHelpers.extends({},t,{[s.messageId]:s.destinationFolder?s.destinationFolder.id:e[s.messageId]}),{});return Object.keys(a).length||s.length?oe()(babelHelpers.extends({},e,a),s):e}default:return e}};const ps=(e=[],t)=>{const{type:s,messageGroup:a=[],itemToUpdate:n={}}=t;switch(s){case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:return F()(a,e)?e:a;case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return n.destinationFolder&&-1===n.destinationFolder.types.indexOf(T.sb.TRASH)&&-1===n.destinationFolder.types.indexOf(T.sb.BULK)||!n.isAffected?e:e.filter(e=>e!==n.messageId);default:return e}};var ms=function(e={},t){const{type:s,listData:a={},itemsToUpdate:n}=t;switch(s){case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.INITIAL_STATE:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:{const{groupIdToMessageIdsMap:t}=a;if(!t)return e;const n=Object.keys(t).filter(s=>!F()(t[s],e[s])).reduce((a,n)=>babelHelpers.extends({},a,{[n]:ps(e[n],{type:s,messageGroup:t[n]})}),{});return Object.keys(n).length?babelHelpers.extends({},e,n):e}case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return n.length?n.reduce((e,t)=>{const{groupId:a}=t,n=ps(e[a],{type:s,itemToUpdate:t});return n.length?babelHelpers.extends({},e,{[a]:n}):oe()(e,[a])},babelHelpers.extends({},e)):e;default:return e}};const hs=Object(i.c)({replyTo:(e=[],t)=>{const{type:s,replyTo:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:return F()(e,a)?e:a||e;default:return e}},from:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:return F()(e,a.headers.from)?e:a.headers.from;default:return e}},to:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return F()(e,a.headers.to)?e:a.headers.to;default:return e}},cc:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return F()(e,a.headers.cc)?e:a.headers.cc;default:return e}},bcc:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return F()(e,a.headers.bcc)?e:a.headers.bcc;default:return e}},date:(e=null,t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.headers.date?a.headers.date:e;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.headers.date?a.headers.date:e;default:return e}},messageIdRfc822:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.headers.messageIdRfc822?a.headers.messageIdRfc822:e;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.headers.messageIdRfc822?a.headers.messageIdRfc822:e;default:return e}}}),Ss=Object(i.c)({messageId:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return a.id||e;default:return e}},csid:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:return!e&&a.csid?a.csid||"":e;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return!e&&a.csid&&n?a.csid||"":e;default:return e}},conversationId:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:return a.conversationId?a.conversationId:e;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.conversationId?a.conversationId:e;default:return e}},cardConversationId:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.EXTRACT_COUPON_SUCCEEDED:return a.cardConversationId?a.cardConversationId:e;default:return e}},decos:(e=[],t)=>{const{type:s,message:a={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:return a.decos?a.decos:e;default:return e}},inReplyTo:(e={},t)=>{const{type:s,message:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return F()(e,a.replyTo)?e:a.inReplyTo||{};default:return e}},classification:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.classification?a.classification:e;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.classification?a.classification:e;default:return e}},verifiedDomains:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return F()(e,a.verifiedDomains)?e:a.verifiedDomains||[];default:return e}},captcha:(e=null,t)=>{const{type:s,message:a,draftMessage:n}=t;switch(s){case A.a.V3_MESSAGE_SAVE_SUCCEEDED:return n.id===a.id&&n.captcha?n.captcha:e;default:return e}},headers:hs,folderOfDelivery:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return a.folderOfDelivery?a.folderOfDelivery:e;case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.folderOfDelivery?a.folderOfDelivery:e;default:return e}},downloadAllUrl:(e="",t)=>{const{message:s={}}=t;return s.downloadAllUrl&&e!==s.downloadAllUrl?s.downloadAllUrl:e},unsubOption:(e={},t)=>{const{message:s={}}=t;return s.unsubOption?Object.assign({},e,s.unsubOption):e}});var gs=function(e={},t){const{listData:s={},type:a,messageMetadataMap:n={}}=t,r=-1!==[A.a.MESSAGE_AUTO_SAVE_SUCCEEDED,A.a.MESSAGE_SAVE_SUCCEEDED].indexOf(a),o=-1!==[A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),i=-1!==[A.a.EXTRACT_COUPON_SUCCEEDED].indexOf(a);switch(a){case A.a.INITIAL_STATE:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const c=Object.keys(s.messages).filter(t=>r||o||i?!F()(e[t],s.messages[t]):!e[t]).reduce((r,o)=>babelHelpers.extends({},r,{[o]:Ss(e[o],babelHelpers.extends({type:a,message:s.messages[o],draftFolderId:t.draftFolderId,date:t.date,replyTo:n[o]?n[o].headers.replyTo:void 0},a===A.a.V3_MESSAGE_SAVE_SUCCEEDED?{draftMessage:t.message}:{}))}),{});return a===A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED&&t.unsubFromMessage&&(c[t.unsubFromMessage.id]=Ss(e[t.unsubFromMessage.id],{type:a,message:t.unsubFromMessage})),Object.keys(c).length?babelHelpers.extends({},e,c):e}case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(n);if(!t.length)return e;const r=t.map(t=>({[t]:Ss(e[t],{type:a,message:n[t],replyTo:n[t].headers.replyTo})})),o=Object.keys(s.messages||[]).reduce((t,n)=>{const r=s.messages[n].decos,o=r&&r.some(e=>e&&e.id===T.Zb.CRD);return babelHelpers.extends({},t,{[n]:Ss(e[n],{type:a,message:s.messages[n],replyTo:s.messages[n].headers.replyTo,isCard:o})})},{});return babelHelpers.extends({},e,Object.assign({},...r,o))}case A.a.CHECK_UNSUBSCRIBE_MAIL_SUCCEEDED:{const{messages:s}=t,n=s.map(t=>({[t.id]:Ss(e[t.id],{type:a,message:t})}));return babelHelpers.extends({},e,Object.assign({},...n))}default:return e}};const Is=(e={})=>({doesMessageIdExist:t=>!!e[t],getConversationId:t=>e[t].conversationId,getCardConversationId:t=>e[t].cardConversationId,getDecos:t=>e[t].decos,isCoupon:t=>e[t].decos&&e[t].decos.some(e=>e&&e.id===T.Zb.CPN),getCsid:t=>e[t].csid,getMessageId:t=>e[t].messageId,__getMessage:t=>e[t],isVerifiedDomain:t=>!!e[t].verifiedDomains.length,getTimeStamp:t=>e[t].headers.date,getFromAddresses:t=>e[t].headers.from,getToAddresses:t=>e[t].headers.to,getCcAddresses:t=>e[t].headers.cc,getBccAddresses:t=>e[t].headers.bcc,getReplyToAddresses:t=>e[t].headers.replyTo,getDate:t=>e[t].headers.date,getCaptcha:t=>e[t].captcha,getFolderOfDelivery:t=>e[t].folderOfDelivery,findMessageIdsForConversationId:t=>Object.keys(e).filter(s=>e[s].conversationId===t),getParentConversationIdForCardConversationId:t=>{const s=Is(e).getParentMessageIdForCardConversationId(t);return s?e[s].conversationId:""},getParentMessageIdForCardConversationId:t=>Object.keys(e).find(s=>e[s].cardConversationId===t&&e[s].decos.some(({id:e})=>e===T.Zb.EML)),getDownloadAllUrl:t=>e[t]?e[t].downloadAllUrl:"",getUnsubOption:t=>e[t]?e[t].unsubOption:{},__get__:t=>e[t],getMessagesCount:()=>Object.keys(e).length});var Cs=function(e={},t){const{type:s,listData:a={}}=t;switch(s){case A.a.INITIAL_STATE:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:{const{attachmentIdToMessageIdMap:t={}}=a;return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}};const Ts=[],As=Object(c.createSelector)(e=>e,(e={})=>{const t=Object.keys(e).reduce((t,s)=>{const a=e[s];return babelHelpers.extends({},t,{[a]:(t[a]||[]).concat(s)})},{});return{attachmentsByMessageId:e=>t[e]||Ts,getMessageIdForAttachmentId:t=>e[t]}}),Os=Object(i.c)({offerId:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.offerId;default:return e}},description:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.description;default:return e}},expiryTimestamp:(e=0,t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.expiryTimestamp;default:return e}},brandName:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.brandName;default:return e}},imageUrl:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.imageUrl||"";default:return e}},discountType:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.discountType;default:return e}},value:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.value;default:return e}},amountUnit:(e="",t)=>{const{type:s,offer:a}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:return a.amountUnit;default:return e}},activated:(e=!1,t)=>{const{type:s,offer:{activated:a=!1}={}}=t;switch(s){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:return a;default:return e}}});var bs=function(e={},{type:t,offers:s}){switch(t){case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:{const a=(s||[]).filter(t=>!F()(e[t.offerId],t));return a.length?a.reduce((e,s)=>babelHelpers.extends({},e,{[s.offerId]:Os(e[s.offerId],{type:t,offer:s})}),babelHelpers.extends({},e)):e}case A.a.ACTIVATE_OFFER_SUCCEEDED:{if(!s)return e;const a=s.reduce((s,a)=>babelHelpers.extends({},s,{[a.offerId]:Os(e[a.offerId],{type:t,offer:a})}),{});return Object.keys(a).length?babelHelpers.extends({},e,a):e}default:return e}};var Rs=function(e=!0,t){switch(t.type){case A.a.ONLINE_STATUS_CHANGED:return t.online}return e};var Ds=function(e=[],t){if(t.route&&t.route.query.fullscreen)return e;switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return[...e,t.route];case A.a.CLOSE_PAGE_REQUESTED:return e.filter(e=>!Object(L.A)(e,t.route));case A.a.CLOSE_ALL_PAGES_REQUESTED:return e.filter(e=>!(t.pagesToClose||[]).find(t=>Object(L.A)(e,t)));case A.a.V3_MESSAGE_SEND_FAILED:{const{pages:s=[]}=t;return s.length?s:e}default:{if(t.pages&&t.pages!==e)return t.pages;if(t.route===t.previousRoute)return e;if(t.route.name===T.Pc.FOLDER||Object(N.L)(t.route)){const s=e.filter(e=>e.name!==T.Pc.FOLDER&&!Object(N.L)(e));return[t.route,...s]}const s=e.findIndex(e=>Object(L.A)(e,t.route)),{tabsToRemove:a=[]}=t;return-1!==s?e.map(e=>Object(L.A)(e,t.route)?t.route:e):t.replaceRoute||t.previousRoute.name===t.route.name&&!t.forceNewPage&&!1!==t.replaceRoute?e.map(e=>Object(L.A)(e,t.previousRoute)?t.route:e):a.length>0?[...e.filter(e=>-1===a.findIndex(t=>Object(L.A)(t,e))),t.route]:[...e,t.route]}}};var fs=Object(i.c)({payments:(e=[],t)=>{const{type:s,payload:a}=t;switch(s){case A.a.PAYMENTS_FETCH_RECEIVED:return a.length?a:e;default:return e}},error:(e=null,t)=>{const{type:s,payload:a}=t;switch(s){case A.a.PAYMENTS_FETCH_FAILED:return a;case A.a.PAYMENTS_FETCH_RECEIVED:return null;default:return e}}});var Ns=(e={},t)=>{switch(t.type){case A.a.READ_CHANGE_REQUESTED:case A.a.STAR_CHANGE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.UNDO_MOVE_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return t;case A.a.UPDATE_ITEMS_SUCCEEDED:case A.a.UPDATE_ITEMS_FAILED:return{};default:return e}};var Ms=(e={},t)=>{switch(t.type){case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:{const{listData:{people:s={}}}=t;return babelHelpers.extends({},e,s)}default:return e}};var Ls=function(e={},t){switch(t.type){case A.a.MESSAGE_PRINT_REQUESTED:{const s=Object(M.g)(t);return babelHelpers.extends({},e,{[s]:{printId:s,isPrinted:!1,printType:T.Dc.MESSAGE,messageId:t.messageId}})}case A.a.MESSAGE_PRINT_SUCCEEDED:{const{printId:s}=t;return babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],{isPrinted:!0})})}case A.a.MESSAGE_PRINT_CLOSED:case A.a.MESSAGE_PRINT_CANCELED:return oe()(e,t.printId);case A.a.PRINT_OFFERS_REQUESTED:{const{retailerId:s}=t;return babelHelpers.extends({},e,{[s]:{isPrinted:!1,printId:s,printType:T.Dc.OFFERS}})}}return e};const ys=(e,t)=>{const{potentialSavings:s,price:a,orderedItems:n,sellerName:r,broker:o}=e.schemaCards[t];let{orderDate:i}=e.schemaCards[t];if(!i){const s=Object.keys(e.messageIdToSchemaIdsMap).find(s=>e.messageIdToSchemaIdsMap[s].find(e=>e.id===t)),a=e.messages[s].headers&&e.messages[s].headers.date;i=a?new Date(1e3*parseInt(String(a),10)).toISOString():`${(new Date).getFullYear()}-01-01T00:00:00Z`}return{potentialSavings:s,price:a,orderedItems:n,orderDate:i,sellerName:r,broker:o}};var Ps=s(118),vs=s.n(Ps);var Fs=function(e=[],t){switch(t.type){case A.a.RECENT_SEARCHES_SUCCEEDED:return t.recentSearches.map(e=>({query:vs()(e.query)}));case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.COUPONS_LIST_SUCCEEDED:if(!0===t.addToRecentSearch){const s=Object(N.p)(t.listId);return[{query:s},...e.filter(e=>e.query!==s)]}break;case A.a.DELETE_RECENT_SEARCH_REQUESTED:return e.filter(e=>e.query!==t.keyword)}return e};const Us=({description:e,provider:t,recommendedItems:s})=>({description:e,provider:t,recommendedItems:s});const Hs=(e={})=>({getRecommendationItemsCard:t=>e[t],getRecommendationItems:t=>e[t].recommendedItems,getRecommendationProvider:t=>e[t].provider,getRecommendationDescription:t=>e[t].description}),ks=Object(i.c)({id:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.id;default:return e}},displayName:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.displayName;default:return e}},linked:(e=!1,t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:case A.a.LINK_RETAILER_SUCCEEDED:case A.a.LINK_RETAILER_REQUESTED:case A.a.LINK_RETAILER_FAILED:case A.a.UNLINK_RETAILER_SUCCEEDED:return a.linked;default:return e}},proxyType:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.proxyType;default:return e}},brandImage:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.marlonBrandImage||null;default:return e}},loyaltyId:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:case A.a.LINK_RETAILER_SUCCEEDED:return a.loyaltyId||null;case A.a.UNLINK_RETAILER_SUCCEEDED:return"";default:return e}},registrationUrl:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.marlonRegistrationUrl||null;default:return e}},totalSavings:(e=null,t)=>{const{type:s,totalSavings:a}=t;switch(s){case A.a.SAVINGS_LIST_SUCCEEDED:return a;default:return e}},offersUsed:(e=null,t)=>{const{type:s,offersUsed:a}=t;switch(s){case A.a.SAVINGS_LIST_SUCCEEDED:return a;default:return e}},numActivatedOffers:(e=null,t)=>{const{type:s,numActivatedOffers:a}=t;switch(s){case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:return a;case A.a.ACTIVATE_OFFER_SUCCEEDED:return null===e?1:e+1;default:return e}},registrationInfo:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.registrationInfo;default:return e}},subDomains:(e=[],t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.subDomains||[];default:return e}},emailIds:(e=[],t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.RETAILERS_LIST_SUCCEEDED:return a.emailIds||[];default:return e}},errorHint:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.LINK_RETAILER_FAILED:return a.errorHint;default:return e}}});var Gs=function(e={},{errorHint:t="",linked:s=!1,listId:a,numActivatedOffers:n,offersUsed:r,retailerId:o="",retailers:i,totalSavings:c,type:l}){switch(l){case A.a.RETAILERS_LIST_SUCCEEDED:{const t=(i||[]).filter(t=>!F()(e[t.id],t));return t.length?t.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:ks(e[t.id],{type:l,retailer:t})}),babelHelpers.extends({},e)):e}case A.a.LINK_RETAILER_SUCCEEDED:case A.a.UNLINK_RETAILER_SUCCEEDED:{if(!i)return e;const t=i.reduce((t,s)=>babelHelpers.extends({},t,{[s.id]:ks(e[s.id],{type:l,retailer:s})}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}case A.a.SAVINGS_LIST_SUCCEEDED:case A.a.SAVINGS_LIST_FAILED:{const t={[o]:ks(e[o],{type:l,totalSavings:c,offersUsed:r})};return babelHelpers.extends({},e,t)}case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATE_OFFER_SUCCEEDED:{const t=Object(N.p)(a),s={[t]:ks(e[t],{type:l,numActivatedOffers:n})};return babelHelpers.extends({},e,s)}case A.a.LINK_RETAILER_REQUESTED:case A.a.LINK_RETAILER_FAILED:{const a={[o]:ks(e[o],{type:l,retailer:{errorHint:t,linked:s}})};return babelHelpers.extends({},e,a)}default:return e}};const ws=(e={})=>({getTotalNumberOfRetailers:()=>Object.keys(e).length,getRetailersFromRetailerIds:t=>t.map(t=>e[t]),isLinkedRetailer:t=>e[t]?e[t].linked:null,getDisplayNameFromRetailerId:t=>e[t]&&e[t].displayName||"",getProxyTypeFromRetailerId:t=>e[t]&&e[t].proxyType||"",getBrandImageFromRetailerId:t=>e[t]&&e[t].brandImage||"",getLoyaltyIdFromRetailerId:t=>e[t]&&e[t].loyaltyId||"",getRegistrationUrlFromRetailerId:t=>e[t]&&e[t].registrationUrl||"",getTotalSavingsFromRetailerId:t=>e[t]?e[t].totalSavings:null,getOffersUsedFromRetailerId:t=>e[t]?e[t].offersUsed:null,getNumActivatedOffersFromRetailerId:t=>e[t]?e[t].numActivatedOffers:null,getRegistrationInfoFromRetailerId:t=>e[t]&&e[t].registrationInfo||"",getErrorHintFromRetailerId:t=>e[t]&&e[t].errorHint||"",getRetailerIdFromEmail:t=>{let s=Object.keys(e).find(s=>e[s].emailIds&&e[s].emailIds.find(e=>e===t));if(!s){const a=t.includes("@")?t.split("@")[1]:t;s=Object.keys(e).find(t=>e[t].subDomains&&e[t].subDomains.find(e=>e===a))}return s},isSupportedQuotientRetailer:t=>!!ws(e).getRetailerIdFromEmail(t)});var xs=Object(i.c)({routesConfig:function(e=[],t){switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:return t.routesConfig}return e},route:function(e={},t){switch(t.type){case A.a.INITIAL_STATE:case A.a.LAUNCH_PAGE_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:return t.route;default:return t.route&&e===t.route?e:t.route||e}},hashParams:function(e={},t){switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:return t.hashParams||e}return e},mrdParams:function(e={},t){switch(t.type){case A.a.INITIAL_STATE:return t.mrdParams||e;case A.a.LAUNCH_PAGE_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:return{}}return e},uiContext:function(e={},t){switch(t.type){case A.a.LAUNCH_PAGE_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:return t.i13nModel||t.uiContext||e}return e}});const Bs=(e,t)=>(s=t,a)=>(function(e,t,s){const{type:a,savedSearch:n}=t;switch(a){case A.a.LIST_SAVED_SEARCH_SUCCEEDED:case A.a.CREATE_SAVED_SEARCH_SUCCEEDED:return n[s]||e}return e})(s,a,e),js=Object(i.c)({id:Bs("id",""),name:Bs("name",""),types:Bs("types",[]),decorations:Bs("decorations",[]),priority:Bs("priority",""),query:Bs("query",""),userQueries:Bs("userQueries",[]),accountIds:Bs("accountIds",[]),folderIds:Bs("folderIds",[])});var Vs=function(e={},t){switch(t.type){case A.a.LIST_SAVED_SEARCH_SUCCEEDED:case A.a.CREATE_SAVED_SEARCH_SUCCEEDED:{const s=(t.savedSearches||[]).filter(t=>!F()(e[t.id],t));return s.length?s.reduce((e,s)=>babelHelpers.extends({},e,{[s.id]:js(e[s.id],{type:t.type,savedSearch:s})}),babelHelpers.extends({},e)):e}case A.a.DELETE_SAVED_SEARCH_SUCCEEDED:return oe()(e,[t.savedSearchId]);default:return e}};var Ws=(e={isFocused:!1},t)=>{const{type:s}=t;switch(s){case A.a.SEARCH_INPUT_FOCUSED:return babelHelpers.extends({},e,{isFocused:!0});case A.a.SEARCH_INPUT_BLURRED:return babelHelpers.extends({},e,{isFocused:!1});default:return e}};const qs=(e={})=>({isSearchInputFocused:()=>e.searchInput.isFocused||!1});var Ks=function(e={},t){switch(t.type){case A.a.SUGGESTIONS_RECEIVED:return babelHelpers.extends({},e,{[t.query]:t.suggestions})}return e};var zs=Object(i.c)({settingsApiCallStatus:(e=T.Mc.LOADING,t)=>{switch(t.type){case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return T.Mc.LOADED;case A.a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:return T.Mc.ERROR;default:return e}},blockedSendersApiCallStatus:(e=T.Mc.LOADING,t)=>{switch(t.type){case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case A.a.SETTINGS_BLOCKED_SENDERS_RECEIVED:return T.Mc.LOADED;case A.a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case A.a.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:return T.Mc.ERROR;default:return e}}});var Ys=Object(i.c)({authWindow:(e={},t)=>{switch(t.type){case A.a.FEATURE_CLOSED:{const{name:e,i13nModel:{mKey:s}={}}=t;if(e!==T.kb.LINKEDIN_REAUTH_CUE||s!==`cue_${T.kb.LINKEDIN_REAUTH_CUE}_reconnect`)break;return{provider:T.vd.LinkedIn,url:""}}case A.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:return{url:t.url,provider:t.provider};case A.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:return{url:void 0,provider:void 0}}return e}});const Zs=Object(i.c)({id:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.SR_RETAILERS_LIST_SUCCEEDED:return a.id;default:return e}},name:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.SR_RETAILERS_LIST_SUCCEEDED:return a.retailerName;default:return e}},promotionDomain:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.SR_RETAILERS_LIST_SUCCEEDED:return a.promotionDomain;default:return e}},homepage:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.SR_RETAILERS_LIST_SUCCEEDED:return a.homepage;default:return e}},logoUrl:(e="",t)=>{const{type:s,retailer:a}=t;switch(s){case A.a.SR_RETAILERS_LIST_SUCCEEDED:return a.logoUrl;default:return e}}});var Xs=function(e={},{type:t,retailers:s}){switch(t){case A.a.SR_RETAILERS_LIST_SUCCEEDED:{const a=(s||[]).filter(t=>!F()(e[t.id],t));return a.length?a.reduce((e,s)=>babelHelpers.extends({},e,{[s.id]:Zs(e[s.id],{type:t,retailer:s})}),babelHelpers.extends({},e)):e}default:return e}};var Qs=s(19);function $s(e,t,s=[]){let{index:a=-1}=e;return t===T.O.UP?a--:t===T.O.DOWN?a++:t===T.O.FIRST?a=0:t===T.O.LAST?a=s.length-1:Object(Qs.a)(!t,"Movement not supported yet"),a<0?a=0:a>=s.length&&(a=s.length-1),{index:a,streamItem:s[a]}}var Js=(e={},t)=>{const{type:s,streamItem:a,streamItems:n=[],selectionPayload:r={}}=t;switch(s){case A.a.STREAM_ITEM_TOGGLED:case A.a.ITEMS_DRAG_STARTED:case A.a.STREAM_ITEMS_RANGE_SELECTED:case A.a.PREVIEW_MESSAGE_REQUESTED:{const t=n.findIndex(e=>F()(e,a)),s={streamItem:a,index:t};return F()(e,s)?e:s}case A.a.OPEN_PAGE_REQUESTED:{const t=n.findIndex(e=>F()(e,a));if(!a||-1===t)return{};const s={streamItem:a,index:t};return F()(e,s)?e:s}case A.a.PREVIEW_MESSAGE_CLOSED:return e.streamItem?oe()(e,"streamItem"):e;case A.a.STREAM_SELECT_CURSOR_MOVED:case A.a.STREAM_CURSOR_MOVED:{const{movement:s}=t,a=$s(e,s,n);return F()(e,a)?e:a}case A.a.READ_CHANGE_REQUESTED:case A.a.STAR_CHANGE_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.SEND_SUCCESS:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.GIF_FETCH_SUCCEEDED:case A.a.MORE_COUPONS_SUCCESS:case A.a.MORE_RECEIPTS_SUCCESS:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.COUPONS_LIST_SUCCEEDED:case A.a.EXTRACT_COUPON_SUCCEEDED:case A.a.TRAVEL_LIST_SUCCEEDED:case A.a.COUPONS_ADD_TAG_DECO_REQUESTED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:{const{oldMessageStreamItems:s=[],newMessageStreamItems:a=[]}=t;if(!a.length)return{};if(!Object.keys(e).length)return e;const n=s[e.index]||{};if(a.some(e=>n.listId===e.listId&&n.id===e.id)){const t=a.findIndex(e=>e.id===n.id&&e.listId===n.listId);return e.index===t?e:{streamItem:n,index:t}}const r=s.slice(e.index+1).find(e=>a.some(t=>e.id===t.id&&e.listId===t.listId))||a[a.length-1]||{};return{streamItem:r,index:a.findIndex(e=>e.id===r.id&&e.listId===r.listId)}}case A.a.MESSAGE_GROUP_OPENED:case A.a.MESSAGE_CARD_EXPANSION_CHANGED:case A.a.MESSAGE_CARD_FOCUSED:{const{streamItem:s}=t;return babelHelpers.extends({},e,{streamItem:s})}case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:{const{streamItem:s,previousStreamItem:a}=t;return s&&a&&r.oldCursor&&F()(r.oldCursor.streamItem,a)?babelHelpers.extends({},e,{streamItem:s}):e}default:return e}};const ea=Object.prototype.hasOwnProperty,ta=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>babelHelpers.extends({},e,{[t]:babelHelpers.extends({},e[t]||{},{[s]:!0})}),babelHelpers.extends({},e)),sa=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>babelHelpers.extends({},e,{[t]:oe()(e[t]||{},s)}),babelHelpers.extends({},e)),aa=e=>e.reduce((e,{listId:t,id:s})=>babelHelpers.extends({},e,{[t]:babelHelpers.extends({},e[t]||{},{[s]:!0})}),{});var na=function(e={},t){const{streamItem:s={},selectionPayload:a={},streamItems:n=[]}=t,{oldCursor:r,oldSelectedItems:o=[]}=a;switch(t.type){case A.a.STREAM_ITEM_TOGGLED:case A.a.ITEMS_DRAG_STARTED:return s.id?o.some(e=>F()(e,s))?sa(aa(o),[s]):ta(aa(o),[s]):e;case A.a.STREAM_ITEMS_MULTIPLE_TOGGLE:return s.id&&t.multipleStreamItems?o.some(e=>F()(e,s))?sa(aa(o),[s]):ta(aa(o),t.multipleStreamItems):e;case A.a.STREAM_ITEMS_RANGE_SELECTED:{if(!s.id)return e;if(!r)return ta(aa(o),[s]);const t=n.findIndex(e=>F()(e,s)),[a,i]=[r.index,t].sort((e,t)=>e-t);return ta(aa(o),n.slice(a,i+1))}case A.a.STREAM_SELECT_CURSOR_MOVED:{const{movement:s}=t,a=$s(r||{},s,n);if(!o.some(e=>F()(e,a.streamItem))){const e=[a.streamItem];return r&&r.streamItem&&e.push(r.streamItem),ta(aa(o),e)}return r&&r.streamItem?sa(aa(o),[r.streamItem]):e}case A.a.STREAM_CURSOR_MOVED:case A.a.STREAM_ITEMS_SELECTION_CLEARED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.SEND_SUCCESS:case A.a.PREVIEW_MESSAGE_CLOSED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.ALL_STREAM_ITEMS_SELECTED:case A.a.STREAM_ITEMS_SELECTION_CHANGED:return Object.keys(e).length?{}:e;case A.a.SEARCH_INPUT_FOCUSED:{const{clearSelection:s=!1}=t;return s&&Object.keys(e).length?{}:e}default:return t.clearSelection&&Object.keys(e).length?{}:e}};var ra=(e=T.gd.NONE,t)=>{const{type:s}=t;switch(s){case A.a.ALL_STREAM_ITEMS_SELECTED:return T.gd.ALL;case A.a.STREAM_ITEMS_SELECTION_CHANGED:return t.selectionType;case A.a.STREAM_ITEMS_SELECTION_CLEARED:case A.a.STREAM_ITEM_TOGGLED:case A.a.ITEMS_DRAG_STARTED:case A.a.STREAM_ITEMS_RANGE_SELECTED:case A.a.STREAM_SELECT_CURSOR_MOVED:case A.a.STREAM_CURSOR_MOVED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.SEND_SUCCESS:case A.a.V3_MESSAGE_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_CLOSED:return T.gd.NONE;case A.a.SEARCH_INPUT_FOCUSED:{const{clearSelection:s=!1}=t;return s?T.gd.NONE:e}default:return e}};const oa=(e=[],t=(()=>{}))=>{const s=((e=[])=>e.reduce((e,t)=>babelHelpers.extends({},e,{[t.listId]:(e[t.listId]||[]).concat(t.id)}),{}))(e),a=Object.keys(s).reduce((e,a)=>{const n=t(a)||[];return e[a]=n.length?s[a].filter(e=>-1===n.indexOf(e)):s[a],e},{});return e.filter(({id:e,listId:t})=>-1!==(a[t]||[]).indexOf(e))},ia=e=>e.filter(({listId:e})=>-1!==[T.Db.MESSAGES,T.Db.IMAGES,T.Db.DOCUMENTS].indexOf(Object(N.q)(e))).map(({id:e,listId:t})=>({id:e,listId:t})),ca=e=>`${e.listId}-${e.csid}`,la=Object(i.c)({cursor:Js,selectedItems:na,selectionType:ra,expansionState:(e={},t)=>{const{type:s,itemToUpdate:a}=t;switch(s){case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:{if(!a)return e;const{category:s,contacts:n=[],remainingCount:r=0}=a,{listId:o}=t,i=Object(N.Q)(o,{name:s}),c=ca({csid:i,listId:o});return n.length+r>T.Hb?e:oe()(e,c)}case A.a.CATEGORY_LIST_EXPANSION_TOGGLED:{const{categoryListId:s,listId:a}=t,n=ca({csid:s,listId:a});return e[n]?oe()(e,n):babelHelpers.extends({},e,{[n]:!0})}case A.a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case A.a.MESSAGE_CARD_EXPANSION_CHANGED:case A.a.STAR_CHANGE_REQUESTED:case A.a.READ_CHANGE_REQUESTED:{if(!a)return e;const t=ca({csid:a.csid,listId:a.listId});return babelHelpers.extends({},e,{[t]:a.expansionState})}case A.a.CLOSE_PAGE_REQUESTED:default:return e}}}),da=(e,t={})=>e.persistStreamItemExpansionStates?e.persistStreamItemExpansionStates.reduce((t,s)=>babelHelpers.extends({},t,{[s.streamId]:la(t[s.streamId],babelHelpers.extends({},e,{itemToUpdate:s}))}),babelHelpers.extends({},t)):t;var Ea=(e={},t)=>{switch(t.type){case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:{const{listFilter:s,contacts:a}=t,n=Object(N.i)(s);return a.length&&s!==T.Eb.TOP_CONTACTS?a.reduce((e,s)=>babelHelpers.extends({},e,{[n]:la(e[n],babelHelpers.extends({},t,{itemToUpdate:s,listId:n}))}),babelHelpers.extends({},e)):e}case A.a.CATEGORY_LIST_EXPANSION_TOGGLED:{const{listId:s}=t;return babelHelpers.extends({},e,{[s]:la(e[s],babelHelpers.extends({},t))})}case A.a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case A.a.MESSAGE_CARD_EXPANSION_CHANGED:return t.itemsToUpdate.reduce((e,s)=>babelHelpers.extends({},e,{[s.streamId]:la(e[s.streamId],babelHelpers.extends({},t,{itemToUpdate:s}))}),babelHelpers.extends({},e));case A.a.ALL_STREAM_ITEMS_SELECTED:case A.a.STREAM_ITEMS_SELECTION_CHANGED:case A.a.STREAM_ITEMS_SELECTION_CLEARED:case A.a.MESSAGE_GROUP_OPENED:case A.a.MESSAGE_CARD_FOCUSED:case A.a.PREVIEW_MESSAGE_CLOSED:{const{streamId:s}=t;return s?babelHelpers.extends({},e,{[s]:la(e[s],t)}):e}case A.a.SEARCH_INPUT_FOCUSED:{const{streamId:s,clearSelection:a=!1}=t;return s&&a?babelHelpers.extends({},e,{[s]:la(e[s],t)}):e}case A.a.ITEMS_DRAG_STARTED:{const{streamId:s,streamItems:a=[],streamItem:n={},selectionPayload:r={}}=t,{oldSelectedItems:o=[]}=r;return o.find(e=>F()(e,n))?e:s?babelHelpers.extends({},e,{[s]:la(e[s],babelHelpers.extends({},t,{streamItems:ia(a)}))}):e}case A.a.OPEN_PAGE_REQUESTED:{const s=[W.e.OPEN_MSG,W.e.DOC_READ_MSG,W.e.PHOTO_READ_MSG],a=[W.e.PHOTO_OPEN,W.e.DOC_OPEN],n=((e={})=>{const{i13nModel:t,uiContext:s}=e;return t||s||{}})(t)||{};if(-1===[...s,...a].indexOf(n.mKey))return e;const{streamId:r,streamItems:o=[]}=t;return r?babelHelpers.extends({},e,{[r]:la(e[r],babelHelpers.extends({},t,{streamItems:ia(o)}))}):e}case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.STREAM_ITEM_TOGGLED:case A.a.STREAM_ITEMS_MULTIPLE_TOGGLE:case A.a.STREAM_ITEMS_RANGE_SELECTED:case A.a.STREAM_SELECT_CURSOR_MOVED:case A.a.STREAM_CURSOR_MOVED:{const{streamId:s,streamItems:a=[]}=t;return s?babelHelpers.extends({},e,{[s]:la(e[s],babelHelpers.extends({},t,{streamItems:ia(a)}))}):e}case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:{const{streamId:s}=t;return s&&e[s]?babelHelpers.extends({},e,{[s]:la(e[s],t)}):e}case A.a.READ_CHANGE_REQUESTED:{const{isRead:s,streamId:a,itemsToUpdate:n=[],streamItems:r=[]}=t;if(!n.length)return e;const o=ia(r),i=babelHelpers.extends({},e,{[a]:la(e[a],babelHelpers.extends({},t,{oldMessageStreamItems:o,newMessageStreamItems:oa(o,e=>Object(Ct.a)(n,e,s?[]:["unread"]))}))});return da(t,i)}case A.a.STAR_CHANGE_REQUESTED:{const{isStarred:s,streamId:a,itemsToUpdate:n=[],streamItems:r=[]}=t;if(!n.length)return e;const o=ia(r),i=babelHelpers.extends({},e,{[a]:la(e[a],babelHelpers.extends({},t,{oldMessageStreamItems:o,newMessageStreamItems:oa(o,e=>Object(Ct.a)(n,e,s?["flagged","starred"]:[]))}))});return da(t,i)}case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.MOVE_ITEMS_REQUESTED:case A.a.SEND_SUCCESS:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SEND_SUCCEEDED:{const{streamId:s,itemsToUpdate:a=[],streamItems:n=[],listsToUpdate:r=[]}=t;if(!a.length)return e;const o=ia(n);return babelHelpers.extends({},e,{[s]:la(e[s],babelHelpers.extends({},t,{oldMessageStreamItems:o,newMessageStreamItems:oa(o,e=>{const t=r.find(t=>t.listId===e)||{};return Object(Ct.b)(a,t.folderIds)})}))})}case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:{const{streamId:s,listData:a,streamItems:n=[]}=t;return a.lists?babelHelpers.extends({},e,{[s]:la(e[s],babelHelpers.extends({},t,{oldMessageStreamItems:ia(n),newMessageStreamItems:Object.keys(a.lists||[]).reduce((e,t)=>(a.lists[t].itemIds.forEach(s=>{e.push({id:s,listId:t})}),e),[])}))}):e}case A.a.CLOSE_PAGE_REQUESTED:{const{streamId:s,route:a}=t;return s&&a?oe()(e,[s]):e}default:return e}};var _a=s(53);var ua=Object(i.c)({subjects:function(e={},t){switch(t.type){case A.a.INITIAL_STATE:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:{const s=Object(h.a)(t,"listData.subjects",{}),a=function(e,t={}){return Object.keys(t).reduce((s,a)=>{const n=Object.keys(t[a])[0],r=Object(N.w)(n);if(!e[a]||e[a][r]!==t[a][n]){const o=Object(_a.l)(t[a][n]);s[a]=babelHelpers.extends({},e[a],{[r]:t[a][n],[N.a]:o})}return s},{})}(e,s);return Object.keys(a).length?babelHelpers.extends({},e,a):e}default:return e}},snippets:function(e={},t){switch(t.type){case A.a.INITIAL_STATE:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case A.a.CHANGE_FOLDER_SUCCEEDED:case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case A.a.SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case A.a.MESSAGE_SAVE_SUCCEEDED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_SUCCEEDED:{const s=Object(h.a)(t,"listData.snippets",{}),a=function(e,t={}){return Object.keys(t).reduce((s,a)=>{const n=Object.keys(t[a])[0],r=Object(N.w)(n);return e[a]&&e[a][r]===t[a][n]||(s[a]=babelHelpers.extends({},e[a],{[r]:t[a][n]})),s},{})}(e,s);return Object.keys(a).length?babelHelpers.extends({},e,a):e}default:return e}}});var pa=s(173);const ma={[pa.a.HUFFPOST]:(e,t,s)=>({id:t.id,provider:pa.a.HUFFPOST,icon:t.icon,name:t.name,email:t.email,description:t.strings.description,status:e.subscriptionStatus[t.id]||pa.c.READY,subscribeOptions:{email:s,list:t.subid}})};var ha=(e={},t)=>{const s=e.subscriptionStatus||{};switch(t.type){case A.a.SUBSCRIPTION_SELECTED:s[t.id]=pa.c.PENDING;break;case A.a.SUBSCRIPTION_FAILURE:s[t.id]=pa.c.FAILURE;break;case A.a.SUBSCRIPTION_SUCCESS:s[t.id]=pa.c.SUCCESS}return babelHelpers.extends({},e,{subscriptionStatus:s})};var Sa=(e={},t)=>{const{undoAction:s,deleteItemCount:a,numListsPreviouslyCleaned:n,unSubscribeList:r=[]}=t;switch(t.type){case A.a.MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED:return babelHelpers.extends({},e,{unsubscribeItems:babelHelpers.extends({},r.reduce((e,t)=>babelHelpers.extends({},e,{[t.key]:t}),{})),undoAction:s,deleteItemCount:a,numListsPreviouslyCleaned:n});case A.a.MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:if(!Object(h.b)(e))return{}}return e};var ga=s(131),Ia=s.n(ga);var Ca=s(480),Ta=s.n(Ca);const Aa=(e=[],{getAction:t,getRoute:s})=>{const a=s(),{actionTimestamp:n,type:r}=t(),o=Object(N.t)(a),i=Object(N.p)(o)||"",c=Object(N.Q)(o,{listFilter:T.Eb.ACTIVATED_OFFER_CARDS});switch(r){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return e.concat({id:T.Td.ACTIVATED_OFFERS,hash:T.Td.ACTIVATED_OFFERS,timestamp:n,type:T.Td.ACTIVATED_OFFERS,userInputtedValues:{listId:c,retailerId:i}});case A.a.MORE_ACTIVATED_OFFERS_REQUESTED:return e.concat({id:T.Td.MORE_ACTIVATED_OFFERS,hash:T.Td.MORE_ACTIVATED_OFFERS,timestamp:n,type:T.Td.MORE_ACTIVATED_OFFERS,userInputtedValues:{listId:c,retailerId:i}});default:return e}},Oa=(e,{getAction:t,isFeatureEnabled:s,doesListExist:a,doesListHasMoreItems:n})=>{const{type:r=""}=t();switch(r){case A.a.MORE_ACTIVATED_OFFERS_REQUESTED:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(T.kb.QUOTIENT)&&a(e)&&n(e)&&Object(N.q)(e)===T.Db.OFFER_CARDS&&""!==t);case A.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.ACTIVATED_OFFERS_LIST_FAILED:case A.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:case A.a.MORE_ACTIVATED_OFFERS_LIST_FAILED:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(T.kb.QUOTIENT)&&Object(N.q)(e)===T.Db.OFFER_CARDS&&""!==t)}};function ba({baseName:e,domain:t}){return T.Td.BASENAME_TO_CREATE+e+t}var Ra=s(27);const Da=(e,t,s=[])=>`${e}-${t}-${s.join("")}`,fa=(e,t,s,a={})=>{const{getContactListSelectors:n}=t,r=a.listFilter||n().getCurrentFilter(),o=Object(N.i)(r);return e.concat([{type:T.Td.CONTACTS_LIST,hash:"CONTACTS_LIST_"+o,timestamp:s,userInputtedValues:{listId:o,count:a.count||(r===T.Eb.TOP_CONTACTS?T.Lb:T.Hb)}}])},Na=(e,t)=>`${e}-${t}`;function Ma({fromEmail:e,syncThrottle:t,action:s}){return babelHelpers.extends({id:e,hash:e,timestamp:s.actionTimestamp,type:T.Td.IMPORTANT_CONTACTS_FETCH,userInputtedValues:{fromEmail:e,listId:Object(N.o)(e)}},t?{syncThrottle:t}:{})}const La=({listId:e,isStale:t=!1},s)=>{const{getAction:a}=s,{actionTimestamp:n}=a();return{type:T.Td.LIST_TO_UPDATE,id:e,hash:e,timestamp:n,userInputtedValues:{listId:e,isStale:t}}},ya=(e=[],t,s=!1)=>{const{getAction:a,isSpamMessage:n,isFeatureEnabled:r,getMessageBodyRetryCount:o}=t,i=!r(T.kb.CONVERSATIONS)||r("fetchFullBody"),c=!r(T.id.SHOW_IMAGES)&&!r(T.kb.INLINE_IMAGES_PROXIED),{isFallback:l=!1,actionTimestamp:d,secure:E=!0,full:_=i,type:u}=a();let p=null;return s&&(p=u===A.a.LAUNCH_COMPLETED?T.Ac.LAUNCH:u===A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES?T.Ac.CHECK_MAIL:T.Ac.NEIGHBOR),e.map(e=>{const t=E&&(n(e)||c),s=o(e);return{type:T.Td.MESSAGE_ITEM_TO_FETCH,id:e,hash:e+_+t,timestamp:d,userInputtedValues:{messageId:e,secure:t,full:_,isFallback:l,prefetchMode:p,retryCount:s}}})},Pa=(e,t)=>{const{getAction:s,getFoldersSelectors:a,getCurrentListId:n,isFeatureEnabled:r}=t,{isSpamFolder:o}=a(),{actionTimestamp:i,full:c,secure:l=!0}=s(),d=!r(T.id.SHOW_IMAGES)&&!r(T.kb.INLINE_IMAGES_PROXIED),E=n(),_=Object(N.m)(E),u=void 0!==_&&o(_);return{type:T.Td.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:i,userInputtedValues:{messageGroupId:e,full:c,secure:l&&(u||d)}}},va=(e,t,s=!1)=>{const{getMessageIdsFromMessageGroupId:a,isDraftMessage:n,getMessageFlags:r,doesMessageBodyExist:o,getHashParams:i}=t,c=a(e)||[],l=c.filter(e=>!n(e)),d=l[l.length-1],E=(i()||{}).messageId,_=c.filter(e=>e===E||n(e)||e===d||r(e).flagged||!r(e).read);return(s?_.slice(0,2):_).filter(e=>!o(e))},Fa=(e=[],t,s)=>{const{doesMessageGroupIdExist:a}=t;return e.reduce((e,n)=>{if(a(n)){const a=va(n,t,s);return e.concat(ya(a,t,s)).concat(((e,t)=>{const{getAction:s,getSetting:a,getListsSelectors:n,doesMessageGroupIdExist:r,doesListExist:o}=t,i=s().listId;if(!i||!o(i)||Object(N.q)(i)!==T.Db.MESSAGES)return[];const{getItemIdsSelectors:c}=n(),l=a(T.id.NEIGHBOR_PREFETCH_COUNT);if(0===l)return[];const d=c(i).getItemIds(),E=d.indexOf(e);return d.filter(e=>{const t=d.indexOf(e);return t!==E&&t<=E+l&&t>=E-l}).reduce((e,s)=>{if(r(s)){const a=va(s,t,!0);return e.concat(ya(a,t,!0))}return e.concat(Pa(s,t))},[])})(n,t))}return e.concat(Pa(n,t))},[])},Ua=e=>{const{getRouteParams:t}=e,{groupId:s}=t();return Fa([s],e)},Ha=e=>{const{getRouteParams:t,getAction:s,doesComposeSessionExist:a}=e,{csid:n}=t(),r=a(n)?e.getDraftMessageId(n):void 0;return r?ya([r],e):s().full?((e,t)=>{const{getAction:s}=t,{actionTimestamp:a}=s();return{type:T.Td.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:a,userInputtedValues:{draftCsid:e,full:!0,secure:!1}}})(n,e):[]},ka=[A.a.READ_CHANGE_REQUESTED,A.a.STAR_CHANGE_REQUESTED,A.a.MOVE_ITEMS_REQUESTED,A.a.DELETE_ITEMS_REQUESTED,A.a.UNDO_MOVE_REQUESTED,A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED],Ga=[A.a.UPDATE_ITEMS_SUCCEEDED,A.a.UPDATE_ITEMS_FAILED,A.a.BULK_PROGRESS_INITIATED,A.a.UNDO_MOVE_SUCCEEDED,A.a.UNDO_MOVE_FAILED],wa={[A.a.READ_CHANGE_REQUESTED]:T.dc.READ,[A.a.STAR_CHANGE_REQUESTED]:T.dc.STAR,[A.a.MOVE_ITEMS_REQUESTED]:T.dc.MOVE,[A.a.DELETE_ITEMS_REQUESTED]:T.dc.MOVE,[A.a.UNDO_MOVE_REQUESTED]:T.dc.MOVE,[A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:T.dc.MOVE},xa={[T.dc.READ]:"read",[T.dc.STAR]:"flagged",[T.dc.SPAM]:"spam",[T.dc.HAM]:"spam",[T.dc.ANSWER]:"answered",[T.dc.FORWARD]:"forwarded"},Ba=(e,t)=>t.isSpamMove?T.dc.SPAM:t.isHamMove?T.dc.HAM:wa[e],ja=(e=[],t)=>e.filter(e=>e.isAffected).map(e=>((e,t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();return{type:T.Td.MESSAGE_ITEM_TO_UPDATE,id:e.messageId||e.messageQuery,hash:`${e.messageId||e.messageQuery}-${n}`,timestamp:n,userInputtedValues:{[Ba(a,e)]:e}}})(e,t)),Va=(e=[],{getAction:t,getRoute:s})=>{const a=s(),{actionTimestamp:n,type:r}=t(),o=Object(N.t)(a),i=Object(N.p)(o)||"";switch(r){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return e.concat({id:T.Td.OFFERS,hash:i,timestamp:n,type:T.Td.OFFERS,userInputtedValues:{listId:o,retailerId:i}});case A.a.MORE_OFFERS_REQUESTED:return e.concat({id:T.Td.MORE_OFFERS,hash:i,timestamp:n,type:T.Td.MORE_OFFERS,userInputtedValues:{listId:o,retailerId:i}});default:return e}},Wa=(e,{getAction:t,isFeatureEnabled:s,doesListExist:a,doesListHasMoreItems:n})=>{const{type:r}=t();switch(r){case A.a.MORE_OFFERS_REQUESTED:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(T.kb.QUOTIENT)&&a(e)&&n(e)&&Object(N.q)(e)===T.Db.OFFER_CARDS&&Object(N.r)(e)===T.Eb.RECOMMENDED_OFFER_CARDS&&""!==t);case A.a.OFFERS_LIST_SUCCEEDED:case A.a.MORE_OFFERS_LIST_SUCCEEDED:case A.a.OFFERS_LIST_FAILED:case A.a.MORE_OFFERS_LIST_FAILED:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(T.kb.QUOTIENT)&&Object(N.q)(e)===T.Db.OFFER_CARDS&&Object(N.r)(e)===T.Eb.RECOMMENDED_OFFER_CARDS&&""!==t)}},qa=(e,t,s)=>{const{SubTypes:a}=T.u,n=t(e);return Object(h.a)(n,"0.subtype","")===a.ICS&&"READY"!==s(e)?{downloadUrl:n[0].downloadUrl}:null},Ka=({accountId:e,updatedSettingAttributes:t,actionTimestamp:s})=>({type:T.Td.SETTINGS_TO_CHANGE,hash:T.Td.SETTINGS_TO_CHANGE,timestamp:s,userInputtedValues:{accountId:e,updatedSettingAttributes:t,requestTimestamp:s}}),za=({timestamp:e})=>[{type:T.Td.SOCIAL_ACCOUNT_STATUS,hash:"ALL_PROVIDERS",timestamp:e}],Ya=Object(N.e)({referrer:T.Fb.TOP_COUPONS});var Za=babelHelpers.extends({},{[T.Td.CONTACTS_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,isFeatureEnabled:n,getSmartViewTypeFromRoute:r,doesListExist:o,getActionableRightRailPane:i}=t,c=s(),l=a(),{type:d,actionTimestamp:E}=c,_=i()===T.Oc.ContactsPane;switch(d){case A.a.LAUNCH_COMPLETED:return l.name===T.Pc.CONTACTS?fa(e,t,E):e;case A.a.OPEN_PAGE_REQUESTED:{if(c.name===T.Nc.CONTACTS_PANE&&_||l.name===T.Pc.CONTACTS)return fa(e,t,E);const s=r(l)===T.td.COUPONS,a=n(T.kb.COUPONS_SMART_VIEW_SEARCH)&&s,i=a?{listFilter:T.Eb.NOT_PEOPLE,count:T.c}:{};if(a&&!o(Object(N.i)(T.Eb.NOT_PEOPLE)))return fa(e,t,E,i);break}case A.a.CONTACTS_PANE_LIST_FILTER_CHANGED:return fa(e,t,E);case A.a.CONTACTS_PANE_SEARCHED:return((e,t)=>{const{actionTimestamp:s,listId:a,count:n}=t;return e.concat([{type:T.Td.CONTACTS_LIST,hash:"CONTACTS_LIST_"+a,timestamp:s,userInputtedValues:{listId:a,count:n}}])})(e,c);case A.a.RIGHT_RAIL_COMMS_ICON_CLICKED:if(c.name!==T.Nc.CONTACTS_PANE||!_)break;return fa(e,t,E)}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:case A.a.CONTACTS_LIST_FETCH_FAILED:if(a.unsyncedDataType!==T.Td.CONTACTS_LIST)break;return e.filter(e=>e.userInputtedValues.listId!==a.listId)}return e}},[T.Td.CONTACTS_CATEGORY_LIST]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r}=a;switch(n){case A.a.CATEGORY_LIST_EXPANSION_TOGGLED:{const{getStreamsSelectors:s}=t,{doesStreamExist:n,getExpansionStateForStreamItem:o}=s(),{categoryListId:i,listId:c}=a;if(!n(c)||!o({streamId:c,listId:c,csid:i}))return e;const l=Object(N.v)(i);return e.concat([{type:T.Td.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+i,timestamp:r,userInputtedValues:{listId:c,categoryListId:i,count:T.c,characters:[l]}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CONTACTS_LIST_FETCH_SUCCEEDED:case A.a.CONTACTS_LIST_FETCH_FAILED:{const{listId:t,characters:s,count:n,unsyncedDataType:r}=a;if(r!==T.Td.CONTACTS_CATEGORY_LIST)break;return e.filter(e=>{const{listId:a,characters:r,count:o}=e.userInputtedValues;return a!==t||!F()(s,r)||o!==n})}}return e}},[T.Td.CONTACT_DETAILS]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getRelatedListIdByContactId:n}=t,r=a(),o=s(),{actionTimestamp:i}=o;let c;switch(o.type){case A.a.CONTACTS_PANE_CONTACT_CLICKED:c=n(o.id);break;case A.a.LAUNCH_COMPLETED:case A.a.OPEN_PAGE_REQUESTED:r.name!==T.Pc.CONTACT_DETAILS&&r.name!==T.Pc.EDIT_CONTACT||(c=Object(N.y)(r.params.email))}return c?e.concat([{type:T.Td.CONTACT_DETAILS,hash:c,timestamp:i,userInputtedValues:{listId:c}}]):e},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),{listData:n={}}=a,{lists:r={}}=n;return e.filter(e=>!r[e.userInputtedValues.listId])}},[T.Td.CONTACT_SAVE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,newContact:n,originalContact:r,actionTimestamp:o}=s();return a===A.a.CONTACT_SAVE_REQUESTED&&n&&n.id&&n.name&&n.emails&&n.emails.length&&JSON.stringify(n)!==JSON.stringify(r)?e.concat([{type:T.Td.CONTACT_SAVE,hash:"CONTACT_SAVE_"+n.id,timestamp:o,userInputtedValues:{newContact:n,originalContact:r}}]):e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CONTACT_SAVE_SUCCEEDED:case A.a.CONTACT_SAVE_FAILED:return e.filter(e=>e.userInputtedValues.newContact.id!==a.contact.id)}return e}},[T.Td.CONTACT_PHOTO_UPLOAD]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=[],{type:n,originalContact:r,file:o,actionTimestamp:i}=s();switch(n){case A.a.CONTACT_SAVE_REQUESTED:return o&&r.editToken&&a.push({type:T.Td.CONTACT_PHOTO_UPLOAD,hash:"CONTACT_PHOTO_UPLOAD_"+r.id,timestamp:i,userInputtedValues:{id:r.id,editToken:r.editToken,file:o}}),e.concat(a);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case A.a.CONTACT_PHOTO_UPLOAD_FAILED:return e.filter(e=>e.userInputtedValues.contact.id!==a.contact.id)}return e}},[T.Td.SOCIAL_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSetting:n}=t,{actionTimestamp:r,type:o,name:i,i13nModel:{mKey:c}={}}=s();switch(o){case A.a.FEATURE_CLOSED:{if(i!==T.kb.LINKEDIN_REAUTH_CUE||c!==`cue_${T.kb.LINKEDIN_REAUTH_CUE}_reconnect`)break;const e=T.vd.LinkedIn;let t=T.ud[e],{scope:s}=T.vb[e];return a(T.kb.USE_LINKEDIN_TEST_SPID)&&(t=T.ud[T.vd.LinkedInTest],s=null),[{type:T.Td.SOCIAL_ACCOUNT_AUTH_URL,hash:e,timestamp:r,userInputtedValues:{provider:e,spid:t,appRootPath:n(T.id.APP_ROOT_PATH),scope:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case A.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.provider!==a.provider)}return e}},[T.Td.SOCIAL_ACCOUNT_IMPORT]:{preparer:(e=[],t)=>{const{getAction:s}=t,{actionTimestamp:a,type:n,provider:r}=s();switch(n){case A.a.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:return[{type:T.Td.SOCIAL_ACCOUNT_IMPORT,hash:r,timestamp:a,userInputtedValues:{provider:r}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:case A.a.SOCIAL_ACCOUNTS_IMPORT_FAILED:return e.filter(e=>e.userInputtedValues.provider!==a.provider)}return e}},[T.Td.SOCIAL_ACCOUNT_STATUS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getRoute:n}=t,{actionTimestamp:r,type:o}=s();if(!a(T.kb.SOCIAL_ACCOUNTS))return e;switch(o){case A.a.LAUNCH_COMPLETED:if(0===e.length&&(a(T.kb.SHOW_LINKEDIN_REAUTH_UPSELL)||n().name===T.Pc.SETTINGS))return za({timestamp:r});break;case A.a.OPEN_PAGE_REQUESTED:if(0===e.length&&n().name===T.Pc.SETTINGS)return za({timestamp:r})}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case A.a.SOCIAL_ACCOUNTS_STATUS_RECEIVED:case A.a.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED:return[]}return e}},[T.Td.CONTACT_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=[],{type:n,newContact:r,file:o,actionTimestamp:i}=s();switch(n){case A.a.CONTACT_SAVE_REQUESTED:return e.concat(r&&!r.id&&r.name&&r.emails&&r.emails.length?[{type:T.Td.CONTACT_CREATE,hash:r.emails[0],timestamp:i,userInputtedValues:{newContact:r,file:o,timestamp:i}}]:a);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CREATE_CONTACT_FAILED:case A.a.CREATE_CONTACT_SUCCEEDED:return e.filter(e=>e.userInputtedValues.timestamp!==a.timestamp)}return e}}},{[T.Td.LAUNCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r}=a;switch(n){case A.a.LAUNCH_PAGE_REQUESTED:return[{id:T.Td.LAUNCH,hash:T.Td.LAUNCH,timestamp:r,type:T.Td.LAUNCH,userInputtedValues:a}]}return e},reconciler:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a}=t,n=s(),{type:r}=n;if(a())return[];switch(r){case A.a.INITIAL_STATE:case A.a.LAUNCH_COMPLETED:case A.a.LAUNCH_ERROR:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s}=t;return s()?[]:e}},[T.Td.DOCUMENT_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getRouteParams:a,doesAttachmentExistById:n,getDocumentIdByAttachmentId:r,getAttachmentTypeByAttachmentId:o}=t,i=s(),{attachmentId:c}=a()||{};if(!c||!n(c)||o(c)===T.u.Types.IMAGE)return e;const l=r(c);if(!l)return e;switch(i.type){case A.a.LAUNCH_COMPLETED:case A.a.OPEN_PAGE_REQUESTED:case A.a.DOCUMENT_FETCH_REQUESTED:return e.concat(((e,t,s,a,n)=>{const{getAction:r,getAttachmentTypeByAttachmentId:o,getAttachmentSubtypeByAttachmentId:i,getDocumentRetryCount:c}=n,l=r(),d=c(t,s,a),E=[];let _;for(_=s;_<=a;_++){const n=Na(t,_);E.push({id:n,hash:n,timestamp:l.actionTimestamp,type:T.Td.DOCUMENT_FETCH,userInputtedValues:{attachmentId:e,documentId:t,pageNumber:_,startPage:s,endPage:a,retryCount:d,type:o(e),subtype:i(e)}})}return E})(c,l,i.startPage||1,i.endPage||T.s.PAGES_CHUNK_SIZE,t))}return e},reconciler:(e=[],t)=>{const{getAction:s,isDocumentLoaded:a,isDocumentPageLoaded:n,getDocumentRetryCount:r}=t,o=s();return e.filter(e=>{const{documentId:t,startPage:s,endPage:o,pageNumber:i}=e.userInputtedValues;return!(r(t,s,o)>T.U||a(t)&&n(t,i))}).filter(e=>{const{documentId:t,startPage:s,endPage:a}=e.userInputtedValues;switch(o.type){case A.a.DOCUMENT_FETCH_SUCCEEDED:case A.a.DOCUMENT_FETCH_FAILED:return!(t===o.documentId&&s===o.startPage&&a===o.endPage)}return!0})},syncSelector:(e=[])=>{const t=e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const{documentId:s,startPage:a,endPage:n}=t.userInputtedValues;return babelHelpers.extends({},e,{[t.timestamp]:babelHelpers.extends({hash:`${s}-${a}-${n}`},t)})},{});return Object(h.e)(t)}},[T.Td.RSVP_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getCalendarSelectors:a}=t,{type:n,messageId:r,itemId:o}=s(),{getInviteStatus:i}=a();switch(n){case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.GET_INVITE_INFO_REQUESTED:return"READY"!==i(o||r)?(e=>{const{getAction:t,isFeatureEnabled:s,getRoute:a,getAttachmentsByMessageId:n,doesListExist:r,getListItemIds:o,getCalendarSelectors:i}=e,{getInviteStatus:c}=i(),{actionTimestamp:l,messageId:d,itemId:E,params:_}=t(),u=s(T.kb.RSVP_PREFETCH_API),p=a(),m=Object(N.t)(p),h=r(m)?o(m):[],S=[],g=(e,t)=>({type:T.Td.RSVP_FETCH,timestamp:l,hash:e,userInputtedValues:{messageId:e,params:t}});if(u&&(d||E)&&h.length>0){const e=h.indexOf(d||E);if(h[e+1]){const t=qa(h[e+1],n,c);t&&S.push(g(h[e+1],t))}if(h[e-1]){const t=qa(h[e-1],n,c);t&&S.push(g(h[e-1],t))}}return d&&_&&S.push(g(d,_)),S})(t):e;default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.GET_INVITE_INFO_SUCCEEDED:case A.a.GET_INVITE_INFO_FAILED:return e.filter(({userInputtedValues:e})=>e.messageId!==a.messageId);default:return e}}},[T.Td.COMPOSE_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getIsXobnified:a}=t,n=s(),r=n.query||"";if(!a())return e;switch(n.type){case A.a.CONTACT_SUGGESTIONS_REQUESTED:{const e=Da(r,n.contextFrom,n.recipientList);return[{id:e,hash:e,timestamp:n.actionTimestamp,type:T.Td.COMPOSE_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:n}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter(e=>{switch(a.type){case A.a.CONTACT_SUGGESTIONS_SUCCEEDED:case A.a.CONTACT_SUGGESTIONS_FAILED:{const t=Da(a.query,a.contextFrom,a.recipientList);return e.id!==t}}return!0})}},[T.Td.SEARCH_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s(),r=n.query||"",o=a(T.kb.SHOW_EMPTY_SEARCH_SUGGESTIONS);if(!r&&!o)return e;switch(n.type){case A.a.SEARCH_INPUT_FOCUSED:case A.a.SUGGESTIONS_REQUESTED:return[{id:r||T.cb,hash:r||T.cb,timestamp:n.actionTimestamp,type:T.Td.SEARCH_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:r}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter(e=>{switch(a.type){case A.a.SUGGESTIONS_RECEIVED:case A.a.SUGGESTIONS_FAILED:return e.id!==T.cb&&e.id!==a.query}return!0})}},[T.Td.IMPORTANT_CONTACTS_FETCH]:{preparer:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:a,getEmailOfSelectedAccount:n,getAllAccounts:r,getListsSelectors:o}=t,{doesListExist:i}=o();if(!s())return e;const c=a();switch(c.type){case A.a.SEARCH_INPUT_FOCUSED:{const t=n();return i(Object(N.o)(t))?e:[...e,Ma({fromEmail:t,syncThrottle:6e5,action:c})]}case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{if(c.type!==A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED&&-1===[T.Pc.NEW_DRAFT,T.Pc.EDIT_DRAFT].indexOf(c.route.name))break;const t=r().filter(({email:e})=>!i(Object(N.o)(e))).map(({email:e})=>Ma({fromEmail:e,action:c}));return e.concat(t)}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter(e=>{switch(a.type){case A.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case A.a.IMPORTANT_CONTACTS_FETCH_FAILED:return e.userInputtedValues.listId!==a.listId}return!0})}},[T.Td.VIDEO_CHANNELS_METADATA_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s();if(!a(T.kb.EMPTY_FOLDER_VIDEO)||a(T.kb.AOL_VIDEO_PLAYER))return e;switch(n.type){case A.a.LAUNCH_COMPLETED:return[{id:T.Td.VIDEO_CHANNELS_METADATA_FETCH,hash:"VIDEO_CHANNELS_METADATA_FETCH",timestamp:n.actionTimestamp,type:T.Td.VIDEO_CHANNELS_METADATA_FETCH,userInputtedValues:{}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case A.a.VIDEO_CHANNELS_METADATA_RECEIVED:case A.a.VIDEO_CHANNELS_METADATA_FAILED:return[]}return e}},[T.Td.VIDEO_CHANNEL_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getVideoChannelsMetaData:a}=t,n=s(),{type:r,actionTimestamp:o}=n;switch(r){case A.a.VIDEO_CHANNELS_METADATA_RECEIVED:{const t=a(),[s]=Object.keys(t||{});return s?[{id:s,hash:s,timestamp:o,type:T.Td.VIDEO_CHANNEL_FETCH,userInputtedValues:{channelAlias:s}}]:e}case A.a.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL:return[{id:n.channelAlias,hash:n.channelAlias,timestamp:o,type:T.Td.VIDEO_CHANNEL_FETCH,userInputtedValues:n}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;return e.filter(e=>{switch(n){case A.a.VIDEO_CHANNEL_RECEIVED:case A.a.VIDEO_CHANNEL_FAILED:return e.id!==a.channel}return!0})}},[T.Td.COMPOSE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,csid:n,listId:r,actionTimestamp:o,payload:i}=s();switch(a){case A.a.V3_MESSAGE_SEND_REQUESTED:return e.map(e=>babelHelpers.extends({},e,{userInputtedValues:babelHelpers.extends({},e.userInputtedValues,e.id===n&&{listId:r}),hash:e.hash||e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp||e.timestamp}));case A.a.UNSUBSCRIBE_EMAIL_REQUESTED:{const{csid:t}=i.userInputtedValues;return e.concat({id:t,hash:t,timestamp:o,saveDueTimestamp:o,type:T.Td.COMPOSE,userInputtedValues:babelHelpers.extends({},i.userInputtedValues)})}default:return e.map(e=>babelHelpers.extends({},e,{hash:e.hash?e.hash:e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp?e.saveDueTimestamp:e.timestamp}))}},reconciler:(e,t)=>{const{getAction:s,isOnline:a,getComposeSessionsSelectors:n,isSendRequested:r,isSent:o,didAttachmentUploadFail:i}=t,{doesComposeSessionExist:c,isComposeSessionDirty:l}=n(),d=s(),E=e.filter(e=>{const{userInputtedValues:t={}}=e,{csid:s}=t;return c(s)&&!o(s)&&(l(t)||r(s))}).reduce((e,t)=>{let s=t.saveDueTimestamp;return[A.a.V3_MESSAGE_SAVE_FAILED,A.a.V3_MESSAGE_SEND_FAILED].indexOf(d.type)>-1&&t.userInputtedValues.lastEditedTimeStamp===d.lastEditedTimeStamp&&(s=d.actionTimestamp),babelHelpers.extends({},e,{[t.id]:(e[t.id]||[]).concat(babelHelpers.extends({},t,{saveDueTimestamp:s}))})},{});if(!a()){const e=Object.keys(E).map(e=>{const[t]=E[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),a=E[e].reduce((e,t)=>e.concat(t.userInputtedValues.newContentIds||[]),[]).filter(e=>-1!==s.indexOf(e)&&!i(e));return babelHelpers.extends({},t,{userInputtedValues:babelHelpers.extends({},t.userInputtedValues,{newContentIds:a})})});return[].concat.apply([],e)}const _=Object.keys(E).map(e=>{const[t]=E[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),a=E[e].map(e=>babelHelpers.extends({},e,{userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{newContentIds:(e.userInputtedValues.newContentIds||[]).filter(e=>-1!==s.indexOf(e)&&!i(e))})})),n=[...a].sort((e,t)=>e.timestamp-t.timestamp).find(e=>(e.userInputtedValues.newContentIds||[]).length);return n?a.filter(e=>e.timestamp>=n.timestamp):a.sort((e,t)=>t.timestamp-e.timestamp).slice(0,1)});return[].concat.apply([],_)},syncSelector:(e,t,s)=>{const{getAction:a,isSendRequested:n,isAMT:r,isAttachmentUploadPendingForComposeSession:o,getSetting:i}=t,{type:c,forceSync:l,i13nModel:d={}}=a(),E=i(T.id.COMPOSE_SAVE_INTERVAL),_=-1!==[A.a.OPEN_PAGE_REQUESTED,A.a.ONLINE_STATUS_CHANGED].indexOf(c)||c===A.a.SYNC_DATA&&l,u=r(),p=e=>!u&&s-e.saveDueTimestamp>E,m=d.mKey===W.e.MANUAL_SAVE_DRAFT;let h;return h=u?_&&m:_,e.filter(e=>{const{newContentIds:s=[]}=e.userInputtedValues;return!!s.length||!o(e.id)&&(t.isSendRequested(e.id)||p(e)||h)}).map(e=>babelHelpers.extends({},e,{hash:n(e.id)?e.id:e.hash,userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{showNotification:m||!p(e)})}))}},[T.Td.MESSAGE_ITEM_TO_FETCH]:{preparer:(e=[],t)=>{const{getRoute:s,getAction:a,isMessageRoute:n,isAttachmentRoute:r,isDraftRoute:o,isComposeRoute:i,doesStreamExist:c,getCursorItem:l,getListsSelectors:d,getMainStreamListIds:E,getSelectedMailboxId:_,isFeatureEnabled:u,getSetting:p}=t,m=a();if(!_())return e;switch(m.type){case A.a.LAUNCH_COMPLETED:case A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:{const{listId:s}=m,{getItemIdsSelectors:a,doesListExist:r}=d();if(n())return e.concat(Ua(t));if(i()||o())return e.concat(Ha(t));if(!s||!r(s)||Object(N.q)(s)!==T.Db.MESSAGES||m.type===A.a.CHECK_MAIL_RECEIVED_WITH_UPDATES&&!u(T.kb.CHECK_MAIL_PREFETCH))return e;const{getItemIds:c}=a(s);return e.concat(c().slice(0,p(T.id.NUM_MESSAGE_GROUPS_TO_PREFETCH)).reduce((e,s)=>e.concat(Fa([s],t,!0)),[]))}case A.a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case A.a.MESSAGE_CARD_EXPANSION_CHANGED:{const s=m.itemsToUpdate.filter(e=>Boolean(e.messageId)).map(e=>e.messageId);return e.concat(ya(s,t))}case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.MESSAGE_READ_SHOW_IMAGES_REQUESTED:return e.concat(m.itemId?Fa([m.itemId],t):ya(m.messageIds,t));case A.a.DELETE_PREVIEW_REQUESTED:return e.concat(Fa([m.messageGroupId],t));case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case A.a.MESSAGE_PRINT_REQUESTED:return e.concat(ya([m.messageId],t));case A.a.V3_MESSAGE_SAVE_SUCCEEDED:case A.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case A.a.STREAM_CURSOR_MOVED:return e}if(n()||r())return e.concat(Ua(t));if(i()||o())return e.concat(Ha(t));if(p(T.id.PREVIEW_PANE)===T.Bc.NO||m.type===A.a.STREAM_ITEM_TOGGLED)return e;const h=E(s()),S=Object(P.a)(h);if(S&&c(S)){const s=l(S)||{};if(s.id)switch(Object(N.q)(s.listId)){case T.Db.MESSAGES:return e.concat(Fa([s.id],t));case T.Db.MESSAGE:return e.concat(ya([s.id],t))}}return e},reconciler:(e,t)=>{const{doesMessageBodyHasError:s,doesMessageGroupIdExist:a,doesMessageBodyExist:n,getAction:r,isSecureMessage:o,doesMessageFullBodyExist:i,getDraftMessageId:c,isOnline:l,getMessageBodyRetryCount:d}=t,E=r(),_=e;return l()?_.filter(e=>{if(e.userInputtedValues.messageId){const{messageId:t,secure:a,full:r}=e.userInputtedValues;if((E.messageIds||[]).indexOf(t)>-1){if(E.type===A.a.PREVIEW_MESSAGE_REQUESTED)return d(t)<=T.Nb;if(E.type===A.a.MESSAGE_BODIES_FAILED)return!1}return!s(t)&&(!n(t)||!a&&o(t)||r&&!i(t))}return e.userInputtedValues.messageGroupId?E.type===A.a.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.messageGroupId!==E.messageGroupId:!a(e.userInputtedValues.messageGroupId):!e.userInputtedValues.draftCsid||(E.type===A.a.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.draftCsid!==E.csid:!c(e.userInputtedValues.draftCsid))}):_.map(e=>babelHelpers.extends({},e,{timestamp:E.actionTimestamp}))},syncSelector:e=>{const t=e,s=t.some(e=>0==!!e.userInputtedValues.prefetchMode),a=t.reduce((e,t)=>{if(t.userInputtedValues.messageGroupId||t.userInputtedValues.draftCsid)return babelHelpers.extends({},e,{[t.timestamp]:t});const a=`${t.timestamp}-${t.userInputtedValues.secure}-${t.userInputtedValues.full}`;return e[a]?babelHelpers.extends({},e,{[a]:babelHelpers.extends({},e[a],{userInputtedValues:babelHelpers.extends({},e[a].userInputtedValues,{messageIds:e[a].userInputtedValues.messageIds.concat(t.userInputtedValues.messageId)})})}):babelHelpers.extends({},e,{[a]:{type:T.Td.MESSAGE_ITEM_TO_FETCH,id:a,hash:a,timestamp:t.timestamp,userInputtedValues:{messageIds:[t.userInputtedValues.messageId],secure:t.userInputtedValues.secure,full:t.userInputtedValues.full,isFallback:t.userInputtedValues.isFallback,prefetchMode:!1===s?t.userInputtedValues.prefetchMode:null,retryCount:t.userInputtedValues.retryCount}}})},{});return[].concat.apply([],Object(h.e)(a))}},[T.Td.LIST_TO_UPDATE]:{preparer:(e=[],t)=>{const{getRoute:s}=t,a=s(),n=Object(N.t)(a);return a.name&&Object(N.M)(n)?e.concat(La({listId:n},t)):e},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),{listsToUpdate:n=[],listData:r={}}=a,{lists:o={}}=r;let i=e;return n.length&&(i=e.map(e=>n.some(t=>t.listId===e.id)?La({listId:e.id,isStale:!0},t):e)),Object.keys(o).length&&(i=e.map(e=>o[e.id]?La({listId:e.id},t):e)),i},syncSelector:(e,t)=>{const{getAction:s,doesListExist:a,getCurrentListId:n,getSetting:r,isAsyncTaskPending:o,getSelectedMailboxId:i,getRoute:c,isFeatureEnabled:l,getSmartViewTypeFromRoute:d}=t,E=s(),_=c()||{},{previousRoute:u={}}=E,p=n(),m=e.find(e=>e.id===p),h=Object(N.q)(p),S=l(T.kb.COUPONS_SMART_VIEW_SEARCH)&&_.name===T.Pc.SEARCH&&d(_)===T.td.COUPONS,g=l(T.kb.BOOTCAMP_COUPONS)&&d(_)===T.td.COUPONS&&h===T.Db.COUPON_CARDS,I=h===T.Db.YAHOO_DEAL_CARDS;if(!_.url||-1!==[T.Pc.MESSAGE_FROM_SEARCH_LIST].indexOf(_.name)||!m||!i()||o()||S||g||I)return[];const C=m.userInputtedValues.isStale&&-1!==[T.Pc.LIST,T.Pc.FOLDER,T.Pc.SEARCH].indexOf(_.name),O=!(_.url!==u.url&&E.type!==A.a.CHECK_MAIL_FAILED&&(C||!a(p))||E.type===A.a.UNDO_MOVE_SUCCEEDED||E.forceSync);return[babelHelpers.extends({},m,{userInputtedValues:babelHelpers.extends({},m.userInputtedValues,{loadMoreItems:E.type===A.a.MORE_ITEMS_REQUESTED,forceSync:E.forceSync,userInitiated:E.userInitiated}),syncThrottle:500,repeat:O,syncDefer:O?r(T.id.CHECK_MAIL_INTERVAL):0})]}},[T.Td.BUSINESS_LISTING]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSetting:a,isMessageRoute:n,isDraftRoute:r,isComposeRoute:o,getListsSelectors:i,getMessageIdsFromMessageGroupId:c,getBusinessListingSelectors:l,getMessagesSelectors:d,getEnvironmentSelectors:E,doesMessageGroupIdExist:_})=>{const{type:u,actionTimestamp:p,groupId:m="",itemId:S="",listId:g,messageGroup:{id:I=""}={},updateBusinessListingForEmail:C=""}=t(),b=E().getGeoLocation();if(!s(T.kb.COUPON_STORE_LOCATOR))return e;let R=[];switch(u){case A.a.LAUNCH_COMPLETED:{const{getItemIdsSelectors:e,doesListExist:t}=i();if(n())R=c(m)||[];else if(!o()&&!r()&&g&&t(g)&&Object(N.q)(g)===T.Db.MESSAGES){const{getItemIds:t}=e(g);R=t().slice(0,a(T.id.NUM_MESSAGE_GROUPS_TO_PREFETCH)).map(e=>c(e)).reduce((e,t)=>e.concat(t),[])}break}case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:S&&_(S)&&R.push(...c(S));break;case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:I&&R.push(...c(I));break;case A.a.GEO_LOCATION_UPDATE_SUCCEEDED:""!==C&&e.push({type:T.Td.BUSINESS_LISTING,hash:C,timestamp:p,userInputtedValues:{dataType:T.Td.BUSINESS_LISTING,senderEmail:C,latlong:b}})}const D=R.map((({getBusinessListingSelectors:e,getMessagesSelectors:t})=>{const{doesValidListingExist:s}=e(),{getCardConversationId:a,getFromAddresses:n,getDecos:r}=t();return e=>Object(O.b)(e).checkIf(a).checkIf(e=>Object(Ra.l)(r(e),T.Zb.CPN)).chain(e=>Object(h.a)(n(e),"0.email",void 0)).checkIfNot(s).chain(e=>({senderEmail:e}))})({getBusinessListingSelectors:l,getMessagesSelectors:d})).filter(e=>!e.isNothing()).map(e=>e.unbox());return e.concat(D.map(({senderEmail:e})=>({type:T.Td.BUSINESS_LISTING,hash:e,timestamp:p,userInputtedValues:{dataType:T.Td.BUSINESS_LISTING,senderEmail:e,latlong:b}})))},reconciler:(e,{getAction:t})=>{const{type:s,senderEmail:a}=t();switch(s){case A.a.UPDATE_BUSINESS_LISTING_SUCCEEDED:case A.a.UPDATE_BUSINESS_LISTING_FAILED:return e.filter(({userInputtedValues:{senderEmail:e=""}={}})=>e!==a)}return e}},[T.Td.GEO_LOCATION]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s})=>Object(O.b)(t()).checkIf(()=>s(T.kb.GEO_LOCATION)).checkIfNot(()=>e.some(({type:e})=>e===T.Td.GEO_LOCATION)).checkIf(({type:e})=>e===A.a.GEO_LOCATION_UPDATE_REQUESTED).chain(e=>{let{actionTimestamp:t,email:s=""}=e,a=babelHelpers.objectWithoutProperties(e,["actionTimestamp","email"]);return babelHelpers.extends({},a,{actionTimestamp:t,unsyncedDataForAction:[{type:T.Td.GEO_LOCATION,hash:T.Td.GEO_LOCATION,timestamp:t,userInputtedValues:{updateBusinessListingForEmail:s}}]})}).unbox(({unsyncedDataForAction:t=[]}={})=>e.concat(t),()=>e),reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case A.a.GEO_LOCATION_UPDATE_SUCCEEDED:case A.a.GEO_LOCATION_UPDATE_FAILED:return[]}return e}},[T.Td.SAVED_SEARCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case A.a.OPEN_PAGE_REQUESTED:case A.a.PREVIEW_MESSAGE_REQUESTED:return e.concat({id:T.Td.SAVED_SEARCH,hash:T.Td.SAVED_SEARCH,timestamp:a,type:T.Td.SAVED_SEARCH,userInputtedValues:{}});default:return e}},reconciler:(e=[],t)=>{const{getAction:s,getSavedSearchesSelectors:a,isFeatureEnabled:n,getMessageIdsFromMessageGroupId:r,getMessagesSelectors:o}=t,{isCoupon:i,doesMessageIdExist:c}=o(),{getTotalNumberOfSavedSearches:l}=a(),{type:d,itemId:E}=s();switch(d){case A.a.LIST_SAVED_SEARCH_SUCCEEDED:case A.a.LIST_SAVED_SEARCH_FAILED:return[];default:return Object(O.b)(E).checkIf(()=>n(T.kb.COUPONS_AUTO_CLIP)).checkIf(()=>0===l()).checkIfNot(e=>""===e,e=>r(e)).checkIfNot(([e])=>""===e).checkIf(e=>c(e)&&i(e)).unbox(()=>e,()=>[])}}},[T.Td.LOCATION_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r,location:o}=a;switch(n){case A.a.SETTINGS_LOCATION_CHANGE_REQUESTED:return[{id:T.Td.LOCATION_TO_UPDATE,hash:T.Td.LOCATION_TO_UPDATE,timestamp:r,type:T.Td.LOCATION_TO_UPDATE,userInputtedValues:{location:o}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;switch(n){case A.a.SETTINGS_LOCATION_CHANGE_FAILED:case A.a.SETTINGS_LOCATION_CHANGE_SUCCEEDED:return[]}return e}},[T.Td.CONVERSATION_MODE_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:r,value:o}=a;switch(n){case A.a.CONVERSATIONS_CHANGE_REQUESTED:return[{hash:T.Td.CONVERSATION_MODE_TO_UPDATE,timestamp:r,type:T.Td.CONVERSATION_MODE_TO_UPDATE,userInputtedValues:{value:o}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;switch(n){case A.a.CONVERSATIONS_CHANGE_SUCCEEDED:case A.a.CONVERSATIONS_CHANGE_FAILED:return[]}return e}},[T.Td.PARENT_MESSAGE_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,cardConversationId:a,actionTimestamp:n}=t();switch(s){case A.a.PARENT_MESSAGE_METADATA_REQUESTED:return e.concat([{type:T.Td.PARENT_MESSAGE_TO_FETCH,hash:a,timestamp:n,userInputtedValues:{cardConversationId:a}}]);default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,cardConversationId:a=""}=t();switch(s){case A.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case A.a.PARENT_MESSAGE_METADATA_FAILED:return[];default:return a?e:[]}}},[T.Td.COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getRoute:s,isFeatureEnabled:a,getSelectedAccountId:n})=>{const r=t(),o=s(),{actionTimestamp:i}=r,c=Object(N.t)(o),l=a(T.kb.COUPONS_SMART_VIEW_SEARCH)&&o.name===T.Pc.SEARCH,d=Object(N.p)(c),E=Object(N.k)(c),_=n(),u=a(T.kb.DEALS_VIEW_V2),p=Object(N.Q)(c,{listFilter:T.Eb.ALL_COUPON_CARDS,referrer:T.rd.COUPONS,accountIds:[_]}),m=Object(N.Q)(c,{listFilter:T.Eb.SAVED_COUPON_CARDS,referrer:T.rd.COUPONS,accountIds:[_]}),h=[{type:T.Td.COUPONS_TO_FETCH,hash:`${T.Td.COUPONS_TO_FETCH}-${p}`,timestamp:i,userInputtedValues:{listId:p,decoId:[T.Zb.CPN],isSearch:l,keyword:d,emailAddress:E,action:r}}];return u&&l||h.push({type:T.Td.COUPONS_TO_FETCH,hash:`${T.Td.COUPONS_TO_FETCH}-${m}`,timestamp:i,userInputtedValues:{listId:m,decoId:[T.Zb.CPN,T.Zb.TAG],isSearch:l,keyword:d,emailAddress:E}}),e.concat(h)},reconciler:(e=[],{getAction:t,doesListExist:s,isFeatureEnabled:a,doesListHasMoreItems:n,getSetting:r,getSmartViewTypeFromRoute:o,getRoute:i})=>{const c=t(),{type:l}=c,d=o(i());switch(l){case A.a.ADBLOCK_DETECTED:{const t=a(T.kb.AD_BLOCK_COUPONS)&&r(T.id.AD_BLOCK_COUPONS_SORT_ORDER)!==T.i.RECOMMENDED;return e.filter(({userInputtedValues:{listId:e,isSearch:n}})=>(a(T.kb.BOOTCAMP_COUPONS)||n)&&t&&!s(e))}case A.a.MORE_COUPONS_REQUESTED:return e.filter(({userInputtedValues:{listId:e,action:t,isSearch:r}})=>(a(T.kb.BOOTCAMP_COUPONS)||t||r)&&s(e)&&d===T.td.COUPONS&&n(e));case A.a.COUPONS_LIST_SUCCEEDED:case A.a.COUPONS_LIST_FAILED:return[];default:return e.filter(({userInputtedValues:{listId:e,isSearch:t}})=>(a(T.kb.BOOTCAMP_COUPONS)||t)&&!s(e)&&d===T.td.COUPONS&&Object(N.q)(e)===T.Db.COUPON_CARDS)}}},[T.Td.GEMINI_AD_ASSET]:{preparer:(e=[],t)=>{const{getAction:s,getAdsSelectors:a,getRoute:n}=t,{type:r,actionTimestamp:o}=s();if(-1===[A.a.OPEN_PAGE_REQUESTED,A.a.LAUNCH_COMPLETED].indexOf(r))return e;const i=n();if(i.name!==T.Pc.SPONSORED_MESSAGE)return e;const{getGeminiAdDataFromCreativeId:c}=a(),{nativeAd:l={}}=c(Object(h.a)(i,"params.creativeId"))||{};return l.geminiSponsoredAsset||!l.url?e:e.concat([{type:T.Td.GEMINI_AD_ASSET,hash:`GEMINI_AD_ASSET_HASH-${i.params.creativeId}`,timestamp:o,userInputtedValues:{dataType:T.Td.GEMINI_AD_ASSET,creativeId:i.params.creativeId,url:l.url}}])},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.GEMINI_SPONSORED_ASSET_RECEIVED:case A.a.GEMINI_SPONSORED_ASSET_FAILED:return e.filter(({userInputtedValues:e})=>e.creativeId!==a.creativeId);default:return e}}},[T.Td.RELATED_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();switch(a){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return[{type:T.Td.RELATED_SEARCHES_TO_FETCH,hash:"RELATED_SEARCHES_UNSYNCED_DATA_HASH",timestamp:n,userInputtedValues:{dataType:T.Td.RELATED_SEARCHES_TO_FETCH}}];default:return e}},reconciler:(e,t)=>{const{getAction:s,getAdsSelectors:a,isFeatureEnabled:n}=t,{getRelatedSearches:r}=a(),o=r(),i=s();if(!n(T.kb.RELATED_SEARCHES_CARD)||o&&Object.keys(o).length)return[];switch(i.type){case A.a.RELATED_SEARCHES_FETCH_SUCCEEDED:case A.a.RELATED_SEARCHES_FETCH_FAILED:return[]}return e}},[T.Td.PLA_ADS_TO_FETCH]:{preparer:(e=[],t)=>{const{isFeatureEnabled:s,getCouponsSelectors:a,getAdsSelectors:n,getAction:r,getRecommendedItemCardSelectors:o}=t,i=r();switch(i.type){case A.a.OPEN_PAGE_REQUESTED:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.FETCH_PLA_ADS_BY_KEYWORD:{const t=s(T.kb.PLA_ADS_ON_COUPON_MESSAGE_READ),r=s(T.kb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ),{gptCategoryList:c,couponsRetailer:l}=a().getCouponsGPTData(),d=o().getRecommendedItemList();let E="",_="";i.type===A.a.FETCH_PLA_ADS_BY_KEYWORD?(E=i.keyword||"",_=W.e.PLA_ADS_BY_KEYWORD_RECEIVED_USER_CLICK):t&&c.length>0?(E=c[0],_=W.e.PLA_ADS_BY_KEYWORD_RECEIVED_OPEN_PAGE):r&&d.length&&(E=d[0],_=W.e.PLA_ADS_BY_KEYWORD_RECEIVED_OPEN_PAGE);const u=n().getPlaAdsForKeyword(E,l);return E&&!u?[{type:T.Td.PLA_ADS_TO_FETCH,hash:E,timestamp:i.actionTimestamp,userInputtedValues:{keyword:E,couponsRetailer:l,mkey:_}}]:e}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.FETCH_PLA_ADS_BY_KEYWORD_RECEIVED:case A.a.PLA_ADS_BY_KEYWORD_FETCH_FAILED:return e.filter(({hash:e})=>e!==a.originalKeyword)}return e}},[T.Td.MESSAGE_ITEM_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s,getFeaturesSelectors:a}=t,n=s(),r=a().isEnabled(T.kb.UPDATE_ITEMS_V3);if(!(e=>ka.indexOf(e)>=0)(n.type)||!r)return e;if(n.type===A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const s=n.itemsToUpdate.filter(e=>!!e.messageQuery);return e.concat(ja(s,t))}return e.concat(ja(n.itemsToUpdate,t))},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return Object(h.e)(e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const s=e[t.id]?babelHelpers.extends({},e[t.id].userInputtedValues,t.userInputtedValues):t.userInputtedValues;return babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},e[t.id]||t,{userInputtedValues:s})})},{})).map(e=>((e,t)=>{const{messageItemsToSync:s=[],itemsToUpdate:a=[],type:n}=e,r=[...s,...a].find(e=>e.id===t.id||e.messageId===t.id),{userInputtedValues:o={}}=t;if(!r)return t;switch(n){case A.a.UPDATE_ITEMS_SUCCEEDED:case A.a.UPDATE_ITEMS_FAILED:case A.a.BULK_PROGRESS_INITIATED:case A.a.UNDO_MOVE_SUCCEEDED:case A.a.UNDO_MOVE_FAILED:return babelHelpers.extends({},t,{userInputtedValues:oe()(o,r.updateTypes)})}return t})(a,e)).filter(e=>Object.keys(e.userInputtedValues).length)},syncSelector:(e=[],t)=>{const{getAction:s,getMessageFlags:a,getMessageFolderId:n,getAccountIdByFolderId:r}=t,{actionTimestamp:o,type:i}=s(),c=e.map(e=>{const t=Object(h.e)(e.userInputtedValues),s=e.id,o=t[0],i=o&&o.messageQuery,c=i?void 0:s;let l,d,E;if(i)d=o.flags,l=o.destinationFolder,E=void 0;else{const e=n(s);E=e?r(e):void 0,l={id:e},d=a(s)}return babelHelpers.extends({id:s,messageId:c,permanentDelete:t.some(e=>e.permanentDelete),updateTypes:Object.keys(e.userInputtedValues),messageQuery:i,deleteDuplicates:t.some(e=>e.deleteDuplicates),flags:d,folder:l},E?{accountId:E}:{})}).map(e=>{const t=babelHelpers.extends({},e);return e.updateTypes.forEach(e=>{const s=xa[e];s&&(t.flags=babelHelpers.extends({},t.flags||{},{[s]:!!(t.flags||{})[s]}))}),t});return!c.length||(e=>Ga.indexOf(e)>=0)(i)?[]:[{type:T.Td.MESSAGE_ITEM_TO_UPDATE,id:T.Td.MESSAGE_ITEM_TO_UPDATE,hash:T.Td.MESSAGE_ITEM_TO_UPDATE,timestamp:o,userInputtedValues:{messageItemsToSync:c}}]}},[T.Td.PAYMENTS_CONTENT_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,{type:n,actionTimestamp:r}=s(),o=a(T.kb.ADBLOCK_UPSELL_CUE);return n===A.a.ADBLOCK_DETECTED&&o||n===A.a.HIDE_RIGHT_PANE_ADS?[{type:T.Td.PAYMENTS_CONTENT_TO_FETCH,hash:"PAYMENTS_CONTENT_UNSYNCED_DATA_HASH",timestamp:r,userInputtedValues:{dataType:T.Td.PAYMENTS_CONTENT_TO_FETCH}}]:e},reconciler:(e,t)=>{const{getAction:s,getPaymentSelectors:a,getFeaturesSelectors:n}=t,{isEnabled:r}=n(),{getPaymentDetails:o}=a(),i=r(T.kb.MAIL_PRO_ELIGIBLE),c=o(),l=s();if(!i||c.length)return[];switch(l.type){case A.a.PAYMENTS_FETCH_RECEIVED:case A.a.PAYMENTS_FETCH_FAILED:return[]}return e}},[T.Td.ASYNC_TASK_STATUS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();switch(a){case A.a.MOVE_ITEMS_REQUESTED:case A.a.DELETE_ITEMS_REQUESTED:case A.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case A.a.READ_CHANGE_REQUESTED:case A.a.STAR_CHANGE_REQUESTED:{const t=s(),{isAsync:a=!1}=t;return a?[{type:T.Td.ASYNC_TASK_STATUS,hash:"ASYNC_TASK_STATUS_HASH",timestamp:n,userInputtedValues:{taskId:null,status:T.y.INIT,progress:0,pollCount:0,abort:!1,actionPayload:t}}]:e}case A.a.BULK_PROGRESS_INITIATED:{const e=s(),{tasks:t=[]}=e,a=babelHelpers.objectWithoutProperties(e,["tasks"]);return t.map(({id:e,status:t,progress:s,pollCount:r=0})=>({type:T.Td.ASYNC_TASK_STATUS,hash:e,timestamp:n,userInputtedValues:{taskId:e,status:t,progress:s,pollCount:r,abort:!1,actionPayload:a}}))}case A.a.BULK_PROGRESS_RECEIVED:{const{id:t,status:a,progress:r,pollCount:o=0}=s();return e.map(e=>e.userInputtedValues.taskId&&t!==e.userInputtedValues.taskId?e:babelHelpers.extends({},e,{timestamp:n,userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{taskId:t,status:a,progress:r,pollCount:o})}))}case A.a.BULK_CANCEL_REQUESTED:return e.map(e=>babelHelpers.extends({},e,{timestamp:n,userInputtedValues:babelHelpers.extends({},e.userInputtedValues,{abort:!0})}));default:return e}},reconciler:(e,t)=>{const{getAction:s,isOnline:a}=t,{type:n,triageActionType:r}=s();if(!a())return e.length>0?[]:e;switch(n){case A.a.UPDATE_ITEMS_SUCCEEDED:case A.a.UPDATE_ITEMS_FAILED:return e.filter(e=>Object(h.a)(e,"userInputtedValues.actionPayload.triageActionType",void 0)!==r);case A.a.BULK_CANCEL_FAILED:return e.length>0?[]:e;default:return e}},syncSelector:(e=[],t,s)=>{const{getFeaturesSelectors:a}=t,n=a().getSetting(T.id.ASYNC_TASK_POLL_INTERVAL);return e.filter(e=>{const t=e.userInputtedValues;return!!t.abort||!!t.taskId&&!(s-e.timestamp<n)})}},[T.Td.CONTACT_CARD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n,email:r,isCompose:o}=s();switch(a){case A.a.CONTACT_DETAIL_FETCH_REQUESTED:return e.concat([{type:T.Td.CONTACT_CARD,hash:r,timestamp:n,userInputtedValues:{email:r,isCompose:o}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s,doesContactIdExist:a}=t,n=s();switch(n.type){case A.a.CONTACT_DETAIL_FETCH_SUCCEEDED:case A.a.CONTACT_DETAIL_FETCH_FAILED:return e.filter(e=>e.userInputtedValues.email!==n.email)}return e.filter(e=>!a(e.userInputtedValues.email))}},[T.Td.COMPONENT_UI_STATE]:{preparer:(e=[])=>e.sort((e,t)=>t.timestamp-e.timestamp).slice(0,10),syncSelector:()=>[]},[T.Td.ACCOUNT_TO_UPDATE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n,accountId:r,updatedProperties:o,warnOnClose:i=!0}=s;switch(a){case A.a.ACCOUNT_DETAILS_CHANGE_REQUESTED:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s,warnOnClose:a})=>({type:T.Td.ACCOUNT_TO_UPDATE,hash:`UPDATE_ACCOUNT_UNSYNCED_DATA_HASH-${s}`,id:e,timestamp:s,warnOnClose:a,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:r,updatedProperties:o,actionTimestamp:n,warnOnClose:i}));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case A.a.ACCOUNT_DETAILS_CHANGE_FAILED:return e.filter(e=>!(e.userInputtedValues.accountId===a.accountId&&e.userInputtedValues.requestTimestamp<=a.requestTimestamp))}return e},syncSelector:e=>{const t=Ta()(e,e=>e.timestamp);return t?[t]:[]}},[T.Td.SETTINGS_TO_CHANGE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case A.a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:return"pacNotificationCue"!==s.name?e:e.concat(Ka({actionTimestamp:n,accountId:"none",updatedSettingAttributes:[{name:T.id.SHOW_IMAGES,value:!0}]}));case A.a.THEME_MODE_CHANGE_REQUESTED:case A.a.OPEN_PAGE_REQUESTED:{const{updatedSettingAttributes:t,accountId:a="none"}=s;return t?e.concat(Ka({accountId:a,updatedSettingAttributes:t,actionTimestamp:n})):e}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.SETTINGS_CHANGE_FAILED:case A.a.SETTINGS_CHANGE_SUCCEEDED:if(a.requestActionPayload){const{requestTimestamp:t,accountId:s}=a.requestActionPayload;return e.filter(e=>{const{userInputtedValues:{accountId:a}}=e;return a!==s||t<e.timestamp})}return e}return e},syncSelector:e=>{if(!e.length)return[];e.sort((e,t)=>e.timestamp-t.timestamp);const t=e.reduce((e,t)=>{const{accountId:s,updatedSettingAttributes:a,requestTimestamp:n}=t.userInputtedValues;e[s]||(e[s]={});const{userInputtedValues:r={}}=e[s];return e[s]=babelHelpers.extends({},e[s],{type:T.Td.SETTINGS_TO_CHANGE,hash:T.Td.SETTINGS_TO_CHANGE+s,timestamp:t.timestamp,userInputtedValues:babelHelpers.extends({},r,{updatedSettingAttributes:babelHelpers.extends({},r.updatedSettingAttributes||{},a.reduce((e,{name:t,value:s})=>(e[t]=s,e),{})),accountId:s,requestTimestamp:n})}),e},{});return Object.keys(t).reduce((e,s)=>{const a=t[s],{userInputtedValues:n}=a;return n.updatedSettingAttributes=Object.keys(n.updatedSettingAttributes).reduce((e,t)=>[...e,{name:t,value:n.updatedSettingAttributes[t]}],[]),[...e,a]},[])}},[T.Td.FOLDER]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,folderId:n,folderName:r,actionTimestamp:o,filters:i,originalFolderName:c,newFolderName:l,subfolders:d}=s();switch(a){case A.a.RENAME_FOLDER_REQUESTED:case A.a.DELETE_FOLDER_REQUESTED:return e.concat([{type:T.Td.FOLDER,hash:n,timestamp:o,userInputtedValues:{folderId:n,folderName:r,filters:i,originalFolderName:c,newFolderName:l,updateType:a,subfolders:d}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.RENAME_FOLDER_SUCCEEDED:case A.a.RENAME_FOLDER_FAILED:return e.filter(({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==A.a.RENAME_FOLDER_REQUESTED);case A.a.DELETE_FOLDER_SUCCEEDED:case A.a.DELETE_FOLDER_FAILED:return e.filter(({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==A.a.DELETE_FOLDER_REQUESTED)}return e}},[T.Td.GEMINI_AD]:{preparer:(e=[],t)=>{const{getAction:s,getAdSectionIds:a,getCurrentSpaceId:n,isFeatureEnabled:r}=t;if(!r(T.kb.PENCIL_AD))return[];const o=s(),i=a(),c=n();return Object(h.b)(i)||!c?e:e.concat(Object.keys(i).map(e=>({type:T.Td.GEMINI_AD,hash:`GEMINI_AD_HASH-${i[e]}`,timestamp:o.actionTimestamp,userInputtedValues:{spaceId:c,sectionId:i[e],adPosition:e}})))},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.GEMINI_AD_RECEIVED:case A.a.GEMINI_AD_FAILED:return e.filter(({userInputtedValues:e})=>-1===Object(h.e)(a.sectionIds).indexOf(e.sectionId));default:return e}},syncSelector:(()=>{let e={},t={},s={};return(a,n,r)=>{if(!a.length||"undefined"==typeof window)return[];const{getAction:o,getAdSectionIds:i,getRoute:c,getSelectedMailboxId:l,getStreamsSelectors:d,getSetting:E,getCurrentListId:_,isFeatureEnabled:u,getAdsSelectors:p,getReconciledUnysncedDataByHash:S,getEnvironmentSelectors:g}=n,I=o(),C=i(),O=c(),{doesStreamExist:R,getCursorSelectors:D}=d(),f=-1!==[T.Pc.FOLDER,T.Pc.SEARCH,T.Pc.LIST].indexOf(O.name),M=I.type===A.a.HIDE_RIGHT_PANE_ADS&&u(T.kb.RIGHT_RAIL_UPSELL_VIDEO_AD);let y=!1,P=!1,v=!1;if(I.streamId&&R(I.streamId)&&E(T.id.PREVIEW_PANE)!==T.Bc.NO&&f){const t=D(I.streamId).getCursorItem();!t||t.id===e.id&&t.listId===e.listId||Object(N.q)(t.listId)!==T.Db.MESSAGES||(e=t,y=!0)}l()&&!Object(L.A)(O,t)&&(P=!0,t=O),Object(h.d)(C,s)||(v=!0,s=C);const F=E(T.id.PENCIL_AD_VERSION);if(["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(F)>-1&&Object(b.d)(I)&&1===p().getCouponOnPencilState())return[];const U=-1!==[A.a.PREVIEW_MESSAGE_CLOSED,A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(I.type)||P||v,H=y||Object(b.d)(I)||U,{getFeedbackStartedSectionIds:k,getCachedGeminiAds:G}=p(),w=k().length>0;if(!M&&(!H||w||u("drawer")))return[];const x=_(),B=S(`MessageListUi-${x}`)||{},j=Object(h.a)(B,"uiState.scrollTop",0),{contentAndRightRailHeight:V}=g().getWindowDimensions(),W=m.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT+(u(T.kb.SECOND_PENCIL_AD)||u(T.kb.TIMECHUNK_PENCIL_AD)?V:0),q=E(T.id.GEMINI_SECTION_IDS),K=[q[T.tb.MESSAGE_LIST],q[T.tb.MESSAGE_LIST_2]],z=E(T.id.TIME_TO_WAIT_SINCE_LAST_AD_CALL),Y=a.filter(({userInputtedValues:e})=>!u(T.kb.ROTATE_PENCIL_AD_ON_EXPIRE)||G(e.sectionId).length<=2).filter(({userInputtedValues:e})=>-1!==Object(h.e)(C).indexOf(e.sectionId)).filter(({userInputtedValues:e})=>!(f&&(Object(N.z)(x)||Object(N.G)(x)||j>W)&&-1!==K.indexOf(e.sectionId))).filter(e=>U||r-e.timestamp>z);return Y.length?Y.reduce((e,t)=>{const{userInputtedValues:s,timestamp:a}=t,{spaceId:n,sectionId:r,adPosition:o}=s;return e[0]?[babelHelpers.extends({},e[0],{userInputtedValues:babelHelpers.extends({},e[0].userInputtedValues,{sectionIds:babelHelpers.extends({},e[0].userInputtedValues.sectionIds,{[o]:r})})})]:[{type:T.Td.GEMINI_AD,hash:"GEMINI_AD_HASH",timestamp:a,userInputtedValues:{spaceId:n,sectionIds:{[o]:r}}}]},[]):[]}})()},[T.Td.VACATION_RESPONSE_SETTINGS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,value:n,actionType:r,actionTimestamp:o}=s();switch(a){case A.a.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:return[{type:T.Td.VACATION_RESPONSE_SETTINGS,hash:T.Ud.SAVE_VACATION_RESPONSE,timestamp:o,warnOnClose:!0,userInputtedValues:{value:n,actionType:r,requestTimestamp:o}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED:case A.a.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED:return e.filter(e=>e.hash!==T.Ud.PREVENT_ROUTE_CHANGE&&e.timestamp>a.requestTimestamp);default:return e.filter(e=>e.hash!==T.Ud.PREVENT_ROUTE_CHANGE)}}},[T.Td.RAW_MESSAGE]:{syncSelector:(e,t)=>{const{getAction:s}=t,{type:a,messageId:n,actionTimestamp:r}=s();return a!==A.a.VIEW_RAW_MESSAGE?[]:[{type:T.Td.RAW_MESSAGE,hash:n,timestamp:r,userInputtedValues:{dataType:T.Td.RAW_MESSAGE,messageId:n}}]}},[T.Td.COUPON_RECOMMENDATIONS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,messageId:n=""}=t();switch(s){case A.a.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({type:T.Td.COUPON_RECOMMENDATIONS_TO_FETCH,hash:"COUPONS_RECOMMENDATIONS_UNSYNCED_DATA_HASH",timestamp:a,userInputtedValues:{cardMessageId:n}});default:return e}},reconciler:(e,{getAction:t,getCouponsSelectors:s,isFeatureEnabled:a})=>{const{type:n,parentMessageId:r="",messageId:o="",recommendations:i=!1,listId:c=""}=t(),{isSingleCouponParentMessageId:l}=s(),[{userInputtedValues:{cardMessageId:d=""}={}}={}]=e,E=Object(N.e)({referrer:T.Fb.COUPON_RECOMMENDATIONS,keyword:d});switch(n){case A.a.COUPONS_LIST_SUCCEEDED:case A.a.COUPONS_LIST_FAILED:return c===E?[]:e;default:return Object(O.b)(r).checkIfNot(()=>""===o).checkIf(()=>i).checkIf(()=>a(T.kb.COUPON_RECOMMENDATIONS)||a(T.kb.COUPON_REC_WITH_ADS)).checkIf(e=>l(e)||a(T.kb.MULTI_COUPON_RECOMMENDATIONS)).unbox(()=>e,()=>[])}},syncSelector:(e,{getAction:t})=>{const{type:s}=t();switch(s){case A.a.COUPONS_ADD_TAG_DECO_SUCCEEDED:return e;default:return[]}}},[T.Td.RELATED_COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getSenderEmailIdsFromMessageGroup:s,getGroupId:a})=>{const{type:n,actionTimestamp:r}=t(),o=s([a()])[0],i=Object(N.f)({listContentType:T.Db.COUPON_CARDS,listFilter:T.Eb.ALL_COUPON_CARDS,referrer:T.Fb.RELATED_COUPONS,emailAddresses:o});switch(n){case A.a.OPEN_PAGE_REQUESTED:return e.concat({type:T.Td.RELATED_COUPONS_TO_FETCH,hash:`RELATED_COUPONS-${o}`,timestamp:r,userInputtedValues:{listId:i,emailAddress:o}});default:return e}},reconciler:(e,{getAction:t,getListsSelectors:s,isFeatureEnabled:a})=>{const{type:n,itemId:r,listId:o=""}=t(),{getItemIdsSelectors:i,doesListExist:c}=s(),l=e.filter(({userInputtedValues:e})=>!c(e.listId)||0===i(e.listId).getItemIds().length);switch(n){case A.a.COUPONS_LIST_SUCCEEDED:case A.a.COUPONS_LIST_FAILED:return l.filter(({userInputtedValues:e})=>e.listId!==o);default:return Object(O.b)(r).checkIfNot(e=>""===e).checkIf(()=>a(T.kb.RELATED_COUPONS)).unbox(()=>l,()=>[])}}},[T.Td.COUPON_SEARCH]:{preparer:(e=[],t)=>{const{getAction:s,getCurrentListId:a,isFeatureEnabled:n}=t,{type:r,actionTimestamp:o}=s(),i=a();if(!n(T.kb.COUPONS_ON_SEARCH_RIGHT_RAIL))return e;switch(r){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return e.concat([{type:T.Td.COUPON_SEARCH,hash:`COUPON_SEARCH_HASH-${i}`,timestamp:o,userInputtedValues:{listId:i}}]);default:return e}},reconciler:(e,t)=>{const{getListsSelectors:s,getAction:a}=t,{getSearchCoupons:n}=s(),r=a();switch(r.type){case A.a.COUPON_SEARCH_FAILED:case A.a.COUPON_SEARCH_SUCCEEDED:return e.filter(({userInputtedValues:e})=>{const{listId:t}=e;return!n(t)&&t!==r.listId});default:return e.filter(({userInputtedValues:e})=>!n(e.listId))}}},[T.Td.ACCOUNT_TO_REAUTH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{actionTimestamp:a,wssid:n,accountId:r,type:o,email:i,provider:c}=s();switch(o){case A.a.ACCOUNT_REAUTH_REQUESTED:return[...e,{type:T.Td.ACCOUNT_TO_REAUTH,hash:T.Td.ACCOUNT_TO_REAUTH+r,timestamp:a,userInputtedValues:{wssid:n,accountId:r,email:i,provider:c}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.ACCOUNT_REAUTH_SUCCEEDED:case A.a.ACCOUNT_REAUTH_FAILED:return e.filter(({userInputtedValues:e})=>e.accountId!==a.accountId)}return e}},[T.Td.RETAILERS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const{actionTimestamp:a,type:n}=t(),r=s(),o=Object(N.t)(r);switch(n){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:case A.a.PREVIEW_MESSAGE_REQUESTED:return e.concat({id:T.Td.RETAILERS,hash:T.Td.RETAILERS,timestamp:a,type:T.Td.RETAILERS,userInputtedValues:{listId:o}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s,getRetailersSelectors:a})=>{const{getTotalNumberOfRetailers:n}=a(),{type:r,itemId:o}=t();switch(r){case A.a.RETAILERS_LIST_SUCCEEDED:case A.a.RETAILERS_LIST_FAILED:return[];default:{const t=e=>e&&(Object(N.q)(e)===T.Db.GROCERY_STORES||Object(N.q)(e)===T.Db.OFFER_CARDS);return e.filter(({userInputtedValues:{listId:e}})=>s(T.kb.QUOTIENT)&&(t(e)||o)&&0===n())}}}},[T.Td.SR_RETAILERS]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case A.a.LAUNCH_COMPLETED:case A.a.PREVIEW_MESSAGE_REQUESTED:return e.concat({id:T.Td.SR_RETAILERS,hash:T.Td.SR_RETAILERS,timestamp:a,type:T.Td.SR_RETAILERS});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s,getSRRetailersSelectors:a})=>{const{getTotalNumberOfRetailers:n}=a(),{type:r}=t();switch(r){case A.a.SR_RETAILERS_LIST_SUCCEEDED:case A.a.SR_RETAILERS_LIST_FAILED:return[];default:return e.filter(()=>s(T.kb.SHOPRUNNER)&&0===n())}}},[T.Td.RETAILER_LINK]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,retailerId:n,loyaltyId:r,parentName:o}=t();switch(s){case A.a.LINK_RETAILER_REQUESTED:return e.concat({id:T.Td.RETAILER_LINK,hash:n,timestamp:a,type:T.Td.RETAILER_LINK,userInputtedValues:{retailerId:n,loyaltyId:r,parentName:o}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,retailerId:n,loyaltyId:r}=t();switch(a){case A.a.LINK_RETAILER_SUCCEEDED:case A.a.LINK_RETAILER_FAILED:return[];default:return Object(O.b)(n).checkIfNot(e=>""===e).checkIf(()=>s(T.kb.QUOTIENT)).checkIf(()=>r).checkIfNot(()=>""===r).unbox(()=>e,()=>[])}}},[T.Td.RETAILER_UNLINK]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,retailerId:n}=t();switch(s){case A.a.UNLINK_RETAILER_REQUESTED:return e.concat({id:T.Td.RETAILER_UNLINK,hash:n,timestamp:a,type:T.Td.RETAILER_UNLINK,userInputtedValues:{retailerId:n}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,retailerId:n}=t();switch(a){case A.a.UNLINK_RETAILER_SUCCEEDED:case A.a.UNLINK_RETAILER_FAILED:return[];default:return Object(O.b)(n).checkIfNot(e=>""===e).checkIf(()=>s(T.kb.QUOTIENT)).unbox(()=>e,()=>[])}}},[T.Td.OFFERS]:{preparer:Va,reconciler:Wa},[T.Td.MORE_OFFERS]:{preparer:Va,reconciler:Wa},[T.Td.ACTIVATE_OFFER]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const{type:a,actionTimestamp:n,retailerId:r,offer:o}=t(),i=s(),c=Object(N.t)(i),l=Object(N.Q)(c,{listFilter:T.Eb.ACTIVATED_OFFER_CARDS});switch(a){case A.a.ACTIVATE_OFFER_REQUESTED:return e.concat({id:T.Td.ACTIVATE_OFFER,hash:`${r}-${o.offerId}`,timestamp:n,type:T.Td.ACTIVATE_OFFER,userInputtedValues:{listId:l,retailerId:r,offer:o}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,retailerId:n="",offer:r={}}=t(),{offerId:o=""}=r;switch(a){case A.a.ACTIVATE_OFFER_SUCCEEDED:case A.a.ACTIVATE_OFFER_FAILED:return[];default:return Object(O.b)(n).checkIfNot(e=>""===e).checkIf(()=>s(T.kb.QUOTIENT)).checkIf(()=>o).checkIfNot(()=>""===o).unbox(()=>e,()=>[])}}},[T.Td.ACTIVATED_OFFERS]:{preparer:Aa,reconciler:Oa},[T.Td.MORE_ACTIVATED_OFFERS]:{preparer:Aa,reconciler:Oa},[T.Td.SAVINGS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const a=s(),{actionTimestamp:n,type:r}=t(),o=Object(N.t)(a),i=Object(N.p)(o)||"";switch(r){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return e.concat({id:T.Td.SAVINGS,hash:`${i}-savings`,timestamp:n,type:T.Td.SAVINGS,userInputtedValues:{listId:o,retailerId:i}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a}=t();switch(a){case A.a.SAVINGS_LIST_SUCCEEDED:case A.a.SAVINGS_LIST_FAILED:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(T.kb.QUOTIENT)&&Object(N.q)(e)===T.Db.OFFER_CARDS&&Object(N.r)(e)===T.Eb.RECOMMENDED_OFFER_CARDS&&""!==t)}}},[T.Td.BASENAME_TO_CREATE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case A.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:{const{domain:t,baseName:a}=s;return[...e,{type:T.Td.BASENAME_TO_CREATE,hash:ba({baseName:a,domain:t}),timestamp:n,userInputtedValues:{domain:t,baseName:a}}]}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,{baseName:a,domain:n,type:r}=s();switch(r){case A.a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:case A.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:case A.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED:return e.filter(({hash:e})=>e!==ba({baseName:a,domain:n}))}return e}},[T.Td.ACCOUNT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,accountId:n}=s();switch(a){case A.a.ACCOUNT_DELETE_REQUESTED:return e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:a,type:n}=s();return{type:T.Td.ACCOUNT_DELETE,hash:e,timestamp:a,userInputtedValues:{accountId:e,updateType:n}}})(n,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.ACCOUNT_DELETE_FAILED:case A.a.ACCOUNT_DELETE_SUCCEEDED:return e.filter(({userInputtedValues:e})=>e.updateType!==A.a.ACCOUNT_DELETE_REQUESTED&&e.accountId!==a.updatedAccount.id)}return e}},[T.Td.ACCOUNT_ADD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,newAccount:n}=s();switch(a){case A.a.ACCOUNT_ADD_REQUESTED:return e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:a,emailOrPhoneRegAccount:n=!1,type:r}=s();return{type:T.Td.ACCOUNT_ADD,hash:e.email,id:e.email,timestamp:a,userInputtedValues:{newAccount:e,emailOrPhoneRegAccount:n,updateType:r}}})(n,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.ACCOUNT_ADD_SUCCEEDED:case A.a.ACCOUNT_ADD_FAILED:return e.filter(({userInputtedValues:e})=>e.updateType!==A.a.ACCOUNT_ADD_REQUESTED&&e.newAccount.email!==a.newAccount.email)}return e}},[T.Td.MORE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,shouldFetchMoreItems:a}=t,{type:n,actionTimestamp:r,listId:o,currentGroupId:i,allItemsSelected:c}=s();switch(n){case A.a.MORE_ITEMS_REQUESTED:return i&&!a(o,i)?e:[...e,{type:T.Td.MORE_ITEMS_TO_FETCH,hash:T.Td.MORE_ITEMS_TO_FETCH+o,timestamp:r,userInputtedValues:{allItemsSelected:c,listId:o}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.MORE_MESSAGES_REQUEST_SUCCESS:case A.a.MORE_MESSAGES_REQUEST_FAILED:case A.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case A.a.MORE_SEARCH_LIST_ITEMS_FAILED:case A.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case A.a.MORE_TRAVEL_ITEMS_FAILED:return e.filter(e=>e.hash!==T.Td.MORE_ITEMS_TO_FETCH+a.listId)}return e},syncSelector:(e,t)=>{const{isAsyncTaskPending:s}=t;return s()?[]:e}},[T.Td.GIFS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.GIF_FETCH_REQUESTED:{const{query:s,listId:n,fetchMoreItems:r}=a,{getListsSelectors:o}=t,{getItemIdsSelectors:i,doesListExist:c,hasMoreItems:l}=o(),d=a.listId;if(c(n)){const t=i(n).getItemIds().length;if(!l(n)&&t)return e;if(t&&!r)return e}return[...e,{id:d,hash:d,timestamp:a.actionTimestamp,type:T.Td.GIFS_TO_FETCH,userInputtedValues:{query:s,listId:n,fetchMoreItems:r,id:d}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter(e=>{switch(a.type){case A.a.GIF_FETCH_SUCCEEDED:case A.a.GIF_FETCH_FAILED:return e.id!==a.id}return!0})}},[T.Td.GIF_CATEGORY_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getGifCategoriesSelectors:a}=t,{isCategoryListLoaded:n}=a(),r=s();switch(r.type){case A.a.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return n()?[]:[{id:T.Td.GIF_CATEGORY_TO_FETCH,hash:T.Td.GIF_CATEGORY_TO_FETCH,timestamp:r.actionTimestamp,type:T.Td.GIF_CATEGORY_TO_FETCH}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case A.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case A.a.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return[]}return e}},[T.Td.TOP_COUPONS_TO_FETCH]:{preparer:(e=[],{isFeatureEnabled:t,getAction:s,getEmailOfSelectedAccount:a})=>{if(!t(T.kb.COUPON_CARD_EXTRACTIONS))return e;const{type:n,actionTimestamp:r}=s();switch(n){case A.a.OPEN_PAGE_REQUESTED:case A.a.ADBLOCK_DETECTED:case A.a.LAUNCH_COMPLETED:return[{type:T.Td.TOP_COUPONS_TO_FETCH,hash:"TOP_COUPONS_UNSYNCED_DATA_HASH",timestamp:r,userInputtedValues:{email:a()}}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getCouponsSelectors:r,getSetting:o})=>{const{type:i,listId:c=""}=t(),{getTopCoupons:l}=r(),d=n(s())===T.td.COUPONS,E=a(T.kb.COUPONS_SMART_VIEW_SEARCH)&&d,_=a(T.kb.AD_BLOCK_COUPONS)&&o(T.id.AD_BLOCK_COUPONS_SORT_ORDER)===T.i.RECOMMENDED,u=o(T.id.PENCIL_AD_VERSION),p=a(T.kb.AD_BLOCK_COUPONS_ON_PENCIL_ADS),m=a(T.kb.DEALS_VIEW_V2)&&d,h=["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(u)>-1;if(!(m||_||p||E||h)||l().length)return[];switch(i){case A.a.COUPONS_LIST_SUCCEEDED:case A.a.COUPONS_LIST_FAILED:if(c===Ya)return[];break;case A.a.LAUNCH_COMPLETED:if(!h&&!m)return[]}return e}},[T.Td.PENSIEVE_ITEM_TO_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.PENSIEVE_DELETE_REQUESTED:{const{id:t}=a.attachment;return[...e,{hash:t,id:t,timestamp:a.actionTimestamp,type:T.Td.PENSIEVE_ITEM_TO_DELETE,userInputtedValues:{attachment:a.attachment}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.PENSIEVE_DELETE_SUCCESS:case A.a.PENSIEVE_DELETE_FAILED:return e.filter(e=>e.id!==a.attachId)}return e}},[T.Td.ALIAS_EMAIL_TO_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.ALIAS_EMAIL_CREATE_REQUESTED:return[{hash:T.Td.ALIAS_EMAIL_TO_CREATE,timestamp:a.actionTimestamp,type:T.Td.ALIAS_EMAIL_TO_CREATE,userInputtedValues:{email:a.email}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case A.a.ALIAS_EMAIL_CREATE_SUCCEEDED:case A.a.ALIAS_EMAIL_CREATE_FAILED:return[]}return e}},[T.Td.CONFIRM_EMAIL_TO_RESEND]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CONFIRM_EMAIL_RESEND_REQUESTED:{const t=a.account.email;return[...e,{hash:t,id:t,timestamp:a.actionTimestamp,type:T.Td.CONFIRM_EMAIL_TO_RESEND,userInputtedValues:{account:a.account}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.CONFIRM_EMAIL_RESEND_SUCCEEDED:case A.a.CONFIRM_EMAIL_RESEND_FAILED:return e.filter(e=>e.id!==a.email)}return e}},[T.Td.BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case A.a.SETTINGS_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:T.Td.BLOCKED_SENDERS_TO_FETCH,hash:T.Td.BLOCKED_SENDERS_TO_FETCH,type:T.Td.BLOCKED_SENDERS_TO_FETCH,timestamp:n}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case A.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case A.a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case A.a.SETTINGS_BLOCKED_SENDERS_RECEIVED:case A.a.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:return[]}return e}},[T.Td.SHOPLIFT_AD_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getGroupId:n,getMessageIdsFromMessageGroupId:r}=t;if(!a(T.kb.SHOPLIFT_AD))return e;const o=n(),{type:i,actionTimestamp:c}=s(),l=r(o)||[];switch(i){case A.a.OPEN_PAGE_REQUESTED:case A.a.STREAM_CURSOR_MOVED:case A.a.PREVIEW_MESSAGE_REQUESTED:case A.a.MESSAGE_BODIES_RECEIVED:return e.concat({type:T.Td.SHOPLIFT_AD_TO_FETCH,hash:`SHOPLIFT_AD_HASH-${o}`,timestamp:c,userInputtedValues:{groupId:o,messageId:l[0]}});default:return e}},reconciler:(e,{getAction:t,getAdsSelectors:s,getMessageBodiesSelectors:a})=>{const{type:n,groupId:r}=t(),{getShopliftAd:o}=s(),{hasFullBody:i,doesMessageBodyExist:c}=a(),l=e.filter(({userInputtedValues:e})=>{const{groupId:t,messageId:s}=e;return!!s&&c(s)&&i(s)&&!o(t)});switch(n){case A.a.SHOPLIFT_AD_FETCH_SUCCEEDED:case A.a.SHOPLIFT_AD_FETCH_FAILED:return l.filter(({userInputtedValues:e})=>e.groupId!==r);default:return l}}},[T.Td.COMPOSE_ATTRIBUTES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,doesCurrentRouteContainDraft:a,getComposeAttributesSelectors:n,getSelectedMailboxId:r}=t,{getComposeAttributesStatus:o}=n(),i=o();if(!r()||i!==T.Mc.LOADING)return[];const c=s();switch(c.type){case A.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return[{hash:T.Td.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:c.actionTimestamp,type:T.Td.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}];case A.a.WINDOW_RESIZING:case A.a.WINDOW_RESIZED:return e;default:if(a())return[{hash:T.Td.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:c.actionTimestamp,type:T.Td.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case A.a.COMPOSE_ATTRIBUTES_RECEIVED:case A.a.COMPOSE_ATTRIBUTES_FETCH_FAILED:return[]}return e}},[T.Td.POST_LUNCH_TO_SYNC]:{reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case A.a.POST_LAUNCH_SYNC_SUCCEEDED:case A.a.POST_LAUNCH_SYNC_FAILED:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:a}=t;if(!s())return[];switch(a().type){case A.a.LAUNCH_PAGE_REQUESTED:case A.a.INITIAL_STATE:case A.a.LAUNCH_ERROR:return[]}return e}},[T.Td.TOP_RETAILERS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return[{type:T.Td.TOP_RETAILERS_TO_FETCH,hash:"TOP_RETAILERS_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsSelectors:r})=>{const{type:o}=t(),i=n(s())===T.td.COUPONS,c=a(T.kb.COUPONS_SMART_VIEW_SEARCH)&&i,l=r().getTopRetailers();if(!c||l)return[];switch(o){case A.a.TOP_RETAILERS_REQUEST_SUCCEEDED:case A.a.TOP_RETAILERS_REQUEST_FAILED:return[]}return e}},[T.Td.TOP_DEAL_CATEGORIES_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:return[{type:T.Td.TOP_DEAL_CATEGORIES_TO_FETCH,hash:"TOP_DEAL_CATEGORIES_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsSelectors:r})=>{const{type:o}=t(),i=n(s())===T.td.COUPONS,c=a(T.kb.CATEGORY_FILTER),l=a(T.kb.COUPONS_SMART_VIEW_SEARCH)&&i,d=r().getTopDealCategories();if(!c||!l||d)return[];switch(o){case A.a.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:case A.a.TOP_DEAL_CATEGORIES_REQUEST_FAILED:return[]}return e}},[T.Td.YAHOO_DEALS_TO_FETCH]:{preparer:(e=[],{isFeatureEnabled:t,getAction:s,getCurrentListId:a})=>{const{type:n,actionTimestamp:r}=s();switch(n){case A.a.OPEN_PAGE_REQUESTED:case A.a.LAUNCH_COMPLETED:{const s=a();return t(T.kb.TAIWAN_SHOPPING_VIEW)&&Object(N.q)(s)===T.Db.YAHOO_DEAL_CARDS?e.concat({type:T.Td.YAHOO_DEALS_TO_FETCH,hash:`YAHOO_DEALS_HASH-${s}`,timestamp:r,userInputtedValues:{listId:s}}):e}default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case A.a.TAIWAN_COMMERCE_DEALS_SUCCEEDED:case A.a.TAIWAN_COMMERCE_DEALS_FAILED:return[];default:return e}}},[T.Td.RECENT_SEARCH_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),n=a.keyword;switch(a.type){case A.a.DELETE_RECENT_SEARCH_REQUESTED:return e.concat({id:n,hash:n,userInputtedValues:{query:n},timestamp:a.actionTimestamp,type:T.Td.RECENT_SEARCH_DELETE,syncThrottle:12e4,syncDefer:200})}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter(e=>{switch(a.type){case A.a.DELETE_RECENT_SEARCH_SUCCEEDED:case A.a.DELETE_RECENT_SEARCH_FAILED:return e.id!==a.keyword}return!0})}},[T.Td.LINK_ENHANCER_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case A.a.LINK_ENHANCER_FETCH_REQUESTED:{const{cardUrl:s}=a,{getLinkEnhancerSelectors:n}=t,{getEnhancedLinks:r}=n(),o=s;return void 0!==r()[s]?e:[...e,{id:o,hash:o,timestamp:a.actionTimestamp,type:T.Td.LINK_ENHANCER_TO_FETCH,userInputtedValues:{cardUrl:s,id:o}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter(e=>{switch(a.type){case A.a.LINK_ENHANCER_FETCH_SUCCEEDED:case A.a.LINK_ENHANCER_FETCH_FAILED:return e.id!==a.id}return!0})}}}),Xa=s(291);var Qa=(e=[],t)=>t.unsyncedData&&!F()(t.unsyncedData,e)?t.unsyncedData:e;const $a=(e,t,s,a)=>{const n=t.reduce((e,t)=>babelHelpers.extends({},e,{[t.type]:(e[t.type]||[]).concat(t)}),{}),r=o()(Object.keys(T.Td).concat(t.map(e=>e.type)));return[].concat.apply([],r.map(t=>Za[t]&&"function"==typeof Za[t][e]?Za[t][e](n[t]||[],s,a):n[t]||[]))},Ja=(e,t={})=>$a("reconciler",e,t).concat(((e,t={})=>{const{getAction:s}=t,a=s();return a.type!==A.a.SYNC_DATA&&Xa.a[a.type]?[{id:`V2-${a.type}-${a.actionTimestamp}`,hash:`V2-${a.type}-${a.actionTimestamp}`,type:a.type,isAutoGenerated:!0,timestamp:a.actionTimestamp,userInputtedValues:a}]:[]})(0,t));var en=Object(i.c)({currentChannel:(e="",t)=>{switch(t.type){case A.a.CHANNEL_CHANGED:case A.a.VIDEO_CHANNEL_RECEIVED:return t.channel}return e},showVideoPlayer:(e=!0,t)=>{switch(t.type){case A.a.VIDEO_PLAYER_CLOSED:return!1;case A.a.VIDEO_PLAYER_OPENED:return!0}return e},channelData:(e={},t)=>{switch(t.type){case A.a.VIDEO_CHANNELS_METADATA_RECEIVED:return t.payload;case A.a.VIDEO_CHANNEL_RECEIVED:{const{payload:s,channel:a}=t;return babelHelpers.extends({},e,{[a]:s[a]})}}return e},isPaused:(e=!1,t)=>{switch(t.type){case A.a.VIDEO_PLAYER_PAUSED:return!0;case A.a.VIDEO_PLAYER_PLAYED:return!1}return e}});var tn=Object(i.c)({recommendedProducts:(e=[],t)=>{switch(t.type){case A.a.TAIWAN_COMMERCE_DEALS_SUCCEEDED:return t.recommendedProducts;default:return e}},activities:(e=[],t)=>{switch(t.type){case A.a.TAIWAN_COMMERCE_DEALS_SUCCEEDED:return t.rushBuyActivities;default:return e}}});var sn=s(424);var an=(e={},t)=>{switch(t.type){case A.a.LINK_ENHANCER_FETCH_SUCCEEDED:{const{cardUrl:s,linkInfo:a}=t;return babelHelpers.extends({},e,{[s]:a})}case A.a.LINK_ENHANCER_FETCH_FAILED:{const{cardUrl:s}=t;return babelHelpers.extends({},e,{[s]:null})}default:return e}};s.d(t,"b",function(){return An});const nn=T.ab.Status,rn=e=>e.name,on=e=>e.url,cn=e=>e.params,ln=e=>-1!==e.url.indexOf("/search/"),dn=e=>"/m/"===e.url.substr(0,3),En=e=>-1!==e.url.indexOf("/messages/"),_n=e=>-1!==e.url.indexOf("/edit/"),un=e=>-1!==e.url.indexOf("/compose/"),pn=e=>e.name===T.Pc.FOLDER,mn={action:{reducer:(e={},t)=>t,selector:(e={})=>e},unsyncedData:{reducer:Qa,selector:(e=[])=>{return{getUnsyncedData:()=>e,getReconciledUnsyncedData:t=>{const{getAction:s}=t;if(!s().route)return e;const a=((e,t={})=>Ia()($a("preparer",e,t).filter(e=>Boolean(e.hash)),"hash"))(e,t);return Ja(a,t)},getUnsyncedDataToSync:(e,t)=>((e,t,s)=>$a("syncSelector",e,t,s))(e.getReconciledUnsyncedData(),e,t)}}},launchError:{reducer:jt,selector:(e={})=>({getLaunchErrorType:()=>e.type})},composeSessions:{reducer:Te,selector:(e={})=>{const t={doesComposeSessionExist:t=>!!e[t],getComposeFieldToFocus:t=>(e[t]||{}).composeFieldToFocus,doComposeFromRouteQueryParams:t=>e[t].doComposeFromRouteQueryParams,doComposeFromMailToLink:t=>Boolean(e[t].mailToLink),getMailToLink:t=>e[t].mailToLink,getStationeryTheme:t=>e[t].stationeryTheme,getUndoStack:t=>e[t].composeUndoStack,getRedoStack:t=>e[t].composeRedoStack,getUiState:t=>e[t].composeUiState,wasAutotagDropdownClosed:t=>e[t].isAutotagDisabled,getReplyingToMessageId:e=>{const{getInReplyToMessageId:s,getInReplyAllToMessageId:a,getInForwardToMessageId:n}=t;return s(e)||a(e)||n(e)},getAttachmentProgress:t=>e[t].attachmentProgress,findReplyForwardCsidsOfMessage:s=>Object.keys(e).filter(e=>t.getReplyingToMessageId(e)===s),findDraftMessageCsid:s=>Object.keys(e).find(e=>t.getDraftMessageId(e)===s),getDraftMessageId:t=>e[t].draftMessageId,getForwardCreativeId:t=>e[t].forwardCreativeId,getForwardAttachmentIds:t=>e[t].forwardAttachmentIds,getInReplyToMessageId:t=>e[t].inReplyToMessageId,getInReplyAllToMessageId:t=>e[t].inReplyAllToMessageId,getInForwardToMessageId:t=>e[t].inForwardToMessageId,isReplyMessage:t=>Boolean(e[t].inReplyToMessageId),isReplyAllMessage:t=>Boolean(e[t].inReplyAllToMessageId),isForwardMessage:t=>Boolean(e[t].inForwardToMessageId),isSendRequested:t=>e[t].sendStatus===ge.g.SENDING,isSendFailed:t=>e[t].sendStatus===ge.g.SEND_FAILED,isSent:t=>e[t].sendStatus===ge.g.SENT,getLastSaveTimeStamp:t=>e[t].lastSaveTimeStamp,isQuotedTextExpanded:t=>Boolean(e[t].isQuotedTextExpanded),getFatalErrorCount:t=>e[t].fatalErrorCount,isComposeSessionDirty:({csid:t,lastEditedTimeStamp:s})=>Boolean(s)&&(!e[t]||!e[t].lastSaveTimeStamp||e[t].lastSaveTimeStamp!==s),getLastOpenTimeStamp:t=>e[t].lastOpenTimeStamp,getLastAutotagQuery:t=>e[t].lastAutotagQuery,getComposeParams:t=>e[t].composeParams};return t}},attachments:{reducer:ce,selector:(e={})=>({doesAttachmentExistById:t=>!!e[t],getAttachmentById:t=>e[t],getContentIdByAttachmentId:t=>e[t].contentId,getConversationIdByAttachmentId:t=>e[t].conversationId,getMimetypeByAttachmentId:t=>`${e[t].type}/${e[t].subtype}`,getAttachmentTypeByAttachmentId:t=>e[t].type,getAttachmentSubtypeByAttachmentId:t=>e[t].subtype,getSizeByAttachmentId:t=>e[t].size,isInlineAttachmentById:t=>e[t].disposition===ie.INLINE,isNonInlineAttachmentById:t=>e[t].disposition!==ie.INLINE,getConversationId:t=>e[t].conversationId,getTimeStamp:t=>e[t].creationDate,getMessageReferenceByContentId:t=>{const s=Object(h.e)(e).find(e=>e.contentId===t);if(s&&s.id){const{id:e,partId:t}=s;return{id:e.split(":").slice(0,-1).join(":"),pid:t}}},getDownloadUrlByContentId:t=>{const s=Object(h.e)(e).find(e=>e.contentId===t);return s?s.downloadUrl:null},getByContentId:t=>Object(h.e)(e).find(e=>e.contentId===t),hasError:t=>{const s=Object(h.e)(e).find(e=>e.contentId===t);return!(!s||s.id)},isUploaded:t=>{const s=Object(h.e)(e).find(e=>e.contentId===t);return!(!s||!s.id)},getThumbnailUrl:t=>{const s=Object(h.e)(e).find(e=>e.contentId===t);return Object(ne.j)(s.thumbnailUrl,150)},getDocumentIdByAttachmentId:t=>e[t].documentId,getAttachmentIdByDocumentId:t=>{const s=Object(h.e)(e).find(e=>e.documentId===t);return s?s.id:null}})},lists:{reducer:es,selector:(e={})=>{const t={doesListExist:s=>Boolean(e[s]&&t.getListStatus(s)!==T.Mc.DOES_NOT_EXIST),getListIdsByContentType:t=>Object.keys(e).filter(e=>Object(N.q)(e)===t),getItemIdsSelectors:t=>((e=[])=>({doesItemIdExist:t=>!!e.find(e=>e===t),getItemIdByIndex:t=>e[t],getItemIdIndex:t=>e.indexOf(t),getItemIds:()=>e}))(e[t]?e[t].itemIds:[]),__getListIds__:()=>Object.keys(e),getListNextItemsUrl:t=>e[t].nextItemsUrl,getListOffset:t=>e[t].offset,getListOfferType:t=>e[t].offerType,hasMoreItems:t=>e[t].hasMoreItems,getListStatus:t=>e[t].status,getLmv3Query:t=>e[t].lmv3Query,getSuggestedWords:t=>e[t].suggestedWords,getTotalHits:t=>e[t].totalHits,doesListItemExist:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).doesItemIdExist(s),getListItemIdIndex:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).getItemIdIndex(s),getItemIdByIndex:(e,s)=>t.getItemIdsSelectors(e).getItemIdByIndex(s),getItemIds:e=>t.getItemIdsSelectors(e).getItemIds(),getPreviousListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)-1;if(!(a<0))return t.getItemIdByIndex(e,a)},getImportantContactIds:()=>{const s=Object(N.o)("");return t.doesListExist(s)?e[s].itemIds:[]},getImportantContactEmailsByContextEmail:s=>{const a=Object(N.o)(s);return t.doesListExist(a)?e[a].itemIds:[]},getNextListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)+1;if(!(a>t.getItemIds(e).length))return t.getItemIdByIndex(e,a)},isListEmpty:e=>t.getListStatus(e)===T.Mc.LOADED&&0===t.getItemIds(e).length,getSearchCoupons:s=>t.doesListExist(s)&&e[s].searchCoupons,isListExpanded:t=>!!e[t]&&e[t].expanded};return t}},streams:{reducer:Ea,selector:(e={})=>({doesStreamExist:t=>!!e[t],getSelectedItemsSelectors:t=>((e={})=>({getSelectedItems:()=>Object.keys(e).reduce((t,s)=>t.concat(Object.keys(e[s]).map(e=>({id:e,listId:s}))),[]),isItemSelected:t=>e[t.listId]&&e[t.listId][t.id],hasSelectedItems:()=>{let t,s;for(s in e)if(ea.call(e,s))for(t in e[s])if(ea.call(e[s],t))return!0;return!1}}))(e[t].selectedItems),getCursorSelectors:t=>((e={})=>({getCursor:()=>e,getCursorItem:()=>e.streamItem}))(e[t].cursor),getSelectionType:t=>((e=T.gd.NONE)=>({getSelectionType:()=>e}))(e[t].selectionType).getSelectionType(),getExpansionStateForStreamItem:t=>e[t.streamId].expansionState[ca(t)]})},documents:{reducer:xe,selector:e=>({getState:t=>e[t]?e[t].status:T.Mc.DOES_NOT_EXIST,getDocument:t=>e[t],getError:t=>{const s=!!e[t].retryCount&&Object(h.e)(e[t].retryCount).some(e=>e>T.U),a=e[t].error;return a&&a.isRetryable?babelHelpers.extends({},a,{isRetryable:!s&&a.isRetryable}):a},getNumberOfPages:t=>e[t].numPages,getRetryCount:(t,s,a)=>e[t]?e[t].retryCount[Ge(s,a)]:0,isDocumentLoaded:t=>!(!e[t]||e[t].status!==T.Mc.LOADED),isPageLoaded:(t,s)=>!(!e[t].pages[s]||e[t].pages[s].status!==T.Mc.LOADED)})},subjectsAndSnippets:{reducer:ua,selector:e=>({getSubject:(t,s)=>{const a=Object(N.w)(s);return e.subjects[t][a]||e.subjects[t][N.a]},getSnippet:(t,s)=>{const a=Object(N.w)(s);return e.snippets[t][a]||e.snippets[t][N.a]}})},folders:{reducer:At,selector:(e={})=>{const t=t=>!!e[t].types.find(e=>T.Dd.hasOwnProperty(e)),s=t=>e[t].types.find(e=>T.Cc.hasOwnProperty(e)),a={doesFolderIdExist:t=>!!e[t],getFolderIdsByName:t=>Object.keys(e).reduce((s,a)=>e[a].name===t?s.concat(a):s,[]),getFolderIds:()=>Object.keys(e),getFolderName:t=>e[t].name,shouldUpdateFolders:t=>{const s=Object.keys(Object(f.d)(t));return Object.keys(e).length!==s.length||s.some(e=>!a.doesFolderIdExist(e))},getFolderTotal:t=>e[t].total,getFolderHighestModSeq:t=>e[t].highestModSeq,getFolderLevelByFolderId:t=>e[t].level,getFolderUnreadCount:t=>e[t].unread,getFolderTypes:t=>e[t].types,getFolderUidNext:t=>e[t].uidNext,getFolderPath:t=>e[t].path,isPermDeleteFolderType:e=>{const t=s(e);return-1!==[T.sb.TRASH,T.sb.DRAFT,T.sb.BULK].indexOf(t)},getFolderIdsByNameAndAccountId:(t,s)=>Object.keys(e).reduce((a,n)=>e[n].name===t&&e[n].accountId===s?a.concat(n):a,[]),getFolderDisplayTypeByFolderId:t=>{const a=e[t].types,n=s(t);return n===T.sb.ARCHIVE&&a.indexOf(T.sb.EXTERNAL_ALL)>-1?T.qb.ALL_MAIL:n},getPrimaryFolderTypeByFolderId:s,isSystemFolder:t,isSpamFolder:t=>e[t].types.indexOf(T.Dd.BULK)>-1,getAccountIdByFolderId:t=>e[t].accountId,getFolderIdsFromFolderType:(t,s)=>Object.keys(e).reduce((a,n)=>-1!==e[n].types.indexOf(t)&&e[n].accountId===s?a.concat(n):a,[]),getAllInboxes:()=>Object.keys(e).reduce((t,s)=>-1!==e[s].types.indexOf(T.sb.INBOX)?t.concat(s):t,[]).map(t=>e[t]),getFolderIdsByAccountId:t=>Object.keys(e).filter(function(s){return e[s].accountId===t}),isDraftFolder:e=>a.getPrimaryFolderTypeByFolderId(e)===T.sb.DRAFT,isSentFolder:e=>a.getPrimaryFolderTypeByFolderId(e)===T.sb.SENT,isTrashFolder:e=>a.getPrimaryFolderTypeByFolderId(e)===T.sb.TRASH,getParentFolderId:t=>{const s=e[t].path,a=e[t].name,n=e[t].accountId,r=Object.keys(e).find(t=>e[t].accountId===n&&e[t].path+"/"+a===s);return r||""},getSystemFolderListWithSmartView:n=>Object.keys(e).filter(s=>e[s].accountId===n&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:a.getFolderName(e),level:0})).concat(Object.keys(f.c).map(e=>({id:e,type:e,kind:"smartview",name:e,level:0}))).sort((e,t)=>f.a[e.type]-f.a[t.type]),getCustomFolderIds:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&e.types.indexOf(T.sb.USER)>=0&&e.types.indexOf(T.sb.INVISIBLE)<0).sort(Ct.d).map(e=>e.id),getUserCardFolderIds:t=>{let s;for(s in e){const a=e[s];if(a.accountId===t&&a.types.indexOf(T.sb.USER)>=0&&a.types.indexOf(T.sb.CARD)>=0&&a.types.indexOf(T.sb.INVISIBLE)>=0)return s}return-1},getSystemFolderList:n=>Object.keys(e).filter(s=>e[s].accountId===n&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:a.getFolderName(e),level:0})).sort((e,t)=>f.a[e.type]-f.a[t.type]),getCustomFolderList:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&(e.types.indexOf(T.sb.USER)>=0||a.hasChildren(e.id))&&-1===e.types.indexOf(T.sb.INVISIBLE)).sort(Ct.d).map(e=>({id:e.id,type:s(e.id),kind:"folder",name:e.name,level:e.level})),hasChildren:t=>{const s=e[t].path+"/";let a=!1;return Object.keys(e).some(t=>{0===e[t].path.indexOf(s)&&(a=!0)}),a},__get__:t=>e[t],__getFolderIds__:()=>Object.keys(e)};return babelHelpers.extends({},a)}},savedSearches:{reducer:Vs,selector:(e={})=>({doesSavedSearchIdExist:t=>!!e[t],getSavedSearchesByQuery:t=>Object.keys(e).reduce((s,a)=>e[a].query===t?s.concat(e[a]):s,[]),getTotalNumberOfSavedSearches:()=>Object.keys(e).length})},mailboxes:{reducer:ls,selector:(e={})=>{const t={getSelectedMailboxId:()=>e.id,getAccountsSelectors:()=>((e={})=>{const t=Object.keys(e),s={getAccountById:t=>e[t],getPrimaryAccount:()=>t.map(t=>e[t]).find(({isPrimary:e})=>!!e),getPrimaryAccountType:()=>(s.getPrimaryAccount()||{}).type,getPrimaryAccountId:()=>t.find(t=>e[t].isPrimary),isPrimaryAccountDisabled:()=>s.getPrimaryAccount().status===T.f.DISABLED,userHasRegisteredAccount:()=>{const s=t.find(t=>{const{isPrimary:s,type:a,status:n}=e[t];return s&&n===T.f.DISABLED&&(a===T.g.EXTERNAL||a===T.g.PHONE)}),a=t.find(t=>{const{type:s,status:a}=e[t];return s===T.g.IMAPIN&&(a===T.f.ENABLED||a===T.f.PENDING)});return!s||!!a},getAllAccounts:({includeDisabled:s=!1}={})=>t.map(t=>e[t]).filter(({status:e})=>s||e!==T.f.DISABLED).sort(ns.k),getSelectedAccountId:()=>t.find(t=>e[t].isSelected),getSendingAccountId:()=>t.find(t=>e[t].isSending),hasIMAPinAccounts:()=>t.filter(t=>e[t].type===T.g.IMAPIN).length>0,isMyEmailAddress:t=>Object(h.e)(e).some(e=>e.email===t),getRootAccounts:()=>t.map(t=>e[t]).filter(e=>T.Lc.indexOf(e.type)>-1),hasMultipleRootAccounts:()=>s.getRootAccounts().length>1,getSendAccountsByAccountId:e=>{const t=s.getAccountById(e);if(!t.isPrimary)return[t];const a=s.getAllAccounts().filter(e=>-1===T.Lc.indexOf(e.type));return[t].concat(a)},isSignatureActive:t=>Boolean(e[t].signatureActive),getSignatureByAccountId:t=>e[t].signatureActive?e[t].signature:"",isPrimaryAccountEmail:e=>{const t=s.getAccountIdByAccountEmail(e);return T.Lc.indexOf(s.getAccountTypeByAccountId(t))>-1},getSignatureByAccountEmail:e=>s.isPrimaryAccountEmail(e)?s.getSignatureByAccountId(s.getAccountIdByAccountEmail(e)):s.getSignatureByAccountId(s.getSelectedAccountId()),getAccountDescriptionByAccountId:e=>s.getAccountById(e).description,getAccountTypeByAccountId:e=>s.getAccountById(e).type,getAccountEmailByAccountId:e=>s.getAccountById(e).email,getAccountNameByAccountId:e=>s.getAccountById(e).sendingName,getAccountProvider:t=>ns.d(e[t]),isSelectedAccountId:e=>s.getAccountById(e).isSelected,getMyAddresses:()=>Object.keys(e).map(t=>e[t].email),hasAccountWithEmail:t=>Object(h.e)(e).some(e=>e.email===t),getAccountIdByAccountEmail:t=>Object(h.e)(e).find(e=>e.email===t).id,getAliasAccounts:()=>Object.keys(e).map(t=>e[t]).filter(e=>e.type===T.g.ALIAS),getAccountIds:()=>Object.keys(e),doesSelectedAccountExist:()=>Boolean(s.getSelectedAccountId()),getProviderFromAccount:t=>ns.g(e[t]),getAccountsWithMailboxes:()=>Object.keys(e).filter(t=>e[t].isPrimary||e[t].type===T.g.IMAPIN),getAvailableAccounts:()=>s.getAccountsWithMailboxes().filter(e=>s.getAccountById(e).status!==T.f.DELETE_IN_PROGRESS),getImapInAccounts:()=>Object.keys(e).filter(t=>e[t].type===T.g.IMAPIN),getAccountSubscriptionIds:()=>Object.keys(e).map(t=>e[t]).map(e=>e.subscriptionId),getMailboxAccounts:()=>s.getAllAccounts().filter(e=>e.type===T.g.IMAPIN||e.isPrimary)};return s})(e.accounts),getAliasSuggestions:as(e.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:as(e.aliasSuggestion).getStatus,getSocialAccountsStatus:()=>e.socialAccountsStatus,getDeaBaseName:()=>e.deaBaseName,getBaseNameSuggestions:()=>e.baseNameSuggestions,getRecentlyAddedAccount:()=>e.recentlyAddedAccount?e.accounts[e.recentlyAddedAccount]:null,isAccountExpired:s=>{const a=t.getAccountsSelectors().getAccountById(s);return!(!a||a.type!==T.g.IMAPIN||!e.accountAlerts.find(e=>e.accountId===s&&-1!==[is,cs].indexOf(e.state)&&1===e.type))},getAlertIdByAccountId:t=>(e.accountAlerts.find(e=>e.accountId===t)||{}).id,getExpiredAccounts:()=>t.getAccountsSelectors().getAllAccounts().filter(e=>t.isAccountExpired(e.id)),getMailboxSize:()=>e.mailboxSize};return t}},ads:{reducer:ae,selector:e=>t=>({getAdRotationId:()=>e.adRotationId,getGeminiAds:t=>e.geminiAds[t],hasAnyGeminiAd:()=>Object.keys(e.geminiAds).length,getGeminiAdData:e=>x(0,t,e),getGeminiAdDataInArray:e=>B(0,t,e),getGeminiError:()=>e.geminiError,getNativeAdData:e=>x(0,t,e).nativeAd,getPencilAdData:s=>((e,t,s)=>{const a=t.getRoute(),n=Object(N.t)(a),r=x(0,t,s).pencilAd;return e.searchAds[n]?e.searchAds[n].pencilAd:r})(e,t,s),getAdFeedbackStatus:()=>e.adFeedback,getFeedbackStartedSectionIds:()=>Object.keys(e.adFeedback).filter(t=>e.adFeedback[t]===Y),getAdFeedbackBeacon:e=>Object(h.a)(x(0,t,e),"pencilAd.adFeedbackBeacon"),getMessageReadAdRotationTimestamp:()=>e.messageReadAdRotation.timestamp,getMessageReadAdRotationTimestampV2:()=>e.messageReadAdRotation.timestampV2,getMessageReadAdRotationActive:()=>e.messageReadAdRotation.active,getDarlaAdData:()=>e.darla,getGeminiCategories:()=>e.geminiCategories,doesSponsoredAdExist:t=>!!e.sponsoredAds[t],getSponsoredAd:t=>e.sponsoredAds[t],getSearchAdData:t=>e.searchAds[t]?e.searchAds[t].pencilAd:null,getPlaAdData:t=>t?Object(h.a)(e,`plaAds.searchPlaAds.${t}`,[]):[],getCurrentGptCategory:()=>e.plaAds.currentGptItem,getPlaAdsForKeyword:(s,a="")=>{const n=Object(V.b)(t,s,a),r=n?Object(h.a)(e,"plaAds.plaAdsOnMessageRead",null):null;return r?r[n]:null},getRelatedSearches:()=>e.relatedSearches,getGeminiAdDataFromCreativeId:s=>{let a;return Object.keys(e.geminiAds).find(e=>(a=x(0,t,e)).creativeId===s)?a:null},isAdBlocked:()=>e.isAdBlocked,getNativeAdFormType:e=>{const s=Object(h.a)(x(0,t,e),"nativeAd.embeddedLandingUrls",{});return(Object(h.e)(s).find(e=>"fsubmit"===e.label)||{}).type||null},getCachedGeminiAds:e=>w(0,t,e),getSponsoredMomentData:()=>((e,t)=>{const s=j(0,t);return s?s.pencilAd:null})(0,t),getVideoSponsoredMomentData:()=>((e,t)=>{if(!t.isFeatureEnabled(T.kb.VIDEO_SPONSORED_MOMENT))return null;const s=j(0,t);return s?s.videoAd:null})(0,t),getCouponOnPencilState:()=>e.couponOnPencilState,isSponsoredMomentClosed:()=>e.isSponsoredMomentClosed,getShoppingCartAd:()=>((e,t)=>{const{getSetting:s,isFeatureEnabled:a,hasMatchingDomainInMessageGroup:n}=t,r=s(T.id.GEMINI_SECTION_IDS)[T.tb.SHOPPING_CART],o=B(0,t,r),i=Object(h.a)(o,"0.pencilAd.domain");return a(T.kb.SHOPPING_CART_AD)&&o.length&&n({[i]:!0})?o:[]})(0,t),getGeminiAdTimestamp:e=>((e,t,s)=>{const{timestamp:a}=w(0,t,s)[0]||{};return a||$.timestamp})(0,t,e),getShopliftAd:t=>e.shopliftAds[t]})},people:{reducer:Ms,selector:(e={})=>({getContactByXobniId:t=>e[t],doesPeopleContactExistByXobniId:t=>e[t],getRelationshipHistoryByXobniId:t=>e[t].relationshipHistory})},printItems:{reducer:Ls,selector:(e={})=>({getItemToPrint:()=>{const t=Object.keys(e).filter(t=>!e[t].isPrinted)[0];return t?e[t]:{}}})},messageBodies:{reducer:Es,selector:(e={})=>({get:t=>e[t].body,getState:t=>e[t]?e[t].status:T.Mc.DOES_NOT_EXIST,doesMessageBodyExist:t=>!!e[t]&&-1===[T.Mc.DOES_NOT_EXIST,T.Mc.ERROR].indexOf(e[t].status),hasFullBody:t=>e[t]&&e[t].hasFullBody,hasError:t=>e[t]&&e[t].status===T.Mc.ERROR,isSecureMessage:t=>{const s=e[t];if(!s)return!1;const{body:{htmlAnnotations:a=[]},isSecure:n,hasFullBody:r}=s;return r?a.some(({type:e})=>"blocked"===e):n},getMessageBodiesCount:()=>Object.keys(e).length,getRetryCount:t=>e[t]?e[t].retryCount:0})},messageGroups:{reducer:ms,selector:(e={})=>({doesMessageGroupIdExist:t=>!!e[t],getMessageIdsFromMessageGroupId:t=>e[t]||[],getGroupIdContainingMessageId:t=>Object.keys(e).find(s=>-1!==e[s].indexOf(t)),__getGroupIdContainingMessageId__:t=>Object.keys(e).find(s=>-1!==e[s].indexOf(t))})},cardGroups:{reducer:pe,selector:(e={})=>t=>({doesCardGroupIdExist:t=>!!e[t],getMessageIdsFromCardGroupId:t=>e[t],getMostRecentEmailId:s=>{const{getMessagesSelectors:a}=t,{getDecos:n,getTimeStamp:r}=a(),o=e[s].filter(e=>n(e).some(e=>e.id===T.Zb.EML));return o.length>1&&o.sort((e,t)=>r(t)-r(e)),o[0]}})},cardMessageToSchemas:{reducer:he,selector:(e={})=>({getSchemas:t=>e[t]})},flights:{reducer:It,selector:(e={})=>({getFlightCard:t=>e[t],getCardDate:t=>Date.parse(e[t].departureTime),isEligibleCardForFilter:(t,s,a)=>{const n=Date.parse(e[t].departureTime);switch(s){case T.Eb.TRAVEL_VIEW_UPCOMING:return n>=a;case T.Eb.TRAVEL_VIEW_PAST:return n<a}return!0}})},coupons:{reducer:ve,selector:Fe},retailers:{reducer:Gs,selector:ws},shopRunnerRetailers:{reducer:Xs,selector:(e={})=>({getTotalNumberOfRetailers:()=>Object.keys(e).length,domainInShopRunnerWhitelist:t=>{const s=Object.keys(e).find(s=>e[s].promotionDomain&&(e[s].promotionDomain===t||e[s].promotionDomain.split(",").includes(t)));return e[s]}})},offers:{reducer:bs,selector:(e={})=>({getOffer:t=>e[t],isOfferActivated:t=>e[t].activated})},activatedOffers:{reducer:H,selector:(e={})=>({getActivatedOffer:t=>e[t]||{}})},receipts:{reducer:function(e={},t){const{listData:s={},type:a}=t;switch(a){case A.a.MORE_RECEIPTS_SUCCESS:case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.RECEIPTS_LIST_SUCCEEDED:case A.a.INITIAL_STATE:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===T.Zc.Order&&!F()(e[t],ys(s,t))).reduce((e,t)=>babelHelpers.extends({},e,{[t]:ys(s,t)}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}},selector:(e={})=>({getReceipt:t=>e[t],getPrice:t=>e[t].price,getPotentialSavings:t=>e[t].potentialSavings,getFirstItemName:t=>e[t].orderedItems.length?e[t].orderedItems[0].name:0,getOrderDate:t=>e[t].orderDate,getNumItems:t=>e[t].orderedItems.length,getCurrency:t=>e[t].orderedItems.length&&e[t].orderedItems[0].offers?e[t].orderedItems[0].offers.priceCurrency:"",getSellerName:t=>e[t].sellerName,getTotalPotentialSaving:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].potentialSavings)).reduce((e,t)=>e+t,0)/100,getNumPurchases:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).length,getTotalSpentWithEligibleSaving:(t=0)=>Object.keys(e).filter(s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].price)).reduce((e,t)=>e+t,0)/100,getEarnyEligibleVendors:(t=0)=>{const s=Object.keys(e).filter(s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate)).reduce((t,s)=>(t.push({schemaId:s,timestamp:Date.parse(e[s].orderDate)}),t),[]);return s.sort((e,t)=>t.timestamp-e.timestamp),s.map(t=>e[t.schemaId].sellerName)}})},recommendedItems:{reducer:function(e={},t){const{listData:s={},type:a}=t;switch(a){case A.a.MESSAGE_BODIES_RECEIVED:case A.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case A.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case A.a.INITIAL_STATE:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===T.Zc.Recommendation&&!F()(e[t],Us(s.schemaCards[t]))).reduce((e,t)=>babelHelpers.extends({},e,{[t]:Us(s.schemaCards[t])}),{});return Object.keys(t).length?babelHelpers.extends({},e,t):e}default:return e}},selector:Hs},contentProviders:{reducer:Le,selector:ye},router:{reducer:xs,selector:(e={})=>({getRoutesConfig:()=>e.routesConfig,getRoute:()=>e.route,getHashParams:()=>e.hashParams,getRouteUIContext:()=>e.uiContext,getMrdParams:()=>e.mrdParams})},pages:{reducer:Ds,selector:(e=[])=>({doesPageExist:t=>-1!==e.findIndex(e=>Object(L.A)(e,t)),getPages:()=>e,getFolderPageRoute:()=>e.find(e=>e.name===T.Pc.FOLDER)})},unSubscribeList:{reducer:Sa,selector:(e={})=>({getUnSubscribeList:()=>e,getUnSubscribeListItem:t=>e[t]})},messages:{reducer:gs,selector:Is},messagesFlags:{reducer:_s,selector:(e={})=>({getFlags:t=>e[t]})},messagesFolderId:{reducer:us,selector:(e={})=>({getFolderId:t=>e[t]})},videoPlayers:{reducer:en,selector:e=>({getCurrentChannel:()=>e.currentChannel,getShowVideoPlayer:()=>e.showVideoPlayer,getChannelMetaData:()=>e.channelData,getIsPaused:()=>e.isPaused})},addressBook:{reducer:G,selector:e=>({getContacts:()=>e.contacts,getContactBlackList:()=>e.contactBlackList,getContactCategories:()=>e.contactCategories,getContactCategoriesStatus:()=>e.contactCategoriesStatus,filterContactIdsBy:({query:t,contactIds:s})=>((e,{query:t="",contactIds:s=[]})=>{const a=new RegExp(`\\b${Object(k.a)(t.trim())}\\w*`,"i");return s.filter(t=>{const{id:s,name:n}=e[t];return a.test(n+" "+s)})})(e.contacts,{query:t,contactIds:s}),doesCategoryIdExist:t=>e.contactCategories.hasOwnProperty(t),getContactIdsByCategoryId:t=>e.contactCategories[t].contactIds,getContactName:t=>e.contacts[t].name,doesContactIdExist:t=>Boolean(e.contacts&&e.contacts[t]),getContactById:t=>e.contacts[t]})},messageToAttachments:{reducer:Cs,selector:As},businessListings:{reducer:de,selector:(e={})=>({getBusinessListing:(t,s,a=Date.now())=>e[t]?babelHelpers.extends({},e[t],{hoursToday:e[t].hours[Object(D.h)({timezone:s,time:a}).weekday]||""}):{},doesValidListingExist:(t,s=Date.now())=>{const a=e[t];return!!(a&&a.lastUpdated&&a.lastUpdated+18e5>s)}})},features:{reducer:pt,selector:(e={})=>t=>{const{getEnvironmentSelectors:s}=t,a=a=>{if(s().getIsInternalIP()&&Object(Ke.b)()&&window.__DEBUG_MAIL__&&window.__DEBUG_MAIL__[a])return window.__DEBUG_MAIL__[a];switch(a){case T.kb.MESSAGE_READ_CONTACT_CARD:case T.kb.RELATED_RETAILERS:return Object(st.b)(e[a],t);case T.kb.PLA_SEARCH_ADS:case T.kb.PLA_ADS_ON_COUPON_MESSAGE_READ:case T.kb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ:return Object(V.c)(a,e[a],t);case T.kb.HIPMUNK_CARD:case T.kb.BOOKING_CARD:case T.kb.SEATGEEK_CARD:return at(e[a],t);case T.kb.WIDE_RIGHT_RAIL:return((e,t)=>{const{getQueryParams:s,getEnvironmentSelectors:a}=t,n=s(),r=a().getIsInternalIP(),{start:o,end:i}=nt,c=e[T.kb.WIDE_RIGHT_RAIL],l=Date.now();return r&&n.wideRightRail?"true"===n.wideRightRail:!!(c&&o&&i)&&o<=l&&l<i})(e,t);case T.kb.NUKE_DISPLAY_ADS_ON_INACTIVE:return((e,t)=>{const{isAppVisible:s}=t;return e[T.kb.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!s()})(e,t);case T.kb.HIDE_RIGHT_RAIL:return Object(st.a)(e.hideRightPaneAds,t);case T.kb.AUTOPLAY_EMPTY_FOLDER_VIDEO:return!rt(e[T.id.MEDIAN_TIME_TO_LOAD_EVENT]);case T.kb.GEMINI_VIEWABILITY:return((e,t)=>{const{isMobileRoute:s}=t;return e[T.kb.GEMINI_VIEWABILITY]&&(s()||!e[T.kb.GEMINI_VIEWABILITY_IO])})(e,t);case T.kb.RIGHT_RAIL_CONTACT_CARD:case T.kb.RIGHT_RAIL_PHOTO_CARD:case T.kb.RIGHT_RAIL_DOCS_CARD:case T.kb.RIGHT_RAIL_MESSAGES_CARD:return Object(st.d)(e[a],t,a);case T.kb.MSG_READ_SHOPRUNNER_CARD:case T.kb.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD:case T.kb.COUPON_CLIPPER_CUE:return(void 0!==e[a]?!!e[a]:e[a])&&t.isMessageRoute();case T.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return e[a]&&!e[T.kb.IS_WIDER_MAIL_EXTN_ENABLED]&&(e[T.kb.MAIL_PRO_ELIGIBLE]||e[T.kb.WIDER_MAIL_ELIGIBLE]);case T.kb.MAIL_READER_V3:return it(t);case T.kb.SHOPPING_CART_AD:return((e,t)=>{const{hasMatchingDomainInMessageGroup:s,getSetting:a,isMessageRoute:n,isFeatureEnabled:r}=t,o=!n()&&a(T.id.PREVIEW_PANE)===T.Bc.RIGHT,i=r(T.kb.APAC_SHOPPING_CART_AD)?T.d:T.nd;return e&&s(i)&&!o})(e[a],t);case T.kb.SEARCH_AD_RATING:case T.kb.SEARCH_AD_NO_DESC:case T.kb.SEARCH_AD_ICON_ON_HOVER:return e[a]&&t.getRouteName()===T.Pc.SEARCH;case T.kb.HOTELS_CARD_PREFILL:return ct(e[a],t);case T.kb.RELATED_SEARCHES_CARD:return((e,t)=>{const{getAdsSelectors:s,getFeaturesSelectors:a,getParticipantInFocus:n}=t,{getRelatedSearches:r}=s(),{isEnabled:o}=a(),i=r(),c=n(),{email:l}=c||{},d=!!Object(lt.a)(i,l),E=o(T.kb.HIPMUNK_CARD)||o(T.kb.BOOKING_CARD)||o(T.kb.SEATGEEK_CARD);return Object(st.b)(e,t)&&(d||!Object.keys(i).length)&&!E&&!o(T.kb.AFFILIATE_CARD_IN_MESSAGE_READ)})(e[a],t);case T.kb.RIGHT_RAIL_NATIVE_AD:return((e,t)=>{const{getRouteName:s}=t;return Object(st.c)(e,t,!0)&&s()===T.Pc.SPONSORED_MESSAGE})(e[a],t);case T.kb.RELATED_COUPONS:return Object(st.b)(e[a],t)&&t.hasMatchingDomainInMessageGroup(T.N);case T.kb.SUBSCRIPTION_ADS:return Object(st.b)(e[a],t)&&t.hasMatchingDomainInMessageGroup(T.yd);case T.kb.SHOPLIFT_AD:return Object(st.b)(e[a],t)&&t.hasMatchingDomainInMessageGroup(T.md);case T.kb.PLA_ADS_AVAILABLE:return Object(V.a)(t);case T.kb.SMARTVIEW_CATEGORIES_ENABLED:return e[T.kb.SMARTVIEW_CATEGORIES_ALL]||e[T.kb.SMARTVIEW_CATEGORIES_PEOPLE]||e[T.kb.SMARTVIEW_CATEGORIES_PEOPLE_V2]||e[T.kb.SMARTVIEW_CATEGORIES_SHOPPING];case T.kb.SHOW_TABS:return e[T.id.MAIL_TABS];case T.kb.COUPONS_ON_SEARCH_RIGHT_RAIL:return((e,t)=>{const{getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n}=t,r=s(),o=Object(N.t)(r),i=a(T.kb.COUPONS_SMART_VIEW_SEARCH)&&n(r)===T.td.COUPONS;return Object(st.c)(e,t)&&r.name===T.Pc.SEARCH&&!!Object(N.z)(o)&&!i})(e[a],t);case T.id.MAIL_TABS:return e[a]||t.hasFailedComposeSend();case T.id.HAS_GUIDED_STAR_ANIMATION:return Et(t);case T.id.SNIPPETS:return e[a];case T.id.PREVIEW_PANE:return Ye(e[a],t);case T.id.MESSAGE_DESTINATION_LABEL_TYPE:return Xe(e,t);case T.id.LIST_ITEM_HEIGHT:return Je(e[a],t);case T.id.THEME_MODE:return ot(e,t)?ze.f.LIGHT:e[a];case T.id.THEME:return ot(e,t)?ze.g.DEFAULT:e[a];case T.id.NOTIFICATION_MODE:return((e,t)=>{const{isFeatureEnabled:s}=t,a=s(T.kb.PUSH_NOTIFICATIONS),n=s("browserNotifications");return a&&Object(et.e)()?T.lc.PUSH:n?T.lc.BROWSER:null})(0,t);case T.id.SYSTEM_TABS:return $e(e[a],t);case T.id.NOTIFICATION:return dt(t);case T.id.COUPON_CARDS_FETCH_COUNT:return((e,t)=>{const{getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getCouponsSelectors:r,getSetting:o}=t,{getCoupons:i}=r(),c=s(),l=a(T.kb.COUPONS_SMART_VIEW_SEARCH)&&n(c)===T.td.COUPONS,d=a(T.kb.AD_BLOCK_COUPONS)&&o(T.id.AD_BLOCK_COUPONS_SORT_ORDER)!==T.i.RECOMMENDED;return(l||d)&&Object.keys(i()).length<100?100:e})(e[a],t);case T.id.PENCIL_AD_VERSION:case T.kb.AD_BLOCK_COUPONS_ON_PENCIL_ADS:return t.getRouteName()!==T.Pc.SEARCH&&e[a];case T.id.PREFERRED_AD_FORMAT:return(e=>{let t=S.UNSET;for(const s in g)g[s]===e&&(t=s);return t})(e[a]);case T.kb.RETAILER_FILTER:return((e,t)=>{const{getSmartViewTypeFromRoute:s,getRoute:a,getCurrentListId:n}=t,r=s(a())===T.td.COUPONS,o=Object(N.q)(n())===T.Db.COUPON_CARDS;return e&&r&&o})(e[a],t);case T.kb.MAIL_PRO_LINK_IN_SETTINGS_MENU:return(e=>{if(!e||!Object(Ke.b)()||!window.AppBootstrapData)return!1;const{value:t=""}=window.AppBootstrapData.mailboxAttributes["web.clientVersionHistory"]||{},s=t.split("|").filter(e=>!!e),a=Date.now();if(1===s.length)return!0;const n=s.reduce((e,t="")=>{const[s,n]=t.split(",");if("6"===s){let t=1e3*parseInt(n,10);return t>a&&(t/=1e3),Math.max(e,t)}return e},0);return 0!==n&&a-n>60*T.Qb})(e[a]);default:return e[a]}};return{isEnabled:e=>{const t=a(e);return void 0!==t?!!t:t},getSetting:e=>a(e),getDefaultSetting:t=>e[t]}}},featureCues:{reducer:St,selector:e=>({isShown:t=>e[t]&&e[t].isShown,shownFeatures:()=>Object.keys(e||{}).filter(t=>e[t].isShown),isPersistent:t=>e[t]&&e[t].isPersistent,isUdbOnly:t=>e[t]&&e[t].isUdbOnly,isKeySaved:t=>e[t]&&e[t].isKeySaved,getSubkey:t=>e[t]&&e[t].subkey})},gifItems:{reducer:Rt,selector:(e={})=>({getGifItems:()=>e})},gifCategories:{reducer:bt,selector:(e={})=>({isGifCategoryQuery:t=>e.categories.hasOwnProperty(t),getGifCategoryTopItemsStatus:t=>e.categories[t].status,getGifCategoryTopItemsUrl:t=>e.categories[t].category.topItemsUrl,getGifCategoriesList:()=>e.categoryIds.map(t=>e.categories[t].category),isCategoryListLoaded:()=>e.categoriesStatus===T.Mc.LOADED})},contacts:{reducer:Me,selector:e=>({doesContactExist:({id:t})=>!!e.byId[t],getContacts:()=>e.byId,getContactById:t=>e.byId[t],getContactIdByEmail:t=>e.idByEmail[t],getContactByEmail:t=>{const s=e.idByEmail[t];return s?e.byId[s]:null},getCurrentFilter:()=>e.currentFilter,getCurrentPaneView:()=>e.contactsPaneView})},socialAccounts:{reducer:Ys,selector:e=>({showAuthWindow:()=>!!e.authWindow.provider,getAuthWindowData:()=>e.authWindow})},downloads:{reducer:Be,selector:e=>({getDownloads:()=>e})},online:{reducer:Rs,selector:e=>({isOnline:()=>e})},payments:{reducer:fs,selector:e=>({getPaymentDetails:()=>e.payments,getPaymentError:()=>e.error})},searchSuggestions:{reducer:Ks,selector:function(e={}){return{getSuggestions:t=>e[t]}}},searchInput:{reducer:Ws,selector:qs},calendar:{reducer:_e,selector:(e={})=>({getInviteUid:t=>e[t]&&e[t].uid,getInviteStatus:t=>e[t]&&e[t].status,getInviteInfo:t=>e[t]})},environment:{reducer:Ve,selector:(e={})=>({isComposeApp:()=>e.app===T.r.COMPOSE_APP,getIsInternalIP:()=>e.isInternalIP,isAMT:()=>e.isAMT,isAppVisible:()=>e.applicationVisibility,getApplicationLastVisibleTimeStamp:()=>e.applicationLastVisibleTimeStamp,getBuildRefreshStatus:()=>e.buildRefreshStatus,getIsXobnified:()=>e.isXobnified,getTimeZoneName:()=>e.timeZoneName,getGeoLocation:()=>e.geoLocation,getPageDirection:()=>e.pageDirection,getTimezoneUpdatingStatus:()=>e.timezoneUpdating,getWindowDimensions:()=>e.windowDimensions})},composeSuggestions:{reducer:Ae,selector:function(e={}){return{getSuggestions:t=>(e.composeSuggestionsFromImportantContacts[t]||[]).concat(e.composeSuggestions[t]||[]).reduce((e,t)=>e.map[t.email]?(e.map[t.email].filteredResults=t.filteredResults,e):(e.result=[...e.result,t],e.map[t.email]=t,e),{map:{},result:[]}).result}}},locationSuggestions:{reducer:ts,selector:(e={})=>({getLocationSuggestionsMap:()=>e.locationSuggestions,getLocationSuggestions:t=>e.locationSuggestions[t]||[],getLocationSuggestionStatus:t=>e.locationFetchStatus[t]||T.Mc.DOES_NOT_EXIST})},subscription:{reducer:ha,selector:(e={})=>({getSubscriptionStatus:()=>babelHelpers.extends({},e.subscriptionStatus),getSubscriptions:t=>pa.b.map(s=>{if(-1!==Object.keys(ma).indexOf(s.provider))return ma[s.provider](e,s,t)})})},settings:{reducer:zs,selector:(e={})=>({getSettingsApiCallStatus:()=>e.settingsApiCallStatus,getBlockedSendersApiCallStatus:()=>e.blockedSendersApiCallStatus})},importantContacts:{reducer:Bt,selector:function(e={}){return{getImportantContacts:()=>e.importantContacts}}},recentSearches:{reducer:Fs,selector:function(e={}){return{getRecentSearches:()=>e}}},pendingUpdate:{reducer:Ns,selector:(e={})=>({getPendingUpdate:()=>e})},designClassifier:{reducer:He,selector:(e={})=>({isDetailPaneExpanded:()=>e.isDetailPaneExpanded})},yahooDeals:{reducer:tn,selector:e=>({getRecommendedProducts:()=>e.recommendedProducts,getActivities:()=>e.activities})},composeAttributesStatus:{reducer:Se,selector:(e={})=>({getComposeAttributesStatus:()=>e.composeAttributesStatus})},deals:{reducer:Ue,selector:e=>({getTopRetailers:()=>e.topRetailers,getTopDealCategories:()=>e.topDealCategories})},linkEnhancer:{reducer:an,selector:(e={})=>({getEnhancedLinks:()=>e})}},hn=(e=>Object(i.c)(Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,{[s]:e[s].reducer}),{})))(mn);t.a=hn;const Sn=(e=>Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,{[s]:Object(c.createSelector)(e=>e[s],t=>e[s].selector(t))}),{}))(mn),gn=((e={})=>{return(t,s,a,n)=>r=>{const o=s(),i=((t,s)=>e[t]?e[t]:(e[t]=Object(c.createSelector)(s,()=>({})),e[t]))(t,a)(r);return i[o]?i[o]:(i[o]=n(...a.map(e=>e(r))),i[o])}})({}),In=e=>e<_?1:2,Cn=e=>{let t=d;return e<_?t=l:e>=u&&(t=E),t},Tn=(e,t)=>e>t?T.tc.LANDSCAPE:T.tc.PORTRAIT,An=Object(c.createSelector)(e=>e,e=>{const t=Sn,s={getDesignClassifierDimensions:()=>{const e=s.getClientWidth(),t=s.getClientHeight();return{clientWidth:e,clientHeight:t,orientation:Tn(e,t),columns:In(e),messageListWidth:Cn(e),isDetailPaneExpanded:s.isDetailPaneExpanded()}},isDetailPaneExpanded:()=>t.designClassifier(e).isDetailPaneExpanded(),getClientWidth:()=>s.getWindowDimensions().clientWidth,getClientHeight:()=>s.getWindowDimensions().clientHeight,getOrientation:()=>s.getDesignClassifierDimensions().orientation,getPrescribedNumberOfColumns:()=>s.getDesignClassifierDimensions().columns,getPrescribedMessageListWidth:()=>s.getDesignClassifierDimensions().messageListWidth,getAction:()=>t.action(e),getActionTimeStamp:()=>s.getAction().actionTimestamp,isWindowResizingDone:()=>s.getAction().type===A.a.WINDOW_RESIZING,getFeaturesSelectors:()=>t.features(e)(s),isFeatureEnabled:e=>gn("isFeatureEnabled",()=>e,[e=>e],()=>s.getFeaturesSelectors().isEnabled(e))(s),getSetting:e=>gn("getSetting",()=>e,[e=>e],()=>s.getFeaturesSelectors().getSetting(e))(s),getDefaultSetting:e=>s.getFeaturesSelectors().getDefaultSetting(e),getBusinessListingSelectors:()=>t.businessListings(e),getBusinessListingForUserTimezone:(e,t=Date.now())=>{const{getTimeZoneName:a,getBusinessListingSelectors:n}=s,{getBusinessListing:r}=n();return r(e,a(),t)},getAdsSelectors:()=>t.ads(e)(s),getPrintItemsSelectors:()=>t.printItems(e),getItemToPrint:()=>s.getPrintItemsSelectors().getItemToPrint(),getUnsyncedDataSelectors:()=>t.unsyncedData(e),getReconciledUnsyncedData:()=>gn("getReconciledUnsyncedData",()=>"RECONCILE_UNSYNCED_DATA_CACHE",[e=>e],()=>s.getUnsyncedDataSelectors().getReconciledUnsyncedData(s))(s),getUnsyncedDataToSync:(e=Date.now())=>s.getUnsyncedDataSelectors().getUnsyncedDataToSync(s,e),getReconciledUnysncedDataByHash:e=>{return s.getReconciledUnsyncedData().find(t=>t.hash===e)},getRequestHashForUnsyncedDataItem:e=>`${e.type}-${e.hash}`,getUnsyncedDataToSyncByRequestHash:(e,t)=>{const{getRequestHashForUnsyncedDataItem:a,getUnsyncedDataToSync:n}=s;return n(t).find(t=>a(t)===e)},getOnlineSelectors:()=>t.online(e),isOnline:()=>s.getOnlineSelectors().isOnline(),getContentProviders:()=>t.contentProviders(e),getPeopleSelectors:()=>t.people(e),doesPeopleContactExistByXobniId:e=>s.getPeopleSelectors().doesPeopleContactExistByXobniId(e),getPeopleContactByXobniId:e=>s.getPeopleSelectors().getContactByXobniId(e),getRelationshipHistoryByXobniId:e=>s.getPeopleSelectors().getRelationshipHistoryByXobniId(e),getListsSelectors:()=>t.lists(e),doesListExist:e=>s.getListsSelectors().doesListExist(e),doesListHasMoreItems:e=>s.getListsSelectors().hasMoreItems(e),getListStatus:e=>s.getListsSelectors().getListStatus(e),doesListItemExist:(e,t)=>s.getListsSelectors().doesListItemExist(e,t),getListItemIdIndex:(e,t)=>s.getListsSelectors().getListItemIdIndex(e,t),shouldFetchMoreItems:(e,t)=>{const{getFeaturesSelectors:a,getListsSelectors:n,getListItemIds:r,doesListHasMoreItems:o}=s,{getListItemIdIndex:i,doesListExist:c}=n(),l=a().getSetting("messageScrollLoadThreshold"),d=i(e,t),E=c(e)?r(e):[];return o(e)&&E.length-d<=l},getPreviousListItemId:(e,t)=>s.getListsSelectors().getPreviousListItemId(e,t),getNextListItemId:(e,t)=>s.getListsSelectors().getNextListItemId(e,t),isListEmpty:e=>s.getListsSelectors().isListEmpty(e),isListStale:e=>s.getReconciledUnsyncedData().some(t=>t.type===T.Td.LIST_TO_UPDATE&&t.userInputtedValues.listId===e&&t.userInputtedValues.isStale),getListLmv3Query:e=>s.getListsSelectors().getLmv3Query(e),getListSuggestedWords:e=>s.getListsSelectors().getSuggestedWords(e),getAllItemsCountForListId:e=>{const{getListsSelectors:t,doesListExist:a,getListLmv3Query:n,doesFolderIdExist:r,getFolderTotal:o}=s,{getTotalHits:i}=t(),c=Object(N.m)(e);return a(e)&&n(e)?i(e):c&&r(c)&&o(c)||null},getStreamsSelectors:()=>t.streams(e),getFoldersSelectors:()=>t.folders(e),getSavedSearchesSelectors:()=>t.savedSearches(e),getMessageGroupsSelectors:()=>t.messageGroups(e),getCardGroupsSelectors:()=>t.cardGroups(e)(s),getCardMessageToSchemasSelectors:()=>t.cardMessageToSchemas(e),getFlightsSelectors:()=>t.flights(e),getItemIdsSelectors:e=>s.getListsSelectors().getItemIdsSelectors(e),getListItemIds:e=>s.getItemIdsSelectors(e).getItemIds(),getPeopleListItems:e=>s.getListItemIds(e).map(s.getPeopleContactByXobniId),getMessageTimestamp:e=>s.getMessagesSelectors().getTimeStamp(e),getMessageListItems:e=>{const{getSetting:t}=s,a=Object(N.q)(e),n=t(T.id.LIST_ITEM_HEIGHT,{contentType:a});return gn("getMessageListItems",()=>`${e}-${n}`,[e=>e.getListsSelectors(),e=>e.getMessagesSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageGroupsSelectors()],()=>{const{getMessageGroupsSelectors:t,getFoldersSelectors:r,getMessagesSelectors:o,getListsSelectors:i,getCardGroupsSelectors:c,getMessageFolderId:l}=s,{getMessageIdsFromMessageGroupId:d}=t(),{getMessageIdsFromCardGroupId:E}=c(),{getPrimaryFolderTypeByFolderId:_}=r(),{getTimeStamp:u}=o(),{getItemIdsSelectors:p}=i(),{getItemIds:m}=p(e),h=Object(N.m)(e);return m().map(t=>{const s=a===T.Db.TRAVEL_CARDS?E(t):d(t),r=s.filter(e=>_(l(e))!==T.sb.DRAFT),o=0===r.length?s:r,i=o[o.length-1],c=[...o].reverse().find(e=>l(e)===h)||i;return{id:t,listId:e,relevantMessageId:c,listItemHeight:n,timestamp:1e3*u(c)}})})(s)},getSystemFolderListWithSmartView:e=>gn("getSystemFolderListWithSmartView",()=>e,[e=>e.getFoldersSelectors()],t=>t.getSystemFolderListWithSmartView(e))(s),getCustomFolderList:e=>gn("getCustomFolderList",()=>e,[e=>e.getFoldersSelectors()],t=>t.getCustomFolderList(e))(s),getAttachmentListItems:e=>{const{getAttachmentsSelectors:t,getFeaturesSelectors:a,getListsSelectors:n}=s,{getSetting:r}=a(),{getTimeStamp:o}=t(),{getItemIdsSelectors:i}=n(),{getItemIds:c}=i(e),l=r(T.id.LIST_ITEM_HEIGHT,{contentType:Object(N.q)(e)});return c().map(t=>({id:t,listId:e,listItemHeight:l,timestamp:1e3*o(t)}))},getMessageListItemsSinceTimestamp:(e,t)=>Object(N.q)(e)!==T.Db.MESSAGES?[]:s.getMessageListItems(e).filter(e=>e.timestamp>=t),getRefundSelectors:()=>({getRefundCardsForCardConversationId:e=>{const{getCardGroupsSelectors:t,getCardMessageToSchemasSelectors:a,getReceiptSelectors:n}=s,{getMessageIdsFromCardGroupId:r}=t(),o=r(e)||[],{getSchemas:i}=a();return o.map(e=>{const t=(i(e)||[]).filter(({type:e})=>e===T.Zc.Order);return t.length?{cmid:e,price:n().getPrice(t[0].id),potentialSavings:n().getPotentialSavings(t[0].id),itemName:n().getFirstItemName(t[0].id),orderDate:n().getOrderDate(t[0].id),currency:n().getCurrency(t[0].id)}:{}})}}),getReceiptSelectors:()=>t.receipts(e),getRecommendedItemCardSelectors:()=>babelHelpers.extends({getRecommendedItemList:()=>{const{getGroupId:t,doesMessageGroupIdExist:a,getCardConversationIdsFromMessageGroupId:n,getCardMessageToSchemasSelectors:r,getCardGroupsSelectors:i}=s;let c=[];const{getSchemas:l}=r(),{getMessageIdsFromCardGroupId:d}=i(),E=t();if(!E||!a(E))return c;const _=n(E),u=d(_&&_[0])||[];return u.length?(u.forEach(t=>{const s=l(t)||[];if(1===s.filter(({type:e})=>e===T.Zc.Recommendation).length){const t=s[0].id,a=Hs(e.recommendedItems).getRecommendationItems(t);a.length&&(c=c.concat(a))}}),o()(c)):c}},t.recommendedItems(e)),getPlaAdsSelectors:()=>({getPlaAdsData:(e=!1)=>{const{isFeatureEnabled:t,getAdsSelectors:a,getCouponsSelectors:n,getRoute:r,getRecommendedItemCardSelectors:o}=s,i=r(),c=Object(N.t)(i),l=t(T.kb.PLA_ADS_ON_COUPON_MESSAGE_READ),d=t(T.kb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ),E=t(T.kb.PLA_SEARCH_ADS),{gptCategoryList:_,couponsRetailer:u}=n().getCouponsGPTData(),p=o().getRecommendedItemList(),m=a().getCurrentGptCategory(),h=m&&!e?m:l&&_.length&&_[0]||d&&p.length&&p[0];return{plaAdsData:l&&a().getPlaAdsForKeyword(h,u)||E&&a().getPlaAdData(c)||d&&a().getPlaAdsForKeyword(h)||[],currentGptItem:h||""}}}),getCardConversationIdByMessageId:e=>s.getMessagesSelectors().getCardConversationId(e),getRetailersSelectors:()=>babelHelpers.extends({getRetailerStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getRetailersFromRetailerIds:a}=s.getRetailersSelectors();return a(t)}},t.retailers(e)),getSRRetailersSelectors:()=>t.shopRunnerRetailers(e),getOffersSelectors:()=>babelHelpers.extends({getOfferItemFromOfferId:e=>{const{getOffer:t}=s.getOffersSelectors(),{amountUnit:a,brandName:r,description:o,discountType:i,expiryTimestamp:c,imageUrl:l,value:d}=t(e),E=Math.floor((c-(new Date).getTime())/T.Qb);let _="";if(a&&"0"!==d)if(i===T.Gc.AMOUNT){_=`${n()(a)}${d}`}else i===T.Gc.PERCENT&&(_=`${d}%`);return{brandName:r,dateDiff:E,description:o,imageUrl:l,offerId:e,offerValue:_}},getOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getOfferItemFromOfferId:a}=s.getOffersSelectors();return t.map(e=>a(e))}},t.offers(e)),getActivatedOffersSelectors:()=>babelHelpers.extends({getActivatedOfferItemFromOfferId:e=>{const{getActivatedOffer:t}=s.getActivatedOffersSelectors(),{amountUnit:a,brandName:r,description:o,discountType:i,expiryTimestamp:c,imageUrl:l,value:d}=t(e),E=Math.floor((c-(new Date).getTime())/T.Qb);let _="";if(a&&"0"!==d)if(i===T.Gc.AMOUNT){_=`${n()(a)}${d}`}else i===T.Gc.PERCENT&&(_=`${d}%`);return{brandName:r,dateDiff:E,description:o,imageUrl:l,offerId:e,offerValue:_}},getActivatedOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),{getActivatedOfferItemFromOfferId:a}=s.getActivatedOffersSelectors();return t&&t.map(e=>a(e))}},t.activatedOffers(e)),getCouponsSelectors:()=>babelHelpers.extends({getCouponExpirationTime:(s,a=new Date)=>{const n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())),r=t.coupons(e).getValidThroughDate(s),o=t.coupons(e).isInferredDate(s),i=new Date(r);return i.setUTCHours(23),i.setUTCMinutes(59),i.setUTCSeconds(59),{date:i.getDate(),month:i.getMonth(),dateDiff:Math.floor((i.getTime()-n.getTime())/864e5),timestamp:i.getTime(),isInferred:o}},getCouponCardsForCardConversationId:(a,n=new Date)=>{const{getParentMessageIdForCardConversationId:r,getParentConversationIdForCardConversationId:o}=s.getMessagesSelectors(),{isFeatureEnabled:i}=s,c=i(T.kb.CONVERSATIONS)?o:r,{getSchemas:l}=s.getCardMessageToSchemasSelectors(),{getCouponExpirationTime:d}=s.getCouponsSelectors();return(s.getCardGroupsSelectors().getMessageIdsFromCardGroupId(a)||[]).map(s=>{const o=l(s)||[],i=c(a);if(1===o.filter(({type:e})=>e===T.Zc.Coupon).length){const c=o[0].id,{name:l,email:E}=Fe(e.coupons).getFromAddress(c);return{schemaId:c,parentMessageGroupId:i,parentMessageId:r(a),cmid:s,clipped:Fe(e.coupons).isClipped(c),description:Fe(e.coupons).getDescription(c),email:E,domain:l,savedSearchQuery:t.coupons(e).getSavedSearchQuery(c),expirationTime:d(o[0].id,n),dealLink:t.coupons(e).getDealLink(c)}}}).filter(e=>e&&e.expirationTime.dateDiff>=0&&e.email&&e.domain&&e.description)},getCouponCardStreamItems:e=>{return s.getListsSelectors().getItemIdsSelectors(e).getItemIds().reduce((t,a)=>{const n=s.getCardMessageToSchemasSelectors().getSchemas(a).filter(e=>e.type===T.Zc.Coupon);if(1===n.length){const r=n[0].id,o=s.getCouponsSelectors().getCouponExpirationTime(r);o.dateDiff>=0&&t.push({id:r+e+a,schemaId:r,listId:e,cardMid:a,timestamp:o.timestamp})}return t},[])},getNumberOfUnexpiredCoupons:(e,t)=>{const{getCardConversationId:a}=s.getMessagesSelectors(),{getCouponCardsForCardConversationId:n}=s.getCouponsSelectors();return Object(i.d)(e=>e.length,e=>n(e,t),a)(e)},isSingleCouponParentMessageId:(e,t=new Date)=>1===s.getCouponsSelectors().getNumberOfUnexpiredCoupons(e,t),getCouponRecommendations:(e="")=>{const{getListsSelectors:t}=s,{doesListExist:a}=t(),n=Object(N.e)({referrer:T.Fb.COUPON_RECOMMENDATIONS,keyword:e});if(!a(n))return[];const{getItemIdsSelectors:r}=t();return r(n).getItemIds()||[]},getTopCoupons:(e="")=>{const{getListsSelectors:t,getCouponsSelectors:a}=s,{getCouponCardFromCardId:n}=a(),{doesListExist:r}=t(),o=Object(N.e)({referrer:T.Fb.TOP_COUPONS});if(!r(o))return[];const{getItemIdsSelectors:i}=t();return(i(o).getItemIds()||[]).map(e=>n(e)).map(t=>babelHelpers.extends({},t,{originalLink:t.dealLink,dealLink:Object(b.c)(t.dealLink,e)}))},getAdBlockCoupons:()=>{const{getSetting:e,getCouponsSelectors:t}=s,{getTopCoupons:a,getCoupons:n,getFromAddress:r,getCouponExpirationTime:o}=t(),i=n(),c=e(T.id.AD_BLOCK_COUPONS_SORT_ORDER),l=T.j[c],d=a(l);if(c===T.i.RECOMMENDED)return d;const E=Object.keys(i).map(e=>{const{name:t,email:s}=r(e);return babelHelpers.extends({},i[e],{email:s,domain:t,expirationTime:o(e),originalLink:i[e].dealLink,dealLink:Object(b.c)(i[e].dealLink,l)})});if(c===T.i.EXPIRATION)return E.sort((e,t)=>e.expirationTime.dateDiff-t.expirationTime.dateDiff).slice(0,10);if(c===T.i.RANDOM){let e=[];for(let t=0;t<10;t++){const t=Math.floor(Math.random()*E.length);e=e.concat(E.splice(t,1))}return e}return d},getCouponsGPTData:()=>{const{getGroupId:t,doesMessageGroupIdExist:a,getCardConversationIdsFromMessageGroupId:n,getCardMessageToSchemasSelectors:r,getCardGroupsSelectors:o}=s,i=[],{getSchemas:c}=r(),{getMessageIdsFromCardGroupId:l}=o(),d=t(),E={gptCategoryList:[],couponsRetailer:""};if(!d||!a(d))return E;const _=n(d),u=l(_&&_[0])||[];if(!u.length)return E;let p="";return u.forEach(t=>{const s=c(t)||[];if(1===s.filter(({type:e})=>e===T.Zc.Coupon).length){const t=s[0].id,a=Fe(e.coupons).getGptCategory(t);a&&-1===i.indexOf(a)&&i.push(a),p||(p=Fe(e.coupons).getRetailer(t))}}),{gptCategoryList:i,couponsRetailer:p}},getRelatedCoupons:(e=new Date)=>{const{getGroupId:t,getCardConversationIdsFromMessageGroupId:a,getCouponsSelectors:n,getCardGroupsSelectors:r,doesMessageGroupIdExist:o,getListsSelectors:i,getSenderEmailIdsFromMessageGroup:c}=s,{doesListExist:l,getItemIdsSelectors:d}=i(),{getCouponCardFromCardId:E}=n(),{getMessageIdsFromCardGroupId:_}=r(),u=t(),p=c([u])[0];if(!u||!o(u))return[];const m=Object(N.f)({listContentType:T.Db.COUPON_CARDS,listFilter:T.Eb.ALL_COUPON_CARDS,referrer:T.Fb.RELATED_COUPONS,emailAddresses:p}),h=a(u),S=_(h&&h[0])||[];return l(m)?(d(m).getItemIds()||[]).filter(e=>-1===S.indexOf(e)).map(t=>E(t,e)).filter(({clipped:e,expirationTime:{dateDiff:t=-1}={}}={})=>!e&&t>=0):[]},getPrescribedMessageListWidth:()=>s.getDesignClassifierDimensions().messageListWidth,emailHasCoupons:()=>{const{getRoute:e,isFeatureEnabled:t,getGroupId:a,__patchV2MessageGroupItemId__:n,doesMessageGroupIdExist:r}=s,o=a(),i=Object(N.t)(e());if(!o||!r(o))return!1;const c=n(o,i);return t(T.kb.COUPON_CARD_EXTRACTIONS)&&c.messages[0].decos.some(e=>e&&"CPN"===e.id)},getCouponCardFromCardId:(a,n)=>{const{getCouponsSelectors:r,getCardMessageToSchemasSelectors:o}=s,{getSchemas:i}=o(),{getCouponExpirationTime:c}=r(),l=i(a)||[];if(1===l.filter(({type:e})=>e===T.Zc.Coupon).length){const s=l[0].id,{name:r,email:o}=Fe(e.coupons).getFromAddress(s);return{schemaId:s,cmid:a,clipped:Fe(e.coupons).isClipped(s),description:Fe(e.coupons).getDescription(s),email:o,domain:r,autoClipEligible:!!t.coupons(e).getSavedSearchQuery(s),expirationTime:c(s,n),dealLink:Fe(e.coupons).getDealLink(s)}}return{}}},t.coupons(e)),getComposeSessionsSelectors:()=>t.composeSessions(e),getAttachmentsSelectors:()=>t.attachments(e),getMessageToAttachmentsSelectors:()=>t.messageToAttachments(e),getSubjectsAndSnippetsSelectors:()=>t.subjectsAndSnippets(e),getMessagesSelectors:()=>t.messages(e),getMessagesFlagSelectors:()=>t.messagesFlags(e),getMessagesFolderIdSelectors:()=>t.messagesFolderId(e),getMessageBodiesSelectors:()=>t.messageBodies(e),getSearchSuggestionSelectors:()=>t.searchSuggestions(e),getDocumentSelectors:()=>t.documents(e),isDocumentLoaded:e=>s.getDocumentSelectors().isDocumentLoaded(e),isDocumentPageLoaded:(e,t)=>s.getDocumentSelectors().isPageLoaded(e,t),getDocumentRetryCount:(e,t,a)=>s.getDocumentSelectors().getRetryCount(e,t,a),getRouterSelectors:()=>t.router(e),getPagesSelectors:()=>t.pages(e),getSmartViewPages:()=>{const e=s.getSelectedAccountIdByRoute(s.getRoute());return(s.getSetting(T.id.SYSTEM_TABS)||[]).filter(e=>!!e.status).map(t=>{const a=s.getSmartViewPageByType(t.name);return a?t.name===T.td.COUPONS&&a.name===T.Pc.SEARCH?a:s.normalizeRoute(Object(L.q)(Object(N.t)(a),{accountIds:e})):s.normalizeRoute(Object(L.t)(t.name,{accountIds:e,excludefolders:s.isFeatureEnabled(T.kb.CONVERSATIONS)?[T.sb.TRASH,T.sb.BULK]:[T.sb.TRASH,T.sb.BULK,T.sb.DRAFT,T.sb.SENT]}))})},getSmartViewTypeFromListId:e=>{const t=Object(N.x)(e);return Object.keys(T.rd).find(e=>T.rd[e]===t)},getSmartViewTypeFromRoute:e=>e.name===T.Pc.TUTORIAL?T.td.TUTORIAL:s.getSmartViewTypeFromListId(Object(N.t)(e)),getDefaultFolderRoute:()=>{const{getRoute:e,normalizeRoute:t,getFolderIdsByFolderTypeForAccount:a,getSelectedAccountIdByRoute:n}=s,r=n(e()),o=a(T.sb.INBOX,r);return t(Object(L.i)(o[0]))},isShoppingSmartViewEnabled:()=>{const{isFeatureEnabled:e}=s;return e(T.kb.SMARTVIEW_CATEGORIES_SHOPPING)||e(T.kb.SMARTVIEW_CATEGORIES_ALL)},getSmartViewPosition:e=>{const{isShoppingSmartViewEnabled:t}=s;return e===T.td.COUPONS?t()?T.sd.TAB_BAR:T.sd.SIDE_BAR:T.Cb.indexOf(e)>-1?T.sd.SIDE_BAR:T.Kd.indexOf(e)>-1?T.sd.TAB_BAR:void 0},getMaxTabCounts:()=>{const{getSetting:e}=s;return e(T.id.MAIL_TABS)?T.Kb:T.Jb},isDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return t&&t.some(e=>s.isDraftMessage(e))},getTabPages:()=>gn("getTabPages",()=>"tabs",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getPagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.isFeatureEnabled(T.kb.SHOW_TABS),e=>e.isFeatureEnabled(T.kb.SMARTVIEW_CATEGORIES_ENABLED),e=>e.getSetting(T.id.SYSTEM_TABS)],()=>{const{isFeatureEnabled:e,getSmartViewPages:t,getDefaultFolderRoute:a,doesRouteContainFailure:n,getPages:r,getSmartViewPosition:o,getSmartViewTypeFromRoute:i,getSelectedAccountIdByRoute:c,getRoute:l,normalizeRoute:d}=s;let E=r();const _=e(T.kb.SHOW_TABS),u=e(T.kb.SMARTVIEW_CATEGORIES_ENABLED),p=c(l());if(u){const e=t()||[],[s,...r]=E.reduce((e,t)=>{const s=Object(N.I)(t)&&!Object(N.L)(t)?i(t):null;return s&&s!==T.td.TUTORIAL?o(s)===T.sd.SIDE_BAR&&e.push(s===T.td.COUPONS&&t.name===T.Pc.SEARCH?t:d(Object(L.q)(Object(N.t)(t),{accountIds:p}))):e.push(t),e},[]),c=r.findIndex(e=>Object(N.L)(e));if(c>-1)E=[...r.splice(c,1),...e,...Object(L.z)(r,n)];else{const t=a();E=s?pn(s)||Object(N.L)(s)?[s,...e,...Object(L.z)(r,n)]:[t,...e,...Object(L.z)([s,...r],n)]:[t,...e,...Object(L.z)(r,n)]}}return _||(E=E.filter(e=>u&&(pn(e)||e.name===T.Pc.TUTORIAL||Object(N.I)(e)&&i(e)||Object(N.L)(e))||n(e))),E})(s),getPages:()=>s.getPagesSelectors().getPages().filter(e=>Object(L.A)(s.reconcileRoute(e),e)),doesRouteContainFailure:e=>gn("doesRouteContainFailure",()=>e,[e=>e.getPages(),e=>e.getMessagesSelectors(),e=>e.getComposeSessionsSelectors()],()=>{const{getComposeSessionsSelectors:t,isFeatureEnabled:a,getMessageGroupStreamItems:n,doesMessageGroupIdExist:r}=s,{isSendFailed:o,doesComposeSessionExist:i}=t(),c=a(T.kb.CONVERSATIONS)&&En(e)||_n(e)||un(e),l=e=>e&&i(e)&&o(e);if(c){const{params:{csid:t,groupId:s}}=e,a=Object(N.t)(e);return s&&r(s)?n({id:s,listId:a}).some(({csid:e})=>l(e)):l(t)}return!1})(s),doesPageExist:e=>s.getPagesSelectors().doesPageExist(e),getSmartViewPageByType:e=>s.getPagesSelectors().getPages().find(t=>Object(N.I)(t)&&s.getSmartViewTypeFromRoute(t)===e),getFolderPageRoute:()=>s.getPagesSelectors().getFolderPageRoute(),getSortOrderForFolderRoute:()=>{const e=s.getFolderPageRoute();return e?Object(N.D)(Object(N.t)(e)):T.wd.DATE_DESC},getRoutesInfo:()=>Object(L.x)(s.getRouterSelectors().getRoutesConfig()),getPreviousRoute:()=>s.getRouterSelectors().getRoute(),getRoute:()=>s.reconcileRoute(s.getRouterSelectors().getRoute()),reconcileRoute:(e,t=!1)=>e?gn("reconcileRoute",()=>`${e.url}-${t}`,[e=>e],()=>{const{isComposeApp:a,getFolderPageRoute:n,getAction:r,isValidListMessageGroup:o,getRoutesInfo:i,getSetting:c,isListEmpty:l,doesListExist:d,doesFolderIdExist:E,doesMessageGroupIdExist:_,getSelectedAccountIdByRoute:u,getFolderIdsByFolderTypeForAccount:p,getSelectedMailboxId:m,doesComposeSessionExist:h,isSent:S,doesPageExist:g,isMessageGroupLoading:I,isSpamFolder:C,isSendRequested:O,getSmartViewPageByType:b,getSmartViewTypeFromListId:R}=s,D=Object(L.w)(e),f=r(),M=n();if(a())return e;if(!m()||f.type===A.a.OPEN_PAGE_REQUESTED&&Object(L.A)(f.route,e))return e;if(f.type===A.a.SEARCH_LIST_ITEMS_RECEIVED&&f.navigateFromToAll)return Object(L.y)(i(),Object(L.q)(Object(N.Q)(f.listId,{listFilter:T.Eb.ALL})),D);if(f.type===A.a.CONTACT_EDIT_CANCELLED||f.type===A.a.CONTACT_SAVE_REQUESTED){if(e.name===T.Pc.EDIT_CONTACT)return Object(L.y)(i(),Object(L.f)(e.params),D);if(e.name===T.Pc.CREATE_CONTACT)return Object(L.y)(i(),Object(L.g)(e.params),D)}if(f.type===A.a.ACCOUNT_ADD_SUCCEEDED&&dn(Object(L.y)(i(),e,D)))return Object(L.y)(i(),Object(L.a)(),D);if(!t&&-1!==[A.a.CLOSE_PAGE_REQUESTED,A.a.CLOSE_ALL_PAGES_REQUESTED].indexOf(f.type)&&!g(e)){const t=Object(N.t)(e);if(f.type!==A.a.CLOSE_ALL_PAGES_REQUESTED&&-1!==[T.Pc.MESSAGE_FROM_SEARCH_LIST,T.Pc.MESSAGE_FROM_LIST].indexOf(e.name)){if(Object(N.E)(t)){const e=R(t);if(e){const t=b(e);if(t)return t}}return Object(L.y)(i(),Object(L.q)(t),D)}let s=Object(N.m)(t);const a=Object(N.D)(t),{serializedListId:n}=cn(e);if(!s&&n&&(s=Object(N.m)(Object(N.u)(n))),!s){if(M)return M;s=p(T.sb.INBOX,u(e))[0]}return Object(L.y)(i(),Object(L.i)(s,a),D)}switch(e.name){case T.Pc.MESSAGE_FROM_LIST:case T.Pc.MESSAGE_FROM_SEARCH_LIST:case T.Pc.MESSAGE_FROM_FOLDER_LIST:{const t=Object(N.t)(e),s=Object(N.m)(t),{groupId:a,attachmentId:n}=cn(e);if(n&&"1"===e.query.fullscreen)return e;if(s&&!E(s)){const[t]=p(T.sb.INBOX,u(e));return Object(L.y)(i(),Object(L.i)(t),D)}if(!_(a)&&!I(a)||d(t)&&Object(N.q)(t)===T.Db.MESSAGES&&!o(t,a)){const e=c(T.id.ACTION_AFTER_MSG_MOVE),{streamItems:n=[]}=f,r=n.filter(e=>Object(N.q)(e.listId)===T.Db.MESSAGES),o=r.findIndex(e=>e.id===a),E=!!s&&C(s);if(e===T.h.GO_BACK_TO_FOLDER||d(t)&&l(t)||E||-1===o)return Object(L.y)(i(),Object(L.l)(t),D);let _;switch(e){case T.h.SHOW_NEXT_MESSAGE:_=r[o+1]||r[o-1]||void 0;break;case T.h.SHOW_PREVIOUS_MESSAGE:_=r[o-1]||r[o+1]||void 0}return _?Object(L.y)(i(),Object(L.n)(t,_.id),D):Object(L.y)(i(),Object(L.l)(t),D)}break}case T.Pc.EDIT_FOLDER:case T.Pc.FOLDER:{const t=Object(N.t)(e);if(!E(Object(N.m)(t))){const[t]=p(T.sb.INBOX,u(e));return Object(L.y)(i(),Object(L.i)(t),D)}break}case T.Pc.EDIT_DRAFT:case T.Pc.NEW_DRAFT:{const{serializedListId:t,csid:s}=cn(e);if(!h(s)||S(s)||O(s)){let s;if(t&&(s=Object(N.m)(Object(N.u)(t))),!s){if(M)return M;s=p(T.sb.INBOX,u(e))[0]}return Object(L.y)(i(),Object(L.i)(s),D)}return e}}return e})(s):e,normalizeRoute:e=>Object(L.y)(s.getRoutesInfo(),e,Object(L.w)(s.getRoute())),getHashParams:()=>s.getRouterSelectors().getHashParams(),getRouteUIContext:()=>s.getRouterSelectors().getRouteUIContext(),getMrdParams:()=>s.getRouterSelectors().getMrdParams(),getRouteName:()=>rn(s.getRoute()),getRouteUrl:()=>on(s.getRoute()),getRouteParams:()=>cn(s.getRoute()),getQueryParams:()=>(e=>e.query||{})(s.getRoute()),isMobileRoute:()=>dn(s.getRoute()),isOriginSearchRoute:()=>ln(s.getRoute()),isMessageRoute:()=>En(s.getRoute()),isAttachmentRoute:()=>(e=>e.params&&e.params.attachmentId)(s.getRoute()),isDraftRoute:()=>_n(s.getRoute()),isComposeRoute:()=>un(s.getRoute()),isFolderRoute:()=>pn(s.getRoute()),isValidListMessageGroup:(e,t)=>{const{doesListItemExist:a,getMessageFolderId:n,getMessageIdsFromMessageGroupId:r,isTrashMessageGroup:o,isSpamMessageGroup:i}=s;if(!Object(N.P)(e))return a(e,t);const c=Object(N.m)(e);return c?!(r(t).length<1)&&r(t).some(e=>n(e)===c):!(o(t)||i(t))},getAccountSelectors:t.mailboxes(e).getAccountsSelectors,getUnSubscribeListSelectors:()=>t.unSubscribeList(e),getVideoPlayerSelectors:()=>t.videoPlayers(e),getContactSelectors:()=>t.addressBook(e),getContactListSelectors:()=>t.contacts(e),getRelatedListIdByContactId:s=>{const{name:a,emails:n}=t.contacts(e).getContactById(s);return Object(N.d)({listContentType:T.Db.PEOPLE,referrer:T.Fb.CONTACT_DETAILS,name:a,emailAddresses:n,contactIds:[s]})},getSocialAccountSelectors:()=>t.socialAccounts(e),doesContactIdExist:e=>s.getContactSelectors().doesContactIdExist(e),getContactById:e=>s.getContactSelectors().getContactById(e),getFeatureCueSelectors:()=>t.featureCues(e),getSubjectAndSnippetSelectors:()=>t.subjectsAndSnippets(e),getGifItemsSelectors:()=>t.gifItems(e),getGifCategoriesSelectors:()=>t.gifCategories(e),getLinkEnhancerSelectors:()=>t.linkEnhancer(e),getDownloadsSelectors:()=>t.downloads(e),isQuotedTextExpanded:t.composeSessions(e).isQuotedTextExpanded,getComposeUndoStack:t.composeSessions(e).getUndoStack,getComposeRedoStack:t.composeSessions(e).getRedoStack,getComposeUiState:t.composeSessions(e).getUiState,getMessageFolderId:t.messagesFolderId(e).getFolderId,getFolderHighestModSeq:e=>s.doesFolderIdExist(e)?s.getFoldersSelectors().getFolderHighestModSeq(e):0,doesFolderIdExist:e=>s.getFoldersSelectors().doesFolderIdExist(e),getFolderName:e=>s.getFoldersSelectors().getFolderName(e),getFolderDisplayTypeByFolderId:e=>s.getFoldersSelectors().getFolderDisplayTypeByFolderId(e),getFolderIdsByName:t.folders(e).getFolderIdsByName,getFolderIdsByNameForSelectAccountId:e=>s.getFoldersSelectors().getFolderIdsByNameAndAccountId(e,s.getSelectedAccountId()),getFolderTotal:t.folders(e).getFolderTotal,getPrimaryFolderTypeByFolderId:t.folders(e).getPrimaryFolderTypeByFolderId,isPermDeleteFolderType:t.folders(e).isPermDeleteFolderType,getFolderFullName:a=>{const n=s.getAccountIdByFolderId(a),r=s.getAccountById(n),o=t.folders(e).getFolderPath(a);return r.isPrimary?o:o.substr(o.indexOf("/")+1)},getStaleFolderIds:e=>{const t=Object(f.d)(e);return Object.keys(t).filter(e=>{const a=t[e],n=s.getFolderHighestModSeq(e);return n&&n!==a.highestModSeq})},shouldUpdateFolders:s=>t.folders(e).shouldUpdateFolders(s),isSpamFolder:s=>t.folders(e).isSpamFolder(s),isSpamMessage:e=>Object(i.d)(s.isSpamFolder,s.getMessageFolderId)(e),isTrashFolder:s=>t.folders(e).isTrashFolder(s),isTrashMessage:e=>Object(i.d)(s.isTrashFolder,s.getMessageFolderId)(e),isDraftFolder:s=>t.folders(e).isDraftFolder(s),isDraftMessage:e=>Object(i.d)(s.isDraftFolder,s.getMessageFolderId)(e),isSentFolder:s=>t.folders(e).isSentFolder(s),isSentMessage:e=>Object(i.d)(s.isSentFolder,s.getMessageFolderId)(e),isTrashMessageGroup:e=>s.getMessageIdsFromMessageGroupId(e).filter(e=>!s.isDraftMessage(e)||!s.isSentMessage(e)).every(s.isTrashMessage),isSpamMessageGroup:e=>s.getMessageIdsFromMessageGroupId(e).filter(e=>!s.isDraftMessage(e)||!s.isSentMessage(e)).every(s.isSpamMessage),getParticipant:e=>{const{getFromAddresses:t}=s.getMessagesSelectors(),a=[e].filter(e=>{const s=t(e);return s.length>0&&(s[0].email||s[0].name)}),[n]=a.map(e=>{const a=t(e),n=s.getMessageFlags(e);return{email:a[0].email,name:a[0].name,recent:!n.read}});return n},getRecipients:e=>{const t=s.getMessagesSelectors().getToAddresses(e),a=s.getMessageFlags(e);return t.filter(e=>e.email||e.name).reduce((e,t)=>e.concat({email:t.email,name:t.name,recent:!a.read}),[])},getMessageFromAddress:t.messages(e).getFromAddresses,getMessageToAddress:t.messages(e).getToAddresses,getMessageCcAddress:t.messages(e).getCcAddresses,getMessageBccAddress:t.messages(e).getBccAddresses,getReplyToAddress:t.messages(e).getReplyToAddresses,getMessageDate:t.messages(e).getDate,getMessageFlags:t.messagesFlags(e).getFlags,getMessageSubject:t.subjectsAndSnippets(e).getSubject,getMessageSnippet:t.subjectsAndSnippets(e).getSnippet,getCaptcha:t.messages(e).getCaptcha,getMessageTimeStamp:e=>s.getMessagesSelectors().getTimeStamp(e),getAccountIdByFolderId:s=>t.folders(e).getAccountIdByFolderId(s),doesMessageBodyExist:e=>s.getMessageBodiesSelectors().doesMessageBodyExist(e),isSecureMessage:e=>s.getMessageBodiesSelectors().isSecureMessage(e),doesMessageFullBodyExist:e=>s.getMessageBodiesSelectors().hasFullBody(e),doesMessageBodyHasError:e=>s.getMessageBodiesSelectors().hasError(e),getMessageBody:e=>s.getMessageBodiesSelectors().get(e),getMessageBodyState:e=>s.getMessageBodiesSelectors().getState(e),getMessageBodyRetryCount:e=>s.getMessageBodiesSelectors().getRetryCount(e),getAccountSignaturebyAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSignatureByAccountId(s),getAccountSignaturebyFolderId:e=>s.getAccountSignaturebyAccountId(s.getAccountIdByFolderId(e)),getSignatureByAccountEmail:e=>s.getAccountSelectors().getSignatureByAccountEmail(e),doesMessageIdExist:e=>s.getMessagesSelectors().doesMessageIdExist(e),getMessageCsid:e=>s.getMessagesSelectors().getCsid(e),doesMessageGroupIdExist:e=>s.getMessageGroupsSelectors().doesMessageGroupIdExist(e),getMessageIdsFromMessageGroupId:e=>s.getMessageGroupsSelectors().getMessageIdsFromMessageGroupId(e),getExpansionStateForStreamItem:e=>s.getStreamsSelectors().getExpansionStateForStreamItem(e),getMessageGroupStreamItemsWithExpansionStates:e=>{const t=Ft(s.getMessageGroupStreamItems(e),s),{id:a,listId:n}=e,r=Object(P.b)(n,a);return s.doesStreamExist(r)?t.map(e=>{const t=s.getExpansionStateForStreamItem(e)||e.expansionState;return babelHelpers.extends({},e,{expansionState:t})}):t},isAllCardsExpanded:(e,t)=>{const a={id:t,listId:e},{getMessageGroupStreamItemsWithExpansionStates:n}=s;return n(a).every(({expansionState:e})=>e===T.z.EXPANDED)},getCardConversationIdsFromMessageGroupId:e=>{const t=(s.isFeatureEnabled(T.kb.CONVERSATIONS)?s.getMessagesSelectors().findMessageIdsForConversationId(e):[e]).filter(s.getMessagesSelectors().doesMessageIdExist).map(s.getMessagesSelectors().getCardConversationId).filter(e=>!!e);return o()(t)},getRelevantMessageIdFromMessageGroupId:(e,t)=>{const a=s.getMessageIdsFromMessageGroupId(e)||[],n=Object(N.m)(t),r=a[a.length-1];return[...a].find(e=>s.getMessageFolderId(e)===n)||r},getAccountIdFromMessageGroupId:(e,t)=>Object(i.d)(s.getAccountIdByFolderId,s.getMessageFolderId,s.getRelevantMessageIdFromMessageGroupId)(e,t),getSubjectFromMessageGroupId:(e,t)=>{const a=s.getRelevantMessageIdFromMessageGroupId(e,t);return s.getSubjectAndSnippetSelectors().getSubject(a,t)},getGroupIdContainingMessageId:e=>s.getMessageGroupsSelectors().getGroupIdContainingMessageId(e),getGroupIdContainingAttachmentId:e=>{const t=s.isFeatureEnabled(T.kb.CONVERSATIONS),a=s.getMessageIdForAttachmentId(e);return t?s.doesMessageIdExist(a)?s.getGroupIdContainingMessageId(a):s.getConversationIdByAttachmentId(e):a},getAttachmentIdsByGroupId:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return o()(t.reduce((e,t)=>e.concat(s.getAttachmentIdsByMessageId(t)),[]))},getAttachmentIdIndexInMessage:(e,t)=>s.getAttachmentIdsByMessageId(t).indexOf(e),getAttachmentIdIndexInMessageGroup:(e,t)=>s.getAttachmentIdsByGroupId(t).indexOf(e),getPreviousAttachmentIdForMessageGroup:(e,t)=>{const a=s.getAttachmentIdsByGroupId(t),n=s.getAttachmentIdIndexInMessageGroup(e,t)-1;if(!(n<0))return a[n]},getNextAttachmentIdForMessageGroup:(e,t)=>{const a=s.getAttachmentIdsByGroupId(t),n=s.getAttachmentIdIndexInMessageGroup(e,t)+1;if(!(n>a.length))return a[n]},getPreviousAttachmentIdForMessage:(e,t)=>{const a=s.getAttachmentIdsByMessageId(t),n=s.getAttachmentIdIndexInMessage(e,t)-1;if(!(n<0))return a[n]},getNextAttachmentIdForMessage:(e,t)=>{const a=s.getAttachmentIdsByMessageId(t),n=s.getAttachmentIdIndexInMessage(e,t)+1;if(!(n>a.length))return a[n]},isSingleDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return 1===t.length&&s.isDraftMessage(t[0])},getCsidForSingleDraftGroup:e=>{if(!s.isSingleDraftGroup(e))return;const[t]=s.getMessageIdsFromMessageGroupId(e);return s.getMessageCsid(t)},__patchV2AttachmentId__:(e,t)=>{const{doesMessageIdExist:a,getAttachmentById:n,getMessageIdForAttachmentId:r,getMessageSubject:o}=s,i=r(e);return{partialMessage:{subject:a(i)?o(i,t):void 0},attachment:n(e)}},__patchV2MessageGroupItemId__:(e,t)=>s.__patchV2MessageGroupItem__({id:e},t),__patchV2MessageId__:(e,t)=>gn("__patchV2MessageId__",()=>`${e}-${t}`,[e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageToAttachmentsSelectors(),e=>e.getAttachmentsSelectors(),e=>e.getSubjectsAndSnippetsSelectors()],()=>{const{getMessagesSelectors:a,getFoldersSelectors:n,getAttachmentIdsByMessageId:r,getAttachmentById:o,getMessageSubject:i,getMessageSnippet:c,getMessageFlags:l,getMessageFolderId:d}=s,{__get__:E}=a(),{__get__:_}=n(),u=E(e),p=r(e).map(o).filter(Boolean),m=d(e),h=l(e);return babelHelpers.extends({},u,{id:e,attachments:p,attachmentCount:p.length,folder:_(m),snippet:c(e,t),headers:babelHelpers.extends({},u.headers,{subject:i(e,t)}),flags:h,folderId:m})})(s),__patchV2MessageGroupItem__:(e={},t)=>e.id?gn("__patchV2MessageGroupItem__",()=>`${e.id}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors()],()=>{const{getMessageIdsFromMessageGroupId:a}=s,n=a(e.id);return e.messages=n.map(e=>s.__patchV2MessageId__(e,t)),s.isSingleDraftGroup(e.id)&&(e.messages[0].csid=s.getCsidForSingleDraftGroup(e.id)),e})(s):e,getMessageGroupParticipantsInfo:(e,t)=>gn("getMessageGroupParticipantsInfo",()=>`${e}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],()=>{const{getMessageIdsFromMessageGroupId:a,getAccountSelectors:n,getFoldersSelectors:r,getParticipant:o,getRecipients:i}=s,c=Object(N.m)(t),l=c?r().getPrimaryFolderTypeByFolderId(c):void 0,d=a(e),E=d.reduce((e,t)=>e.concat(i(t)),[]),_=d.reduce((e,t)=>{const{name:s="",email:a=""}=o(t)||{};return e.concat({name:s,email:a})},[]),u=n().getMyAddresses().reduce((e,t)=>(e[t]=!0,e),{});return{senders:l===T.sb.SENT||l===T.sb.DRAFT?Object(M.o)({recipients:E,participants:_,myAddresses:u}):_,myAddresses:u}})(s),getMessageGroupStreamItems:e=>{const{id:t,listId:a}=e,{getMessageCsid:n,getComposeSessionsSelectors:r,getMessageIdsFromMessageGroupId:o,isDraftMessage:i,getFoldersSelectors:c,isSent:l,getMessageTimestamp:d,isFeatureEnabled:E,getMessageFolderId:_}=s,u=E(T.kb.CONVERSATIONS),{getPrimaryFolderTypeByFolderId:p}=c(),{findReplyForwardCsidsOfMessage:m,getDraftMessageId:h}=r(),S=o(t),g=S.filter(e=>i(e)),I=Object(N.Q)(a,{listContentType:T.Db.MESSAGE}),C=Object(P.b)(a,t);if(!u)return S.map(e=>({streamId:C,listId:I,csid:n(e),messageId:e,folderType:p(_(e))}));const A=S.map(e=>({messageId:e,timestamp:d(e)})).sort((e,t)=>e.timestamp-t.timestamp).filter(({messageId:e})=>!i(e)).reduce((e,{messageId:t})=>{const s=p(_(t)),a=n(t),r=m(t).filter(e=>!l(e)).reduce((e,t)=>{const s=h(t);return!s||i(s)?e.concat({streamId:C,listId:I,csid:t,messageId:s,folderType:T.sb.DRAFT}):e},[]);return e.concat({streamId:C,listId:I,csid:a,messageId:t,folderType:s}).concat(r)},[]),O=g.filter(e=>!A.some(t=>t.messageId===e)).map(e=>{const t=n(e);return{streamId:C,listId:I,csid:t,messageId:e,folderType:l(t)?T.sb.SENT:T.sb.DRAFT}});return A.concat(O)},isListRefreshing:(e,t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===T.Td.LIST_TO_UPDATE&&t.id===e&&0===t.syncDefer),getDraftErrors:I.hasInvalidComposeField.bind(I),isSendRequested:t.composeSessions(e).isSendRequested,isSent:t.composeSessions(e).isSent,isComposeSaveDue:({csid:e,lastEditedTimeStamp:t,newContentIds:a=[],removedContentIds:n=[],composeSaveInterval:r})=>{if(!s.isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;r=r||s.getFeaturesSelectors().getSetting(T.id.COMPOSE_SAVE_INTERVAL);const o=s.getComposeSessionsSelectors().getLastSaveTimeStamp(e);return a.length>0||n.length||s.getActionTimeStamp()-o>r&&!(()=>s.getReconciledUnsyncedData().some(t=>t.type===T.Td.COMPOSE&&t.id===e))()},isMessageGroupRequested:e=>s.getReconciledUnsyncedData().some(t=>t.type===T.Td.MESSAGE_ITEM_TO_FETCH&&t.userInputtedValues.messageGroupId===e),isMessageGroupLoading:e=>s.getUnsyncedDataSelectors().getUnsyncedData().some(t=>t.type===T.Td.MESSAGE_ITEM_TO_FETCH&&t.id===e),isSaving:({csid:e},t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===T.Td.COMPOSE&&t.id===e),isGeminiAdLoading:e=>s.getUnsyncedDataToSync().some(t=>t.type===T.Td.GEMINI_AD&&Object(h.e)(t.userInputtedValues.sectionIds).some(t=>t===e)),getLastEditedTimestampForCompose:e=>{const t=s.findUnsyncedDataByCsid(e);if(t)return t.lastEditedTimeStamp},isFreshCompose:e=>{const t=s.findUnsyncedDataByCsid(e);return t?!t.lastEditedTimeStamp:!s.getDraftMessageId(e)},isAsyncTaskPending:()=>gn("isAsyncTaskPending",()=>"isAsyncTaskPending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===T.Td.ASYNC_TASK_STATUS))(s),getAsyncTask:()=>{return s.getReconciledUnsyncedData().find(e=>e.type===T.Td.ASYNC_TASK_STATUS).userInputtedValues},isComposeSessionDirty:({csid:e,lastEditedTimeStamp:t})=>s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}),getLastSaveTimeStampForDraft:e=>s.getComposeSessionsSelectors().getLastSaveTimeStamp(e),getDraftStatus:({csid:a,lastEditedTimeStamp:n})=>{const r=s.getLastSaveTimeStampForDraft(a);return s.isSaving({csid:a})||t.composeSessions(e).getFatalErrorCount(a)?nn.SAVING:n===r?nn.SAVED:void 0},canSendDraft:({csid:e,lastEditedTimeStamp:t,attachmentsInfo:a=[]})=>{const n=s.getDraftMessageId(e);if(!n||!t||s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;const r=s.getAttachmentIdsByMessageId(n).map(s.getContentIdByAttachmentId),o=Object(h.e)(a).some(e=>-1===r.indexOf(e.contentId));return!a.length||!o},findReplyForwardCsidsOfMessage:e=>s.getComposeSessionsSelectors().findReplyForwardCsidsOfMessage(e),doesComposeSessionExist:e=>s.getComposeSessionsSelectors().doesComposeSessionExist(e),getComposeFieldToFocus:e=>s.getComposeSessionsSelectors().getComposeFieldToFocus(e),showUnsyncedDataWarning:()=>{return s.getReconciledUnsyncedData().some(e=>e.type===T.Td.COMPOSE&&s.doesComposeSessionExist(e.id)&&(s.isSendRequested(e.id)||e.userInputtedValues.lastEditedTimeStamp&&s.getLastSaveTimeStampForDraft(e.id)!==e.userInputtedValues.lastEditedTimeStamp)||e.warnOnClose)},findUnsyncedDataByCsid:e=>gn("findUnsyncedDataByCsid",()=>e,[e=>e.getReconciledUnsyncedData()],()=>{const t=s.getReconciledUnsyncedData().find(t=>t.type===T.Td.COMPOSE&&t.id===e);if(t)return t.userInputtedValues})(s),getDraftCardMessage:e=>gn("getDraftCardMessage",()=>e,[t=>(t.findUnsyncedDataByCsid(e)||{}).lastEditedTimeStamp],()=>{const{getFoldersSelectors:t,findUnsyncedDataByCsid:a,getDraftFolderIdByAccountEmail:n}=s,{getFolderTypes:r}=t(),{from:o,to:i,cc:c,bcc:l,subject:d,lastEditedTimeStamp:E,attachmentsInfo:_}=a(e),u=n(o.email),p=Math.floor((E||Date.now())/1e3);return{message:{flags:{read:!0,flagged:!1},folder:{id:u,types:r(u)},headers:{from:[o],to:i,cc:c,bcc:l,subject:d,date:p},attachments:_}}})(s),isAttachmentUploadPendingForComposeSession:e=>{const{getReconciledUnsyncedData:t,getAttachmentByContentId:a}=s;return t().filter(({type:t,id:s,userInputtedValues:{newContentIds:a=[]}={}})=>t===T.Td.COMPOSE&&s===e&&a.length).reduce((e,{userInputtedValues:{newContentIds:t=[]}})=>e.concat(...t),[]).some(e=>!a(e))},doComposeFromRouteQueryParams:e=>s.getComposeSessionsSelectors().doComposeFromRouteQueryParams(e),doComposeFromMailToLink:e=>s.getComposeSessionsSelectors().doComposeFromMailToLink(e),getComposeMailToLink:e=>s.getComposeSessionsSelectors().getMailToLink(e),getStationeryTheme:e=>s.getComposeSessionsSelectors().getStationeryTheme(e),findDraftMessageCsid:e=>s.getComposeSessionsSelectors().findDraftMessageCsid(e),getDraftMessageId:e=>s.getComposeSessionsSelectors().getDraftMessageId(e),getForwardCreativeId:e=>s.getComposeSessionsSelectors().getForwardCreativeId(e),getInForwardToMessageId:e=>s.getComposeSessionsSelectors().getInForwardToMessageId(e),getForwardAttachmentIds:e=>s.getComposeSessionsSelectors().getForwardAttachmentIds(e),isReplyMessage:e=>s.getComposeSessionsSelectors().isReplyMessage(e),isReplyAllMessage:e=>s.getComposeSessionsSelectors().isReplyAllMessage(e),isForwardMessage:e=>s.getComposeSessionsSelectors().isForwardMessage(e),getReplyingToMessageId:e=>s.getComposeSessionsSelectors().getReplyingToMessageId(e),isReplyOrReplyAll:e=>s.isReplyMessage(e)||s.isReplyAllMessage(e),getAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).map(s.getAttachmentById),getAttachmentCountByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).length,hasNonInlineAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).some(s.isNonInlineAttachmentById),hasFailedComposeSend:()=>{const{getReconciledUnsyncedData:e,getComposeSessionsSelectors:t}=s,{isSendFailed:a}=t();return e().some(({type:e,id:t})=>e===T.Td.COMPOSE&&a(t))},getSelectedMailboxId:t.mailboxes(e).getSelectedMailboxId,getMailboxSize:t.mailboxes(e).getMailboxSize,getCurrentListId:()=>Object(N.t)(s.getRoute()),getFolderIdsFromListId:s=>{const{folderIds:a=[],folderNames:n=[]}=Object(N.n)(s),{getFolderIdsByName:r,doesFolderIdExist:o}=t.folders(e);return n.reduce((e,t)=>e.concat(r(t)),[]).concat(a).filter(o)},isSearchInputFocused:()=>qs(e).isSearchInputFocused(),getSearchSuggestions:t.searchSuggestions(e).getSuggestions,getComposeSuggestions:s=>{const a=t.addressBook(e).getContactBlackList(),n=t.composeSuggestions(e).getSuggestions(s)||[];return a.length?n.filter(e=>!a.find(t=>t.email===e.email)):n},getComposeSuggestionsFromImportantsByQuery:({query:e,contextEmail:t})=>{e=e.trim().toLocaleLowerCase();const{getImportantContacts:a}=s;return a(t).filter(({email:t,contact:{name:s}})=>s.toLocaleLowerCase().split(" ").find(t=>0===t.indexOf(e))||t.slice(0,t.indexOf("@")).toLocaleLowerCase().split(".").find(t=>0===t.indexOf(e))).map(({email:e,contact:{name:t,id:s}})=>({name:t,email:e,id:s})).slice(0,T.Ib)},getImportantContacts:e=>{const{getListsSelectors:t,getContactListSelectors:a}=s,{getImportantContactEmailsByContextEmail:n}=t(),{getContactIdByEmail:r,getContactById:o}=a();return n(e).map(e=>{const t=r(e);return{email:e,contact:o(t)}})},getCurrentGroupId:()=>s.getRoute().params.groupId,getFolderIdsForSelectedAccount:e=>s.getFolderIdsByFolderTypeForAccount(e,s.getSelectedAccountId()),getDefaultFolderIdForSelectedAccount:()=>s.getFolderIdsForSelectedAccount(T.sb.INBOX)[0],getDefaultFolderIdForAccount:e=>s.getFolderIdsByFolderTypeForAccount(T.sb.INBOX,e)[0],getFolderIdsByFolderTypeForAccount:(s,a)=>t.folders(e).getFolderIdsFromFolderType(s,a),getAccountById:s=>t.mailboxes(e).getAccountsSelectors().getAccountById(s),getSendAccountsByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSendAccountsByAccountId(s),getProviderFromAccount:s=>t.mailboxes(e).getAccountsSelectors().getProviderFromAccount(s),getAccountDescriptionByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getAccountDescriptionByAccountId(s),getSelectedAccountId:()=>{const{getAccountById:e,getPrimaryAccountId:t}=s.getAccountSelectors(),a=s.getSelectedAccountIdByRoute(s.getRoute());return e(a)?a:t()},getSendingAccountId:()=>t.mailboxes(e).getAccountsSelectors().getSendingAccountId(),getSelectedAccountIdByRoute:e=>{const t=Object(N.t)(e),a=t?Object(N.g)(t):[];if(1===a.length)return a[0];let n=Object(N.m)(t);const r=void 0!==e.params?e.params.csid:void 0,{doesComposeSessionExist:o,getDraftMessageId:i,getReplyingToMessageId:c,getMessageFolderId:l,doesFolderIdExist:d,getAccountIdByFolderId:E,getFolderPageRoute:_,getCursorItem:u,doesStreamExist:p,doesMessageGroupIdExist:m,getMainStreamListIds:h,getAccountIdFromMessageGroupId:S,getDefaultSetting:g}=s;if(!n&&r&&o(r)){const e=i(r)||c(r);n=e?l(e):void 0}if(on(e)&&En(e)&&m(e.params.groupId))return S(e.params.groupId,t);if(on(e)&&ln(e)&&g(T.id.PREVIEW_PANE)!==T.Bc.NO){const s=h(e),a=Object(P.a)(s),r=p(a)?u(a):void 0;if(r){if(r.id&&"MESSAGES"===Object(N.q)(r.listId)&&m(r.id))return S(r.id,t);if(r.csid){const e=i(r.csid)||c(r.csid);n=e?l(e):void 0}}}if(n&&d(n))return E(n);if(!n){const e=_();if(e){const t=Object(N.t)(e);return E(Object(N.m)(t))}}return s.getAccountSelectors().getSelectedAccountId()},doesSelectedAccountExist:()=>s.getAccountSelectors().doesSelectedAccountExist(),getAccountNameByAccountId:e=>s.getAccountSelectors().getAccountNameByAccountId(e),hasAccountWithEmail:t.mailboxes(e).getAccountsSelectors().hasAccountWithEmail,getAccountIdByAccountEmail:s=>t.mailboxes(e).getAccountsSelectors().getAccountIdByAccountEmail(s),getEmailOfSelectedAccount:()=>t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId(s.getSelectedAccountId()),isFolderExpanded:e=>{return-1!==s.getSetting(T.id.EXPANDED_FOLDERS).indexOf(e)},getAttachmentById:e=>s.getAttachmentsSelectors().getAttachmentById(e),getContentIdByAttachmentId:e=>s.getAttachmentsSelectors().getContentIdByAttachmentId(e),getConversationIdByAttachmentId:e=>s.getAttachmentsSelectors().getConversationIdByAttachmentId(e),getMimetypeByAttachmentId:e=>s.getAttachmentsSelectors().getMimetypeByAttachmentId(e),getAttachmentTypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentTypeByAttachmentId(e),getAttachmentSubtypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentSubtypeByAttachmentId(e),getSizeByAttachmentId:e=>s.getAttachmentsSelectors().getSizeByAttachmentId(e),doesAttachmentExistById:e=>s.getAttachmentsSelectors().doesAttachmentExistById(e),getDocumentIdByAttachmentId:e=>s.getAttachmentsSelectors().getDocumentIdByAttachmentId(e),getAttachmentIdByDocumentId:e=>s.getAttachmentsSelectors().getAttachmentIdByDocumentId(e),getAttachmentMessageReferenceByContentId:e=>s.getAttachmentsSelectors().getMessageReferenceByContentId(e),getAttachmentByContentId:e=>s.getAttachmentsSelectors().getByContentId(e),isInlineAttachmentById:e=>s.getAttachmentsSelectors().isInlineAttachmentById(e),isNonInlineAttachmentById:e=>s.getAttachmentsSelectors().isNonInlineAttachmentById(e),didAttachmentUploadFail:e=>s.getAttachmentsSelectors().hasError(e),getAttachmentIdsByMessageId:t.messageToAttachments(e).attachmentsByMessageId,getAttachmentDownloadAllUrlByMessageId:e=>s.getMessagesSelectors().getDownloadAllUrl(e),getMessageIdForAttachmentId:t.messageToAttachments(e).getMessageIdForAttachmentId,getPaymentSelectors:()=>t.payments(e),getAliasSuggestions:t.mailboxes(e).getAliasSuggestions,getAliasSuggestionStatus:t.mailboxes(e).getAliasSuggestionStatus,getSocialAccountsStatus:t.mailboxes(e).getSocialAccountsStatus,getAllAccounts:t.mailboxes(e).getAccountsSelectors().getAllAccounts,getAccountsForSearch:()=>gn("getAccountsForSearch",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getAllAccounts().filter(e=>e.status===T.f.ENABLED&&e.accountVerified&&e.type&&T.dd.indexOf(e.type)>-1))(s),getExpiredAccounts:()=>gn("getExpiredAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getExpiredAccounts())(s),getAlertIdByAccountId:t.mailboxes(e).getAlertIdByAccountId,getRootAccounts:()=>gn("getRootAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getRootAccounts())(s),getRootAccountsWithDefaultFolder:()=>gn("getRootAccountsWithDefaultFolder",()=>"accounts",[e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],(e,t)=>{const s=e.getAccountsSelectors().getRootAccounts(),{doesFolderIdExist:a,getFolderUnreadCount:n,getFolderIdsFromFolderType:r}=t;return s.map(e=>{const t=r(T.sb.INBOX,e.id)[0];return babelHelpers.extends({},e,{defaultFolder:{id:t,unread:a(t)?n(t):0}})})})(s),getFoldersForMoveMenu:()=>gn("getFoldersForMoveMenu",()=>"folders",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getFoldersSelectors()],(e,t,s)=>{const{getCustomFolderList:a,getSystemFolderList:n}=s,r=Object(N.t)(e),o=Object(N.m)(r),i=o?[o]:[];function c(e,{assignShortcuts:t=!1,disabledFolderIds:s=[]}){const a=[];if(e.forEach(e=>{const t=e.type,n=babelHelpers.extends({},e,{disabled:-1!==s.indexOf(e.id)});t===T.sb.INBOX&&(n.shortcut=0),a.push(n)}),t){let e=0;for(let t=0;e<9&&a[t];t++)a[t].type!==T.sb.INBOX&&(a[t].shortcut=++e)}return a}const l=a(t),d=n(t).filter(({type:e})=>-1===[T.sb.DRAFT,T.sb.SENT].indexOf(e));return{customFolders:c(l,{assignShortcuts:!0,disabledFolderIds:i}),systemFolders:c(d,{disabledFolderIds:i})}})(s),getAliasAccounts:t.mailboxes(e).getAccountsSelectors().getAliasAccounts,hasMultipleRootAccounts:t.mailboxes(e).getAccountsSelectors().hasMultipleRootAccounts,isMyEmailAddress:t.mailboxes(e).getAccountsSelectors().isMyEmailAddress,getMyAddresses:()=>s.getAccountSelectors().getMyAddresses(),__patchV2MyAddresses__:()=>s.getMyAddresses().reduce((e,t)=>babelHelpers.extends({},e,{[t]:!0}),{}),getMailboxesSelectors:()=>t.mailboxes(e),getSettingsSelectors:()=>t.settings(e),getComposeAttributesSelectors:()=>t.composeAttributesStatus(e),getDraftFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(T.sb.DRAFT,s)[0],getSelectedAccountIdByAccountEmail:e=>{let t;return t=s.getAccountSelectors().isPrimaryAccountEmail(e)?s.getAccountIdByAccountEmail(e):s.getSelectedAccountId()},getDraftFolderIdByAccountEmail:e=>s.getDraftFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),getSendFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(T.sb.SENT,s)[0],getInboxFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(T.sb.INBOX,s)[0],getSendFolderIdByAccountEmail:e=>s.getSendFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),__isPermDeleteMessage:e=>{const{getMessageFolderId:t,isPermDeleteFolderType:a}=s;return a(t(e))},__getLastNonDraftMessageIdByGroupId:e=>{const{getMessageIdsFromMessageGroupId:t}=s,a=t(e).filter(e=>!s.isDraftMessage(e));return a[a.length-1]},__getMessage:e=>s.getMessagesSelectors().__getMessage(e),__getMessageWithFlagsAndFolderId:e=>{const{getMessagesSelectors:t,getMessageFlags:a,getMessageFolderId:n}=s,r=t().__getMessage(e);return babelHelpers.extends({},r,{flags:a(e),folderId:n(e)})},__getOriginalMessageGroupSender:e=>{let t;if(s.doesMessageGroupIdExist(e)){const a=s.getMessageIdsFromMessageGroupId(e),[n]=a,r=s.getMessageFromAddress(n),[o]=r;t=o}return t},__getFolderIdMapFromFolderType(e,t){const{getMessageFolderId:a,getAccountIdByFolderId:n,getFolderIdsByFolderTypeForAccount:r}=s,o={};return e.forEach(e=>{const s=r(t,(e=>n(a(e)))(e)),[i]=s;o.hasOwnProperty(i)||(o[i]=[]),o[i].push(e)}),o},getCalendarSelectors:()=>t.calendar(e),getSubscriptionSelectors:()=>t.subscription(e),getEnvironmentSelectors:()=>t.environment(e),getWindowDimensions:()=>s.getEnvironmentSelectors().getWindowDimensions(),getMainContentWidth:()=>{const{isNarrowScreen:e,getRightRailPanes:t}=s,a=e()?m.RIGHT_RAIL_NARROW_WIDTH:m.RIGHT_RAIL_WIDTH,n=t().length?Number(a.substring(0,a.length-2)):0;return s.getWindowDimensions().contentAndRightRailWidth-n},getIsXobnified:()=>s.getEnvironmentSelectors().getIsXobnified(),isAMT:()=>s.getEnvironmentSelectors().isAMT(),isAppVisible:()=>s.getEnvironmentSelectors().isAppVisible(),getApplicationLastVisibleTimeStamp:()=>s.getEnvironmentSelectors().getApplicationLastVisibleTimeStamp(),isComposeApp:()=>s.getEnvironmentSelectors().isComposeApp(),getBuildRefreshStatus:()=>s.getEnvironmentSelectors().getBuildRefreshStatus(),getTimeZoneName:()=>s.getEnvironmentSelectors().getTimeZoneName(),getIsInternalIP:()=>gn("getIsInternalIP",()=>"getIsInternalIP",[e=>e.getEnvironmentSelectors()],()=>s.getEnvironmentSelectors().getIsInternalIP())(s),isNarrowScreen:()=>gn("isNarrowScreen",()=>"isNarrowScreen",[e=>e],()=>(e=>{const{getWindowDimensions:t,getSetting:s}=e,a=s(T.id.PREVIEW_PANE)===T.Bc.RIGHT,n=t();let r=Object(h.a)(n,"innerWidth",0);return!r&&Object(Ke.b)()&&window.innerWidth&&(r=window.innerWidth),!!r&&(!a&&r<m.NARROW_SCREEN_WIDTH||a&&r<m.WIDE_SCREEN_WIDTH)})(s))(s),isMessageDeliveredToSpamFolder:a=>{const n=s.getMessagesSelectors().getFolderOfDelivery(a);return!!n&&t.folders(e).isSpamFolder(n)},shouldShowSpamAttachmentWarning:e=>!s.isSpamMessage(e)&&s.isMessageDeliveredToSpamFolder(e),getLaunchError:t.launchError(e).getLaunchErrorType,getLocationSuggestionSelectors:()=>t.locationSuggestions(e),getTravelCardListItems:(e,t,a)=>(function(e,t,s,a){const n=[],{getMessagesSelectors:r,getFlightsSelectors:o,getListsSelectors:i,getCardGroupsSelectors:c,getCardMessageToSchemasSelectors:l}=e,{getItemIds:d}=i().getItemIdsSelectors(t),{getConversationId:E}=r(),{getMessageIdsFromCardGroupId:_,getMostRecentEmailId:u}=c(),{getSchemas:p}=l(),m=Object(N.r)(t),h=Object(N.D)(t);switch(d().forEach(e=>{const r=_(e),i=u(e),c=s?E(i):i;r.forEach(s=>{p(s).forEach(({id:s,type:r})=>{if(r===T.Zc.FlightReservation){const{getCardDate:i,isEligibleCardForFilter:l}=o(),d=i(s);l(s,m,a)&&n.push({id:s,type:r,listId:t,cardConversationId:e,groupId:c,cardDate:d,timestamp:d})}})})}),h){case T.wd.CARD_DATE_ASC:n.sort((e,t)=>e.cardDate-t.cardDate);break;case T.wd.CARD_DATE_DESC:n.sort((e,t)=>t.cardDate-e.cardDate)}return n})(s,e,t,a),getReceiptCardListItems:(e,t)=>(function(e,t,s){const a=[],{getMessagesSelectors:n,getCardMessageToSchemasSelectors:r,getListsSelectors:o,getReceiptSelectors:i}=e,{getCardConversationId:c,getParentMessageIdForCardConversationId:l,getParentConversationIdForCardConversationId:d}=n(),{getSchemas:E}=r(),{getItemIdsSelectors:_}=o(),{getPrice:u,getFirstItemName:p,getOrderDate:m,getNumItems:h,getCurrency:S}=i(),g=_(t).getItemIds(),I=Object(N.D)(t);switch(g.forEach(e=>{const n=E(e).filter(e=>e.type===T.Zc.Order);if(1===n.length){const r=c(e),o=n[0].id,i=u(o),E=p(o),_=m(o),g=h(o),I=S(o),C=d(r),A=l(r);a.push({id:o,type:T.Zc.Order,listId:t,schemaId:o,cardMid:e,price:i,itemName:E,numItems:g,currency:I,orderDate:_,conversationId:C,messageId:A,hasConv:s,timestamp:new Date(_).getTime()})}}),I){case T.wd.DATE_ASC:a.sort((e,t)=>e.timestamp-t.timestamp);break;case T.wd.DATE_DESC:a.sort((e,t)=>t.timestamp-e.timestamp)}return a})(s,e,t),getCurrentSpaceId:()=>Object(Pt.b)(e).spaceId,getAvailableSortOrders:()=>{const{getFoldersSelectors:e,getCurrentListId:t,getRoute:a,isFeatureEnabled:n}=s,r=t(),o=Object(N.m)(r),i=o?e().getPrimaryFolderTypeByFolderId(o):void 0,c=n(T.kb.CONVERSATIONS);return((e,t,s,a)=>{const n=a?Object(N.q)(a):T.Db.MESSAGES;switch(e.name){case T.Pc.SEARCH:return n===T.Db.IMAGES||n===T.Db.DOCUMENTS?kt:Ht;default:return t===T.sb.DRAFT?Gt:s?wt:Ut}})(a(),i,c,r)},shouldEnableGroupActions:e=>{const{getCursorItem:t,doesStreamExist:a,hasSelectedStreamItems:n}=s,r=a(e)?t(e):void 0,o=!!a(e)&&n(e);return!(!r||o)},shouldEnableTriageActions:e=>{const{getCursorItem:t,doesStreamExist:a,getSelectedStreamItems:n}=s,r=a(e)?t(e):void 0,o=a(e)?n(e):[];return!!(r||o.length>0)},canShowToolbarItem:e=>{const{getSetting:t,isAllCardsExpanded:a,getMessageIdsFromMessageGroupId:n,shouldEnableGroupActions:r,doesStreamExist:o,getCursorItem:i,getFoldersSelectors:c,getCurrentListId:l}=s,d=t(T.id.PREVIEW_PANE),E=o(e)?i(e):void 0,_=E?E.id:void 0,u=!!E&&a(E.listId,_),p=n(_),m=Object(N.m)(l());return((e,t,s,a,n)=>r=>{let o;const i=Boolean(e),c=e===T.sb.TRASH,l=e===T.sb.ARCHIVE,d=e===T.sb.BULK,E=e===T.sb.DRAFT,_=s!==T.Bc.NO&&t&&n.length>1;switch(r){case"archive":o=!i||!l&&!d&&!c;break;case"restore":o=l||d||c;break;case"spam":o=!d;break;case"ham":o=d;break;case"raf":o=s!==T.Bc.NO&&(!i||!d&&!E);break;case"expandAll":o=_&&!1===a;break;case"collapseAll":o=_&&!0===a;break;default:o=!0}return o})(m?c().getPrimaryFolderTypeByFolderId(m):void 0,r(e),d,u,p)},canEnableToolbarItem:e=>{const{shouldEnableGroupActions:t,shouldEnableTriageActions:a,getFoldersSelectors:n,getCurrentListId:r}=s,o=t(e),i=a(e),c=Object(N.m)(r());return((e,t,s)=>a=>{let n;const r=e===T.sb.DRAFT,o=e===T.sb.SENT;switch(a){case"archive":case"move":n=!r||!t;break;case"spam":n=!r&&!o||!t;break;case"ham":n=!r&&!o;break;case"raf":n=s;break;case"more":n=t;break;default:n=!0}return n})(c?n().getPrimaryFolderTypeByFolderId(c):void 0,i,o)},doesComposeHaveFatalError:a=>t.composeSessions(e).getFatalErrorCount(a)>=s.getSetting(T.id.COMPOSE_THROTTLE_COUNT),isLoadingGeminiAsset:e=>s.getReconciledUnsyncedData().some(t=>t.type===T.Td.GEMINI_AD_ASSET&&t.userInputtedValues.creativeId===e),getStreamItemInFocus:()=>{const{doesStreamExist:e,getCursorItem:t,getMessageGroupsSelectors:a,getRoute:n,getComposeSessionsSelectors:r,getMessageGroupStreamItemsWithExpansionStates:o,getGroupId:i}=s,{doesMessageGroupIdExist:c}=a(),{doesComposeSessionExist:l}=r(),d=n(),E=Object(N.t)(d),_=i(),u=_&&c(_)?Object(P.b)(E,_):void 0;let p=e(u)?t(u):void 0;if(!p||Object(N.q)(p.listId)===T.Db.COMPOSE&&!l(p.id)){const e=Object(N.Q)(E,{listContentType:T.Db.MESSAGE}),t=_&&c(_)?o({id:_,listId:e}):[];p=t.filter(e=>e.expansionState===T.z.EXPANDED).slice(-1)[0]||t.slice(-1)[0]}return p},getGroupIdInPreviewPane:()=>{const{getRoute:e,doesStreamExist:t,getCursorItem:a,getMessageGroupsSelectors:n,getMainStreamListIds:r,getSelectedStreamItems:o}=s,{doesMessageGroupIdExist:i}=n(),c=r(e()),l=Object(P.a)(c),d=t(l)?o(l).length:0,E=t(l)?a(l):void 0;return 0===d&&E&&i(E.id)?E.id:null},getGroupId:()=>{const{getRoute:e,getGroupIdInPreviewPane:t,getSetting:a}=s,n=cn(e())||{};return a(T.id.PREVIEW_PANE)===T.Bc.NO||n.groupId?n.groupId:t()},getMainStreamListIds:e=>{const{isFeatureEnabled:t}=s,a=Object(N.t)(e),n=[a],r=Object(N.q)(a);if(dn(e))return n;switch(r){case T.Db.COUPON_CARDS:return Object(N.r)(a)===T.Eb.ALL_COUPON_CARDS&&(t(T.kb.DEALS_VIEW_V2)?e.name!==T.Pc.SEARCH&&n.unshift(Object(N.e)({referrer:T.Fb.TOP_COUPONS})):n.unshift(Object(N.Q)(a,{listFilter:T.Eb.SAVED_COUPON_CARDS,referrer:T.rd.COUPONS}))),n;case T.Db.GROCERY_STORES:return n.push(Object(N.Q)(a,{listFilter:T.Eb.UNLINKED_GROCERY_STORES})),n}return n},getMainStreamItems:t=>{const{getListsSelectors:a,getTravelCardListItems:n,getReceiptCardListItems:r,getEnvironmentSelectors:o,getMessageListItems:i,getAttachmentListItems:c,isFeatureEnabled:l,doesListExist:d,getMainStreamListIds:E}=s,_=Object(N.t)(t),{hasMoreItems:u,getListStatus:p}=a(),{getTimeZoneName:h}=o(),S=l(T.kb.CONVERSATIONS),g=Object(N.q)(_),I=ft({timezone:h(),now:Object(D.i)()});let C=[];if(!d(_))return C;const A=E(t);switch(g){case T.Db.TRAVEL_CARDS:{const e=Date.now(),t=Nt({timezone:h(),now:Object(D.i)()}),s=Object(N.r)(_)===T.Eb.TRAVEL_VIEW_UPCOMING?t:I,a=n(_,S,e);C=Lt(Mt(a,s));break}case T.Db.COUPON_CARDS:{const t=A.filter(e=>d(e)).reduce((e,t)=>e===T.Mc.LOADING||e===T.Mc.ERROR?e:p(t),T.Mc.DOES_NOT_EXIST);C=Object(Dt.b)(e,A,t);break}case T.Db.GROCERY_STORES:{const t=A.filter(e=>d(e)).reduce((e,t)=>e===T.Mc.LOADING||e===T.Mc.ERROR?e:p(t),T.Mc.DOES_NOT_EXIST);C=function(e,t,s){const{getRetailersSelectors:a,getListsSelectors:n,getMainContentWidth:r}=An(e),{getRetailerStreamItems:o}=a(),{doesListExist:i}=n();if(s!==T.Mc.DOES_NOT_EXIST){const e=r();let s=0;const a=t.filter(e=>Object(N.q)(e)===T.Db.GROCERY_STORES&&i(e)).map(t=>{const a=o(t);return Object(Ct.c)(a,m.RETAILERS_LIST_ITEM_WIDTH,e).reduce(function(e,a){const n={id:s++,listId:t,retailers:a};return e.push(n),e},[])});if(a&&a.length){const e=a[0]&&a[0].length?T.Db.GROCERY_STORES_SEPARATOR:T.Db.ZERO_SAVED_GROCERY_STORES;(e===T.Db.GROCERY_STORES_SEPARATOR||a[1]&&a[1].length)&&a.splice(0,0,[{listId:Object(N.Q)(t[0],{listContentType:e}),id:s++,linked:!0}]);const n=a.length-1;a[n]&&a[n].length&&a.splice(n,0,[{listId:Object(N.Q)(t[1],{listContentType:T.Db.GROCERY_STORES_SEPARATOR}),id:s++,linked:!1}])}return a.reduce((e,t)=>e.concat(t),[])}return[]}(e,A,t);break}case T.Db.OFFER_CARDS:{const t=Object(N.r)(_);C=function(e,t,s,a){const{getActivatedOffersSelectors:n,getOffersSelectors:r,getMainContentWidth:o}=An(e),{getOfferStreamItems:i}=r(),{getActivatedOfferStreamItems:c}=n();if(s!==T.Mc.DOES_NOT_EXIST){const e=a===T.Eb.ACTIVATED_OFFER_CARDS?c(t):i(t),s=Object(Ct.c)(e,m.OFFER_CARD_ITEM_WIDTH,o()).reduce(function(e,s,a){const n={};return n.offers=s,n.id=a+1,n.listId=t,e.push(n),e},[]);return a===T.Eb.RECOMMENDED_OFFER_CARDS&&s&&s.length&&s.splice(0,0,{listId:Object(N.Q)(t,{listContentType:T.Db.SINGLE_STORE_SEPARATOR}),id:0}),s}return[]}(e,_,p(_),t);break}case T.Db.REFUND_CARDS:{const e=r(_,S);(C=Lt(Mt(e,I))).length&&(C[C.length-1].isLastItemInGroup=!0);break}case T.Db.YAHOO_DEAL_CARDS:C=Object(xt.b)(e,_,p(_));break;case T.Db.MESSAGES:{const e=Object(N.D)(_),t=i(_);C=[...t.length>=4&&-1!==[T.wd.DATE_DESC,T.wd.DATE_ASC].indexOf(e)?Lt(Mt(t,I)):t];break}case T.Db.IMAGES:case T.Db.DOCUMENTS:{const e=Object(N.D)(_),t=c(_);C=[...t.length>=4&&-1!==[T.wd.DATE_DESC,T.wd.DATE_ASC].indexOf(e)?Lt(Mt(t,I)):t];break}}return A.some(e=>d(e)&&u(e))&&(C=[...C,{id:T.Db.LOAD_MORE,listId:Object(N.f)({listContentType:T.Db.LOAD_MORE})}]),C},getContactListItems:e=>{const{getListsSelectors:t,getStreamsSelectors:a}=s,{getItemIdsSelectors:n,getTotalHits:r,doesListExist:o}=t();if(!o(e))return[];const{doesStreamExist:i,getExpansionStateForStreamItem:c}=a(),l=n(e).getItemIds(),d=l.length>1,E=i(e);return Object(R.c)(l.map(t=>{const s=d?[{id:t+"separator",listId:t,type:T.Db.CONTACTS_SEPARATOR}]:[],a=n(t).getItemIds().map(e=>({id:e,listId:t,type:T.Db.CONTACTS})),o=r(t);let i=a;if(d&&o>T.Hb){i=[...a.slice(0,T.Hb),{id:t+"loader",listId:t,type:T.Db.EXPAND_COLLAPSE_CONTACTS}],E&&!!c({streamId:e,listId:e,csid:t})&&(i=[...i,...a.slice(T.Hb),...Object(R.d)(o-a.length).map(e=>({id:t+"loading"+e,listId:t,type:T.Db.LOADING_INDICATOR}))])}return[...s,...i]}))},doesStreamExist:e=>s.getStreamsSelectors().doesStreamExist(e),getStreamSelectionType:e=>s.getStreamsSelectors().getSelectionType(e),getCursor:e=>{const{getCursorSelectors:t}=s.getStreamsSelectors();return t(e).getCursor()},getCursorItem:e=>{const{getCursorSelectors:t}=s.getStreamsSelectors();return t(e).getCursorItem()},hasSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=s.getStreamsSelectors();return s.getStreamSelectionType(e)!==T.gd.NONE||t(e).hasSelectedItems()},getSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=s.getStreamsSelectors();if(s.getStreamSelectionType(e)!==T.gd.NONE){return s.getMainStreamItems(s.getRoute()).filter(t=>yt(t,e,s)).map(({id:e,listId:t})=>({id:e,listId:t}))}return t(e).getSelectedItems()},isStreamItemSelected:(e,t)=>{const{getSelectedItemsSelectors:a}=s.getStreamsSelectors();return s.getStreamSelectionType(e)!==T.gd.NONE?yt(t,e,s):a(e).isItemSelected(t)},getParticipantInFocus:()=>{const{getMessagesSelectors:e,getMessageGroupsSelectors:t,getStreamItemInFocus:a,getParticipant:n,getGroupId:r}=s,{doesMessageIdExist:o}=e(),{doesMessageGroupIdExist:i,getMessageIdsFromMessageGroupId:c}=t(),l=a()||{},d=l.id||l.messageId,E=r();if(l&&o(d))return n(d);const _=i(E)?c(E):[],u=_[_.length-1];return o(u)?n(u):null},getImportantContactsSelectors:()=>t.importantContacts(e),getComposeSuggestionSelectors:()=>t.composeSuggestions(e),getRecentSearchesSelectors:()=>t.recentSearches(e),getSenderEmailIdsFromMessageGroup:e=>{const t={},a=s.getAccountSelectors().getMyAddresses();return e.forEach(e=>{s.doesMessageGroupIdExist(e)&&s.getMessageIdsFromMessageGroupId(e).forEach(e=>{const n=s.getMessageFromAddress(e)[0];n&&n.email&&-1===a.indexOf(n.email)&&(t[n.email]=!0)})}),Object.keys(t)},getAdSectionIds:()=>{const{getRoute:e,isFeatureEnabled:t,getSetting:a,getAction:n,getAdsSelectors:r}=s,{getSponsoredMomentData:o}=r(),{type:i}=n(),c=rn(e()),l=a(T.id.GEMINI_SECTION_IDS),d=a(T.id.PREFERRED_AD_FORMAT),E=t(T.kb.SPONSORED_MOMENT)&&o()&&d!==S.PENCIL_AD,_=[];switch(i){case A.a.COUPON_RECOMMENDATIONS_OPENED:if(t(T.kb.COUPON_REC_WITH_ADS))return{[T.tb.COUPON_REC]:l[T.tb.COUPON_REC]};break;case A.a.HIDE_RIGHT_PANE_ADS:if(t(T.kb.RIGHT_RAIL_UPSELL_VIDEO_AD))return{[T.tb.RIGHT_RAIL_UPSELL]:l[T.tb.RIGHT_RAIL_UPSELL]}}switch(c){case T.Pc.BASE:case T.Pc.FOLDER:case T.Pc.SEARCH:E?_.push(T.tb.MESSAGE_LIST_SM):(_.push(T.tb.MESSAGE_LIST),t(T.kb.SECOND_PENCIL_AD)&&_.push(T.tb.MESSAGE_LIST_2));break;case T.Pc.MESSAGE_FROM_FOLDER_LIST:case T.Pc.MESSAGE_FROM_SEARCH_LIST:case T.Pc.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:case T.Pc.MESSAGE_FROM_LIST:t(T.kb.SHOPPING_CART_AD)&&_.push(T.tb.SHOPPING_CART),E||(t(T.kb.MESSAGE_READ_AD_CAROUSEL)?_.push(T.tb.MESSAGE_READ_CAROUSEL):_.push(T.tb.MESSAGE_READ)),t(T.kb.SUBSCRIPTION_ADS)&&_.push(T.tb.SUBSCRIPTION)}return _.reduce((e,t)=>(l[t]&&(e[t]=l[t]),e),{})},isPeopleMessage:(e,t)=>{const{getMessagesSelectors:a,getRelevantMessageIdFromMessageGroupId:n,isPeopleSmartViewEnabled:r}=s;if(!r())return!1;const{getDecos:o}=a();return!!o(n(e,t)).find(({id:e})=>e===T.W[T.td.PEOPLE])},isPeopleSmartViewEnabled(){const{isFeatureEnabled:e}=s,{SMARTVIEW_CATEGORIES_ALL:t,SMARTVIEW_CATEGORIES_PEOPLE:a,SMARTVIEW_CATEGORIES_PEOPLE_V2:n}=T.kb;return e(t)||e(a)||e(n)},isMessageReadAdRotationActive:()=>{const{getFeaturesSelectors:e,getStreamItemInFocus:t,getEnvironmentSelectors:a,getRoute:n,doesStreamExist:r,getCursorItem:o}=s,{isEnabled:i,getSetting:c}=e(),l=a().isAppVisible(),d=i(T.kb.MESSAGE_READ_AD_ROTATION),E=i(T.kb.HIDE_RIGHT_RAIL),_=c(T.id.PREVIEW_PANE)!==T.Bc.NO,u=n(),p=Object(N.t)(u),m=t(),h=!(!m||!m.listId)&&Object(N.q)(m.listId)===T.Db.MESSAGE;let S=u.name===T.Pc.MESSAGE_FROM_SEARCH_LIST||u.name===T.Pc.MESSAGE_FROM_FOLDER_LIST;if(_){const e=Object(P.a)([p]);S=!!(r(e)?o(e):null)}return d&&!E&&l&&S&&h},getVideoChannelsMetaData(){const{getVideoPlayerSelectors:e}=s;return e().getChannelMetaData()},getAutotagSuggestions(e){const t=s.getComposeSessionsSelectors().getLastAutotagQuery(e);return s.getComposeSuggestions(t).slice(0,3)},couldShowEmptyFolderVideo(){const{getRoute:e,getMainStreamListIds:t,isListUpdatedAndEmpty:a}=s,n=e();return!t(n).some(e=>!(Object(N.q)(e)===T.Db.MESSAGES&&a(e)&&(n.name===T.Pc.FOLDER||Object(N.K)(e)&&!Object(y.e)(e)&&n.name!==T.Pc.MESSAGE_FROM_SEARCH_LIST)&&!Object(N.J)(n)))},isListUpdatedAndEmpty(e){const{getMessageListItems:t,isListStale:a,doesListHasMoreItems:n,doesListExist:r,getAction:o}=s,{route:i,previousRoute:c}=o();return!!r(e)&&(0===t(e).length&&!n(e)&&(Object(L.A)(i,c)||!a(e)))},shouldShowAdBlockCoupons(e=!1){const{isFeatureEnabled:t,getAdsSelectors:a,getRouteName:n,getCurrentListId:r,getActionableRightRailPane:o}=s,{isAdBlocked:i}=a(),c=n(),l=r(),d=Object(N.x)(l);return t(T.kb.AD_BLOCK_COUPONS)&&!t(T.kb.HIDE_RIGHT_RAIL)&&!o()&&(i()||e)&&(c===T.Pc.FOLDER||c===T.Pc.LIST||c===T.Pc.SEARCH&&(d===T.rd[T.td.UNREAD]||d===T.rd[T.td.STARRED]))},hasMatchingDomainInMessageGroup:e=>{const{getGroupId:t,getSenderEmailIdsFromMessageGroup:a}=s;return a([t()]).some(t=>!!e[Object(O.k)(t)])},getActionableRightRailPane:()=>{const{getSetting:e,isFeatureEnabled:t}=s,a=e(T.id.ACTIONABLE_RIGHT_RAIL_CONTENT);switch(a&&a.currentView){case T.Nc.CONTACTS_PANE:return t(T.kb.CONTACTS_PANE_FEATURE)?T.Oc.ContactsPane:null;default:return null}},getContextualRightRailPanes:()=>{const{isFeatureEnabled:e,isAttachmentRoute:t,shouldShowAdBlockCoupons:a,shouldShowEbayWarrantyUpsell:n,getSetting:r,getSmartViewTypeFromRoute:o,getRoute:i,isRRUpsellVideoAdTimestampValid:c}=s,l=c(),d=i();if(t())return[T.Oc.AttachmentUi];if(e(T.kb.HIDE_RIGHT_RAIL))return[];const E=[];if(l&&d.name!==T.Pc.SEARCH||!e(T.kb.RIGHT_RAIL_CONTACT_CARD)&&!e(T.kb.MESSAGE_READ_CONTACT_CARD)||E.push(T.Oc.ContactCard),e(T.kb.RIGHT_RAIL_MESSAGES_CARD)&&E.push(T.Oc.MessageBrief),e(T.kb.RIGHT_RAIL_PHOTO_CARD)&&E.push(T.Oc.PhotoBrief),e(T.kb.RIGHT_RAIL_DOCS_CARD)&&E.push(T.Oc.DocumentBrief),e(T.kb.DEALS_VIEW_V2)&&o(d)===T.td.COUPONS&&E.push(T.Oc.SavedDeals),e(T.kb.RETAILER_FILTER)&&E.push(T.Oc.RetailerFilter),!l){e(T.kb.SHOPLIFT_AD)&&E.push(T.Oc.ShopliftAd),n()&&r(T.id.EBAY_WARRANTY_UPSELL_POSITION)===T.eb.RIGHT&&E.push(T.Oc.EbayWarrantyUpsell),a()&&E.push(T.Oc.AdBlockCoupons),e(T.kb.SUBSCRIPTION_ADS)&&E.push(T.Oc.SubscriptionAds),e(T.kb.RIGHT_RAIL_NATIVE_AD)&&E.push(T.Oc.RightRailNativeAd),e(T.kb.RELATED_SEARCHES_CARD)&&E.push(T.Oc.RelatedSearchesCard),e(T.kb.RELATED_COUPONS)&&E.push(T.Oc.RelatedCoupons),e(T.kb.RELATED_RETAILERS)&&E.push(T.Oc.RelatedRetailers),e(T.kb.COUPONS_ON_SEARCH_RIGHT_RAIL)&&E.push(T.Oc.SearchRightRailCoupons),(e(T.kb.HIPMUNK_CARD)||e(T.kb.BOOKING_CARD)||e(T.kb.SEATGEEK_CARD))&&E.push(T.Oc.TravelCardsGroup),e(T.kb.PLA_ADS_AVAILABLE)&&E.push(T.Oc.PlaAds),e(T.kb.ADS)&&!t()&&!e(T.kb.RIGHT_RAIL_NATIVE_AD)&&!e(T.kb.HIDE_RIGHT_RAIL)&&!e(T.kb.RIGHT_RAIL_CONTACT_CARD)&&!e(T.kb.RIGHT_RAIL_PHOTO_CARD)&&!e(T.kb.RIGHT_RAIL_DOCS_CARD)&&!e(T.kb.PLA_ADS_AVAILABLE)&&!e(T.kb.RETAILER_FILTER)&&E.push(T.Oc.RightPaneAds)}return E},getRightRailPanes:()=>{const{getActionableRightRailPane:e,getContextualRightRailPanes:t}=s,a=e();return a?[a]:t()},getPendingUpdate:()=>t.pendingUpdate(e).getPendingUpdate(),getYahooDealsSelectors:()=>t.yahooDeals(e),getDealsSelectors:()=>t.deals(e),getAccountIdsByFolderId:e=>{const{doesFolderIdExist:t}=s;return e&&t(e)?gn("getAccountIdsByFolderId",()=>e,[e=>e.getFoldersSelectors()],()=>{const t=s.getFoldersSelectors().getAccountIdByFolderId(e);return t?[t]:[""]})(s):[]},getSelectedItems:e=>gn("getSelectedItems",()=>e,[e=>e.getStreamsSelectors()],()=>{const{doesStreamExist:t,getSelectedStreamItems:a}=s;return t(e)?a(e).reduce((e,{id:t})=>babelHelpers.extends({},e,{[t]:!0}),{}):{}})(s),getListItems:e=>{const{doesListExist:t}=s;return t(e)?gn("getListItems",()=>e,[e=>e.getListsSelectors()],()=>{const{getListItemIds:t,__patchV2MessageGroupItemId__:a,__patchV2AttachmentId__:n}=s,r=Object(N.q)(e);return t(e).map(t=>{switch(r){case T.Db.MESSAGES:return a(t,e);case T.Db.DOCUMENTS:case T.Db.IMAGES:return n(t,e)}})})(s):[]},getMessageGroupRoutes:e=>{const{doesListExist:t}=s;return t(e)?gn("getMessageGroupRoutes",()=>e,[e=>e.getListsSelectors(),e=>e.isFeatureEnabled(T.kb.CONVERSATIONS)],()=>{const{isFeatureEnabled:t,getListItems:a}=s,n=t(T.kb.CONVERSATIONS),r=Object(N.q)(e),o=a(e),i={};return o.forEach(t=>{const s=Object(L.o)({item:t,listId:e,isConversationMode:n});s&&(r===T.Db.MESSAGES?i[t.id]=s:i[t.attachment.id]=s)}),i})(s):{}},getReceiptFromMessageId:e=>{const{getCardMessageToSchemasSelectors:t,getReceiptSelectors:a,getGroupId:n,getRoute:r,getRelevantMessageIdFromMessageGroupId:o,getCardGroupsSelectors:i,getMessagesSelectors:c}=s;let l=e;if(!l){const e=n();if(!e)return null;l=o(e,Object(N.t)(r()))}const d=c().getCardConversationId(l),E=i().getMessageIdsFromCardGroupId(d)||[];for(const e of E){const s=(t().getSchemas(e)||[]).find(e=>e.type===T.Zc.Order)||{},n=a().getReceipt(s.id)||null;if(n)return n}return null},shouldShowEbayWarrantyUpsell:()=>{const{getRelevantMessageIdFromMessageGroupId:e,getRoute:t,getGroupId:a,getMessagesSelectors:n,hasMatchingDomainInMessageGroup:r,isFeatureEnabled:o,getReceiptFromMessageId:i,getSetting:c,isNarrowScreen:l}=s,d=a();if(!d)return!1;const E=Object(N.t)(t()),_=o(T.kb.EBAY_WARRANTY_UPSELL),u=c(T.id.EBAY_WARRANTY_UPSELL_POSITION),p=e(d,E);if(!p)return!1;const m=!!n().getDecos(p).find(e=>e.id===T.Zb.ORD),S=i(p);if(!S)return!1;const g=S.orderedItems.some(({category:e=[]})=>e.some(({name:e=""})=>{const t=e.split(">")[0]||"";return C.f.some(e=>e===t.toLowerCase())})),I=Object(O.k)(Object(h.a)(S,"broker.url","")),A=(I&&I.indexOf("ebay.com")>-1||"eBay"===Object(h.a)(S,"broker.name",""))&&r({"ebay.com":"ebay.com"}),b=S.orderedItems.every(({name:e=""})=>!e.toLowerCase().includes("warranty")),R=u===T.eb.RIGHT&&l();return _&&g&&m&&A&&b&&!R},doesCurrentRouteContainDraft(){const{getRoute:e,getSetting:t,doesMessageGroupIdExist:a,getMainStreamListIds:n,doesStreamExist:r,getCursorItem:o,isDraftGroup:i}=s,c=e(),l=t(T.id.PREVIEW_PANE)===T.Bc.NO;if(un(c)||_n(c))return!0;if(l){if(En(c)){const e=c.params.groupId;if(a(e)&&i(e))return!0}}else{const e=n(c),t=Object(P.a)(e);if(t&&r(t)){const e=o(t);if(e&&e.id){const t=e.id;if(a(t)&&i(t))return!0}}}return!1},getFormattedTopRetailers:()=>{const{getContactListSelectors:e,getDealsSelectors:t,getContactById:a}=s,n=t().getTopRetailers()||[],{getContacts:r}=e(),o=r(),i={};return n.map(({email:e,nameFromEmail:t})=>{for(const t in o){const{emails:s=[],name:a=""}=o[t];if(s.indexOf(e.toLowerCase())>-1)return{email:e,name:a}}const s=a(e);return{email:e,name:s?s.name:t}}).filter(({name:e})=>!i[e]&&(i[e]=!0))},isRRUpsellVideoAdTimestampValid(){const{isFeatureEnabled:e,getSetting:t}=s,a=e(T.kb.RIGHT_RAIL_UPSELL_VIDEO_AD),n=60*t(T.id.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION)*1e3;if(a&&Object(O.l)()){const e=window.localStorage.getItem(sn.b);return e&&Date.now()-e<n}}};return s})},function(e,t,s){"use strict";s.r(t);var a=s(39),n=s.n(a);var r=s(18);s.d(t,"GRID_UNIT",function(){return o}),s.d(t,"BASE_LINK_COLOR",function(){return i}),s.d(t,"SELECTED",function(){return c}),s.d(t,"TRANSPARENT",function(){return l}),s.d(t,"BLUE",function(){return d}),s.d(t,"RED",function(){return E}),s.d(t,"DARK_BLUE",function(){return _}),s.d(t,"DARK_THEME_BLUE",function(){return u}),s.d(t,"WHITE",function(){return p}),s.d(t,"BLACK",function(){return m}),s.d(t,"BACKGROUND_COLOR",function(){return h}),s.d(t,"IMPROVED_GRAY",function(){return S}),s.d(t,"IMPROVED_GRAY_DARK",function(){return g}),s.d(t,"LESS_IMPORTANT_GRAY",function(){return I}),s.d(t,"FIRST_LEVEL_GRAY",function(){return C}),s.d(t,"OVERLAY",function(){return T}),s.d(t,"SECOND_LEVEL_GRAY",function(){return A}),s.d(t,"THIRD_LEVEL_GRAY",function(){return O}),s.d(t,"FIRST_LEVEL_ORANGE",function(){return b}),s.d(t,"FOURTH_LEVEL_GRAY",function(){return R}),s.d(t,"FIFTH_LEVEL_GRAY",function(){return D}),s.d(t,"COOL_FAINT",function(){return f}),s.d(t,"HEADING_PURPLE",function(){return N}),s.d(t,"WORK_AREA_BACKGROUND_COLOR",function(){return M}),s.d(t,"BORDER_MEDIUM_COLOR",function(){return L}),s.d(t,"MODE_CHOOSER_BLOCK_GRAY",function(){return y}),s.d(t,"BLOCK_IMAGE_BANNER_GRAY",function(){return P}),s.d(t,"GREEN",function(){return v}),s.d(t,"FOLDER_ITEM_HOVER_BGCOLOR",function(){return F}),s.d(t,"BURN_8",function(){return U}),s.d(t,"BURN_10",function(){return H}),s.d(t,"BURN_16",function(){return k}),s.d(t,"BURN_20",function(){return G}),s.d(t,"BURN_30",function(){return w}),s.d(t,"BURN_46",function(){return x}),s.d(t,"BURN_60",function(){return B}),s.d(t,"BURN_70",function(){return j}),s.d(t,"BURN_85",function(){return V}),s.d(t,"BURN_80",function(){return W}),s.d(t,"DODGE_6",function(){return q}),s.d(t,"DODGE_8",function(){return K}),s.d(t,"DODGE_10",function(){return z}),s.d(t,"DODGE_12",function(){return Y}),s.d(t,"DODGE_16",function(){return Z}),s.d(t,"DODGE_20",function(){return X}),s.d(t,"DODGE_30",function(){return Q}),s.d(t,"DODGE_50",function(){return $}),s.d(t,"DODGE_60",function(){return J}),s.d(t,"DODGE_80",function(){return ee}),s.d(t,"DODGE_95",function(){return te}),s.d(t,"HEADER_COLOR_1",function(){return se}),s.d(t,"HEADER_COLOR_2",function(){return ae}),s.d(t,"SRP_LINK_COLOR",function(){return ne}),s.d(t,"ITEM_HOVER_BGCOLOR",function(){return re}),s.d(t,"ITEM_SELECTED_BGCOLOR",function(){return oe}),s.d(t,"MESSAGE_LIST_GEMINI_AD_BGCOLOR",function(){return ie}),s.d(t,"MESSAGE_LIST_HOVER_GEMINI_AD_BGCOLOR",function(){return ce}),s.d(t,"ATTACHMENT_LIGHT_PURPLE",function(){return le}),s.d(t,"ATTACHMENT_MEDIUM_PURPLE",function(){return de}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_MEDIUM_PURPLE",function(){return Ee}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_LIGHT_PURPLE",function(){return _e}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_FAINT_PURPLE",function(){return ue}),s.d(t,"PILL_SELECTED_BGCOLOR",function(){return pe}),s.d(t,"DEFAULT_BACKGROUND_COLOR",function(){return me}),s.d(t,"MAIN_APP_BORDER",function(){return he}),s.d(t,"PRIMARY_BUTTON_ACTIVE_COLOR",function(){return Se}),s.d(t,"PRIMARY_BUTTON_TEXT_COLOR",function(){return ge}),s.d(t,"PRIMARY_BUTTON_PRESSED_COLOR",function(){return Ie}),s.d(t,"PRIMARY_BUTTON_INACTIVE_TEXT_COLOR",function(){return Ce}),s.d(t,"PRIMARY_BUTTON_INACTIVE_COLOR",function(){return Te}),s.d(t,"PRIMARY_BUTTON_HOVER_COLOR",function(){return Ae}),s.d(t,"SECONDARY_BUTTON_NORMAL",function(){return Oe}),s.d(t,"SECONDARY_BUTTON_ACTIVE",function(){return be}),s.d(t,"PRIMARY_BUTTON_ACTIVE_COLOR_LIGHT",function(){return Re}),s.d(t,"HOVER_BUTTON_COLOR_LIGHT",function(){return De}),s.d(t,"BORDER_SEGMENT",function(){return fe}),s.d(t,"BORDER_SEGMENT_LIGHT",function(){return Ne}),s.d(t,"SEGMENT_DEFAULT_DARK",function(){return Me}),s.d(t,"SEGMENT_ACTIVE_DARK",function(){return Le}),s.d(t,"BOLD",function(){return ye}),s.d(t,"MEDIUM",function(){return Pe}),s.d(t,"SMALL",function(){return ve}),s.d(t,"BASE_FONT_STACK",function(){return Fe}),s.d(t,"ROUNDED_FONT_STACK",function(){return Ue}),s.d(t,"MOBILE_BASE_FONT_STACK",function(){return He}),s.d(t,"BASE_FONT_WEIGHT",function(){return ke}),s.d(t,"BASE_FONT_SIZE",function(){return Ge}),s.d(t,"BASE_LINE_HEIGHT",function(){return we}),s.d(t,"LOWEST_LINE_HEIGHT",function(){return xe}),s.d(t,"LOWER_LINE_HEIGHT",function(){return Be}),s.d(t,"HIGHER_LINE_HEIGHT",function(){return je}),s.d(t,"HIGHEST_LINE_HEIGHT",function(){return Ve}),s.d(t,"ALT_FONT_STACK",function(){return We}),s.d(t,"FONT_SIZE_XXS",function(){return qe}),s.d(t,"FONT_SIZE_XS",function(){return Ke}),s.d(t,"FONT_SIZE_S",function(){return ze}),s.d(t,"FONT_SIZE_M",function(){return Ye}),s.d(t,"FONT_SIZE_L",function(){return Ze}),s.d(t,"FONT_SIZE_XL",function(){return Xe}),s.d(t,"FONT_SIZE_XXL",function(){return Qe}),s.d(t,"ICON_SIZE_XXXS",function(){return $e}),s.d(t,"ICON_SIZE_XXS",function(){return Je}),s.d(t,"ICON_SIZE_XS",function(){return et}),s.d(t,"ICON_SIZE_S",function(){return tt}),s.d(t,"ICON_SIZE_M",function(){return st}),s.d(t,"ICON_SIZE_L",function(){return at}),s.d(t,"ICON_SIZE_XL",function(){return nt}),s.d(t,"ICON_SIZE_XXL",function(){return rt}),s.d(t,"ICON_SIZE_XXXL",function(){return ot}),s.d(t,"AVATAR_SIZE_S",function(){return it}),s.d(t,"AVATAR_SIZE_M",function(){return ct}),s.d(t,"AVATAR_SIZE_L",function(){return lt}),s.d(t,"AVATAR_SIZE_COMPACT",function(){return dt}),s.d(t,"AVATAR_SIZE_40",function(){return Et}),s.d(t,"AVATAR_SIZE_24",function(){return _t}),s.d(t,"AVATAR_SIZE_60",function(){return ut}),s.d(t,"IconColors",function(){return pt}),s.d(t,"BORDER_SUPER_LIGHT",function(){return mt}),s.d(t,"BORDER_LIGHT",function(){return ht}),s.d(t,"BORDER_DARK",function(){return St}),s.d(t,"BORDER_WARNING",function(){return gt}),s.d(t,"BORDER_ACTIVE",function(){return It}),s.d(t,"BORDER_MEDIUM",function(){return Ct}),s.d(t,"BOX_SHADOW_NORMAL",function(){return Tt}),s.d(t,"ShadowBlurs",function(){return At}),s.d(t,"SHADOW_COLOR",function(){return Ot}),s.d(t,"Shadows",function(){return bt}),s.d(t,"FOCUS_OUTLINE",function(){return Rt}),s.d(t,"FOCUS_OUTLINE_DARK_THEME_MODE",function(){return Dt}),s.d(t,"APP_HEADER_FOCUS_OUTLINE",function(){return ft}),s.d(t,"MESSAGE_LIST_ITEM_NORMAL_HEIGHT",function(){return Nt}),s.d(t,"MESSAGE_LIST_ITEM_SLIM_HEIGHT",function(){return Mt}),s.d(t,"MESSAGE_LIST_ITEM_RELAXED_HEIGHT",function(){return Lt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT",function(){return yt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT",function(){return Pt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT",function(){return vt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT",function(){return Ft}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT",function(){return Ut}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT",function(){return Ht}),s.d(t,"MESSAGE_LIST_ITEM_LOAD_MORE_HEIGHT",function(){return kt}),s.d(t,"MESSAGE_LIST_GEMINI_AD_HEIGHT",function(){return Gt}),s.d(t,"MESSAGE_LIST_GEMINI_AD_HEIGHT_M",function(){return wt}),s.d(t,"MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT",function(){return xt}),s.d(t,"MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT",function(){return Bt}),s.d(t,"MESSAGE_LIST_FEEDBACK_FORM_HEIGHT",function(){return jt}),s.d(t,"MOBILE_MESSAGE_LIST_ITEM_HEIGHT",function(){return Vt}),s.d(t,"MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT",function(){return Wt}),s.d(t,"TRAVEL_LIST_ITEM_HEIGHT",function(){return qt}),s.d(t,"PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET",function(){return Kt}),s.d(t,"PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET",function(){return zt}),s.d(t,"PREVIEW_PANE_DEFAULT_TOP_PIXELS_OFFSET",function(){return Yt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET",function(){return Zt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET",function(){return Xt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET",function(){return Qt}),s.d(t,"PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET",function(){return $t}),s.d(t,"ITEM_LIST_SEPARATOR_HEIGHT",function(){return Jt}),s.d(t,"MOBILE_ITEM_LIST_SEPARATOR_HEIGHT",function(){return es}),s.d(t,"SEARCH_BAR_HEIGHT",function(){return ts}),s.d(t,"PHOTO_ITEM_SIZE",function(){return ss}),s.d(t,"PHOTO_SIZE_PLUS_PADDING",function(){return as}),s.d(t,"PHOTO_ITEM_SMALL_SIZE",function(){return ns}),s.d(t,"DOCUMENT_ITEM_HEIGHT",function(){return rs}),s.d(t,"OFFER_CARD_ITEM_WIDTH",function(){return os}),s.d(t,"OFFER_CARD_ITEM_HEIGHT",function(){return is}),s.d(t,"ACTIVATED_OFFERS_THUMBNAIL_WIDTH",function(){return cs}),s.d(t,"YAHOO_DEAL_ITEM_WIDTH",function(){return ls}),s.d(t,"YAHOO_DEAL_ITEM_HEIGHT",function(){return ds}),s.d(t,"YAHOO_DEAL_ACTIVITY_HEADER_HEIGHT",function(){return Es}),s.d(t,"HEADING_FONT_WEIGHT",function(){return _s}),s.d(t,"STYLELESS_INPUT",function(){return us}),s.d(t,"STYLELESS_BUTTON",function(){return ps}),s.d(t,"ButtonPadding",function(){return ms}),s.d(t,"PALETTE",function(){return hs}),s.d(t,"TabIndices",function(){return Ss}),s.d(t,"ZIndices",function(){return gs}),s.d(t,"TAB_MIN_WIDTH",function(){return Is}),s.d(t,"TAB_MAX_WIDTH",function(){return Cs}),s.d(t,"TAB_MENU_WIDTH",function(){return Ts}),s.d(t,"TAB_MENU_WIDTH_WITH_CATEGORIES",function(){return As}),s.d(t,"NAVIGATION_WIDTH",function(){return Os}),s.d(t,"NAVIGATION_PERCENTAGE_WIDTH",function(){return bs}),s.d(t,"NAVIGATION_MAX_WIDTH",function(){return Rs}),s.d(t,"APP_MIN_WIDTH_VERTICAL_VIEW",function(){return Ds}),s.d(t,"APP_MIN_WIDTH",function(){return fs}),s.d(t,"APP_MAX_WIDTH",function(){return Ns}),s.d(t,"NARROW_SCREEN_WIDTH",function(){return Ms}),s.d(t,"WIDE_SCREEN_WIDTH",function(){return Ls}),s.d(t,"FOLDER_INDENTATION",function(){return ys}),s.d(t,"BREAKPOINTS",function(){return Ps}),s.d(t,"PillMaxWidths",function(){return vs}),s.d(t,"ACCESSIBLE",function(){return Fs}),s.d(t,"AD_WIDTH_NARROW",function(){return Us}),s.d(t,"AD_WIDTH_WIDE",function(){return Hs}),s.d(t,"RIGHT_RAIL_WIDTH_VALUE",function(){return ks}),s.d(t,"SRP_RIGHT_RAIL_WIDTH",function(){return Gs}),s.d(t,"RIGHT_RAIL_WIDTH",function(){return ws}),s.d(t,"RIGHT_RAIL_NARROW_WIDTH",function(){return xs}),s.d(t,"FEATURE_CUE_BACKGROUND_COLOR",function(){return Bs}),s.d(t,"FEATURE_CUE_PADDING",function(){return js}),s.d(t,"FEATURE_CUE_HEADER_TEXT",function(){return Vs}),s.d(t,"FEATURE_CUE_BODY_TEXT",function(){return Ws}),s.d(t,"FEATURE_CUE_CONTAINER",function(){return qs}),s.d(t,"FEATURE_CUE_HIGHLIGHT_COLOR",function(){return Ks}),s.d(t,"FEATURE_CUE_HIGHLIGHT_SHADOW_COLOR",function(){return zs}),s.d(t,"MOBILE_TRANSITION_DURATION",function(){return Ys}),s.d(t,"Gradients",function(){return Zs}),s.d(t,"MOBILE_CARD_HEADER_HEIGHT",function(){return Xs}),s.d(t,"ESTIMATED_SOFT_KEYBOARD_HEIGHTS",function(){return Qs}),s.d(t,"DEAL_ITEM_HEIGHT",function(){return $s}),s.d(t,"COUPON_LIST_ITEM_HEIGHT",function(){return Js}),s.d(t,"RECEIPT_LIST_ITEM_HEIGHT",function(){return ea}),s.d(t,"ZERO_SAVED_COUPONS_VIEW_HEIGHT",function(){return ta}),s.d(t,"RETAILERS_LIST_ITEM_HEIGHT",function(){return sa}),s.d(t,"RETAILERS_LIST_ITEM_WIDTH",function(){return aa}),s.d(t,"ZERO_SAVED_GROCERY_STORES_ITEM_HEIGHT",function(){return na}),s.d(t,"ROADTRIP_PHOTO_THEME_BROWN",function(){return ra}),s.d(t,"scrollToTopButtonContainer",function(){return oa}),s.d(t,"defaultFujiIcon",function(){return ia}),s.d(t,"fujiIconButtonContent",function(){return ca}),s.d(t,"YBAR_HEIGHT",function(){return la}),s.d(t,"POPOVER_CONTENT_BORDER_RADIUS",function(){return da});const o=4,i=n.a.ycolorBlue10a,c=n.a.ycolorBlue10a,l="transparent",d=n.a.ycolorBlue10a,E=n.a.ycolorRed2a,_="#00008B",u="#4faaff",p="#fff",m=n.a.ycolorGrayA,h="rgba(241, 241, 245, .5)",S="#a7acbb",g="#5b636a",I=n.a.ycolorGrayD,C=n.a.ycolorGrayE,T=n.a.ycolorPurple14a,A=n.a.ycolorGrayF,O=n.a.ycolorGrayG,b=n.a.ycolorOrange4a,R=n.a.ycolorGrayH,D=n.a.ycolorGrayI,f=n.a.ycolorGrayFg,N="#775eec",M=p,L=n.a.ycolorGrayFg,y="#D8DAE3",P=n.a.ycolorGrayJ,v="#1AC567",F="rgba(24, 143, 255, 0.08)",U="rgba(0, 0, 0, .08)",H="rgba(0, 0, 0, .1)",k="rgba(0, 0, 0, .16)",G="rgba(0, 0, 0, .2)",w="rgba(0, 0, 0, .3)",x="rgba(0, 0, 0, .46)",B="rgba(0, 0, 0, .6)",j="rgba(0, 0, 0, .7)",V="rgba(0, 0, 0, .85)",W="rgba(039, 41, 43, .8)",q="rgba(255, 255, 255, .06)",K="rgba(255, 255, 255, .08)",z="rgba(255, 255, 255, .10)",Y="rgba(255, 255, 255, .12)",Z="rgba(255, 255, 255, .16)",X="rgba(255, 255, 255, .2)",Q="rgba(255, 255, 255, .3)",$="rgba(255, 255, 255, .5)",J="rgba(255, 255, 255, .6)",ee="rgba(255, 255, 255, .8)",te="rgba(255, 255, 255, .95)",se="#7282fb",ae="#7934f7",ne=i,re="rgba(24,143,255, 0.08)",oe="rgba(24,143,255, 0.16)",ie="#ccf5e4",ce="#baf4d7",le="#7daae8",de="#7a50ee",Ee="#7934F7",_e="#7282FB",ue="#DECDFC",pe="#daedff",me="#f4f4f7",he="1px solid "+n.a.ycolorGrayH,Se=n.a.ycolorBlue10a,ge=p,Ie=n.a.ycolorBlueviolet12a,Ce=n.a.ycolorGrayG,Te=n.a.ycolorGrayH,Ae=n.a.ycolorBlue10b,Oe=n.a.ycolorBlue10a,be=n.a.ycolorBlueviolet12a,Re="rgba(24,143,255,0.16)",De="rgba(24,143,255,0.04)",fe="1px solid",Ne="rgba(24,143,255,0.32)",Me=n.a.ycolorGrayC,Le=n.a.ycolorGrayA,ye="bold",Pe=500,ve=400,Fe='"Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',Ue='"Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',He="Roboto, San Francisco, -apple-system, Helvetica Neue, SegoeUI, Helvetica, Arial, Sans-Serif",ke="regular",Ge="13px",we="18px",xe="13px",Be="15px",je="20px",Ve="24px",We='"Helvetica Neue Medium", "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',qe="11px",Ke="12px",ze="13px",Ye="15px",Ze="17px",Xe="24px",Qe="30px",$e="12px",Je="16px",et="20px",tt="24px",st="32px",at="48px",nt="72px",rt="96px",ot="120px",it=20,ct=32,lt=96,dt=28,Et=40,_t=24,ut=60,pt={NORMAL:m,FIRST_LEVEL_GRAY:C,FIRST_LEVEL_ORANGE:b,NORMAL_LESS_DIM:"rgba(38, 40, 42, 0.8)",IMPROVED_GRAY_DARK:g,INVERTED:p,INVERTED_MORE_DIM:"rgba(255, 255, 255, 0.3)",INVERTED_DIM:"rgba(255, 255, 255, 0.5)",INVERTED_LESS_DIM:"rgba(255, 255, 255, 0.8)",SELECTED:c,PRIMARY_HOVER:Ae,SELECTED_DARK_THEME_MODE:"#4faaff",DISABLED:A,STARRED:n.a.ycolorOrange4a,STARRED_DARK:n.a.ycolorYellow5c,SMARTVIEW_DARK:"rgba(255, 255, 255, .6)",LESS_IMPORTANT:I,SECOND_LEVEL_GRAY:A,FAINT:n.a.ycolorGrayH,COOL_FAINT:n.a.ycolorGrayFg,ADVISORY:n.a.ycolorYellow5c,WARNING:n.a.ycolorPink1a,HEADING:N,HOVER_BGCOLOR:"rgba(24, 143, 255, 0.08)",ICON_HOVER_BGCOLOR:"rgba(24, 143, 255, 0.15)",ACTIVE_BGCOLOR:"rgba(185, 189, 197, 0.3)",YBADGE:n.a.ycolorPurple14c,GREEN:n.a.ycolorGreen6b,TOUCH_PRIMARY:n.a.ycolorBlue10a,Attachments:{MEDIA:n.a.ycolorFuchsia18a,CAL:n.a.ycolorFuchsia18a,EXCEL:n.a.ycolorGreen6b,DOC:n.a.ycolorBlue10b,SLIDE:n.a.ycolorOrange4c,PDF:n.a.ycolorOrange4c,GENERIC:n.a.ycolorBlue10a,COMPRESSED:n.a.ycolorTurquoise8b},SmartViews:{PEOPLE:n.a.ycolorYellow5c,SHOPPING:"#EF5483"},SocialIcons:{FACEBOOK:"#3B5998",LINKEDIN:"#0077B5",TWITTER:"#1DA1F2"}},mt=`1px solid ${n.a.ycolorGrayI}`,ht=`1px solid ${n.a.ycolorGrayH}`,St=`1px solid ${m}`,gt=`1px solid ${n.a.ycolorPink1a}`,It=`1px solid ${n.a.ycolorGrayF}`,Ct=`1px solid ${L}`,Tt=`0 ${2*o}px ${2*o}px ${-2*o}px\n    rgba(0,0,0,.5)`,At={LOW:3,MEDIUM:6,HIGH:10},Ot="rgba(0, 0, 0, .3)",bt={LOW:`0 0 ${At.LOW}px ${Ot}`,MED:`0 0 ${At.MEDIUM}px ${Ot}`,HIGH:`0 0 ${At.HIGH}px ${Ot}`,BLACK_MED:`0 0 ${At.MEDIUM}px rgb(0, 0, 0)`},Rt=`1px dotted ${n.a.ycolorGrayA}`,Dt="1px dotted #c7cad1",ft=`1px dotted ${n.a.ycolorGrayFg}`,Nt=8*o,Mt=6*o,Lt=11*o,yt=14*o,Pt=12*o,vt=15*o,Ft=18*o,Ut=16*o,Ht=20*o,kt=18*o,Gt=12*o,wt=12*o,xt=18*o,Bt=3.25*xt,jt=2*Gt,Vt=15*o,Wt=20*o,qt=34*o,Kt=32,zt=30,Yt=180,Zt=180,Xt=180,Qt=32,$t=45,Jt=8*o,es=10*o,ts=12*o,ss=150,as=ss+8,ns=100,rs=16*o,os=98*o,is=23.5*o,cs=13*o,ls=78*o,ds=31*o,Es=11*o,_s=ye,us={border:0,boxShadow:"none",width:"100%",minHeight:"40px"},ps={fontFamily:Fe,fontSize:Ge,border:0,backgroundColor:l},ms={XXXS:.25*o,XXS:.5*o,XS:1*o,S:2*o,M:2*o,L:3*o,XL:4*o,XXL:4*o},hs=n.a,Ss={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,FOLDER_SELECTION_MENU:100},gs={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:9100,PERSISTENT_NOTIFICATION:90},Is=108,Cs=144,Ts=28,As=250,Os=192,bs=14,Rs=224,Ds=1280,fs=1024,Ns=1920,Ms=1360,Ls=1600,ys="0 0 0 8px",Ps={H860:"@media (min-height: 860px)",W1280:"@media (min-width: 1280px)",W1360:"@media (min-width: 1360px)",W1440:"@media (min-width: 1440px)",W1600:"@media (min-width: 1600px)",W1920:"@media (min-width: 1920px)",W769:"@media (min-width: 769px)",W768:"@media (max-width: 768px)"},vs={S:"88px",L:"160px"},Fs={position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},Us=192,Hs=332,ks=332,Gs="300px",ws=`${ks}px`,xs=`${Us}px`,Bs=hs.ycolorBlue10a,js="18px 24px 24px",Vs={lineHeight:"24px",fontSize:Ze,fontWeight:Pe,color:m},Ws={fontSize:Ge,lineHeight:we,color:m},qs={backgroundColor:p,padding:js,minWidth:"200px",maxWidth:"450px"},Ks=n.a.ycolorYellow5c,zs="rgba(255,183,0,0.30)",Ys={enter:225,leave:195,fullScreen:375},Zs={POSITIVE:`linear-gradient(60deg, ${n.a.ycolorTurquoise8a}, #26D2AA, ${n.a.ycolorBluegreen7a})`,NEGATIVE:`linear-gradient(60deg, ${n.a.ycolorSalmon3b}, #F32C53, ${n.a.ycolorFuchsia18a})`,NEUTRAL:"linear-gradient(60deg, #FFA008, #FF7812, #FF501B)"},Xs=14*o,Qs={iPad:{landscape:398,portrait:312}},$s=29*o,Js=9*o,ea=9*o,ta=19*o,sa=43.25*o,aa=51.5*o,na=26.75*o,ra="#2A211E",oa={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:`${4*o}px`,right:0,height:`${8*o}px`,width:`${8*o}px`,marginRight:"16px",backgroundColor:Object(r.rgba)("#000",.7),borderRadius:"2px",cursor:"pointer",zIndex:2},ia={display:"inline-block",width:tt,height:tt,fill:pt.NORMAL,"pointer-events":"none",flexShrink:0,WebkitTapHighlightColor:l},ca={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},la=21*o,da={LOW:2,MEDIUM:4,HIGH:6,MOBILE_DEFAULT:8}},,function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"h",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"a",function(){return d}),s.d(t,"e",function(){return E});var a=s(8);const n={S:6,M:12,L:24},r=Object(a.c)(n),o=Object(a.c)(["MOUNT","HOVER","CLICK","RIGHTCLICK"]),i=Object(a.c)(["UP","DOWN","START","END","ANY"]),c=Object(a.c)(["HORIZONTAL","VERTICAL"]),l=Object(a.c)(["DEFAULT","DARK","GRADIENT","LIGHTGRAY"]),d=Object(a.c)(["CENTER","START","END","ANY"]),E=Object(a.c)(["LOW","MEDIUM","HIGH","MOBILE_DEFAULT"])},,function(e,t,s){"use strict";s.d(t,"a",function(){return m}),s.d(t,"f",function(){return S}),s.d(t,"e",function(){return g}),s.d(t,"d",function(){return I}),s.d(t,"p",function(){return C}),s.d(t,"m",function(){return T}),s.d(t,"n",function(){return A}),s.d(t,"i",function(){return O}),s.d(t,"g",function(){return b}),s.d(t,"o",function(){return R}),s.d(t,"h",function(){return D}),s.d(t,"b",function(){return y}),s.d(t,"j",function(){return P}),s.d(t,"k",function(){return v}),s.d(t,"c",function(){return F}),s.d(t,"l",function(){return U});var a=s(0),n=s(5),r=s(19),o=s(8),i=s(45),c=s.n(i),l=s(31),d=s.n(l);const E=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,_=/^"(\\"|[^"])+"$/,u=/^[A-Za-z0-9\-]+$/,p=["sgproxy_test_10@localhost"],m=()=>{},h=/^[^\\\/%]+$/;function S(){var e=(Date.now()+Math.floor(1e9*Math.random())).toString();return e.substr(e.length-10)}function g({min:e=0,max:t=0}){const s=Math.round(Math.random()*(t-e)+e),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let e=0;e<s;e++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}function I(e){const t=e.lastIndexOf("@");return{localPart:e.substr(0,t),domainPart:e.substr(t+1)}}function C(e){return!(!E.test(e)&&!_.test(e))}function T(e){if(!e)return!1;if(-1!==p.indexOf(e))return!0;const{localPart:t,domainPart:s}=I(e);return!!C(t)&&!!function(e){const t=e.split("."),s=t.length;if(s<2)return!1;for(let e=0;e<s;e++)if(!u.test(t[e]))return!1;return!0}(s)}function A(e){return void 0!==e&&h.test(e.trim())}function O(e){return Object(r.a)(e,"event object is required"),e.key===a.zb.ENTER?n.d.nav:"keydown"===e.type?n.d.shortcut:n.d.click}function b(e){return Object(o.a)(e||{},"container.id","app-container")}function R(e){const t=e.htmlAnnotations.map(e=>e.divIds?e:(e.divIds=e.divids,delete e.divids,e));return{html:e.html,htmlAnnotations:t}}function D(){let e="";for(let t=0;t<arguments.length;t++)e+=JSON.stringify(arguments[t]);return function(e){let t,s,a,n,r=new Array(256),o=0,i=-1;const c=e.length;for(n=0;256!==n;++n)r[n]=t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=n)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1;for(r="undefined"!=typeof Int32Array?new Int32Array(r):r,o=0;o<c;)(t=e.charCodeAt(o++))<128?i=i>>>8^r[255&(i^t)]:t<2048?i=(i=i>>>8^r[255&(i^(192|t>>6&31))])>>>8^r[255&(i^(128|63&t))]:t>=55296&&t<53248?(t=64+(1023&t),a=1023&e.charCodeAt(o++),i=(i=(i=(i=i>>>8^r[255&(i^(240|t>>8&7))])>>>8^r[255&(i^(128|t>>2&63))])>>>8^r[255&(i^(128|a>>6&15|3&t))])>>>8^r[255&(i^(128|63&a))]):i=(i=(i=i>>>8^r[255&(i^(224|t>>12&15))])>>>8^r[255&(i^(128|t>>6&63))])>>>8^r[255&(i^(128|63&t))];return s=-1^i,s=new Uint32Array([s])[0].toString(16)}(e)}const f=Object.freeze({isNotNothing:()=>!1,isNothing:()=>!0,chain:()=>f,checkIf:()=>f,checkIfNot:()=>f,unbox:(e,t=(()=>m))=>t(),debug:()=>(console.log("Box:[NOTHING]"),f)});function N(e){return null==e||"number"==typeof e&&isNaN(e)||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||e===f}function M(e){return!1===e||N(e)}const L=e=>e;function y(e){return N(e)?f:{checkIf:(t,s=L)=>M(t(e))?f:y(s(e)),checkIfNot:(t,s=L)=>M(t(e))?y(s(e)):f,isNotNothing:()=>!0,isNothing:()=>!1,chain:t=>y(t(e)),unbox:(t=(()=>e))=>t(e),debug:(t=L)=>(console.log("Box:[",JSON.stringify(t(e),null,2),"]"),y(e))}}function P(e,t){return c.a.parse(e)[t]||null}function v(e){if(!e)return null;const{domainPart:t}=I(e);let s=t.split(".").slice(-2).join(".");return-1!==["co.uk","co.in","com.hk","com.tw"].indexOf(s)&&(s=t.split(".").slice(-3).join(".")),s}function F(e,t,s=[]){if(!s.length)return d()(e,t);for(const a of s)if(!d()(e[a],t[a]))return!1;return!0}function U(){try{const{localStorage:e}=window,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}},function(e,t,s){"use strict";s.d(t,"a",function(){return _});s(6);var a=s(2),n=s.n(a),r=s(494),o=s.n(r),i=s(11),c=s.n(i),l=s(3);s(8);const d={ADD:n.a.createElement("path",{d:"M13.75 9.25h-3v-3c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3h-3c-.414 0-.75.336-.75.75s.336.75.75.75h3v3c0 .414.336.75.75.75s.75-.336.75-.75v-3h3c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),ALIGN_CENTER:n.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:n.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),APP_HIDDEN:n.a.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:n.a.createElement("path",{d:"M17.25 7H11.767v.75c0 .966-.784 1.75-1.75 1.75s-1.75-.784-1.75-1.75V7H2.75c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75h14.5c.414 0 .75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zM3 5h14c.552 0 1-.448 1-1s-.448-1-1-1H3c-.552 0-1 .448-1 1s.448 1 1 1z"}),ARROW_RIGHT_DOC:n.a.createElement("path",{d:"M7.252 17.785L14.72 10 7.25 2.214c-.285-.287-.748-.287-1.035 0-.287.285-.287.75 0 1.035l6.34 6.75-6.34 6.75c-.286.285-.286.748 0 1.035.287.287.75.287 1.037 0"}),ARROW_UP:n.a.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:n.a.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:n.a.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:n.a.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:n.a.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62c-.01-.2-.08-.34-.16-.43z"}),ATTACH_DOC_48:n.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zm-.708 14.683H3.644V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13zM11.834 7.302l-5.48.99v7.514l5.48.99v-1.31h2.26c.277 0 .5-.178.5-.455s-.223-.454-.5-.454h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.456-.5-.456h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26V7.302zm-1.672 6.36c-.194.1-.485-.003-.715.012-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17-.223-.01-.447-.025-.672-.04-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.15l.494-2.21c.22-.012.442-.02.662-.032.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.26 1.09-.49 2.19-.778 3.273z"}),ATTACH_GENERIC_48:n.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zM3.644 19.13V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13H3.644z"}),ATTACH_ICS_48:n.a.createElement("path",{d:"M19.09 2.73H15V1.365c0-.228-.227-.455-.455-.455-.227 0-.454.228-.454.456V2.73H5.91V1.365c0-.228-.228-.455-.455-.455C5.227.91 5 1.14 5 1.367V2.73H.91c-.5 0-.91.408-.91.908v14.546c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V3.638c0-.5-.41-.91-.91-.91zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454.227 0 .454-.227.454-.455v-.91h8.18v.91c0 .228.228.455.455.455.228 0 .455-.227.455-.455v-.91h4.09v14.547zM8.218 10.962l-.447-.076L9.48 9.25c.27-.257.396-.41.396-.702 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.2-.438.44 0 .236.2.437.438.437H8.59l-1.757 1.77c-.223.222-.27.35-.27.477 0 .238.203.44.44.44h.242c1.01 0 1.61.42 1.61 1.124 0 .66-.503 1.106-1.226 1.106-.58 0-1.067-.184-1.532-.58-.116-.097-.218-.138-.347-.138-.276 0-.518.243-.518.52 0 .143.078.28.16.362l.024.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.99c-.2 0-.4.044-.686.122l-.995.29c-.217.064-.35.236-.35.45 0 .232.208.437.448.437.048 0 .135-.015.217-.035l.827-.244v5.212c0 .298.242.54.54.54s.54-.242.54-.54V8.53c0-.3-.243-.54-.54-.54z"}),ATTACH_IMAGE:n.a.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:n.a.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73c0-.51-.4-.91-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:n.a.createElement("path",{d:"M7.918 12.67c.06 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.26s-.064-.19-.188-.262L8.062 7.398c-.07-.04-.082-.06-.142-.06-.15 0-.193.117-.193.32V12.35c0 .202.044.32.19.32zM19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547z"}),ATTACH_PDF_48:n.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM11.59 12.67c-.058-.065-.118-.133-.178-.203-.405-.468-.772-.973-1.08-1.478.17-.79.26-1.518.27-2.066l.002-.103c.015-.622.04-1.666-.863-1.856-.278-.058-.556-.002-.78.16-.242.173-.408.453-.443.75-.11.92.332 2.123.978 3.243-.17.71-.41 1.45-.71 2.123-.667.256-1.33.608-1.954 1.077-1.09.787-.984 1.37-.823 1.647.147.253.44.393.76.393.155 0 .32-.033.475-.104.887-.405 1.59-1.313 2.116-2.388.653-.22 1.304-.344 1.915-.393.582.585 1.385 1.225 2.123 1.245.712.02 1.072-.373 1.12-.77.052-.42-.254-.952-1.045-1.126-.532-.115-1.176-.178-1.88-.15zm-4.674 2.868c-.09.042-.17.04-.215.028.03-.09.167-.308.597-.617.277-.21.562-.392.85-.552-.356.52-.768.93-1.23 1.14zm2.38-7.57c.008-.064.05-.155.12-.206.034-.024.068-.035.108-.035.017 0 .036.002.055.006.243.05.252.535.24 1.07l-.003.106c-.006.277-.033.6-.082.954-.33-.74-.495-1.417-.438-1.897zm.465 4.963c.115-.3.218-.608.308-.914.182.26.372.51.562.742-.285.042-.576.1-.87.173zm3.543.658c.336.074.437.23.435.263-.007.016-.09.096-.32.082h-.002c-.213-.006-.547-.14-.972-.466.31.023.6.066.86.122z"}),ATTACH_PPT_48:n.a.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.177.095-.502-.026-.64-.156-.176-.36-.15-.563-.118zM11.82 10.818h-.006V7.285l-5.467.99v7.498l5.467.99v-2.218h2.264c.246 0 .454-.203.454-.454 0-.252-.203-.454-.454-.454h-2.264v-1.294h.005c.245.366.664.608 1.14.608.676 0 1.238-.487 1.35-1.13h-1.577v-1.584c-.38.062-.705.278-.912.582zm-1.76.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055H8.18v-3.187c.442 0 .88-.012 1.32.01.115.004.248.09.333.177.327.335.327.752.23 1.167zM13.188 10.235v1.13h1.123c-.092-.578-.545-1.033-1.122-1.13zM17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09z"}),ATTACH_SOUND_48:n.a.createElement("path",{d:"M19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547zM11.818 11.81c.25 0 .455-.202.455-.452V7.746c0-.25-.204-.45-.455-.45s-.454.2-.454.45v3.612c0 .25.203.452.454.452zM13.636 11.353c.25 0 .455-.202.455-.45V9.546c0-.25-.203-.45-.454-.45s-.454.2-.454.45v1.355c0 .25.203.45.454.45zM8.182 14.067c.25 0 .454-.202.454-.45V6.39c0-.25-.203-.452-.454-.452-.25 0-.455.202-.455.452v7.224c0 .25.204.45.455.45zM10 13.165c.25 0 .455-.202.455-.452V9.1c0-.248-.204-.45-.455-.45s-.455.202-.455.45v3.613c0 .25.204.452.455.452zM6.364 12.274c.25 0 .454-.204.454-.455V8.636c0-.25-.203-.454-.454-.454-.25 0-.455.203-.455.454v3.182c0 .25.203.454.454.454z"}),ATTACH_XLS_48:n.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.99v-1.33c.21-.05.365-.205.365-.433s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432 0-.23-.157-.383-.366-.433V9.98c.21-.05.365-.204.365-.433zm-2.587 4.222c-.19-.463-.425-.91-.562-1.394-.152.45-.37.876-.547 1.317-.247-.003-.494-.013-.74-.023.29-.558.57-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.17.433.353.862.49 1.307.15-.472.372-.916.563-1.372.254-.017.51-.033.766-.045-.302.607-.604 1.214-.91 1.818.31.622.626 1.238.937 1.86-.27-.016-.542-.032-.814-.05zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.18.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.178-.5.454s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.18-.5.455s.223.455.5.455z"}),ATTACH_ZIP_48:n.a.createElement("path",{d:"M4.272 15.458h-.365c-.15 0-.27.137-.27.287v.364c0 .15.12.257.27.257h.365c.15 0 .273-.107.273-.258v-.365c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.15 0 .273-.11.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.15 0-.27.136-.27.287v.364c0 .15.12.26.27.26zM5.18 14.55h-.36c-.152 0-.275.12-.275.272v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM5.18 12.73h-.36c-.152 0-.275.123-.275.274v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM3.907 12.73h.365c.15 0 .273-.107.273-.257v-.364c0-.152-.122-.288-.273-.288h-.365c-.15 0-.27.136-.27.287v.363c0 .15.12.258.27.258zM5.196 8.64H3.91c-.15 0-.274.122-.274.273v1.713c0 .158.13.287.287.287h.622v.65c0 .15.123.26.273.26h.366c.15 0 .27-.11.27-.26V8.9c0-.144-.115-.26-.258-.26zM19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86c-.478.028-.857.42-.857.904v.454H0v14.097c0 .502.407.91.91.91h18.18c.5 0 .91-.41.91-.91V5.457c0-.5-.407-.908-.91-.908zm0 12.727H5.456v-.637c0-.15-.123-.273-.274-.273h-.36c-.152 0-.275.123-.275.273v.637H.91V2.73H8.41l1.12 2.467c.073.16.234.26.41.26h9.15v11.82z"}),ATTENTION:n.a.createElement("path",{d:"M10.727 10.727c0 .4-.326.727-.727.727-.402 0-.727-.326-.727-.727V6.364c0-.4.325-.727.727-.727.4 0 .727.326.727.727v4.363zM10 14.364c-.402 0-.727-.326-.727-.727s.325-.727.727-.727c.4 0 .727.326.727.727s-.326.727-.727.727zM10 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"}),BELL:n.a.createElement("path",{d:"M18.132 15.148c.126.16.202.36.202.58 0 .518-.42.94-.94.94-.026 0-.052-.004-.077-.005H2.684c-.025.002-.05.004-.077.004-.52 0-.94-.42-.94-.94 0-.218.076-.42.202-.58h-.002s.095-.13.314-.3c.062-.05.564-.468.97-1.2.077-.143.31-.647.347-.75.1-.275.17-.61.276-1.09.255-1.65.24-3.997.24-3.997-.003-.054-.004-.107-.004-.16 0-2.875 2.03-5.273 4.738-5.85v-.134c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25V1.8c2.707.576 4.74 2.975 4.74 5.85 0 .054 0 .107-.002.16 0 0-.018 2.348.237 3.996.108.48.177.815.278 1.092.037.102.27.607.348.75.406.732.908 1.15.97 1.2.217.17.312.3.312.3zM10 19.583c-1.15 0-2.083-.933-2.083-2.083h4.167c0 1.15-.933 2.083-2.084 2.083z"}),BIG_STAR:n.a.createElement("path",{d:"M18.38 6.917h-5.83l-1.8-5.54c-.106-.324-.41-.544-.75-.544s-.643.22-.748.543L7.45 6.916H1.62c-.34 0-.642.22-.747.544-.106.324.01.68.286.88l4.715 3.423-1.802 5.54c-.105.324.01.68.287.88.276.2.65.2.926 0L10 14.758l4.716 3.422c.138.1.3.15.463.15.16 0 .324-.05.462-.15.276-.2.392-.555.286-.88l-1.8-5.54 4.715-3.422c.276-.2.392-.556.286-.88-.107-.324-.41-.543-.75-.543z"}),BOLD:n.a.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),BUG:n.a.createElement("g",null,n.a.createElement("path",{fill:"#26282A",d:"M11.113 6.862c.78-.407 1.318-1.214 1.318-2.154 0-1.16-.81-2.124-1.893-2.372l.004-.016c.075-.282.138-1.758 1.703-1.758.644 0 1.242.376 1.522.957.067.14.235.198.375.13.14-.066.2-.234.13-.374C13.9.5 13.103 0 12.244 0c-1.24 0-2.25 1.01-2.25 2.25 0-1.24-1.01-2.25-2.25-2.25-.86 0-1.656.5-2.03 1.276-.066.14-.007.308.133.375.14.068.308.01.375-.13C6.5.937 7.1.56 7.744.56c1.563 0 1.627 1.476 1.7 1.758l.005.016c-1.083.248-1.893 1.214-1.893 2.372 0 .94.538 1.747 1.317 2.154-2.57.52-4.504 2.79-4.504 5.513C4.368 15.48 6.886 18 9.993 18s5.625-2.52 5.625-5.625c0-2.723-1.935-4.994-4.505-5.513z"}),n.a.createElement("path",{fill:"#ED1B32",d:"M9.993 8.854c0 4.01 2.365 7.457 5.77 9.052 1.72-1.793 2.62-4.38 2.068-7.16-.616-3.112-3.127-5.615-6.24-6.217-5.12-.99-9.597 2.904-9.597 7.845 0 2.148.85 4.094 2.23 5.53 3.405-1.594 5.77-5.042 5.77-9.05z"}),n.a.createElement("circle",{fill:"#26282A",cx:"12.743",cy:"8.75",r:"1.25"}),n.a.createElement("circle",{fill:"#26282A",cx:"7.243",cy:"8.75",r:"1.25"}),n.a.createElement("circle",{fill:"#26282A",cx:"15.243",cy:"12.75",r:"1.25"}),n.a.createElement("circle",{fill:"#26282A",cx:"4.743",cy:"12.75",r:"1.25"})),CALENDAR:n.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.304-2.277-.784-.137-.12-.254-.325-.254-.54 0-.393.332-.727.725-.727.216 0 .36.088.48.186.393.334.806.51 1.344.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236c-.353 0-.647-.295-.647-.647 0-.208.087-.384.323-.62L7.998 8.33h-2.11c-.353 0-.65-.295-.65-.65 0-.35.297-.647.65-.647h3.346c.44 0 .765.255.765.668 0 .374-.176.58-.453.845L8.203 9.83c.932.157 1.846.647 1.846 1.923v.02zm4.205 2.19c-.412 0-.746-.334-.746-.746v-4.75l-.532.137c-.078.02-.186.04-.265.04-.352 0-.656-.294-.656-.647 0-.305.195-.56.498-.648l.973-.284c.284-.08.5-.128.707-.128h.02c.41 0 .745.333.745.745v5.536c0 .412-.333.746-.745.746z"}),CALENDAR_EMPTY:n.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1z"}),CALENDAR_SETTINGS:n.a.createElement("path",{d:"M19 7V4.496c0-.64-.367-1-1-1h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1V7h18zM1 8.5v7.496c0 .64.367 1 1 1h16c.633 0 1-.36 1-1V8.5H1z"}),CAL_ACCEPT:n.a.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:n.a.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:n.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:n.a.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:n.a.createElement("path",{d:"M14.5 3h-9C4.122 3 3 4.122 3 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624c-.277-.277-.277-.727 0-1.004.278-.278.727-.278 1.005 0L8.5 11.5l4.786-4.792c.278-.277.728-.277 1.006 0 .277.278.277.727 0 1.005z"}),CHECKMARK:n.a.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:n.a.createElement("path",{d:"M13.5 12.75c-.192 0-.384-.073-.53-.22L10 9.56l-2.97 2.97c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.44l4.03 4.03c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22z"}),CIRCLE:n.a.createElement("circle",{cx:"10",cy:"10",r:"4"}),CLEAR:n.a.createElement("path",{id:"Clear",d:"M10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm3.445 10.68c.21.21.21.554 0 .765-.21.211-.554.211-.765 0L10 10.765l-2.68 2.68c-.21.211-.554.211-.765 0-.21-.21-.21-.554 0-.765L9.235 10l-2.68-2.68c-.21-.21-.21-.554 0-.765.21-.211.554-.211.766 0L10 9.235l2.68-2.68c.21-.21.554-.21.765 0 .21.212.21.554 0 .766L10.765 10l2.68 2.68z"}),CLOCK:n.a.createElement("path",{d:"M11.974 12.7c-.275.277-.723.277-.998 0L9.58 11.307c-.18-.133-.308-.337-.308-.58V7.09c0-.402.325-.727.728-.727.403 0 .728.325.728.727v3.366l1.247 1.247c.276.276.276.72 0 .997zM10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8z"}),CLOCK_OUTLINE:n.a.createElement("path",{d:"M10 16.5c3.6 0 6.5-2.9 6.5-6.5S13.6 3.5 10 3.5 3.5 6.4 3.5 10s2.9 6.5 6.5 6.5zm0 1.5c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zM12.3 11.8c.3.2.4.7.1 1-.2.3-.7.4-1 .1L9 11.1V6.5c0-.4.3-.7.7-.7s.7.3.7.7v3.9l1.9 1.4z"}),CLOSE:n.a.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:n.a.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:n.a.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:n.a.createElement("path",{d:"M8.79 15.834c-.09.09-.21.152-.333.167-.055.016-3.957 0-3.957 0-.3.006-.505-.242-.5-.54v-3.856c0-.148.06-.29.164-.397l4.174-4.17 4.624 4.625-4.172 4.172zm4.96-4.96L9.128 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.88c.174.175.228.525-.022.775l-2.08 2.077z"}),COMPOSE_EMOJI:n.a.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACT_CARD:n.a.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTRACT:n.a.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DEALS:n.a.createElement("path",{d:"M16.823 9.802l-6.49-6.608C10.213 3.07 10.045 3 9.87 3H3.657c-.358 0-.648.29-.648.648v6.215c0 .175.068.34.192.463l6.603 6.488c.126.123.29.186.454.186.165 0 .33-.064.458-.19l6.1-6.094c.252-.252.254-.66.005-.914zM6.896 8.126c-.706 0-1.278-.568-1.278-1.268 0-.7.572-1.268 1.278-1.268.705 0 1.277.568 1.277 1.268 0 .7-.572 1.268-1.277 1.268z"}),DELETE:n.a.createElement("path",{d:"M3.994 17.21c0 .41.335.79.745.79h10.52c.41 0 .734-.387.734-.797V7h-12v10.21zm7.256-6.946c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zm-4 0c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zM17 3h-4.26v-.076c0-.51-.336-.924-.76-.924H8.007c-.425 0-.773.414-.773.924V3H3c-.552 0-1 .447-1 1s.448 1 1 1h14c.552 0 1-.448 1-1s-.448-1-1-1z"}),DEVICE_DESKTOP:n.a.createElement("path",{d:"M17.7 2.5H2.3c-.4 0-.8.4-.8.8v10.5c0 .4.4.7.8.7h6.1l-.7 2H5.3c-.4 0-.8.4-.8.8s.4.7.8.7h9.4c.4 0 .8-.3.8-.7s-.4-.8-.8-.8h-2.5l-.7-2h6.2c.4 0 .8-.3.8-.7V3.3c0-.4-.4-.8-.8-.8zM17 13H3V4h14v9z"}),DEVICE_PHONE:n.a.createElement("path",{d:"M14.7 1H5.8c-.4 0-.8.4-.8.8v16.4c0 .5.3.8.8.8h8.9c.4 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zm-4.4 16.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm3.7-4.3H6.5V2.5H14v10.9z"}),CAR:n.a.createElement("path",{d:"M17.868 7.572l-1.325-3.61C15.89 2.184 14.183 1 12.27 1H7.73C5.817 1 4.11 2.184 3.456 3.962l-1.325 3.61C.876 8.162 0 9.458 0 10.972v4.356C0 16.362.814 17.2 1.818 17.2v.45c0 .745.61 1.35 1.364 1.35s1.364-.605 1.364-1.35v-.45h10.91v.45c0 .745.61 1.35 1.363 1.35.752 0 1.363-.605 1.363-1.35v-.45c1.005 0 1.818-.838 1.818-1.872v-4.356c0-1.514-.876-2.81-2.132-3.4zM5.166 4.578C5.556 3.515 6.586 2.8 7.73 2.8h4.54c1.144 0 2.174.715 2.564 1.778l.973 2.722H4.193l.973-2.722zM3.636 13.6c-1.005 0-1.818-.806-1.818-1.8S2.632 10 3.636 10s1.818.806 1.818 1.8-.813 1.8-1.818 1.8zm12.728 0c-1.004 0-1.818-.806-1.818-1.8s.814-1.8 1.818-1.8c1.005 0 1.818.806 1.818 1.8s-.814 1.8-1.818 1.8z"}),DOCUMENTS_S:n.a.createElement("path",{d:"M10.97 2.994H5.11c-.335 0-.61.275-.61.61V16.39c0 .337.275.612.61.612h9.778c.337 0 .612-.275.612-.612V7.525c0-.163-.064-.318-.18-.432l-3.92-3.92c-.114-.115-.27-.18-.43-.18zm-.006 4.534V4.473l3.055 3.055h-3.056z"}),DOWNLOAD:n.a.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:n.a.createElement("path",{d:"M13.083 8.52H7.06c-.416 0-.753-.337-.753-.753s.337-.753.753-.753h6.023c.415 0 .752.337.752.753s-.337.753-.752.753zm-.037 2.99h-5.99c-.414 0-.75-.336-.75-.75s.336-.748.75-.748h5.99c.414 0 .75.334.75.748s-.336.75-.75.75zm2.767-9.498H4.258c-.397 0-.722.332-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.24 1.388 1.208c.253.195.603.2.862.015l1.457-1.22 1.458 1.22c.26.186.61.18.862-.015l1.387-1.208 1.68 1.24c.48.31 1.114-.035 1.114-.608V2.752c0-.408-.326-.74-.723-.74z"}),EMOJI_FOOD_AND_DRINK:n.a.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:n.a.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION_ALT:n.a.createElement("path",{d:"M2.097 15.85c-.285.517.09 1.15.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66c-.295-.537-1.065-.537-1.36 0L2.098 15.85zm8.68-4.282c0 .428-.348.776-.777.776s-.776-.348-.776-.776V8.464c0-.428.347-.776.776-.776s.777.348.777.776v3.104zM10 15.448c-.43 0-.776-.35-.776-.777s.347-.775.776-.775c.43 0 .777.348.777.776s-.348.777-.777.777z"}),EXPAND:n.a.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:n.a.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),FEEDBACK:n.a.createElement("path",{d:"M19.07 10.56l.25-.234c.44-.41.68-.91.68-1.413 0-1.26-1.346-2.04-2.593-2.04h-4.91l.212-.627c.35-1.04.443-2.35.262-3.693-.184-1.37-1.03-2.337-2.204-2.524-.624-.097-1.237.055-1.638.415-.213.19-.46.528-.434 1.053.064 1.327-.36 2.35-1.52 3.64-.135.154-.276.307-.42.458-.523.547-1.11 1.1-1.747 1.647-.14.16-.186.215-.248.366v11.45l11.12-.01c.95 0 2.06-.54 2.06-1.915 0-.3-.06-.576-.176-.82l-.176-.372.34-.23c.494-.33.734-.735.734-1.235 0-.293-.064-.574-.193-.836l-.19-.39.37-.227c.496-.3.747-.74.747-1.294 0-.296-.064-.595-.184-.858l-.14-.31-.003-.002zM.01 8.096L0 19.526c0 .255.18.473.476.473h2.38V7.62H.477c-.295 0-.467.222-.467.476z"}),FINANCE:n.a.createElement("path",{d:"M17.5 3.5v1.7l-6.2 6.2-3.9-3.6-4.9 5.4v-1.7l4.9-5.4 3.9 3.6 6.2-6.2zm-6 9.8l6-6.2v9.4h-15v-1.09L7.4 9.9l4.1 3.4z"}),FOLDER:n.a.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:n.a.createElement("path",{d:"M10.442 16.956c-.515.385-1.238.01-1.238-.62V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.97 1.238-.62l7.74 5.81c.363.272.456.894 0 1.237l-7.74 5.834z"}),GETAWAYFILL:n.a.createElement("path",{d:"M17.1 16.2c.4-.3 1-.8 2-.8V17c-.5 0-.6.2-1 .5-.3.3-1 .8-2 .8-.9 0-1.5-.5-1.9-.8s-.6-.5-1-.5c-.5 0-.7.2-1 .5-.5.3-1 .8-2.1.8-1.16 0-1.75-.5-2.14-.8-.34-.3-.53-.5-1-.5s-.65.2-1 .5c-.42.3-.99.8-2.05.8-1.07 0-1.64-.5-2.06-.8-.34-.3-.53-.5-1-.5v-1.6c1.06 0 1.63.5 2.06.8.34.3.53.4 1 .4s.65-.1 1-.4c.42-.3.99-.8 2.05-.8 1.07 0 1.64.5 2.06.8.33.3.5.4.98.4.5 0 .6-.1 1-.4.5-.3 1-.8 2.1-.8 1 0 1.5.5 2 .8.4.3.5.4 1 .4s.7-.1 1-.4zM5.91 7.75c-1.37-.4-2.34-1.91-2.44-2.09-.23-.37-.14-.84.21-1.1 2.15-1.6 4.84-2.22 7.52-1.75v-.45c.2-.44.6-.71 1-.59.5.12.8.58.6 1.02l-.1.45c2.5.89 4.4 2.75 5.4 5.21.3.4.2.9-.2 1-.3.1-1.3.75-2.4.75-.4 0-.5 0-.9-.1-.7-.25-1.4-.95-1.8-1.45-.4.2-1 .3-1.6.3L9.69 14.5c-.1.4-.42.6-.84.6h-.16c-.48-.1-.74-.6-.62-1.1l1.45-5.45c-.5-.3-.92-.7-1.18-1.1-.62.3-1.56.5-2.43.3z"}),GIF_BOX:n.a.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.497 3 18.3 3H1.768C1.34 3 1 3.396 1 3.813v13.405c0 .49.378.782.767.782H18.3c.487 0 .7-.235.7-.783V3.715c0-.196-.115-.39-.213-.49zM17.5 16.5h-15v-12h15v12zM13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .8-.085 1.097-.255.173-.097.368-.265.585-.503l.113.69H9v-2.753H7v.836h1.03c-.055.328-.204.594-.445.797-.24.203-.55.304-.928.304-.385 0-.73-.128-1.03-.384-.303-.256-.454-.692-.454-1.308 0-.612.14-1.07.42-1.374s.633-.458 1.067-.458c.227 0 .432.037.618.112.33.136.56.386.646.728H9c-.06-.482-.29-.896-.704-1.218-.416-.323-.966-.485-1.65-.485-.79 0-1.425.245-1.905.734-.48.49-.74 1.14-.74 1.95 0 .803.258 1.435.734 1.897.455.46 1.04.69 1.754.69z"}),GUEST_LIST:n.a.createElement("g",null,n.a.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .43.347.776.776.776h9.248c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136zM13.8 10.4c-.725 0-1.413.086-2.045.236.91.784 1.445 1.783 1.445 2.9V15.7h5.224c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136z"}),n.a.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),n.a.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HEART:n.a.createElement("path",{fill:"#ED1B32",d:"M10 18.183l-7.64-8.01C.545 8.27.545 5.17 2.357 3.267c.89-.934 2.072-1.45 3.334-1.45C8.3 1.816 9.517 3.896 10 4.29c.498-.406 1.688-2.473 4.308-2.473 1.262 0 2.446.514 3.334 1.45 1.81 1.904 1.81 5.003 0 6.907L10 18.184z"}),HOME:n.a.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),"IMAGEOFF-FILL":n.a.createElement("path",{d:"M14.137 10.382l5.035 4.4V2.917c0-.46-.373-.834-.833-.834H4.64l7.426 6.49 2.07 1.808zM19.53 17.18L1.587 1.54c-.354-.308-.89-.273-1.2.082-.308.354-.27.89.083 1.2l.358.31v13.954c0 .46.373.833.833.833h16.126l.626.545c.16.14.36.21.56.21.235 0 .47-.1.64-.292.308-.353.27-.89-.083-1.2zM2.5 15.427L6.666 8.76l1.58 2.528-1.44 2.09c-.26.378-.127.87.296 1.1.383.21.86.123 1.143-.17l1.986-2.98 4.7 4.098H2.5z"}),INBOX:n.a.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:n.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INFO:n.a.createElement("path",{d:"M10 7.1c-.4 0-.8-.3-.8-.8.1-.3.4-.7.8-.7s.8.3.8.8c0 .4-.4.7-.8.7zm.7 5.8c0 .4-.3.7-.7.7s-.7-.3-.7-.7V9.3c0-.4.3-.7.7-.7s.7.3.7.7v3.6zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),INPUT_ARROW_DOWN:n.a.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:n.a.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:n.a.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.74-2h4.703c.498 0 .902-.437.902-.987S8.744 6 8.246 6H3.542C1.554 6 0 7.804 0 10c0 1.064.31 2.065.992 2.817C1.672 13.57 2.58 14 3.542 14h4.704c.498 0 .902-.463.902-1.013 0-.55-.403-.987-.9-.987zM18.944 7.183C18.262 6.43 17.356 6 16.394 6h-4.705c-.5 0-.903.463-.903 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.34.376-.794.592-1.275.592H11.69c-.5 0-.903.437-.903.987 0 .275.1.524.264.704.164.18.39.293.64.293l4.703.017c.963 0 1.87-.43 2.55-1.183C19.626 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817zM6.684 10.005c0 .273.097.52.255.7s.374.295.615.295h4.89c.482 0 .872-.45.872-.996 0-.547-.39-1.005-.87-1.004H7.554c-.48 0-.87.458-.87 1.005z"}),LIST_ORDERED:n.a.createElement("path",{d:"M7 5h10c.552 0 1-.448 1-1s-.448-1-1-1H7c-.552 0-1 .448-1 1s.448 1 1 1zM17 9H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM17 15H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM4.297 15.865v-.01c.187-.052.328-.15.422-.293.093-.143.14-.308.14-.495 0-.173-.04-.325-.12-.457-.082-.132-.187-.244-.314-.336-.13-.092-.273-.16-.435-.206-.16-.045-.32-.068-.482-.068-.207 0-.395.032-.564.096-.17.064-.313.155-.434.272-.12.117-.215.258-.282.422-.068.162-.105.343-.113.54h.777c-.003-.197.048-.36.153-.49s.262-.197.468-.197c.15 0 .283.044.398.133.116.088.172.214.172.38 0 .108-.028.196-.083.263-.057.065-.127.116-.212.15-.086.035-.18.057-.28.065-.1.006-.193.006-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06.093.034.17.09.228.167.06.077.09.19.09.336 0 .187-.064.335-.19.443-.127.107-.28.16-.467.16-.117 0-.22-.02-.306-.06-.086-.04-.158-.094-.215-.16-.06-.07-.102-.15-.134-.244-.03-.093-.047-.19-.05-.294h-.778c-.003.224.03.422.1.594.072.172.172.32.302.438.132.12.29.21.475.272.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242.14-.108.25-.24.33-.398.083-.157.126-.337.126-.538 0-.22-.064-.41-.19-.567-.127-.158-.3-.26-.523-.308zM3.44 10.964c.133-.1.27-.196.413-.283s.28-.176.42-.266c.14-.09.266-.19.374-.3.11-.11.2-.235.267-.377.067-.142.1-.312.1-.51 0-.19-.038-.363-.114-.517-.078-.152-.18-.28-.31-.385-.13-.106-.28-.186-.452-.24-.17-.057-.35-.085-.54-.085-.247 0-.465.04-.657.12-.19.08-.347.192-.474.337-.126.143-.22.312-.282.504-.064.193-.09.4-.083.627h.803c0-.107.01-.212.033-.32.02-.104.056-.202.11-.29.05-.088.117-.158.202-.212.085-.055.188-.083.31-.083.18 0 .33.055.445.16.117.108.173.255.173.446 0 .12-.028.226-.086.32-.056.094-.127.177-.21.252s-.18.14-.28.204c-.104.062-.2.122-.29.183-.177.115-.344.23-.504.342-.16.11-.3.232-.415.365-.118.133-.21.282-.28.45-.07.17-.102.367-.102.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2H3.3c-.022.152-.075.28-.156.382-.08.103-.18.185-.297.25-.116.062-.246.105-.393.13-.146.025-.298.036-.454.032v.61h1.118V6z"}),LIST_ORDERED_FLIPPED:n.a.createElement("path",{d:"M13 3H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 9H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 15H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM17.26 15.86v-.01c.19-.05.33-.15.42-.29.09-.14.14-.31.14-.49 0-.17-.04-.33-.12-.46-.08-.13-.19-.24-.31-.34-.13-.09-.27-.16-.44-.21-.16-.04-.32-.06-.48-.06-.21 0-.4.03-.56.1-.17.06-.31.16-.43.27-.12.12-.22.26-.28.42-.07.16-.11.34-.11.54h.78c0-.2.05-.36.15-.49s.26-.2.47-.2c.15 0 .28.04.4.13s.17.21.17.38c0 .11-.03.2-.08.26-.06.07-.13.12-.21.15-.09.03-.18.06-.28.06-.1.01-.19.01-.28 0v.55c.1 0 .2 0 .31.01.11.01.21.03.3.06s.17.09.23.17c.06.08.09.19.09.34 0 .19-.06.34-.19.44-.13.11-.28.16-.47.16-.12 0-.22-.02-.31-.06-.09-.04-.16-.1-.22-.16-.06-.07-.1-.15-.13-.24s-.05-.19-.05-.29h-.78c0 .22.03.42.1.59.07.17.17.32.3.44.13.12.29.21.47.27.19.06.39.09.62.09.2 0 .39-.03.56-.08.18-.06.34-.14.48-.24.14-.11.25-.24.33-.4.08-.16.13-.34.13-.54 0-.22-.06-.41-.19-.57-.13-.14-.31-.25-.53-.3zM16.05 11.32c.1-.13.22-.25.35-.35.13-.1.27-.2.41-.28s.28-.18.42-.27c.14-.09.27-.19.37-.3.11-.11.2-.24.27-.38s.1-.31.1-.51c0-.19-.04-.36-.11-.52-.08-.15-.18-.28-.31-.39-.13-.11-.28-.19-.45-.24-.17-.05-.35-.08-.54-.08-.25 0-.47.04-.66.12-.19.08-.35.19-.48.34-.13.14-.22.31-.28.5-.06.19-.09.4-.08.63h.8c0-.11.01-.21.03-.32.02-.11.06-.2.11-.29.05-.09.12-.16.2-.21.09-.05.19-.08.31-.08.18 0 .33.05.45.16s.17.25.17.45c0 .12-.03.23-.09.32-.04.08-.11.17-.2.24s-.18.14-.28.2c-.1.06-.2.12-.29.18-.18.12-.34.23-.5.34-.16.11-.3.23-.41.37-.12.13-.21.28-.28.45-.07.17-.1.37-.1.59H18v-.68h-1.95zM16.08 6h.9V2h-.72c-.02.15-.08.28-.16.38-.08.1-.18.19-.3.25s-.25.11-.39.13c-.15.02-.3.04-.45.03v.61h1.12V6z"}),LIST_UNORDERED:n.a.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:n.a.createElement("path",{d:"M10 10.004c-1.183 0-2.07-.883-2.07-2.06s.887-2.06 2.07-2.06 2.07.883 2.07 2.06-.985 2.06-2.07 2.06m0-9.006C6.155.998 3 4.18 3 8c0 3.232 4.732 8.87 6.21 10.633.494.49.987.49 1.48 0C12.17 16.968 17 11.33 17 8c0-3.82-3.155-6.996-7-6.996"}),LOCK:n.a.createElement("path",{d:"M10 10.1c-.4 0-.7.3-.7.7v2.7c0 .4.3.7.7.7s.7-.3.7-.7v-2.7c0-.4-.3-.7-.7-.7zm0-6c-2.6 0-2.7 2.7-2.7 2.7h5.3c.1 0 .1-2.7-2.6-2.7zm6 13.3H4c-.4 0-.7-.3-.7-.7V7.4c0-.4.3-.7.7-.7h2c0-2.2 1.8-4 4-4s4 1.8 4 4h2c.4 0 .7.3.7.7v9.3c0 .4-.3.7-.7.7z"}),MAGIC:n.a.createElement("path",{d:"M12.94 9.89c-.11 0-.19-.09-.19-.19s.09-.19.19-.19c.65 0 1.17-.53 1.17-1.18 0-.11.09-.19.19-.19.11 0 .2.09.2.19 0 .65.52 1.18 1.17 1.18.11 0 .2.09.2.19s-.09.2-.2.2c-.65 0-1.17.53-1.17 1.18 0 .11-.09.19-.2.19-.11 0-.19-.09-.19-.19.01-.66-.52-1.19-1.17-1.19zM5.99 7.94c-.06 0-.12-.05-.12-.12 0-.06.05-.12.12-.12.39 0 .7-.32.7-.71 0-.06.05-.12.12-.12.06 0 .12.05.12.12 0 .39.31.71.7.71.06 0 .12.05.12.12 0 .06-.05.12-.12.12-.39 0-.7.32-.7.71 0 .06-.05.12-.12.12-.06 0-.12-.05-.12-.12 0-.39-.31-.71-.7-.71zm1.96-2.43c-.11 0-.2-.09-.2-.19s.09-.2.2-.2c.65 0 1.17-.53 1.17-1.18 0-.11.09-.19.2-.19.11 0 .2.09.2.19 0 .65.52 1.18 1.17 1.18.11 0 .2.09.2.2s-.09.2-.2.2c-.65 0-1.17.53-1.17 1.18 0 .11-.09.19-.19.19-.11 0-.2-.09-.2-.19-.01-.65-.54-1.19-1.18-1.19zm4.99-.62c-.11 0-.19-.09-.19-.19s.09-.2.19-.2c.65 0 1.17-.53 1.17-1.18 0-.11.09-.19.19-.19.11 0 .2.09.2.19 0 .65.52 1.18 1.17 1.18.11 0 .2.09.2.2s-.09.2-.2.2c-.65 0-1.17.53-1.17 1.18 0 .11-.09.19-.2.19-.11 0-.19-.09-.19-.19.01-.66-.52-1.19-1.17-1.19zM11.77 6.7c.25-.25.64-.25.89 0 .24.24.25.63 0 .89l-1.47 1.47-.88-.88 1.46-1.48zm-2.1 2.09l.88.88-6.48 6.48c-.24.24-.64.25-.89 0-.24-.24-.24-.64 0-.89l6.49-6.47z"}),MESSENGER:n.a.createElement("path",{d:"M10 2c-4.42 0-8 3.58-8 8 0 4.417 3.58 8 8 8 4.417 0 7.998-3.583 7.998-8 0-4.42-3.58-8-7.998-8zm2.264 4.563c.51 0 .922.413.922.922 0 .51-.413.922-.922.922-.51 0-.922-.413-.922-.922 0-.51.413-.922.922-.922zm-4.553 0c.51 0 .923.424.923.948s-.413.948-.922.948c-.508 0-.92-.424-.92-.948s.412-.947.92-.947zm5.954 7.386c-.816.715-2.664 1.064-3.653 1.05-1.01.014-2.836-.335-3.652-1.05-1.24-1.09-1.376-2.95-1.376-3.363H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:n.a.createElement("path",{d:"M13.75 9.25h-7.5c-.414 0-.75.336-.75.75s.336.75.75.75h7.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),MIXED_CHECKBOX:n.a.createElement("g",null,n.a.createElement("path",{fill:"#188FFF",d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1z"}),n.a.createElement("path",{d:"M14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:n.a.createElement("g",null,n.a.createElement("circle",{cx:"3",cy:"10",r:"2"}),n.a.createElement("circle",{cx:"10",cy:"10",r:"2"}),n.a.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:n.a.createElement("path",{d:"M17.25 5h-6.77l-.715-1.563C9.643 3.171 9.375 3 9.083 3H2.75c-.414 0-.75.336-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.94l3.53 3.53c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22s-.384-.073-.53-.22l-1.72-1.72V17h6.5c.414 0 .75-.336.75-.75V5.75c0-.414-.336-.75-.75-.75z"}),NOTEPAD:n.a.createElement("path",{d:"M13 14.73V18l4-4h-3.11c-.66 0-.89.063-.89.73zM16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.23c.018-.832.438-1.25 1.266-1.256H17V3c-.007-.667-.34-1-1-1zM9 14H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75H9c.43 0 .778.335.778.75S9.428 14 9 14zm4.11-3.5H6.89c-.43 0-.78-.335-.78-.75S6.46 9 6.89 9h6.22c.43-.01.78.335.78.75s-.35.75-.78.75zm0-3.5H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75h6.22c.43 0 .78.335.78.75s-.35.75-.78.75z"}),NO_INTERNET:n.a.createElement("g",null,n.a.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),n.a.createElement("path",{d:"M19.268 7.865c-.31-.313-.635-.61-.967-.884C15.97 5.06 13.02 4 9.996 4S4.018 5.06 1.687 6.983c-.323.268-.637.552-.933.848-.34.34-.34.892 0 1.233.34.34.892.34 1.232 0 .258-.26.528-.505.81-.738C4.815 6.66 7.37 5.74 9.995 5.74c2.62 0 5.177.918 7.197 2.585.29.238.57.495.84.765.17.172.393.258.617.258.22 0 .443-.084.613-.252.34-.338.344-.888.005-1.23zM11 11.41V7.832c0-.507-.45-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .505.45.916 1 .916s1-.41 1-.916zM7.057 8.843c-.844.288-1.646.7-2.384 1.23-.394.284-.77.602-1.113.945-.34.34-.34.89-.002 1.23.17.172.393.257.616.257.222 0 .444-.085.615-.254.278-.278.58-.534.9-.763.445-.322.926-.573 1.424-.782.104-.044.17-.143.17-.255V9.01c.002-.12-.116-.205-.227-.167zM15.348 10.072c-.715-.515-1.49-.917-2.305-1.202-.146-.05-.3.063-.3.218v1.365c0 .112.066.21.17.254.495.208.974.46 1.42.778.315.228.62.486.9.766.34.34.893.34 1.232-.003s.337-.892-.004-1.232c-.348-.344-.722-.662-1.112-.943z"})),"NONE-BELL":n.a.createElement("path",{d:"M16.065 13.117c-.28-.85-.43-1.745-.43-2.654v-2.77c0-2.626-1.69-4.918-4.062-5.708-.185-.06-.374-.108-.566-.15v-.17c0-.69-.56-1.25-1.25-1.25s-1.25.558-1.25 1.25v.17c-.192.042-.382.09-.567.15-.712.238-1.36.612-1.922 1.087l10.045 10.045h.002zM9.758 19.583c1.035 0 1.875-.84 1.875-1.875h-3.75c0 1.035.84 1.875 1.875 1.875zM18.504 17.914h.003L2.674 2.085c-.325-.326-.854-.326-1.18 0-.324.324-.324.85 0 1.178l2.653 2.652c-.174.565-.27 1.162-.27 1.78v2.77c0 1.764-.55 3.48-1.57 4.91-.3.468-.565.69-.654.92-.08.21.05.576.35.576v.004h13.103l2.22 2.22c.163.163.376.244.59.244.21 0 .425-.08.588-.244.325-.326.325-.853 0-1.18z"}),ORB:n.a.createElement("path",{d:"M.76 14.462c.505 1.253 1.21 2.29 2.115 3.11.903.818 1.966 1.424 3.182 1.82 1.22.392 2.538.59 3.96.59 1.4 0 2.708-.2 3.924-.59.49-.16 1.852-.62 3.185-1.82.906-.817 1.61-1.856 2.116-3.11.507-1.255.76-2.742.76-4.462 0-1.72-.253-3.208-.76-4.462-.505-1.255-1.21-2.29-2.115-3.108-.904-.82-1.964-1.426-3.184-1.82C12.726.216 11.417.02 10.02.02c-1.423 0-2.74.196-3.96.59-.396.127-1.83.62-3.183 1.82-.912.81-1.61 1.854-2.116 3.108C.252 6.793 0 8.278 0 10c0 1.72.253 3.207.76 4.462z"}),OUTDENT:n.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),PEOPLE:n.a.createElement("path",{d:"M5.5 10.6c1.64 0 3.078.828 3.863 2.062.36.564-.03 1.317-.684 1.317H2.32c-.652 0-1.042-.754-.683-1.318.785-1.234 2.222-2.06 3.863-2.06zm8.5 2.025c1.64 0 3.078.827 3.863 2.06.36.565-.03 1.318-.684 1.318h-6.36c-.652 0-1.042-.753-.683-1.317.785-1.234 2.222-2.06 3.863-2.06zM5.5 9C4.12 9 3 7.88 3 6.5S4.12 4 5.5 4 8 5.12 8 6.5 6.88 9 5.5 9zm8.5 2c-1.38 0-2.5-1.12-2.5-2.5S12.62 6 14 6s2.5 1.12 2.5 2.5S15.38 11 14 11z"}),POP_OUT:n.a.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9zM17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"}),PRINTER:n.a.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2zM17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"}),READ:n.a.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),REFRESH:n.a.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:n.a.createElement("path",{d:"M8.71 15.946c.503.432 1.28.075 1.28-.587v-2.622c5.05 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.48-.262-.42-6.662-3.91-10.728-8.5-10.728V3.534c0-.662-.775-1.02-1.277-.588l-6.95 6.02c-.364.312-.36.875.01 1.18l6.938 5.8z"}),REPLY_ALL:n.a.createElement("path",{d:"M2.044 9.406l5.86-5.045c.324-.32.324-.838 0-1.16-.326-.32-.854-.32-1.18 0L.245 8.78c-.325.32-.325.84 0 1.16l6.507 6.42c.326.32.854.32 1.18 0 .325-.32.325-.84 0-1.16L2.043 9.407zM12.725 6.617V3.89c0-1.06-1.123-1.108-1.576-.694L4.804 9.14c-.348.32-.345.83.014 1.145l6.388 6.1c.63.525 1.526.162 1.526-.562l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.22.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.44-9.216-7.275-9.216z"}),RESTORE_TO_INBOX:n.a.createElement("path",{d:"M18 4.174V3.78c0-.414-.325-.75-.727-.75H2.727c-.402 0-.727.336-.727.75v.394l8 3.782 8-3.782zM8.267 13.468l6.194-4.955c.403-.3 1.058-.073 1.058.528v1.968H18V5.824L10 9.53 2 5.826v8.456c0 .416.325.75.728.75h6.17l-.63-.506c-.39-.292-.31-.823 0-1.056zM19.678 12.51h-5.64v-.984c0-.3-.328-.414-.53-.264l-3.095 2.476c-.154.116-.194.382 0 .528l3.096 2.487c.218.164.527.004.527-.264v-.997h5.64c.183 0 .327-.16.327-.34v-2.306c0-.182-.144-.338-.326-.338z"}),RICHTEXT_OFF:n.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897c-.195.195-.513.195-.707 0-.195-.194-.195-.512 0-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:n.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5c-.275 0-.5-.225-.5-.5s.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:n.a.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4zM7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),SEARCH:n.a.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:n.a.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5zM13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76.01-2.37 1.92-4.29 4.29-4.29z"}),SEARCH_MINI:n.a.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596 0-2.515-2.04-4.555-4.555-4.555C6.54 4.49 4.5 6.53 4.5 9.047s2.04 4.556 4.555 4.556c.957 0 1.843-.298 2.576-.802l2.47 2.468c.16.16.37.24.58.24s.42-.08.58-.24c.32-.32.32-.84 0-1.16zm-6.205-2c-1.69 0-3.06-1.37-3.06-3.062 0-1.69 1.37-3.06 3.06-3.06s3.062 1.37 3.062 3.06-1.372 3.062-3.062 3.062z"}),SEARCH_WEB:n.a.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51c-.02-4.58-3.88-8.25-8.53-7.95-3.92.25-7.12 3.38-7.45 7.28-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01c.61-1.31 1.63-2.39 2.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06-1.27-.67-2.29-1.75-2.9-3.06zM17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"}),SELECTED:n.a.createElement("path",{d:"M10.83 16.338c-.49.385-1.184.385-1.676 0L0 9.4v9.585C0 19.585.43 20 1.077 20h17.846c.63 0 1.077-.415 1.077-1.015v-9.6l-9.17 6.953zM.37 8.985l9.168 6.8c.246.185.585.185.83 0l9.263-6.8c.186-.138.186-.415 0-.554L10.71.23c-.415-.307-1-.307-1.415 0L.37 8.43c-.185.14-.185.416 0 .555z"}),SENT:n.a.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:n.a.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.42-3.157 3.167-3.157c1.746 0 3.167 1.416 3.168 3.157 0 1.74-1.422 3.157-3.168 3.157m8.66-4.62c-.023-.005-.084-.02-1.344-.22l-1.018-.17c-.03-.004-.056-.026-.065-.056l-.005-.018-.008-.018-.038-.093c-.09-.215-.302-.732-.405-.973l-.006-.016-.01-.015c-.013-.027-.012-.06.007-.086l1.374-1.91c.132-.182.12-.43-.032-.603-.027-.028-.505-.505-1.43-1.425-.09-.09-.21-.14-.34-.14-.1 0-.196.03-.278.09l-1.92 1.37c-.012.01-.03.015-.048.015-.023-.003-.03-.005-.037-.01l-.02-.008-.018-.01-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027c-.24 0-.44.172-.477.408l-.38 2.307c-.004.01-.015.036-.045.063-.14.065-.794.33-1.08.447l-.036.015-.022.008-.02.01c-.01.006-.023.01-.036.01-.01 0-.03-.003-.046-.016l-.1-.072C4.98 2.888 4.957 2.874 4.935 2.862c-.07-.042-.154-.064-.24-.064-.06 0-.215.012-.335.123l.002.002c-.046.043-.17.166-.58.573l-.846.844-.01.01-.012.012c-.136.16-.158.372-.055.557v-.003c.082.14.354.515 1.4 1.955.017.023.02.057.005.084l-.01.016-.006.017-.043.097c-.134.317-.254.6-.404.974l-.006.016-.005.015c-.01.03-.035.054-.066.06L1.4 8.53c-.232.036-.403.237-.403.476v1.988c0 .237.177.44.412.476l2.316.38c.03.006.057.03.066.058l.004.014.005.014c.17.43.293.74.453 1.086l.005.01.005.01c.015.028.012.063-.007.09l-1.373 1.907-.077.167c-.038.16.007.335.13.456l.09.087 1.32 1.316c.09.09.21.14.34.14.103 0 .202-.03.285-.092l1.89-1.35c.03-.015.052-.023.066-.023.01 0 .036.003.086.02l.05.022c.373.16.642.276 1.02.42l.013.006.013.004c.03.01.052.035.058.065l.384 2.318c.028.21.252.405.478.405h1.994c.24 0 .44-.172.477-.408l.378-2.286c.02-.06.047-.094.214-.153.353-.14.62-.246.962-.4.03-.01.056-.015.07-.015.007 0 .022 0 .053.018l1.902 1.358.015.012.02.01c.076.047.162.07.25.07.114 0 .223-.04.314-.117l.012-.012.012-.012.705-.703c.56-.563.703-.708.753-.77.055-.074.13-.22.07-.413-.004-.017-.01-.034-.02-.055l-.01-.025H17.2c-.057-.108-.198-.3-.547-.773l-.86-1.197c-.018-.026-.02-.06-.006-.087l.01-.017.006-.018.434-1.047c.047-.085.066-.1.108-.113 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005c.208-.078.317-.285.317-.448V9.006c.002-.22-.146-.41-.37-.468"}),SHARE:n.a.createElement("path",{d:"M16.756 14.043c-.414 0-.75.335-.75.75v1.252h-12v-1.252c0-.415-.336-.75-.75-.75s-.75.335-.75.75v2.002c0 .413.336.735.75.735h13.74c.413 0 .51-.322.51-.735v-2.002c0-.415-.336-.75-.75-.75zM18.77 7.482c.303-.25.307-.715.01-.972l-5.726-4.957c-.413-.356-1.052-.062-1.052.484v1.99c-3.78 0-6.653 3.35-7 8.835-.045.706.93.873 1.22.216.132-.51 1.623-3.462 5.78-3.462v2.158c0 .546.64.84 1.054.484l5.714-4.776z"}),SHARE_SOCIAL:n.a.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SHOPPING:n.a.createElement("path",{d:"M16.8 7h-3.4v-.7C13.4 4.5 11.9 3 10 3S6.6 4.5 6.6 6.3V7H3.2c-.5 0-.8.4-.7.8l1.9 8.7c.1.3.4.5.7.5H15c.3 0 .6-.2.7-.5l1.8-8.7c0-.1 0-.8-.7-.8zM12 7H8v-.7c0-1.1.9-2 2-2s2 .9 2 2V7z"}),SPAM:n.a.createElement("path",{d:"M12.84 11.7c.314.314.314.825 0 1.14-.316.316-.827.316-1.142 0l-1.7-1.7-1.697 1.7c-.314.316-.825.316-1.14 0-.315-.314-.315-.826 0-1.14l1.7-1.7-1.724-1.724c-.316-.315-.316-.826 0-1.14.316-.316.826-.316 1.14 0l1.725 1.723 1.725-1.725c.315-.315.826-.315 1.14 0s.316.826 0 1.14L11.142 10l1.7 1.7zm4.18-7.027c-1.296-.09-3.867-.6-6.512-2.977-.145-.13-.327-.196-.51-.196-.18 0-.363.065-.507.196C6.847 4.074 4.276 4.583 2.98 4.673c-.41.03-.706.38-.707.79 0 9.375 6.28 12.534 7.462 12.987.087.034.18.05.27.05.09 0 .18-.016.265-.047 1.182-.438 7.46-3.578 7.46-12.99 0-.412-.295-.762-.706-.79z"}),SPONSORED:n.a.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:n.a.createElement("path",{d:"M15.718 8.35c-.066-.205-.256-.35-.47-.35h-3.656l-1.13-3.475c-.066-.203-.256-.34-.47-.34s-.403.137-.47.34L8.393 8H4.736c-.214 0-.403.145-.47.35-.066.203.007.426.18.552l2.958 2.152-1.13 3.482c-.066.204.006.427.18.553.173.125.407.125.58 0l2.958-2.153 2.958 2.152c.087.062.19.094.29.094s.205-.032.29-.095c.174-.127.247-.35.18-.554l-1.13-3.482 2.96-2.152c.172-.126.244-.35.178-.553z"}),STATIONERY:n.a.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.96-.78L2 3v14c0 .548.45 1 1 1h14.007c.548 0 .993-.45.993-1V4c0-.548-.445-1-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12zM10 14.5l3.397-3.426c.804-.814.804-2.14 0-2.954-.395-.4-.922-.62-1.482-.62-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.56 0-1.087.22-1.482.62-.805.814-.805 2.14 0 2.955L10 14.5z"}),STRIKETHROUGH:n.a.createElement("path",{d:"M8.5 7.5c-.3-.3-.8-.7-.8-1.7 0-1.2.9-2.3 2.8-2.3 1.5 0 2.3 1.1 2.7 2.1.2.4.7.7 1.3.4.5-.2.5-.8.3-1.1-.6-1.2-1.3-2.9-4.3-2.9C7.4 2 6 3.9 6 5.8c0 .9.2 1.2.5 1.7h2zM16.2 9H3.8c-.5 0-.8.3-.8.7s.3.8.8.8H10c2 .4 2.9 1.3 2.9 2.8 0 1.6-1 2.7-2.9 2.7s-2.6-.9-3-2c-.1-.4-.6-.8-1.1-.6-.3.1-.7.5-.6 1 .4 1.4 1.7 3.1 4.7 3.1s4.5-1.9 4.5-4.3c0-1.3-.4-2-1-2.7h2.7c.4 0 .8-.4.8-.8s-.3-.7-.8-.7z"}),TAB_IMAGES:n.a.createElement("path",{d:"M3.46 14.636l3.633-5.814 1.38 2.206-1.26 1.824c-.226.33-.11.76.26.96.334.18.75.104.996-.15l3.71-5.568 4.36 6.54H3.46v.002zM17.272 3H2.728C2.326 3 2 3.326 2 3.727v12.356c0 .4.326.726.728.726h14.546c.4 0 .727-.326.727-.727V3.727c0-.4-.326-.727-.727-.727z"}),TEXT:n.a.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:n.a.createElement("g",null,n.a.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),n.a.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),n.a.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),n.a.createElement("path",{d:"M15.9 4"})),TRAVEL:n.a.createElement("path",{d:"M6 7.59c-.1-.1-.06-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.114.115-.06.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.33 2.333c-.24.226-.24.46-.16.54.1.1.133.13.29.13H11c.1 0 .096-.005.2-.1l3-2.903h2.088c.9 0 2.182-.36 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.34.18-.04.232.036.295.14.42L9.712 8z"}),TRUSTED:n.a.createElement("path",{d:"M17 4.7c-1.3-.1-3.9-.6-6.5-3-.1-.1-.3-.2-.5-.2s-.4.1-.5.2C6.8 4.1 4.3 4.6 3 4.7c-.4 0-.7.4-.7.8 0 9.4 6.3 12.5 7.5 13h.6c1.2-.4 7.5-3.6 7.5-13-.2-.4-.5-.8-.9-.8zm-2.4 2.6c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0L9 11.8l4.5-4.5c.4-.3.9-.3 1.1 0z"}),TUMBLR:n.a.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),UNLOCK:n.a.createElement("path",{d:"M12.5 9.8c-.4 0-.7.3-.7.7v2.7c0 .4.3.7.7.7s.7-.3.7-.7v-2.7c0-.4-.3-.7-.7-.7zm-5 7.3c-.4 0-.7-.3-.7-.7V7.1c0-.4.3-.7.7-.7h10c.4 0 .7.3.7.7v9.3c0 .4-.3.7-.7.7h-10zM9.2 6.5s-.1-2.7-2.7-2.7-2.7 2.7-2.7 2.7H2.5v-.2c.1-.8.7-3.8 4-3.8 3.8 0 4 4 4 4H9.2z"}),VIDEO_CALL:n.a.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBADGE:n.a.createElement("g",null,n.a.createElement("path",{d:"M16 3H4c-.5 0-1 .5-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.5 1-1V4c0-.5-.5-1-1-1z",fill:"#400090"}),n.a.createElement("path",{d:"M10.7 15.1H10c-.3 0-.5 0-.7.1v-.1c0-.3.1-4.3.1-4.3-.2-.4-3.5-5.9-3.5-5.9.2.1.5.1.7.1.3 0 .5-.1.7-.1.5.7 2.6 4.2 2.7 4.4.1-.1 2.2-3.7 2.6-4.4.2.1.5.1.7.1.3 0 .5 0 .7-.1 0 0-3.3 5.6-3.5 5.9.1 0 .2 4 .2 4.3z",fill:"#fff"})),TAP_TO_TOP:n.a.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"}),SIDEBAR:n.a.createElement("path",{d:"M17.2 6H2.8C2.358 6 2 5.552 2 5s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1z"}),SOLID_CIRCLE:n.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8"}),HOTELS:n.a.createElement("path",{d:"M18.182 8.364h-9.32l-1.7-2.956c-.148-.252-.416-.406-.707-.406h-3.82v-2.47c0-.452-.366-.818-.817-.818S1 2.08 1 2.65V17.38c0 .332.367.7.818.7s.818-.368.818-.82v-1.635h14.727v1.636c0 .45.367.817.818.817s.82-.366.82-.818V9.18c0-.452-.367-.818-.818-.818zM5.985 6.638l.954 1.726H2.635V6.638h3.35zM2.635 10H5.91v3.987H2.635V10zm4.91 0h9.818v3.987H7.545V10z"}),RESTAURANTS:n.a.createElement("path",{d:"M17.888 1.785L11.072 8.6l2.696 2.696 4.12-4.12c1.483-1.483 1.483-3.91 0-5.39m-9.1 6.652c.75-1.258.594-2.916-.487-3.996l-2.42-2.42c-.32-.322-.84-.322-1.16 0l-.016.015c-.316.315-.316.828 0 1.144l2.57 2.57c.16.16.16.42 0 .58-.16.16-.42.16-.58 0L4.132 3.77c-.32-.32-.84-.32-1.16 0-.32.32-.32.84 0 1.16L5.54 7.5c.16.16.16.42 0 .58-.16.16-.42.16-.58 0L2.38 5.498c-.314-.314-.823-.314-1.137 0L1.24 5.5c-.32.32-.32.84 0 1.16l2.42 2.422c1.07 1.07 2.705 1.23 3.96.507l1.24 1.24-5.98 5.983c-.32.32-.32.84 0 1.16.318.32.84.32 1.16 0l5.98-5.98 5.988 5.986c.32.318.842.318 1.16 0s.32-.842 0-1.16L8.79 8.437z"}),TICKETS:n.a.createElement("path",{d:"M16.667 1.022H12.5v.833c0 .06-.01.198-.04.384-.053.313-.147.625-.29.91-.383.768-1.04 1.205-2.17 1.205S8.213 3.918 7.83 3.15c-.143-.285-.237-.597-.29-.91-.03-.186-.04-.324-.04-.385v-.833H3.333c-.457 0-.833.38-.833.846V18.19c0 .486.403.828.837.828.15 0 .307-.04.45-.134l1.935-1.418 1.603 1.383c.15.114.33.17.51.17.17 0 .338-.05.484-.153L10 17.47l1.682 1.398c.145.102.315.154.485.154.18 0 .36-.057.51-.172l1.6-1.383 1.937 1.418c.144.092.3.133.45.133.434 0 .836-.342.836-.827V1.87c0-.465-.375-.846-.833-.846zm-.834 15.53l-.568-.415-1.075-.788-1.008.87-1.025.885-1.087-.904-1.07-.89-1.07.892-1.087.904-1.027-.886-1.01-.87-1.074.788-.565.412V2.675H5.92v.012l.004.012c.08.37.207.78.414 1.195C6.995 5.21 8.214 6.022 10 6.022s3.005-.813 3.662-2.127c.21-.42.34-.833.417-1.21.002-.012 0 .004 0 .004v-.014h1.753v13.876zM13.333 11.35H6.667c-.46 0-.833.37-.833.828 0 .456.372.827.833.827h6.665c.46 0 .833-.37.833-.827 0-.457-.37-.827-.832-.827zM13.33 8H6.664c-.46 0-.833.37-.833.827 0 .456.373.827.834.827h6.665c.46 0 .832-.37.832-.827 0-.458-.37-.827-.832-.827z"}),THEATERS:n.a.createElement("path",{d:"M18.695 4.19c.222.18.334.462.298.746l-.827 6.617c-.03 2.732-2.262 4.946-5 4.946-.025 0-.05-.004-.075-.004-.396 2.362-2.45 4.17-4.924 4.17-2.738 0-4.97-2.214-5-4.946L2.34 9.103c-.036-.284.078-.565.298-.747.222-.182.524-.235.792-.147.023.007 2.195.718 4.417.783L7.34 4.937c-.036-.284.078-.566.298-.748.222-.183.524-.236.792-.147.024.008 2.408.79 4.737.79s4.712-.78 4.737-.79c.267-.09.57-.036.79.146zM8.167 19c1.66 0 3.028-1.222 3.28-2.81-1.894-.7-3.256-2.508-3.28-4.636l-.112-.892c-1.475-.013-2.922-.285-3.906-.523l.677 5.424c.004.034.007.07.007.103C4.834 17.505 6.328 19 8.167 19zm-.833-5.833c0 .46-.374.833-.834.833-.46 0-.833-.373-.833-.833s.373-.834.833-.834c.46 0 .834.374.834.834zm.833 4.166H6.5c0-.914.753-1.667 1.667-1.667s1.667.752 1.667 1.667H8.167zm8.34-5.936l.677-5.425c-1.007.245-2.503.528-4.017.528-1.513 0-3.01-.283-4.017-.528l.368 2.95.206 1.647.103.827c.004.034.007.07.007.103 0 1.287.742 2.394 1.812 2.95.157.08.32.146.49.203.087.03.173.06.265.083.07.017.14.028.21.042.183.03.367.056.557.056 1.838 0 3.333-1.495 3.333-3.333 0-.034.003-.07.007-.103zm-3.34.103h1.667c0 .914-.753 1.667-1.667 1.667S11.5 12.414 11.5 11.5h1.667zM12.334 9c0 .46-.373.833-.833.833s-.833-.373-.833-.833.373-.833.833-.833.834.373.834.833zm3.333 0c0 .46-.373.833-.833.833S14 9.46 14 9s.373-.833.833-.833.834.373.834.833z"}),CONCERTS:n.a.createElement("path",{d:"M18.62 1.368c-.505-.506-1.325-.506-1.832 0l-.717.718c-.262.262-.38.61-.37.953l-4.86 4.856-.12-2.453c-.02-.424-.333-.776-.75-.846-.414-.064-.83.16-.987.555L7.32 9.312 1.55 11.744c-.38.16-.602.555-.542.962.06.408.39.722.798.765l4.13.434.458 4.3c.043.405.355.732.758.794.047.007.092.01.137.01.355 0 .683-.208.828-.54l2.316-5.308 2.14-.77c.39-.14.635-.527.593-.94-.042-.41-.36-.74-.77-.8l-1.434-.205-.005-.12 6.03-6.03c.33 0 .66-.127.913-.38l.72-.717c.506-.506.506-1.326 0-1.832"}),SPORTS:n.a.createElement("path",{d:"M19.045 5.638c-.374-1.283-2.008-1.185-2.392-.1l-.216.613c-.192.463-.562.474-.89.474-.17 0-.333-.05-.472-.15-.506-.352-1.535-1.118-1.985-1.454-.144-.107-.317-.164-.497-.164h-1.555c-.16 0-.32.038-.45.132-1.076.78-3.58 2.628-7.74 3.41C1.746 8.606 1 9.786 1 11.018c0 1.11.686 2.655 1.805 2.655H3.5v.417c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h1.666v.416c0 .46.375.834.834.834.458 0 .833-.375.833-.834v-.416h1.667v.416c0 .46.375.834.833.834.458 0 .833-.375.833-.834v-.416H16v.416c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h.2c1.944 0 1.415-6.822 1.178-8.036zM3.415 9.994c.792-.28 1.078-.376 2.006-.666l2.68 2.68H3.78c-1.234 0-1.554-1.564-.364-2.014zm7.042 2.013l-3.3-3.3c.436-.176.845-.355 1.226-.535l3.835 3.835h-1.76zm6.9 0h-2.782L9.937 7.37c.605-.345 1.07-.647 1.366-.847h1.014c.555.413 1.357 1.007 1.803 1.32.42.292.913.448 1.427.448.846 0 1.574-.308 2.066-.853.124 1.48.066 3.664-.257 4.57z"}),FACEBOOK:n.a.createElement("path",{d:"M17.117 2H2.883C2.395 2 2 2.395 2 2.883v14.234c0 .488.395.883.883.883h7.663v-6.196H8.46V9.39h2.086V7.607c0-2.067 1.262-3.192 3.106-3.192.883 0 1.642.066 1.863.095v2.16l-1.28.002c-1.002 0-1.196.476-1.196 1.176V9.39h2.39l-.31 2.415h-2.08V18h4.076c.49 0 .884-.395.884-.883V2.883c0-.488-.395-.883-.883-.883z"}),FLICKR:n.a.createElement("g",null,n.a.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),n.a.createElement("circle",{cx:"14.8",cy:"10",r:"4",fill:"#fe0084"})),FLICKR_MONOCHROME:n.a.createElement("g",null,n.a.createElement("circle",{cx:"5.2",cy:"10",r:"4"}),n.a.createElement("circle",{cx:"14.8",cy:"10",r:"4"})),TWITTER:n.a.createElement("path",{d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),LINKEDIN:n.a.createElement("path",{d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.44-.914-1.44-.54 0-.946.293-1.215.576v4.27H8.904V8.835h2.104v.836c.365-.396.996-.887 1.878-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935c-.67 0-1.214-.544-1.214-1.214 0-.67.544-1.215 1.214-1.215.672 0 1.215.544 1.215 1.216 0 .67-.543 1.215-1.215 1.215zm1.066 7.162H5.3v-6.26h2.104v6.26zM17.922 2.53c-.053-.12-.117-.217-.195-.295-.078-.078-.17-.137-.273-.176-.105-.04-.222-.06-.35-.06H2.896c-.13 0-.248.02-.35.06-.104.038-.196.097-.274.175-.078.078-.144.176-.195.294-.053.116-.078.227-.078.33v14.28c0 .104.025.215.078.332.05.118.117.215.195.294.078.078.17.137.273.176.104.04.22.058.35.058h14.207c.13 0 .246-.02.35-.058.104-.04.196-.098.274-.176.078-.08.142-.176.195-.294.052-.117.078-.228.078-.332V2.86c0-.103-.026-.214-.078-.33z"}),FOOTBALLFILL:n.a.createElement("path",{d:"M17.257 3.16c-.073-.192-.224-.345-.415-.418C15.57 2.25 14.246 2 12.91 2 6.892 2 2 6.893 2 12.91c0 1.337.25 2.66.74 3.932.076.19.226.342.416.415C4.43 17.75 5.753 18 7.09 18c2.914 0 5.654-1.135 7.714-3.195 2.06-2.06 3.196-4.8 3.196-7.714 0-1.334-.25-2.658-.743-3.93zM14.09 8.996c-.223.22-.69.34-1.03 0l-.513-.513L11.03 10l.77.77c.285.285.285.746 0 1.03-.232.232-.696.33-1.027 0l-.77-.77-1.518 1.516.514.513c.283.283.283.742 0 1.027-.285.283-.746.284-1.03 0L5.915 12.03c-.285-.284-.285-.745 0-1.028.284-.284.744-.284 1.028 0l.514.514L8.973 10 8.2 9.23c-.283-.285-.283-.746 0-1.03.285-.283.745-.283 1.03 0l.77.773 1.518-1.516-.514-.515c-.285-.284-.285-.745 0-1.028.283-.284.743-.284 1.028 0L14.09 7.97c.282.283.282.744 0 1.027z"}),BASKETBALLFILL:n.a.createElement("path",{d:"M4.315 15.672c.863-1.85 2.725-3.197 4.95-3.442v-1.5H2c.174 1.922 1.026 3.65 2.315 4.942zM10.724 12.23c2.226.242 4.093 1.59 4.956 3.442 1.29-1.29 2.14-3.02 2.315-4.942h-7.27v1.5zM4.34 4.302C3.037 5.596 2.175 7.332 2 9.27h7.265V7.69C7.06 7.45 5.21 6.126 4.34 4.303zM15.655 4.302c-.874 1.825-2.725 3.15-4.93 3.39V9.27h7.27c-.176-1.937-1.037-3.674-2.34-4.968zM14.517 3.232c-1.112-.68-2.404-1.118-3.793-1.232v4.22c1.806-.253 3.26-1.44 3.793-2.988zM9.264 6.22V2c-1.386.116-2.675.553-3.787 1.233.53 1.546 1.984 2.732 3.787 2.988zM10.724 13.7V18c1.397-.115 2.697-.557 3.815-1.246-.515-1.58-1.985-2.796-3.816-3.054zM5.456 16.753c1.116.688 2.413 1.13 3.808 1.245V13.7c-1.828.26-3.296 1.475-3.808 3.053z"}),BASKET:n.a.createElement("path",{d:"M12.51 13.71v-1.636c0-.452.368-.818.82-.818.45 0 .817.367.817.818v1.636c0 .452-.367.818-.818.818-.453 0-.82-.366-.82-.818zm-3.283 0v-1.636c0-.452.367-.818.818-.818.452 0 .82.367.82.818v1.636c0 .452-.368.818-.82.818-.45 0-.818-.366-.818-.818zm-3.272-.014V12.06c0-.452.367-.818.818-.818.452 0 .818.367.818.818v1.636c0 .452-.366.818-.817.818-.452 0-.818-.367-.818-.818zM18.18 8.002h-2.834l-3.03-4.545c-.25-.375-.758-.477-1.134-.227-.376.25-.478.76-.227 1.135l2.424 3.637H6.62l2.423-3.637c.252-.376.15-.884-.226-1.135-.376-.25-.884-.148-1.135.227l-3.03 4.545H1.82c-.45 0-.818.366-.818.818s.367.818.818.818h.21l1.928 6.426c.29.965 1.35 1.936 2.36 1.936h7.37c1.008 0 2.07-.97 2.36-1.936l1.927-6.426h.21c.45 0 .817-.367.817-.818s-.367-.818-.818-.818z"}),"CAMERA-FILL":n.a.createElement("path",{d:"M7.59 10.744c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm-1.666 0c0-2.3 1.865-4.167 4.167-4.167s4.168 1.865 4.168 4.167c0 2.3-1.865 4.167-4.167 4.167s-4.166-1.865-4.166-4.166zm.832-6.667v-.833c0-.46-.373-.833-.833-.833h-2.5c-.46 0-.833.374-.833.834v.833h-.833c-.46 0-.833.373-.833.833v11.667c0 .46.373.833.833.833h16.687c.46 0 .812-.373.812-.833V4.91c0-.46-.352-.833-.812-.833H6.756z"}),"ADD-CONTACT":n.a.createElement("path",{d:"M15.21 6.875c0 1.496-1.212 2.71-2.71 2.71-1.495 0-2.71-1.214-2.71-2.71s1.215-2.71 2.71-2.71c1.496 0 2.71 1.214 2.71 2.71zm1.847 5.474c-.11-.105-.216-.21-.345-.305-.992-.74-2.51-1.21-4.212-1.21s-3.22.47-4.21 1.21c-.13.095-.237.2-.347.304-.534.503-.86 1.095-.86 1.74v1.328c0 .458.376.834.835.834h9.166c.46 0 .834-.376.834-.834v-1.33c0-.643-.324-1.235-.86-1.74zM7.5 8.437H6.25v-1.25c0-.46-.372-.834-.834-.834s-.834.372-.834.834v1.25h-1.3v.01c-.436.03-.782.382-.782.823s.346.795.78.824v.01h1.302v1.303h.01c.03.434.382.78.824.78s.794-.345.823-.78h.01v-1.302H7.5c.46 0 .834-.372.834-.834S7.96 8.44 7.5 8.44z"}),MONOCHROME_MIXED_CHECKBOX:n.a.createElement("path",{d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1zM14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"}),NOTSPAM:n.a.createElement("path",{d:"M17.023 4.67v.002c-1.3-.09-3.87-.6-6.515-2.978-.143-.13-.326-.194-.507-.194-.182 0-.364.065-.508.195-2.644 2.38-5.216 2.89-6.513 2.978-.412.03-.707.38-.708.792C2.272 14.84 8.55 18 9.732 18.45c.087.035.18.05.272.05.09 0 .177-.014.264-.047 1.18-.437 7.46-3.578 7.46-12.99 0-.413-.294-.76-.705-.792zM10 13.864c-2.135 0-3.864-1.73-3.864-3.863S7.866 6.137 10 6.137 13.86 7.867 13.86 10s-1.73 3.863-3.863 3.863zM7.37 10c0 1.45 1.18 2.627 2.63 2.627.5 0 .962-.147 1.36-.39l-3.597-3.6c-.245.4-.392.863-.392 1.363zM9.998 7.372c-.5 0-.962.148-1.36.392l3.597 3.597c.243-.397.39-.86.39-1.36 0-1.45-1.178-2.628-2.627-2.628z"}),BLOCK_PEOPLE:n.a.createElement("path",{d:"M12.6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM12.6 11c-4.4 0-6.4 2.5-6.4 4.3V18h13v-2.7c-.1-2.1-2.1-4.3-6.6-4.3zm4.6 5H8v-.7c0-.6 1.1-2.3 4.5-2.3 3 0 4.6 1.2 4.6 2.3v.7zM6.1 10.2L5 9.1 6.1 8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L3.6 7.7 2.5 6.6c-.4-.3-1-.3-1.4 0-.3.4-.3 1 0 1.4l1.1 1.1-1.1 1.1c-.3.4-.3 1 0 1.4.4.4 1 .4 1.4 0l1.1-1.1 1.1 1.1c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4z"}),BLOCK_PEOPLE_FILL:n.a.createElement("path",{d:"M16.1 6c0 1.8-1.5 3.2-3.2 3.2-1.8 0-3.2-1.5-3.2-3.2s1.5-3.2 3.2-3.2c1.8-.1 3.2 1.4 3.2 3.2zm2.3 6.6c.6.6 1 1.3 1 2.1v1.6c0 .5-.4 1-1 1h-11c-.6 0-1-.5-1-1v-1.6c0-.8.4-1.5 1-2.1l.4-.4c1.2-.9 3-1.5 5.1-1.5s3.9.6 5.1 1.5l.4.4zM4.8 8.9L5.9 10c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-1.1-1.1-1.1 1.1c-.4.3-1 .3-1.4 0s-.4-1 0-1.4L2 8.9.9 7.8c-.3-.4-.3-1 0-1.4s1-.4 1.4 0l1.1 1.1 1.1-1.1c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L4.8 8.9z"}),PHONE:n.a.createElement("path",{d:"M18.8 16.5c.3-.4.3-.9-.1-1.2L14.2 12c-.2-.2-.5-.2-.8-.1l-3.1 1c-.6-.5-1.2-1-1.8-1.6-.4-.5-1-1.1-1.5-1.7l1-3.1c.2-.3.1-.5 0-.8L4.7 1.3c-.3-.4-.8-.4-1.2-.1L1.6 3.1C-.1 4.7 2 9.5 6.3 13.7c4.2 4.2 9 6.4 10.6 4.7l1.9-1.9z"})};class E extends n.a.Component{shouldComponentUpdate(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind}render(){const e=this.props,{colorState:t,size:s,rotate:a,allowPointerEvents:r,ariaLabel:i,kind:l,flipRTL:E}=e,_=babelHelpers.objectWithoutProperties(e,["colorState","size","rotate","allowPointerEvents","ariaLabel","kind","flipRTL"]),u=c()(o.a,{colorState:t,size:s,rotate:a,allowPointerEvents:r,flipRTL:E});let p=u.icon;return E&&(p+=" "+u.rtlRawScaleX),n.a.createElement("svg",babelHelpers.extends({"aria-label":i,viewBox:"0 0 20 20",className:p},_),d[l])}}E.defaultProps={colorState:l.a.NORMAL,size:l.d.S},t.b=E;const _=d},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(495),c=s.n(i),l=s(11),d=s.n(l),E=s(30),_=(s(8),s(99)),u=s.n(_);const{THEMED_LIKE_COMPSOE_BUTTON:p,PRIMARY:m,DANGER:h,SECONDARY:S}=E.a,g=[m,S,h,p],I=[p];class C extends o.a.Component{constructor(...e){var t;return t=super(...e),this.keyboardClick=(e=>{/^( |Enter)$/.test(e.key)&&(e.preventDefault(),e.stopPropagation(),this.props.onClick(e))}),t}componentWillMount(){if(I.indexOf(this.props.kind)>=0&&!this.context.getTheme)throw new Error("context.getTheme() is required for theme related button kind")}render(){const e=this.props,{kind:t,disabled:s,paddingLess:a,marginLess:n,onClick:r,children:i,isOnDarkBackground:l,overridingClass:E}=e,_=babelHelpers.objectWithoutProperties(e,["kind","disabled","paddingLess","marginLess","onClick","children","isOnDarkBackground","overridingClass"]),h=d()(c.a,babelHelpers.extends({decorated:g.indexOf(t)>=0,kind:t,disabled:s,paddingLess:a,marginLess:n,isOnDarkBackground:l,primaryHover:`${t===m}_${s}`},t===p?{[`${p}_${this.context.getTheme()}`]:!0}:{}));return o.a.createElement("button",babelHelpers.extends({tabIndex:-1,disabled:Boolean(s),className:E?u()(h.button,E):h.button,onKeyDown:r&&this.keyboardClick,onClick:r,type:"button"},_),i)}}C.contextTypes={getTheme:n.a.func},C.defaultProps={kind:E.a.PRIMARY,disabled:!1,paddingLess:!1,marginLess:!1,isOnDarkBackground:!1},t.a=C},function(e,t,s){"use strict";s.d(t,"x",function(){return A}),s.d(t,"y",function(){return b}),s.d(t,"A",function(){return R}),s.d(t,"v",function(){return D}),s.d(t,"l",function(){return f}),s.d(t,"n",function(){return N}),s.d(t,"m",function(){return M}),s.d(t,"h",function(){return L}),s.d(t,"o",function(){return y}),s.d(t,"j",function(){return P}),s.d(t,"p",function(){return v}),s.d(t,"c",function(){return F}),s.d(t,"d",function(){return U}),s.d(t,"q",function(){return k}),s.d(t,"r",function(){return G}),s.d(t,"t",function(){return w}),s.d(t,"k",function(){return x}),s.d(t,"b",function(){return B}),s.d(t,"i",function(){return j}),s.d(t,"u",function(){return V}),s.d(t,"s",function(){return W}),s.d(t,"g",function(){return q}),s.d(t,"f",function(){return K}),s.d(t,"a",function(){return z}),s.d(t,"e",function(){return Y}),s.d(t,"w",function(){return Z}),s.d(t,"z",function(){return X});var a=s(208),n=s(45),r=s.n(n),o=s(31),i=s.n(o),c=s(7),l=s(0),d=s(70),E=s(347),_=s.n(E),u=s(19),p=s(224),m=s.n(p),h=s(48),S=s(53),g=s(8),I=s(188),C=s.n(I);function T(e){const t=[],s=_()(e,t);return{match:e=>{const a=s.exec(e);if(!a)return null;const n=a.slice(1);return t.reduce((e,t,s)=>n[s]?babelHelpers.extends({},e,{[t.name]:decodeURIComponent(n[s])}):e,{})},stringify:_.a.compile(e)}}const A=m()(e=>e.map(e=>{const t=e.path;return Object(u.a)(e.name&&t,"config.routes should be in this format [{route.name: routePattern}]"),babelHelpers.extends({},e,{pattern:T(t)})}));function O(e,t={}){const{pathname:s,query:n}=Object(a.parse)(e),o=babelHelpers.extends({},t,r.a.parse(n)),i=r.a.stringify(o);return i?s+"?"+i:s}function b(e,t={},s){const a=babelHelpers.extends({},s,t.query),n=e.find(e=>e.name===t.name);if(!n)return{query:{}};const r=n.pattern.stringify(t.params||{},{pretty:!0});return{name:t.name,params:t.params||{},query:a,url:O(r,a)}}const R=(e={},t={})=>e===t||e.name===t.name&&i()(e.params,t.params)&&i()(e.query,t.query);function D(e,t={}){const s=Object(c.Q)(e,t),a=Object(c.R)(s);return a?{name:l.Pc.LIST,params:{serializedListId:a}}:null}function f(e,t={}){return Object(c.H)(e)?k(e,t):P(e,t)}function N(e,t,s={}){const a=Object(c.R)(e);return Object(c.F)(e)||Object(c.A)(e)?{name:l.Pc.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:a,groupId:t}),query:s}:Object(c.H)(e)?{name:l.Pc.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:a,groupId:t}),query:s}:{name:l.Pc.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:a,groupId:t}),query:s}}function M({attachment:e,listId:t,isConversationMode:s}){const a=s?e.conversationId:e.id&&Object(h.f)(e.id);return a?{name:l.Pc.MESSAGE_FROM_SEARCH_LIST,params:{groupId:a,query:Object(c.S)(t)}}:null}function L(e,t,s={}){return{name:l.Pc.EDIT_DRAFT,params:{csid:t,serializedListId:Object(c.R)(e)},query:s}}function y({item:e,listId:t,isConversationMode:s}){if(Object(c.q)(t)===l.Db.MESSAGES){if(e.messages&&1===e.messages.length&&Object(S.i)(e))return L(t,e.messages[0].csid);const a=Object(c.H)(t),n=Object(c.R)(t),r=a&&s?Object(g.a)(e,"messages.0.conversationId"):e.id;return r&&n?N(t,r):null}return M({attachment:e.attachment,listId:t,isConversationMode:s})}function P(e,t={}){const s=Object(c.Q)(e,t),a=Object(c.R)(s);return a?{name:l.Pc.FOLDER,params:{fid:a}}:null}function v(e,t,s={}){return{name:l.Pc.PHOTO,params:Object.assign({query:Object(c.R)(e),attachmentId:t}),query:s}}function F(e,t,s,a={}){const n=Object(c.R)(e);return Object(c.H)(e)?{name:l.Pc.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:n,groupId:t,attachmentId:s}),query:a}:{name:l.Pc.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:n,groupId:t,attachmentId:s}),query:a}}function U(e,t,s={}){return babelHelpers.extends({},e,{params:babelHelpers.extends({},e.params,{attachmentId:t}),query:babelHelpers.extends({},e.query,s)})}const H=e=>({name:l.Pc.LIST,params:{serializedListId:Object(c.S)(e)}});function k(e,t={}){const s=Object(c.Q)(e,t);if(Object(c.F)(s)||Object(c.A)(s))return H(s);const a=Object(c.S)(s);return a?{name:l.Pc.SEARCH,params:{query:a}}:null}function G(e){return k(Object(c.d)(e))}function w(e,t){return e===l.td.TUTORIAL?function(){return{name:l.Pc.TUTORIAL}}():G(Object(d.b)(e,t))}function x(e){const t={listContentType:l.Db.OFFER_CARDS,referrer:l.Fb[l.td.GROCERIES],listFilter:l.Eb.RECOMMENDED_OFFER_CARDS,keyword:e},s=Object(c.Q)(Object(c.d)(t));return H(s)}function B(e){const t={listContentType:l.Db.OFFER_CARDS,referrer:l.Fb[l.td.GROCERIES],listFilter:l.Eb.ACTIVATED_OFFER_CARDS,keyword:e},s=Object(c.Q)(Object(c.d)(t));return H(s)}const j=(e,t)=>P(Object(c.s)(e,t)),V=(e,t)=>({name:l.Pc.SPONSORED_MESSAGE,params:{fid:Object(c.R)(e),creativeId:t}});function W(e={},t){return babelHelpers.extends({name:l.Pc.SETTINGS,params:e},t?{query:t}:{})}function q(e={}){return{name:l.Pc.CONTACTS,params:e}}function K(e={}){return{name:l.Pc.CONTACT_DETAILS,params:e}}function z(e={}){return{name:l.Pc.ACCOUNT_LIST_FROM_SETTINGS,params:e}}function Y(e,t={}){return{name:l.Pc.NEW_DRAFT,params:{csid:e},query:t}}function Z(e={},t){const s=t&&t===l.r.BASIC_MAIL_APP?l.v:l.hb;return Object.keys(e.query||{}).filter(e=>-1===s.indexOf(e)).reduce((t,s)=>babelHelpers.extends({},t,{[s]:e.query[s]}),{})}function X(e=[],t=(()=>!0)){const[s,a]=C()(e,e=>t(e));return[...s,...a]}},function(e,t){e.exports={rgba:function(e,t){var s=0,a=[0,0,0,t];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),s=0;s<3;s++)a[s]=parseInt(e.slice(2*s+1,2*s+3),16);return"rgba("+a.join(", ")+")"}}},function(e,t,s){"use strict";t.a=function(e,t){if(!e){const e=new Error(t);throw e.name="Invariant",e}return e}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r);var i=class extends o.a.Component{render(){return null}},c=s(35),l=s.n(c),d=s(59),E=s(13),_=s(9);class u extends r.Component{constructor(e){super(e);const t=this.props._moduleResolver(),a=!!s.m[t],n=this._interopRequireDefault(a?s(t):null);this.state={LoadedComponent:n,loaded:a,failed:!1}}_updateLoadedState(e){const{onModuleLoadFailure:t,bundleName:s="lazy_group_1"}=this.props,a=d.a.feature("lazy_component",{bundleName:s});e.then(e=>{this._isMounted&&(a.logSuccessAndLatency(),this.setState({loaded:!0,failed:!1,LoadedComponent:e.default?e.default:e}))}).catch(e=>{a.logFailure(),t&&t(e),this.setState({loaded:!0,failed:!0})})}componentWillReceiveProps(e){this.state.failed&&(this.props.isOffline&&!e.isOffline)&&this.load()}componentDidMount(){if(this._isMounted=!0,!this.state.loaded)if(this.props.defer){const e=()=>{window.requestIdleCallback?window.requestIdleCallback(()=>this.load()):setTimeout(()=>this.load())};"complete"===document.readyState?e():window.addEventListener("load",e)}else this.load()}componentWillUnmount(){this._isMounted=!1}load(){this._updateLoadedState(this.props._moduleLoader())}_interopRequireDefault(e){return e&&e.__esModule?e.default:e}render(){const e=r.Children.toArray(this.props.children);if(!this.state.loaded)return g(e.find(p));if(this.state.failed){let t=null;return this.props.isOffline&&(t=e.find(h)),g(t||e.find(m))}const t=this.state.LoadedComponent,s=l()(this.props,["import","defer","onModuleLoadFailure","_moduleLoader","_moduleResolver","isOffline","bundleName","children"]);return o.a.createElement(t,s,e.filter(S))}}function p(e){return e.props.loading}function m(e){return e.props.failed}function h(e){return e.props.offline}function S(e){return e.type!==i}function g(e){return e&&e.props.children?r.Children.only(e.props.children):null}var I=Object(E.b)(e=>{const{isOnline:t}=Object(_.b)(e);return{isOffline:!t()}})(u),C=s(16),T=s(30);class A extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),this.context.retry()}),t}render(){return o.a.createElement(C.a,{kind:T.a.CHROMELESS,onClick:this.handleClick},this.props.children)}}A.contextTypes={retry:n.a.func};s.d(t,"a",function(){return I}),s.d(t,"b",function(){return i})},function(e,t,s){"use strict";s.d(t,"a",function(){return m});s(6);var a=s(2),n=s.n(a),r=s(15),o=s(16),i=s(496),c=s.n(i),l=s(11),d=s.n(l),E=s(99),_=s.n(E);const u=/^(kind|colorState|size|rotate)$/,p=/^(?:(?:disabled|paddingLess|role|title)$|data-|aria-|on)/;function m(e){const t={},s=d()(c.a,{size:e.size,paddingLess:e.paddingLess,isOnDarkBackground:e.isOnDarkBackground,isCompact:e.isCompact,disabled:e.disabled}),a={"data-test-id":e["data-test-id"]||"icon-btn-"+e.kind.toLowerCase(),"data-iskeynav":e["data-iskeynav"],id:e.id,className:s.button};return Object.keys(e).forEach(s=>{u.test(s)?t[s]=e[s]:p.test(s)?a[s]=e[s]:"className"===s&&(a[s]=_()(a.className,e[s]))}),n.a.createElement(o.a,a,n.a.createElement("span",{className:s.content},n.a.createElement(r.b,t),e.children?n.a.createElement("span",{className:s.label},e.children):null))}m.defaultProps={isOnDarkBackground:!1}},function(e,t,s){"use strict";var a=s(112),n=s.n(a),r=s(479),o=s.n(r),i=s(59),c=s(8),l=s(14),d=s(24);const E=Object(c.c)(["RETRIED","SUCCESS","FAIL"]);var _=function(e){return function(t){return t._originalEnd=t._end,t._originalShouldRetry=t._shouldRetry,t._end=(()=>{const e=t._retries;return e>0&&(t.url=Object(d.c)(t.url,{retries:e})),t._originalEnd()}),t._shouldRetry=((s,a)=>{const n=t._originalShouldRetry(s,a),r=t._retries,o=a&&a.status||"N/A",c=Object(l.j)(t.url,"ymreqid")||"";let d=s&&s.code||(200!==o?"NOT_OK_STATUS":"N/A");if(s&&s.crossDomain&&(d="OUTBOUND"),1===r&&n&&(i.a.error("superagent_retry",{apiName:e,ymreqid:c,errorCode:d,statusCode:o,state:E.RETRIED}),t.retryErrorCode=d,t.retryStatusCode=o),2===r){const{retryErrorCode:a="",retryStatusCode:n=""}=t;i.a.error("superagent_retry",s||200!==o?{apiName:e,ymreqid:c,errorCode:d,statusCode:o,retryErrorCode:a,retryStatusCode:n,state:E.FAIL}:{apiName:e,ymreqid:c,retryErrorCode:a,retryStatusCode:n,state:E.SUCCESS})}return n}),t}},u=s(34),p=s(36);const m=/<!-- status code : (\d{3}) -->\n<!-- ([\s\S]*?) -->\n<!-- host machine: ([\s\S]*?) -->/,h={400:"BAD_REQUEST",404:"NOT_FOUND",413:"PAYLOAD_TOO_LARGE",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT"};function S(e,t,s){let a=null;return a||(a=function(e){if(e&&e.crossDomain){const{message:t,status:s}=e,a=!Object(d.b)()||navigator.onLine;return new u.a("HttpTransport.OutboundError",t,{errorCode:"OUTBOUND",statusCode:s,isOnline:a})}}(e)),a||(a=function(e){if(e&&"ENOTFOUND"===e.code)return new u.a("HttpTransport.ServerNotFound",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&"ECONNREFUSED"===e.code)return new u.a("HttpTransport.ConnectionRefused",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&"ECONNRESET"===e.code)return new u.a("HttpTransport.ConnectionReset",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&"ECONNABORTED"===e.code)return new u.a("HttpTransport.ConnectionTimedOut",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&(e.parse||"SyntaxError"===e.name))return new u.a("HttpTransport.ParseError",e.message,{statusCode:e.statusCode,errorCode:"SyntaxError"===e.name?"SyntaxError":"ParseError",responseText:e.rawResponse})}(e)),a||(a=function(e){const t=e&&e.status;if(403===t){let s;const a=Object(c.a)(e,"type","");try{s="text/html"===a&&e.text?JSON.parse(e.text):Object(c.a)(e,"body",{})}catch(e){s={}}const n=Object(c.a)(s,"name","");if(n===p.c)return new u.a(p.c,{data:s.data||"",errorCode:"CRUMB",statusCode:t})}}(t)),a||(a=function(e){if(e&&200!==e.status){const{text:t="",status:s,body:a}=e;let n="NOT_OK_STATUS";s>=400&&(m.test(t)?n="YCPI":h.hasOwnProperty(s)&&(n=h[s]));const r={responseText:t,body:a,errorCode:n,statusCode:s};return new u.a("HttpTransport.NotOkStatusCode",r)}}(t)),a||(a=function(e,t){const s=t&&t.header&&(t.header.Accept||t.header.accept||""),a=e&&e.type||"";if(s&&a&&a.toLowerCase().indexOf(s.toLowerCase())<0)return new u.a("HttpTransport.ContentTypeError",`request:${s}-response:${a}`,{errorCode:"CONTENT_TYPE_MISSMATCH",statusCode:e.status,html:e.text,headers:e.headers})}(t,s)),a||(a=function(e,t){if(e||!t)return new u.a("GenericError",e&&`${e.name}: ${e.message}`||"")}(e,t)),a}var g=function(e){return btoa(unescape(encodeURIComponent(e)))};const I=["get","head"],C=3e4;class T{send(e){return new Promise((t,s)=>{const a=this._getRequest(e);a.end((e,n)=>{const r=S(e,n,a);if(r)return s(r);t(this._mapResponse(n))})})}_getRequest({method:e,url:t,body:s,withCredentials:a,headers:n,fields:r,attachments:i,parser:c,timeout:l=C,httpRetry:d=0,shouldRetry:E=(()=>{}),apiName:u="",uploadProgressCallback:p}){const m=o.a[this._getMethodName(e)](t);return this._setBody(m,e,s),a&&m.withCredentials(),this._setHeaders(m,n),this._setFields(m,r),this._setAttachments(m,i),this._setParser(m,c),this._setRetry(m,d,E),this._setUploadProgressCallback(m,p),l&&m.timeout(l),u&&m.use(_(u)),m}_getMethodName(e){return"delete"===(e=e.toLowerCase())&&(e="del"),e}_mapResponse(e){return{body:e.body,text:e.text,status:e.status,headers:e.headers}}_setBody(e,t,s){~I.indexOf(this._getMethodName(t))?e.query(s):e.send(s)}_setHeaders(e,t){t&&Object.keys(t).forEach(s=>{e.unset(s),e.set(s,t[s])})}_setFields(e,t){t&&Object.keys(t).forEach(s=>{e.field(s,t[s])})}_setAttachments(e,t){t&&Object.keys(t).forEach(s=>{const a=g(t[s].name);e.attach(s,t[s],`=?UTF-8?b?${a}?=`)})}_setParser(e,t){t&&e.parse(function(e,s){e.text="",e.on("data",function(t){e.text+=t}),e.on("end",function(){t(e.text,s)})})}_setRetry(e,t,s){e.retry(t,s)}_setUploadProgressCallback(e,t){t&&e.on("progress",t)}}class A extends T{createStream(e){const t=this._getRequest(e),s=n()();let a=!1;if("undefined"!=typeof window&&window.AppBootstrapData){const{browserName:e,browserVersion:t}=window.AppBootstrapData;a="Edge"===e&&15===parseInt(t,10)}return t.on("progress",e=>{a||s.emit("data",e.currentTarget.responseText)}),t.end((e,n)=>{const r=S(e,n,t);r?setTimeout(()=>{s.emit("error",r)},0):setTimeout(()=>{a&&s.emit("data",n.text),s.emit("end")},0)}),s}}var O=s(19),b=s(333),R=s.n(b);s.d(t,"a",function(){return D});const D=Object(c.c)(["GET","HEAD","POST","PUT","PATCH","DELETE"]),f=new R.a;function N(e,t,s={}){const{uploadProgressCallback:a,timeout:n=C,httpRetry:r=0,shouldRetry:o=(()=>{}),apiName:i=""}=s;this.adapter=new A,this.withCredentials=!1,this._method=e.toUpperCase(),Object(O.a)(D[this._method],"Invalid HTTP method. Valid options are: "+JSON.stringify(Object.keys(D))),this._timeout=n,this._url=t,this._headers={},this._fields={},this._attachments={},this._body=null,this._httpRetry=r,this._shouldRetry=o,this._apiName=i,this._uploadProgressCallback=a}N.prototype.setHeader=function(e,t){return this._headers[e]=t,this},N.prototype.setCookieHeader=function(e){Object(O.a)(e,"Cookie should not be empty"),this.setHeader("Cookie",e)},N.prototype.setField=function(e,t){return this._fields[e]=t,this},N.prototype.setAttachment=function(e,t){return this._attachments[e]=t,this},N.prototype.setParser=function(e){return this._parser=e,this},N.prototype.setRetry=function(e){return this._httpRetry=e,this},N.prototype.send=function(e){e&&(this._body=e);const t=this.adapter.send({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry,shouldRetry:this._shouldRetry,apiName:this._apiName,uploadProgressCallback:this._uploadProgressCallback});return t.then(()=>{f.emit("success")},e=>{e.url=this._url,f.emit("error",e)}),t},N.prototype.createStream=function(e){e&&(this._body=e);const t=this.adapter.createStream({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout});return t.on("error",e=>f.emit("error",e)),t},N.on=function(...e){f.on(...e)},N.off=function(...e){f.off(...e)},N.emit=function(...e){f.emit(...e)};t.b=N},function(e,t,s){"use strict";s.r(t),s.d(t,"Fonts",function(){return r}),s.d(t,"FontSizes",function(){return o}),s.d(t,"NO_STATIONERY",function(){return i}),s.d(t,"STATIONERY_MIN_WIDTH",function(){return c}),s.d(t,"ToolbarActions",function(){return l}),s.d(t,"FocusableRefs",function(){return d}),s.d(t,"KeyCodes",function(){return E}),s.d(t,"RTEKeyModifier",function(){return _}),s.d(t,"EditorTypes",function(){return u}),s.d(t,"ToolbarTypes",function(){return p}),s.d(t,"PreviewTypes",function(){return m}),s.d(t,"TOOLBAR_HEIGHT",function(){return h}),s.d(t,"HORIZONTAL_PADDING",function(){return S}),s.d(t,"FORMAT_DATE_OPTION",function(){return g}),s.d(t,"IMAGE_OVERLAY_INITIAL_LEFT",function(){return I}),s.d(t,"CURRENT_IMAGE_SIZE_STATUS",function(){return C}),s.d(t,"RTEHoverOverlayTypes",function(){return T}),s.d(t,"INLINE_IMAGE_PLUGIN_CLASSES",function(){return A}),s.d(t,"INLINE_IMAGE_PLUGIN_SIZE",function(){return O}),s.d(t,"HYPERLINK_PLUGIN_IGNORE_CLASS",function(){return b}),s.d(t,"COMPOSE_MIN_WIDTH",function(){return R}),s.d(t,"OutlookSupportHTMLAttributes",function(){return D}),s.d(t,"OutlookSupportHTMLHeadContent",function(){return f}),s.d(t,"EDITOR_EVENTS",function(){return N}),s.d(t,"DELETE_CONTACT",function(){return P}),s.d(t,"INLINE_IMAGE_SELECTOR",function(){return v}),s.d(t,"STATIONERY_BODY_SELECTOR",function(){return F}),s.d(t,"LINK_EHANCER_CARD_SELECTOR",function(){return U}),s.d(t,"HIDE_SELECTION_CLASS",function(){return H}),s.d(t,"IMAGE_STATUS",function(){return k});var a=s(8),n=s(71);const r=n.e,o=n.d,i="no_stationery",c=480,l={FILE_SELECT:"fileselect",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",CREATE_LINK:"createlink",PLAIN_TEXT:"plaintext",RICH_TEXT:"richtext"},d=n.a,E={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9},_={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},u=Object(a.c)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),p=Object(a.c)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),m=Object(a.c)(["MESSAGE","VACATION_RESPONSE"]),h=70,S=72,g={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},I="-5000px",C=Object(a.c)(["LARGE","SMALL"]),T=Object(a.c)(["IMAGE","LINK_ENHANCER_CARD"]),A={GIF_WRAPPER_CLASS:"yahoo-gif-wrapper",INLINE_IMAGE_CLASS:"yahoo-inline-image",IMAGE_OVERLAY_CLASS:"yahoo-inline-img-overlay",ONLINE_GIF_CLASS:"yahoo-online-gif",EMOJI_WRAPPER_CLASS:"yahoo-emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},O={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,TINY_IMAGE_WIDTH:100,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},b="yahoo-ignore-hyperlink",R=670,D=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),f="\x3c!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--\x3e",N=Object(a.c)(["emoji_inserted","gif_inserted","gif_removed","gif_resized","inline_attachment_inserted","inline_image_removed","inline_image_resized","inline_to_non_inline_attachment","stationery_cleared","default_stationery_cleared","link_enhancer_card_removed","link_enhancer_card_size_changed","link_enhancer_card_added","link_enhancer_card_moved"]),{INLINE_IMAGE_CLASS:M,ONLINE_GIF_CLASS:L,IGNORE_CLASS:y}=A,P="delete-contact",v=`img[class*="${M}"]:not([class*="${L}"]):not([class*="${y}"])`,F='[id$="middleBody"]',U='div[class*="yahoo-link-enhancr-card"]',H="hide-selection",k={loading:"yahoo-loading"}},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return d}),s.d(t,"e",function(){return E}),s.d(t,"h",function(){return _}),s.d(t,"g",function(){return u}),s.d(t,"f",function(){return p}),s.d(t,"a",function(){return m});var a=s(0),n=s(8),r=s(208),o=s(45),i=s.n(o);function c(){return"undefined"!=typeof window}function l(e){if(c())return new Promise(t=>{const s=new Image;s.src=e,s.onload=(()=>{t()})})}function d(e,t={}){if(!e)return e;const{protocol:s,host:a,pathname:n,query:o,hash:c}=Object(r.parse)(e),l=babelHelpers.extends({},i.a.parse(o),t),d=i.a.stringify(l);let E="";return s&&(E=s+"//"),a&&(E+=a),n&&(E+=n),d&&(E=E+"?"+d),c&&(E+=c),E}function E(e){const{partner:t="",reason:s="unkown"}=e||{},n=window.location.port;let r=window.location.protocol+"//"+window.location.hostname;n&&(r+=":"+n),r+=a.Xd+"?reason="+s,"ycorp"===t&&(r+="&.partner=ycorp"),window.location.replace(r)}function _(){return c()&&"function"==typeof Object(n.a)(window,"DataTransfer.prototype.setDragImage")}function u(e){if(!c())return;const t=Object(n.a)(window,"AppBootstrapData.browserName");t&&t.toLowerCase().indexOf("safari")>=0||(e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px")}function p(e,t){return _()&&(t||((t=document.createElement("img")).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(t)),e.setDragImage(t,0,0)),t}function m(e){e&&document.body.removeChild(e)}},,,function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"f",function(){return _}),s.d(t,"h",function(){return u}),s.d(t,"g",function(){return p}),s.d(t,"j",function(){return m}),s.d(t,"l",function(){return h}),s.d(t,"a",function(){return I}),s.d(t,"i",function(){return C}),s.d(t,"k",function(){return T});var a=s(0),n=s(24);const r=encodeURIComponent(":"),o=encodeURIComponent(" "),i=encodeURIComponent("("),c=encodeURIComponent(")"),l=encodeURIComponent("["),d=encodeURIComponent("]"),E=/(?:^|[\s(])folderid:(\d+)/i,_=["SYNC","INVISIBLE"];function u(e){let t="";switch(e){case a.Eb.PEOPLE:t+=`${o}is${r}personal`;break;case a.Eb.SHOPPING:t+=`${o}is${r}shopping`;break;case a.Eb.TRAVEL:t+=`${o}is${r}travel`;break;case a.Eb.TRAVEL_VIEW_UPCOMING:case a.Eb.TRAVEL_VIEW_PAST:t+=`${o}decoId${r}FLR`;break;case a.Eb.SAVED_COUPON_CARDS:t+=`${o}decoId${r}${i}CPN${o}TAG${c}`;break;case a.Eb.ALL_COUPON_CARDS:t+=`${o}decoId${r}${i}CPN${c}`;break;case a.Eb.ALL_REFUND_CARDS:t+=`${o}decoId${r}${i}ORD${c}`;break;case a.Eb.FINANCE:t+=`${o}is${r}financial`;break;case a.Eb.SOCIAL:t+=`${o}is${r}social`}return t}function p(e){return(E.exec(e&&e.base||"")||[])[1]||"1"}function m(e){const t=Number(function(e,t,s){if(!e[t])return"";const a=e[t].split(" ").map(e=>e.split(":")).filter(([e])=>e===s);return 0===a.length?"":a[0][1]||""}(e,"options","count"));return isNaN(t)?0:t}function h(e,t,s){return Array.isArray(t)?Array.prototype[s?"every":"some"].call(t,t=>h(e,t)):e.some(e=>e&&e.id&&e.id===t)}class S{constructor(e,t,s){this.promise=e,this.counter=t||1,this.time=Date.now()+(s||0),e.then(e=>(this.time=Date.now(),e))}increaseCount(){this.counter+=1}age(){return Date.now()-this.time}isActive(e){return this.age()<e}getExponentialDelayTime(){return Math.min(100+Math.pow(2,this.counter),2147483647)}getExponentialDelayedPromise(){return new Promise((e,t)=>{this.promise.then(t=>{setTimeout(()=>{e(t)},this.getExponentialDelayTime())},e=>{setTimeout(()=>{e.errorCode="DEBOUNCED",t(e)},this.getExponentialDelayTime())})}).then(e=>(this.time=Date.now(),e),e=>{throw this.time=Date.now(),e})}}class g{constructor({TTL:e=0,logTTL:t=a.Id,activate:s=!1}){this.TTL=e,this.logTTL=Math.max(t,e),this.active=s,this.recentCallMap={}}cleanUpExpiredEntries(){const e=Date.now(),t={};Object.keys(this.recentCallMap).filter(t=>e-this.recentCallMap[t].time<this.logTTL).forEach(e=>t[e]=this.recentCallMap[e]),this.recentCallMap=t}execute(e){const t=Date.now(),{hash:s,log:a=(()=>{})}=e;this.cleanUpExpiredEntries();const n=this.recentCallMap[s],r=this.active&&n&&n.isActive(this.TTL);return n&&(n.increaseCount(),a({duration:n.age(),counter:n.counter,active:r})),r?(n.time=t,n.getExponentialDelayedPromise()):(this.recentCallMap[s]=new S(e.execute(),n&&n.counter,this.TTL),this.recentCallMap[s].promise)}}class I{constructor(e){this.map={},this.defaultTTL=200,this.active=!(!e||!Object.keys(e).length),this.TTLList=e,this.active&&(this.defaultTTL=e.default||200)}get(e){if(!Object(n.b)())return{execute:e=>e.execute()};const t=this.TTLList.hasOwnProperty(e)?this.TTLList[e]:this.defaultTTL;return this.map[t]||(this.map[t]=new g({TTL:t,activate:this.active})),this.map[t]}}function C(e){let t=`$.result.mailboxes[?(("${e}" in $.result.mailboxes[*].email &&  @.email=="${e}") || (@.isSelected==true && "${e}" nin $.result.mailboxes[*].email))]`,s=t=>t.email===e;return e||(t="$..mailboxes[?(@.isSelected==true)]",s=(e=>e.isSelected)),{jsonPath:t,filterFn:s}}function T(e,t){let s;return e&&((s=e.find(C(t).filterFn))||(s=e.find(C(null).filterFn))),s||{}}},function(e,t,s){"use strict";var a=s(4);t.a=Object(a.h)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"},switch_to_plain_text_warning_title:{id:"compose.switch_to_plain_text_warning_title",defaultMessage:"Switch to Plain Text"},switch_to_plain_text_message:{id:"compose.switch_to_plain_text_message",defaultMessage:"Converting your message to plain text will remove all formatting and inline images. Continue?"},switch_to_plain_text_warning:{id:"compose.switch_to_plain_text_warning",defaultMessage:"Converting your message to plain text will lose all formatting and remove inserted items. Continue?"},switch_to_plain_text_warning_ok:{id:"compose.switch_to_plain_text_warning_ok",defaultMessage:"OK"},switch_to_plain_text_warning_cancel:{id:"compose.switch_to_plain_text_warning_cancel",defaultMessage:"Cancel"},font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"},unsupportedFileType:{id:"compose.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."},plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},strikeThrough:{id:"compose.strikethrough_icon",defaultMessage:"Strikethrough"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"}})},function(e,t,s){"use strict";s.d(t,"d",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"g",function(){return E}),s.d(t,"a",function(){return _}),s.d(t,"e",function(){return u}),s.d(t,"c",function(){return p}),s.d(t,"f",function(){return m}),s.d(t,"j",function(){return h}),s.d(t,"m",function(){return S}),s.d(t,"k",function(){return g}),s.d(t,"l",function(){return I}),s.d(t,"i",function(){return C});var a=s(10),n=s(8),r=s(18);const o={NIGHT_LANDSCAPE:{IMAGE:"/img/night_landscape.jpg",BG_BACKGROUND_COLOR:"#1d1f39",BACKGROUND_COLOR:"#1d1f39",BACKGROUND_SIZE:"100% auto",BACKGROUND_REPEAT:"no-repeat",MAX_BACKGROUND_SIZE:"100% auto",GRADIENT_COLOR_1:"#8DA4EC",GRADIENT_COLOR_2:"#8DA4EC",GRADIENT_COLOR_3:"#8DA4EC",HIGHLIGHT:"#8DA4EC",COMPOSE_BUTTON_COLOR:"#8DA4EC",SEGMENT_BORDER_COLOR:Object(r.rgba)("#8DA4EC",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#8DA4EC",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#8DA4EC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#8DA4EC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#8DA4EC",.16),FOLDER_ACTIVED_BORDER:"2px solid #8DA4EC",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#8DA4EC",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#8DA4EC",.16),OPACITY_MASK_COLOR:"#111222",PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)("#111222",.3),CLIP_BUTTON_COLOR:"#8DA4EC"},ROADTRIP:{IMAGE:"/img/roadtrip.jpg",BACKGROUND_REPEAT_IMAGE:"/img/roadtrip_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"349px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#be8f85",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#d9aa76",GRADIENT_COLOR_2:"#d9aa76",GRADIENT_COLOR_3:"#d9aa76",HIGHLIGHT:"#d9aa76",COMPOSE_BUTTON_COLOR:"#d9aa76",SEGMENT_BORDER_COLOR:Object(r.rgba)("#d9aa76",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#d9aa76",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#d9aa76",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#d9aa76",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#d9aa76",.16),FOLDER_ACTIVED_BORDER:"2px solid #d9aa76",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#d9aa76",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#d9aa76",.16),OPACITY_MASK_COLOR:a.ROADTRIP_PHOTO_THEME_BROWN,PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)(a.ROADTRIP_PHOTO_THEME_BROWN,.3),CLIP_BUTTON_COLOR:"#d9aa76"},SUNSET_AUSSIE:{IMAGE:"/img/sunset_aussie.jpg",BACKGROUND_REPEAT_IMAGE:"/img/sunset_aussie_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#5B3B3E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#ef8f4e",GRADIENT_COLOR_2:"#ef8f4e",GRADIENT_COLOR_3:"#ef8f4e",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(r.rgba)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#ef8f4e",.16),OPACITY_MASK_COLOR:"#352431",PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)("#352431",.3),CLIP_BUTTON_COLOR:"#ef8f4e"},LIGHTHOUSE:{IMAGE:"/img/lighthouse.jpg",BACKGROUND_REPEAT_IMAGE:"/img/lighthouse_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"263.5px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#03383E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#85CBAC",GRADIENT_COLOR_2:"#85CBAC",GRADIENT_COLOR_3:"#85CBAC",HIGHLIGHT:"#85CBAC",COMPOSE_BUTTON_COLOR:"#85CBAC",SEGMENT_BORDER_COLOR:Object(r.rgba)("#85CBAC",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#85CBAC",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#85CBAC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#85CBAC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#85CBAC",.16),FOLDER_ACTIVED_BORDER:"2px solid #85CBAC",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#85CBAC",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#85CBAC",.16),OPACITY_MASK_COLOR:"#072328",PREVIEWR_TOOLBAR_COLOR:Object(r.rgba)("#072328",.3),CLIP_BUTTON_COLOR:"#85CBAC"}},i={DEFAULT:{BROWSER_URLBAR_COLOR:"#ffffff",GRADIENT_COLOR_1:a.HEADER_COLOR_1,GRADIENT_COLOR_2:a.HEADER_COLOR_1,GRADIENT_COLOR_3:a.HEADER_COLOR_2,HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:a.PRIMARY_BUTTON_ACTIVE_COLOR,SEGMENT_BORDER_COLOR:Object(r.rgba)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)(a.PRIMARY_BUTTON_ACTIVE_COLOR,.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)(a.PRIMARY_BUTTON_ACTIVE_COLOR,.16),FOLDER_ACTIVED_BORDER:`2px solid ${a.PRIMARY_BUTTON_ACTIVE_COLOR}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#188fff",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#188fff",.16),PREVIEWR_TOOLBAR_COLOR:a.HEADER_COLOR_2,CLIP_BUTTON_COLOR:a.PRIMARY_BUTTON_ACTIVE_COLOR},SUNRISE:{BROWSER_URLBAR_COLOR:"#e07400",GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(r.rgba)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#ef8f4e",.16),PREVIEWR_TOOLBAR_COLOR:"#d4207d",CLIP_BUTTON_COLOR:"#ef8f4e"},AQUA_GREEN:{BROWSER_URLBAR_COLOR:"#008f88",GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:"#008f88",HIGHLIGHT:"#7aaf60",COMPOSE_BUTTON_COLOR:"#7aaf60",SEGMENT_BORDER_COLOR:Object(r.rgba)("#7aaf60",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#7aaf60",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#7aaf60",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#7aaf60",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#7aaf60",.16),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#7aaf60",.16),PREVIEWR_TOOLBAR_COLOR:"#008f88",CLIP_BUTTON_COLOR:"#7aaf60"},AQUA_BLUE:{BROWSER_URLBAR_COLOR:"#0034a3",GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",COMPOSE_BUTTON_COLOR:"#1d92ae",SEGMENT_BORDER_COLOR:Object(r.rgba)("#1d92ae",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#1d92ae",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#1d92ae",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#1d92ae",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#1d92ae",.16),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#1d92ae",.16),PREVIEWR_TOOLBAR_COLOR:"#0034a3",CLIP_BUTTON_COLOR:"#1d92ae"},DEEP_PURPLE:{BROWSER_URLBAR_COLOR:"#200f35",GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",COMPOSE_BUTTON_COLOR:"#b08ae4",SEGMENT_BORDER_COLOR:Object(r.rgba)("#b08ae4",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#b08ae4",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#b08ae4",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#b08ae4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#b08ae4",.16),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#b08ae4",.16),PREVIEWR_TOOLBAR_COLOR:"#200f35",CLIP_BUTTON_COLOR:"#b08ae4"},BLUE_NIGHT:{BROWSER_URLBAR_COLOR:"#1c3e5c",GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:"#4faaff",SEGMENT_BORDER_COLOR:Object(r.rgba)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#4faaff",.16),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#4faaff",.16),PREVIEWR_TOOLBAR_COLOR:"#1c3e5c",CLIP_BUTTON_COLOR:"#4faaff"}},c={ATT:{GRADIENT_COLOR_1:"#009fdb",GRADIENT_COLOR_2:"#009fdb",GRADIENT_COLOR_3:"#009fdb",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#009fdb",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#009fdb",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#009fdb",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#009fdb",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#009fdb",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#009fdb",.16),FOLDER_ACTIVED_BORDER:"2px solid #009fdb",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#009fdb",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#009fdb",.16),CLIP_BUTTON_COLOR:"#009fdb"},FRONTIER:{GRADIENT_COLOR_1:"#BD2832",GRADIENT_COLOR_2:"#BD2832",GRADIENT_COLOR_3:"#931F27",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#BD2832",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#BD2832",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#BD2832",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#BD2832",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#BD2832",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#BD2832",.16),FOLDER_ACTIVED_BORDER:"2px solid #BD2832",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#BD2832",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#BD2832",.16),CLIP_BUTTON_COLOR:"#BD2832"},ROGERS:{GRADIENT_COLOR_1:"#5C6070",GRADIENT_COLOR_2:"#5C6070",GRADIENT_COLOR_3:"#373A43",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#5C6070",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#5C6070",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#5C6070",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#5C6070",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#5C6070",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#5C6070",.16),FOLDER_ACTIVED_BORDER:"2px solid #5C6070",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#5C6070",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#5C6070",.16),CLIP_BUTTON_COLOR:"#5C6070"},BT:{GRADIENT_COLOR_1:"#6400AA",GRADIENT_COLOR_2:"#6400AA",GRADIENT_COLOR_3:"#6400AA",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#6400AA",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#6400AA",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#6400AA",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#6400AA",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#6400AA",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#6400AA",.16),FOLDER_ACTIVED_BORDER:"2px solid #6400AA",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#6400AA",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#6400AA",.16),CLIP_BUTTON_COLOR:"#6400AA"},SKY:{GRADIENT_COLOR_1:"#0051B7",GRADIENT_COLOR_2:"#0051B7",GRADIENT_COLOR_3:"#0051B7",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#0051B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(r.rgba)("#0051B7",.64),SEGMENT_BACKGROUND_COLOR:Object(r.rgba)("#0051B7",.32),SEGMENT_HOVER_COLOR:Object(r.rgba)("#0051B7",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(r.rgba)("#0051B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(r.rgba)("#0051B7",.16),FOLDER_ACTIVED_BORDER:"2px solid #0051B7",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(r.rgba)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(r.rgba)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(r.rgba)("#0051B7",.32),ITEM_HOVERED_BGCOLOR:Object(r.rgba)("#0051B7",.16),CLIP_BUTTON_COLOR:"#0051B7"}},l=babelHelpers.extends({},c,i,o),d=babelHelpers.extends({},i,{DEFAULT:babelHelpers.extends({},i.DEFAULT,{BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"})}),E=Object(n.c)(l),_=Object(n.c)(d),u=Object(n.c)(o),p=Object(n.c)(c),m=Object(n.c)(["LIGHT","MEDIUM","DARK"]),h=(e,t)=>{const s=e||E.DEFAULT;return s.IMAGE?`url(${t(s.IMAGE)})`:`linear-gradient(45deg,\n        ${s.GRADIENT_COLOR_1},\n        ${s.GRADIENT_COLOR_2},\n        ${s.GRADIENT_COLOR_3})`},S=e=>!!u[e],g=({context:e,includeMedium:t=!1})=>{const s=e.getThemeMode();return t&&s===m.MEDIUM||s===m.DARK},I=e=>!!p[e],C=(e,t=!1)=>{const s=g({context:e,includeMedium:t}),a=S(e.getTheme());return{darkModeNonPhotoTheme:!a&&s,["darkModePhotoTheme_"+e.getTheme()]:a&&s}}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["PLAIN","PRIMARY","SECONDARY","CHROMELESS","ICON","ICON_HIGHLIGHTED","MENUITEM","MENUITEM_PARENT_TEXT_COLOR","DANGER","SECONDARY_BORDERLESS","CUE","THEMED_LIKE_COMPSOE_BUTTON","PILL"])},,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(523),o=s.n(r),i=s(11),c=s.n(i),l=s(88);s(8);class d extends n.a.Component{render(){const e=this.props,{name:t,kind:s,ariaLabel:a,dir:r,title:i}=e,l=babelHelpers.objectWithoutProperties(e,["name","kind","ariaLabel","dir","title"]),d=c()(o.a,{kind:s}),E=this.props.children||this.props.text;return n.a.createElement("li",babelHelpers.extends({name:t,title:i,"data-test-id":t,className:d.listItem,"aria-label":a,role:"menuitem",dir:r},l),E)}}d.defaultProps={kind:l.a.DEFAULT},t.a=d},function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"m",function(){return S}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return I}),s.d(t,"o",function(){return C}),s.d(t,"n",function(){return T}),s.d(t,"l",function(){return A}),s.d(t,"e",function(){return O}),s.d(t,"i",function(){return b}),s.d(t,"j",function(){return R}),s.d(t,"p",function(){return f}),s.d(t,"k",function(){return N}),s.d(t,"h",function(){return M}),s.d(t,"d",function(){return L});var a=s(0),n=s(8),r=s(19),o=s(404),i=s.n(o),c=s(4);const l=Object(n.c)([a.td.PHOTOS,a.td.DOCUMENTS,a.td.COUPONS,a.td.RECEIPTS,a.td.GROCERIES,a.td.TRAVEL,a.td.TUTORIAL]),d=Object(n.c)([a.td.UNREAD,a.td.STARRED]),E=babelHelpers.extends({},a.Cc,Object(n.c)([a.td.UNREAD,a.td.STARRED])),_={[a.sb.INBOX]:"inbx",[a.sb.SENT]:"sent",[a.sb.DRAFT]:"drft",[a.sb.TRASH]:"trsh",[a.sb.BULK]:"spm",[a.sb.ARCHIVE]:"archve",[a.sb.USER]:"usrFldr",[a.sb.CHATS]:"cht",SEARCH_KEYWORD:"keywSrp",SEARCH_PEOPLE:"cntctSrp",SEARCH_SMARTVIEW:"smrtSrp"},u="1",p="/",m={};m[a.sb.INBOX]=0,m[a.td.UNREAD]=1,m[a.td.STARRED]=2,m[a.sb.DRAFT]=3,m[a.sb.SENT]=4,m[a.sb.ARCHIVE]=5,m[a.sb.BULK]=6,m[a.sb.TRASH]=7;const h=Object(c.h)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"}});function S(e,t=""){const s=h["folder_"+t.toLowerCase()];return s?e(s):null}function g(e){let t;switch(e.type){case a.sb.SENT:case a.sb.BULK:case a.sb.ARCHIVE:case a.sb.TRASH:return 0;case a.sb.DRAFT:return e.total;default:return t=e.unread<0?0:e.unread}}function I(e){switch(e){case a.sb.INBOX:return[a.rb.MARK_READ,a.rb.ARCHIVE];case a.sb.DRAFT:case a.sb.SENT:case a.sb.ARCHIVE:return[a.rb.MARK_READ];case a.sb.BULK:case a.sb.TRASH:return[a.rb.MARK_READ,a.rb.DELETE];default:return[a.rb.MARK_READ,a.rb.ARCHIVE,a.rb.DELETE,a.rb.SEPARATOR,a.rb.RENAME_FOLDER,a.rb.DELETE_FOLDER,a.rb.CREATE_FOLDER]}}function C(){return Object.keys(l).map(e=>(function(e){return{folder:{name:e,id:e,types:[e],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]}})(e))}function T(e){return e.types.find(e=>E.hasOwnProperty(e))}function A(e){const t=T(e);if(t&&_[t])return _[t]}function O(e,t){const s=e.find(e=>!0===e.isSelected);return t.find(e=>T(e.folder)===a.sb.INBOX&&e.folder.accountId===s.id).folder}function b(e,t,s=!1){const a=D(e.name);let n="",r="";const o=[];let i=!1;return e.accountId===u||s||e.name.match(/\//)&&(n=a.shift(),n+=a.shift()),a.forEach(s=>{n+=s,i?i=!1:(r+=s,t.hasOwnProperty(n)&&t[n].accountId===e.accountId&&(o.push(r),r="",i=!0))}),o}function R(e,t){const s=e.path||e.name,a=D(s);let n="",r="";const o=[];let i=!1;return e.accountId!==u&&e.uidNext&&s.match(/\//)&&(n=a.shift(),n+=a.shift()),a.forEach(s=>{if(n+=s,i)i=!1;else{r+=s;const a=Object.keys(t).find(e=>t[e].path===n);a&&t[a].accountId===e.accountId&&(o.push(r),r="",i=!0)}}),o}function D(e){let t,s,a="";const n=[];for(t=0;t<e.length;t++)(s=e.charAt(t))===p?(""!==a&&n.push(a),n.push(p),a=""):a+=s;return""!==a&&n.push(a),n}function f(e,t,s,a){const n=i()(t);if(Object(r.a)(s.length>0,"folderPathParts must be populated for insert into folder tree to work."),a===s.length-1)n.name=s[a],e.push({folder:Object.assign({},n,{level:a}),children:[]});else{const t=s[a];e.forEach(e=>{e.folder.name===t&&e.folder.accountId===n.accountId&&f(e.children,n,s,a+1)})}}function N(e,t=[]){let s="";const a=e.split(".");return s=a.length>1?e.substring(0,e.lastIndexOf(".")):a[0],t.some(({folderPrefix:e})=>e===s)?s+"_x":s}function M(e,t,s){const a=[];return t.isPrimary||a.push(t.folderPrefix||N(t.email)),s&&a.push(s),a.push(e),a.join("/")}function L(e){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=a.folder;t[n.id]=n,a.children.length>0&&Object.assign(t,L(a.children))}return t}},function(e,t,s){"use strict";var a=s(37),n=s(8),r=s(473),o=s.n(r),i=s(36);const c="MAIL-ERROR";function l(e,t,s){if(!e)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(s=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,l);const a=Object(n.a)(l.MANIFEST,e);if(!a)throw new Error("Error name ["+e+"] is not in the list of available errors. see ./manifest.js");t=t||a.description,a.requiredData&&a.requiredData.forEach(t=>{if(!s||!s.hasOwnProperty(t))throw new Error("property ["+t+"] is required for ["+e+"] error. Got: "+JSON.stringify(s))}),this.token=c,this.name=e,this.message=t,this.data=s||{},this.isRetryable=!1,this.statusCode=Object(n.a)(this,"data.statusCode",null),this.errorCode=Object(n.a)(this,"data.body.error.code",null)||Object(n.a)(this,"data.body.data.errorCode",null)||Object(n.a)(this,"data.errorCode",null),this.code=a.code||i.n}l.MANIFEST=o.a,l.VALIDATE_SUCCESS=123456,(l.prototype=Object.create(Error.prototype)).getDataByName=function(e,t=null){return Object(n.a)(this.data,e,t)},l.prototype.setDataByName=function(e,t){this.data[e]=t},l.errorify=(e=>{let t;return e instanceof l?e:(e instanceof a.a?((t=new l("ApiError",e.message,e.failureMap)).stack=e.stack,t.statusCode=e.statusCode,t.errorCode=e.errorCode,t.extraStatusCode=e.extraStatusCode,t.extraErrorCode=e.extraErrorCode,t.isRetryable=e.isRetryable,Object.assign(t.data,{info:e.errorInfo})):e instanceof Error?(t=new l("GenericError",[e.name,e.message].join(": "))).stack=e.stack:t=new l("UnknownError",`Error: ${JSON.stringify(e)}`,{errorCode:"UNKNOWN"}),t)}),l.prototype.serialize=function(){return JSON.stringify(this.toJSON())},l.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},l.jsonToError=function(e){return Object.assign(new Error,{stack:void 0},e)},t.a=l},,function(e,t,s){"use strict";s.d(t,"n",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"j",function(){return l}),s.d(t,"l",function(){return d}),s.d(t,"k",function(){return E}),s.d(t,"g",function(){return _}),s.d(t,"h",function(){return u}),s.d(t,"i",function(){return p}),s.d(t,"a",function(){return m}),s.d(t,"m",function(){return h}),s.d(t,"f",function(){return S}),s.d(t,"o",function(){return g}),s.d(t,"p",function(){return I});var a=s(8);const n=0,r="Authentication.InvalidCredentials",o="Authentication.InvalidCrumb",i="Authentication.MissingCrumb",c="Authentication.WssidReissue",l="LaunchError.LaunchApiFailed",d="LaunchError.WrongMailboxState",E="LaunchError.PageNotFound",_="Empty response returned from JEDI",u="The response returned from JEDI contains errors",p="Unhandled partial failure",m="Account is not supported",h="Multiple mailboxes found",S=Object(a.c)(["MISSING_YT_COOKIE","COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER"]),g={[m]:"unsupported_acct",[h]:"multi_mboxes"},I=["EC-4001-SetMailboxAttribute","EP-5000"]},function(e,t,s){"use strict";var a=s(19),n=s(8),r=s(36);const o="API-ERROR";function i(e,t,s=!0,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack,Object(a.a)(t&&"object"==typeof t,"Expected failureMap to be an object."),Object.keys(t).forEach(e=>{const s=t[e];Object(a.a)(s&&"object"==typeof s,`Invalid map passed to ApiError: ${e} had a value of ${s}`)}),this.token=o,this.name=this.constructor.name,this.message=e,this.failureMap=t,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.errorInfo=n,this.isRetryable=!!s&&this.getRetryable()}(i.prototype=Object.create(Error.prototype)).constructor=i,i.prototype.getStatusCode=function(){const e=String(this.extraStatusCode).split(",")[0].split(":")[1]||r.n;return Number(e)},i.prototype.getErrorCode=function(){return this.message===r.g?"EMPTY_RESPONSE":String(this.extraErrorCode).split(",")[0].split(":")[1]||r.n},i.prototype.getExtraStatusCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{e.push(`${t}:${this.failureMap[t].httpCode||r.n}`)}),e.join(",")||r.n},i.prototype.getExtraErrorCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{const s=this.failureMap[t],a=Object(n.a)(s,"response.error.code",r.n);e.push(`${t}:${a}`)}),e.join(",")||r.n},i.prototype.getRetryable=function(){return this.message===r.g||Object.keys(this.failureMap).every(e=>{const t=this.failureMap[e];if(429===t.httpCode)return!1;if(!t.response||!t.response.error)return!0;const s=t.response.error.code||"",a=s.split("-")[0],n=(t.response.id||"").split("_")[0],o=[n,s,`${s}-${n}`];for(const e of o)if(-1!==r.p.indexOf(e))return!0;return"EC"!==a&&"EP"!==a&&"EB-6000"!==s&&"EB-6003"!==s})},t.a=i},function(e,t,s){"use strict";s.d(t,"e",function(){return S}),s.d(t,"c",function(){return G}),s.d(t,"d",function(){return w}),s.d(t,"f",function(){return x}),s.d(t,"a",function(){return B}),s.d(t,"b",function(){return j});var a=s(6),n=s.n(a),r=s(0),o=s(8);const{string:i,number:c,bool:l,array:d,object:E,shape:_,oneOf:u,oneOfType:p,arrayOf:m,func:h}=n.a,S=_({name:i.isRequired,lastObservedTimezone:_({client:i,server:i}),location:_({city:i,state:i,country:i}),geoLocation:_({city:i,state:i,country:i}),longName:i,formattedOffset:i,currentOffset:c}),g=_({name:i,email:i}),I=(_({first:i.isRequired,last:i.isRequired}),_({virus:i,filename:i,size:c,partId:i,mimeType:i,type:u(Object(o.e)(r.u.Types)),messageReference:_({mid:i,pid:i}),disposition:i,downloadUrl:i,thumbnailUrl:i,contentId:i,dataId:i})),C=(_({isSpam:l,isRead:l,isFlagged:l}),_({id:i.isRequired,name:i.isRequired,isSystem:l.isRequired,types:m(i).isRequired})),T=_({folder:C.isRequired,children:m(E).isRequired}),A=(m(T),_({default:d.isRequired}),_({to:d,cc:d,bcc:d}),_({id:i.isRequired,accountId:i.isRequired,name:i.isRequired,isSystem:l,types:m(i).isRequired,total:c,unread:c})),O=(_({systemFolders:d.isRequired,customFolders:d.isRequired}),_({divIds:m(i).isRequired,classId:i})),b=_({html:i,text:i,htmlAnnotations:m(O),attachments:m(I),bidi:m(i)}),R=_({name:i.isRequired,params:E,query:E}),D=(_({route:R.isRequired,metadata:E}),_({subject:i,cc:m(g).isRequired,bcc:m(g).isRequired,to:m(g).isRequired,from:m(g).isRequired,date:i.isRequired})),f=_({id:i.isRequired,folder:A.isRequired,flags:_({flagged:l,read:l}).isRequired,headers:D.isRequired,snippet:i.isRequired,attachments:m(I).isRequired,body:b,verifiedDomains:n.a.array.isRequired,composeProps:n.a.object}),N=(_({messageId:i.isRequired,flags:_({flagged:l,read:l}).isRequired,headers:E.isRequired,snippet:i.isRequired,subject:i.isRequired,attachments:m(I).isRequired,downloadAllUrl:i.isRequired}),_({id:i.isRequired,messages:m(f).isRequired}),_({url:i,width:c,height:c}),_({name:i,email:i.isRequired,recent:l.isRequired}),_({id:i,isPrimary:l.isRequired,email:i,accountVerified:l.isRequired,sendingName:i,status:u(Object(o.e)(r.f)).isRequired,type:u(Object(o.e)(r.g)).isRequired,serverUri:i,signature:i,signatureActive:l,secondaryAccounts:d,replyToAddress:i}),p([c,i]),p([c,E]),_({type:n.a.oneOf(Object(o.e)(r.Bd)),serviceId:n.a.string,name:n.a.string,emailIds:n.a.arrayOf(n.a.string)}),_({adHeadline:i.isRequired,adSummary:i.isRequired,adImg:i.isRequired,adSource:i.isRequired,clickUrl:i.isRequired,type:i.isRequired,creativeId:i,beacon:i,impressionTrackingUrls:d})),M=_({contentType:i.isRequired,url:i.isRequired,usageType:i.isRequired}),L=_({billingCountry:i,currency:i,frequency:i,isDefault:l,nextBillingDate:i,startDate:i,planId:i,fullPrice:E,pricePostTax:c}),y=_({nextBillingDate:i.isRequired,orderExternalId:i,piId:i,planId:i,startDate:i,status:i.isRequired,unitPrice:c}),P=(_({subscriptionPlan:L,subscriptionStatus:y}),_({creativeId:i.isRequired,pencilAd:N,nativeAd:M}),_({position:i.isRequired,bookId:c.isRequired})),v=(_({spaceId:i.isRequired,positions:m(P).isRequired}),_({content:E,state:u(Object(o.e)(r.Mc))})),F=(_({pages:v.isRequired,numPages:c.isRequired,height:c.isRequired,width:c.isRequired,exceptions:E.isRequired,sheets:E.isRequired}),_({folderActionValueBean:_({folder:_({name:i.isRequired})}).isRequired})),U=_({type:u(Object(o.e)(r.mb)),value:F}),H=_({field:u(Object(o.e)(r.nb)),operator:u(Object(o.e)(r.pb)),matchCase:l,value:i.isRequired}),k=(_({index:c.isRequired,name:i.isRequired,matchType:u(Object(o.e)(r.ob)),actions:m(U).isRequired,criterions:m(H).isRequired}),_({domains:m(i).isRequired,domainMessageBody:i.isRequired})),G=(_({enabled:l.isRequired,startDate:c,endDate:c,messageBody:i,domainSpecificResponse:k}),_({loadModule:h.isRequired})),w=_({firstDay:c,name:i}),x=(_({requireInteraction:l,sticky:l,modal:l,icon:i,type:u(Object(o.e)(r.oc))}),_({code:c,isRetryable:l}),_({title:i.isRequired,options:_({body:i.isRequired,icon:i.isRequired,lang:i.isRequired,tag:i.isRequired,timestamp:c.isRequired}).isRequired,onClick:h}),_({id:i,status:u(Object(o.e)(r.y)).isRequired,progress:c.isRequired,expires:c}),_({spam:l,ham:l,move:l,archive:l,restore:l,delete:l,permDelete:l,raf:l}),_({request:h})),B=_({getAuthorizationURL:h}),j=(_({city:i,state:i,country:i,timezone:_({name:i.isRequired,longName:i,currentOffset:i,offsetPositive:l}).isRequired}),_({id:i,defaultMessage:i,description:i}),_({id:c.isRequired,name:i.isRequired,text:i.isRequired,imgUrl:i.isRequired,handle:i.isRequired,creationTime:n.a.instanceOf(Date).isRequired}),_({playlist:E.isRequired}),_({get:h})),V=(_({domainLogo:i.isRequired,domainColor:i.isRequired}),_({unicode:i.isRequired,unicode_alt:i.isRequired,code_decimal:i.isRequired,name:i.isRequired,shortname:i.isRequired,category:i.isRequired,emoji_order:i.isRequired,aliases:d.isRequired,aliases_ascii:d.isRequired,keywords:d.isRequired}),_({id:i,name:i,email:i,iataCode:i}),{number:i.isRequired,type:i}),W={type:i,value:i};_({id:i.isRequired,xobniId:i,categories:d,emails:m(i).isRequired,name:i,phonesWithType:m(_(V)),position:i,company:i,flickr:i,facebook:i,twitter:i,linkedIn:i,notes:i,addressesWithType:m(_(W))}),_({id:i.isRequired,name:i.isRequired,position:i,company:i,editToken:i,isBusiness:l,phonesWithType:m(_(V)),emails:m(i),emailType:E,backyard:i,flickr:i,facebook:i,twitter:i,linkedIn:i,website:i,relationshipHistory:E,notes:i,birthday:i,anniversary:i,addressesWithType:m(_(W))})},,function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(26),c=s(498),l=s.n(c),d=s(499),E=s.n(d),_=s(500),u=s.n(_),p=s(501),m=s.n(p),h=s(11),S=s.n(h),g=s(121),I=s(12);var C=s(10),T=(s(8),s(9)),A=s(13),O=s(35),b=s.n(O);s.d(t,"a",function(){return R});class R extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0]},this.handleKeyDown=(e=>{switch(e.key){case"Escape":return e.preventDefault(),e.stopPropagation(),void this.hide();default:return}}),this.handleClick=(()=>{!this.props.persistent&&this.props.hideOnContentClick&&this.hide()}),this.getArrowClassNames=(e=>{let t=u.a;return this.props.arrowSize===I.b.S?t=E.a:this.props.arrowSize===I.b.L&&(t=m.a),S()(t,{arrowDirectionDown:e===I.g.DOWN,arrowDirectionLeft:e===I.g.START,arrowDirectionRight:e===I.g.END,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align,highlight:this.props.highlight})}),this.updatePosition=(()=>{const{overflowScroll:e,popoverAnchor:t,align:s,offset:a,arrowSize:n,isArrowVisible:r,permittedArrowDirections:o,customPositioning:c,isRTL:l}=this.props,d=function(e,t,s,a,n,r,o){let i=t.getBoundingClientRect();const c=I.c[a],l=Math.sqrt(2*Math.pow(c,2)),d=Math.sqrt(Math.pow(c,2)-Math.pow(l/2,2)),E={height:e.ownerDocument.documentElement.offsetHeight,width:e.ownerDocument.documentElement.offsetWidth},_=e.getBoundingClientRect();let u=s;const p=e=>e<.4?I.a.START:e>.6?I.a.END:I.a.CENTER;s===I.a.ANY&&(r.indexOf(I.g.UP)>-1||r.indexOf(I.g.DOWN)>-1)?u=p((_.left+_.width/2)/E.width):s===I.a.ANY&&(r.indexOf(I.g.START)>-1||r.indexOf(I.g.END)>-1)&&(u=p((_.top+_.height/2)/E.height));const m=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollLeft:e.ownerDocument.body.scrollLeft,h=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollTop:e.ownerDocument.body.scrollTop,S={top:_.top+h,right:_.right+m,bottom:_.bottom+h,left:_.left+m,height:_.height,width:_.width},g=-(S.width/2+i.width/2),C=S.height/2-i.height/2,T={below:(e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollHeight:E.height)-S.bottom,above:S.top,left:S.left,right:E.width-S.right},A={},O=Math.floor(Math.max(T.above,T.below)-E.height*(1-.95)),b=Math.floor(Math.max(T.left,T.right)-E.width*(1-.95));let R,D;if(i.height+d>O&&(R=O-d),i.width+d>b&&(D=b-d),R||D){const e=R||i.height,t=D||i.width;i=Object.assign({},i,{height:e,bottom:i.top+e,width:t,right:i.left+t}),A.overflow="auto",R&&(A.maxHeight=`${R}px`),D&&(A.maxWidth=`${D}px`)}const f=.95*T.below-i.height>=0,N=.95*T.above-i.height>=0,M=.95*T.left-i.width>=0,L=.95*T.right-i.width>=0;r[0]===I.g.ANY&&(r=[I.g.UP,I.g.DOWN,I.g.START,I.g.END]);const{positioningStyles:y,arrowDirection:P,canNotPosition:v}=function(){const e={};let t,s=!1;for(let s=0;s<=r.length;s++){if((t=r[s])===I.g.UP&&f){e.top=`${S.bottom+d}px`,e.left=`${S.right+g}px`;break}if(t===I.g.DOWN&&N){e.top=`${S.top-(i.height+d)}px`,e.left=`${S.right+g}px`;break}if(t===I.g.START&&L||t===I.g.END&&L&&o){e.top=`${S.top+C}px`,e.left=o?`${S.right+(S.width+d)}px`:`${S.right+d}px`;break}if(t===I.g.END&&M||t===I.g.START&&M&&o){e.top=`${S.top+C}px`,e.left=o?`${S.left-i.width-d}px`:`${S.left-(i.width+d)}px`;break}}return t===I.g.UP||t===I.g.DOWN?u===I.a.START?o?i.width?e.left=`${S.right-i.width+n}px`:s=!0:e.left=`${S.left-n}px`:u===I.a.END&&(o?e.left=`${S.left}px`:i.width?e.left=`${S.right-i.width+n}px`:s=!0):t!==I.g.START&&t!==I.g.END||(u===I.a.START?e.top=`${S.top-n}px`:u===I.a.END&&(e.top=`${S.bottom-i.height+n}px`)),{positioningStyles:e,arrowDirection:t,canNotPosition:s}}();return{canNotPosition:v,positioningStyles:y,innerContentScrollingStyles:A,arrowDirection:P,adjustedAlign:u}}(Object(i.findDOMNode)(t),Object(i.findDOMNode)(this.refs.popoverContent),s,n,a,o,l),{arrowDirection:E,canNotPosition:_,adjustedAlign:u}=d;if(_)return;let{positioningStyles:p,innerContentScrollingStyles:m}=d;c&&(p=null),e||(m=null),r&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle(u)),E!==this.state.arrowDirection?this.setState({arrowDirection:E},()=>{Object.assign(this.refs.popoverContent.style,p),Object.assign(this.refs.popoverInnerContent.style,m)}):(Object.assign(this.refs.popoverContent.style,p),Object.assign(this.refs.popoverInnerContent.style,m))}),this.handleWindowMouseDown=(e=>{const t=Object(i.findDOMNode)(this.refs.popoverContent),s=Object(i.findDOMNode)(this.props.popoverAnchor),a=!t.contains(e.target)&&t!==e.target,n=s.contains(e.target)||s===e.target;a&&!n&&this.hide()}),this.hide=(()=>{this.props.onHide()}),this.getArrowStyle=(e=>{const{offset:t,arrowSize:s,popoverAnchor:a,isRTL:n}=this.props,r=Object(i.findDOMNode)(a).getBoundingClientRect(),o=this.state.arrowDirection;let c,l=t-I.c[s],d="",E="";if(e!==I.a.CENTER)return e===I.a.END?E="flex-end":e===I.a.START&&(E="flex-start"),o===I.g.START||o===I.g.END?(c=I.f.VERTICAL,l+=r.height/2):(c=I.f.HORIZONTAL,l+=r.width/2),(e===I.a.END&&!n||n&&e===I.a.START)&&(l*=-1),o!==I.g.DOWN&&o!==I.g.END||(d="rotate(180deg)",e===I.a.END?E="flex-start":e===I.a.START&&(E="flex-end")),{transform:c===I.f.HORIZONTAL?`translateX(${l}px) ${d}`:`translateY(${l}px) ${d}`,justifyContent:E}}),t}getChildContext(){return{notifyPopoverChanged:this.updatePosition}}componentDidMount(){this.updatePosition(),this.props.onShow(),this.setState({isVisible:!0},()=>{this.props.persistent||(window.addEventListener("resize",this.hide,!1),window.addEventListener("mousedown",this.handleWindowMouseDown,!1))})}componentWillUnmount(){clearTimeout(this.positionTimeout),window.removeEventListener("resize",this.hide,!1),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)}componentDidUpdate(){this.positionTimeout=setTimeout(()=>{this.refs.popoverContent&&this.updatePosition()},0)}render(){const e=this.state.isVisible?"visible":"hidden",t=this.getArrowClassNames(this.state.arrowDirection),s=S()(l.a,{bg:this.props.bg,zAltitude:this.props.zAltitude,animate:this.props.animate,highlight:this.props.highlight,borderRadius:this.props.borderRadius});return o.a.createElement(g.a,null,o.a.createElement("div",babelHelpers.extends({"data-test-id":"popover-content",className:s.popover,onClick:this.handleClick,onKeyDown:this.handleKeyDown},b()(this.props,["triggerOn","permittedArrowDirections","zAltitude","onShow","boundingBox","align","arrowSize","bg","onHide","overflowScroll","persistent","isArrowVisible","customPositioning","animate","popoverAnchor","highlight","hideOnContentClick","borderRadius","isRTL","dispatch"]),{style:{visibility:e},ref:"popoverContent"}),o.a.createElement("div",{className:s.popoverContent,ref:"popoverInnerContent"},this.props.children),o.a.createElement("div",{className:t.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?o.a.createElement("div",{"data-test-id":"popover-content-arrow",className:t.pointer}):null)))}}R.displayName="PopoverContent",R.childContextTypes={notifyPopoverChanged:n.a.func},R.defaultProps={permittedArrowDirections:[I.g.ANY],boundingBox:void 0,triggerOn:I.h.MOUNT,align:I.a.CENTER,arrowSize:I.b.M,offset:0,bg:I.d.DEFAULT,zAltitude:C.ZIndices.POPOVER.LOW,onHide:()=>{},onShow:()=>{},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1,animate:!1,highlight:!1,hideOnContentClick:!0,borderRadius:I.e.LOW};const D=Object(A.b)(e=>{const{getEnvironmentSelectors:t}=Object(T.b)(e);return{isRTL:"rtl"===t().getPageDirection()}})(R);t.b=D},function(e,t,s){"use strict";s.d(t,"k",function(){return n}),s.d(t,"j",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"i",function(){return d}),s.d(t,"f",function(){return E}),s.d(t,"b",function(){return _}),s.d(t,"h",function(){return u}),s.d(t,"e",function(){return p}),s.d(t,"l",function(){return m});var a=s(8);const n="INTERACTION_SELECTION_TOGGLED",r="INTERACTION_SELECTION_MULTIPLE_TOGGLED",o="INTERACTION_GROUP_SPAM",i="INTERACTION_GROUP_NOT_SPAM",c="INTERACTION_GROUP_MOVE",l="INTERACTION_GROUP_DELETE",d="INTERACTION_GROUP_UNREAD",E="INTERACTION_GROUP_READ",_="INTERACTION_GROUP_FLAGGED",u="INTERACTION_GROUP_UNFLAGGED",p="INTERACTION_GROUP_PRINT",m=Object(a.c)(["ACCOUNT","FOLDER","NONE"])},function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"f",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"e",function(){return l});var a=s(8);const n="Boundary_721950_932302703_1435368466480",r=6e4,o=20,i="BROWSER_TO_BOOTCAMP_STRATEGY",c="BROWSER_TO_NODE_STRATEGY",l="NODE_TO_BOOTCAMP_STRATEGY";Object(a.c)(["searchTenorGifs","searchGifs","getGifCategories","getPlaAdsByKeyword","localStores"])},function(e,t,s){"use strict";s.d(t,"i",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"f",function(){return E}),s.d(t,"c",function(){return _}),s.d(t,"b",function(){return u}),s.d(t,"l",function(){return p}),s.d(t,"k",function(){return m}),s.d(t,"a",function(){return h}),s.d(t,"j",function(){return S}),s.d(t,"e",function(){return g}),s.d(t,"d",function(){return I}),s.d(t,"m",function(){return C});var a=s(1),n=s(9),r=s(17),o=s(0),i=s(14);const c=e=>babelHelpers.extends({type:a.a.OPEN_PAGE_REQUESTED},e),l=e=>babelHelpers.extends({},c({route:Object(r.t)(o.td.PEOPLE,{accountIds:e.accountId})}),{updatedSettingAttributes:e.updatedSettingAttributes,accountId:e.accountId}),d=(e={})=>{let{csid:t}=e,s=babelHelpers.objectWithoutProperties(e,["csid"]);return c(babelHelpers.extends({},s,{route:Object(r.e)(t||Object(i.f)())}))},E=e=>c({route:Object(r.i)(e.inboxFolderId)}),_=(e={})=>(t,s)=>{const{getRoute:r}=Object(n.b)(s());t(babelHelpers.extends({type:a.a.CLOSE_PAGE_REQUESTED},e,{route:e.route||r()}))},u=(e={})=>t=>{t(babelHelpers.extends({type:a.a.CLOSE_ALL_PAGES_REQUESTED},e))},p=e=>babelHelpers.extends({type:a.a.SYNC_DATA},e),m=e=>babelHelpers.extends({type:a.a.SHOW_APP_RELOAD},e),h=e=>babelHelpers.extends({type:a.a.CANCEL_APP_RELOAD},e),S=e=>babelHelpers.extends({type:a.a.CONFIRM_APP_RELOAD},e),g=e=>babelHelpers.extends({type:a.a.HEADER_NAVIGATION_SELECTED},e),I=e=>babelHelpers.extends({type:a.a.PREVIEW_MESSAGE_CLOSED},e),C=e=>(t,s)=>{const{messageGroupIds:r,i13nModel:o}=e,[i]=r,{__getLastNonDraftMessageIdByGroupId:c}=Object(n.b)(s()),l=c(i);t({type:a.a.VIEW_RAW_MESSAGE,i13nModel:o,messageId:l})}},function(e,t,s){"use strict";s.d(t,"c",function(){return p}),s.d(t,"a",function(){return h}),s.d(t,"b",function(){return S}),s.d(t,"f",function(){return g}),s.d(t,"m",function(){return I}),s.d(t,"e",function(){return C}),s.d(t,"h",function(){return T}),s.d(t,"g",function(){return A}),s.d(t,"d",function(){return O}),s.d(t,"o",function(){return b}),s.d(t,"i",function(){return R}),s.d(t,"k",function(){return D}),s.d(t,"j",function(){return f}),s.d(t,"n",function(){return N}),s.d(t,"l",function(){return M});var a=s(0),n=s(19),r=s(64),o=s.n(r),i=s(3);const{Types:c,SubTypes:l,Dispositions:d,SimplifiedTypes:E}=a.u,_=/\?(size|h|w)=([^&]*)/g,u=/&(size|h|w)=([^&]*)/g,p=(()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}})();const m=(e,t=d.ATTACHMENT)=>babelHelpers.extends({},function(e,t=p()){const[s,a]=e.type.split("/");return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:s,subtype:a,contentId:t,dataId:t,isFromDataURI:!!e.isFromDataURI}}(e),{disposition:t}),h=e=>m(e,d.INLINE),S=e=>m(e,d.ATTACHMENT);function g(e,t=!1){return e.filter(({type:e,disposition:s})=>e===c.MESSAGE||s===d.ATTACHMENT||t&&s===d.INLINE)}function I(e){return e.filter(({type:e,subtype:t,disposition:s})=>!(e===c.MESSAGE&&t===l.RFC822&&s===d.INLINE))}function C(e,t){const s={};if(!e)return[];const a=e.filter(e=>!e);return a.length?(Object(n.a)(a,"Invalid attachment information: "+JSON.stringify(a)),[]):e.filter(Boolean).filter(({type:e,disposition:a,size:n,filename:r})=>{if(!n)return!1;const o=((r||"")+(n||0)).replace(/\s\s+/g," ");return!s[o]&&(s[o]=!0)&&(a!==d.INLINE||e!==c.IMAGE||n>=t)})}function T(e){return e.filter(Boolean).filter(({type:e,subtype:t})=>O(e,t)===E.CAL)}function A(e=[]){const t=e.filter(Boolean).map(e=>{switch(O(e.type,e.subtype)){case E.CAL:return i.b.ATTACH_CAL;case E.IMAGE:return i.b.ATTACH_IMAGE;case E.DOC:case E.PDF:case E.XLS:case E.PPT:case E.CSV:case E.TEXT:return i.b.ATTACH_DOC;default:return i.b.ATTACHMENT}});return 1===o()(t).length?t[0]:i.b.ATTACHMENT}function O(e,t){switch(e){case c.IMAGE:switch(t){case l.TIFF:return E.TIFF;default:return E.IMAGE}case c.AUDIO:return E.AUDIO;case c.VIDEO:return E.VIDEO;case c.APPLICATION:switch(t){case l.ACROBAT:case l.PDF:case l.VND_PDF:case l.X_PDF:return E.PDF;case l.GZIP:case l.TAR:case l.X_COMPRESSED:case l.X_ZIP:case l.ZIP:return E.COMPRESSED;case l.EXCEL:case l.GXLS:case l.MSEXCEL:case l.X_EXCEL:case l.X_MS_EXCEL:case l.XLS_M:case l.X_XLS:case l.XLS:case l.XLS_M_TEMPLATE:case l.XLS_TEMPLATE:case l.XLSX:return E.XLS;case l.DOC:case l.DOCX:case l.DOT:case l.FRAMEMAKER:case l.GDOCX:case l.MS_WORD:case l.MSTNEF:case l.RICHTEXT:case l.SC2:case l.VND_MS_WORD:case l.VND_MSWORD:case l.WINWORD:case l.WORD:case l.X_DOT:case l.X_FM:case l.X_FRAMEMAKER:case l.X_MAKER:case l.X_MS_WORD:case l.X_MSW6:case l.X_RTF:case l.X_SOFFICE:case l.ZZ_DOT:return E.DOC;case l.PPT:case l.PPTX:case l.GPPT:case l.PPTX_SLIDESHOW:case l.PPTX_TEMPLATE:return E.PPT;case l.ICS:return E.CAL;default:return E.APPLICATION}case c.TEXT:switch(t){case l.CALENDAR:return E.CAL;case l.CSV:return E.CSV;default:return E.TEXT}default:return E.FILE}}function b({id:e},t=[],s=!0){return t.map(t=>{const a=s?{dataId:t.dataId?t.dataId:p(),contentId:t.contentId?t.contentId:p()}:{};return babelHelpers.extends({messageReference:{id:e,pid:t.partId}},t,a)})}function R(e,t,s){Object(n.a)(e<=t,"You cannot have a page number greater than the last page of the document.");const a=e-(e%s||s)+1;let r=a+(s-1);return r>t&&(r=t),{startPage:a,endPage:r}}function D(e){const{type:t,subtype:s,size:n,isExternal:r}=e,o=`${t}/${s}`,i=O(t,s);return!r&&n>0&&(a.s.previewableMimeTypes.indexOf(o)>-1||i===E.IMAGE)}function f(e,t){return e?(e=e.replace(_,"?").replace(u,""))+"&size="+t+"w&w="+t+"&h="+t:""}function N(e){return e?e=e.replace(_,"?").replace(u,""):""}function M(e){if(!e)return!0;const t=e.split(".");if(t.length>1){const e=t.pop();if(a.Sd[e])return!1}return!0}},,function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"s",function(){return p}),s.d(t,"y",function(){return m}),s.d(t,"r",function(){return h}),s.d(t,"h",function(){return S}),s.d(t,"i",function(){return g}),s.d(t,"c",function(){return I}),s.d(t,"k",function(){return C}),s.d(t,"p",function(){return T}),s.d(t,"d",function(){return A}),s.d(t,"v",function(){return O}),s.d(t,"w",function(){return b}),s.d(t,"b",function(){return R}),s.d(t,"x",function(){return f}),s.d(t,"l",function(){return N}),s.d(t,"f",function(){return M}),s.d(t,"o",function(){return L}),s.d(t,"g",function(){return y}),s.d(t,"j",function(){return v}),s.d(t,"q",function(){return F}),s.d(t,"u",function(){return U}),s.d(t,"t",function(){return H}),s.d(t,"m",function(){return k}),s.d(t,"n",function(){return G});var a=s(159),n=s.n(a),r=s(269),o=s.n(r),i=s(332),c=s.n(i);const l=n()(Intl.DateTimeFormat),d=86400,E=/[^0-9\/\ :.-]/g,_=/[\/\s:.-]/;function u(e,t,s){return l(t,s).format(e)}const p=function(e,t){const s=new o.a({max:t});return function(t,a){t instanceof Date||(t=new Date(t));const n=t.getTime()+"-"+a;let r=s.get(n);return void 0===r&&(r=e(t,a),s.set(n,r)),r}}(function(e,t){const s=u(e,"en-US",{timeZone:t,hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(E,"").split(_),a=parseInt(s[2],10);return(Date.UTC(a,s[0]-1,s[1],s[3],s[4],s[5])-new Date(e).setMilliseconds(0))/6e4},1e3);function m(e,{timezone:t}){let s=0;return e instanceof Date&&(e=e.getTime()),void 0!==t&&(s=p(e,t)),new Date(e+6e4*s)}function h({timezone:e,offset:t=0}){const s=Date.now();void 0!==e&&(t=p(s,e));const a=new Date(s+6e4*t),n=a.getUTCDate(),r=a.getUTCMonth(),o=a.getUTCFullYear(),i=Date.UTC(o,r,n);return void 0!==e?i-6e4*(t=p(i,e)):i}function S({timezone:e,time:t}){const s=new Date(t).getTime(),a=t=>6e4*p(t,e),n=e=>e-a(e),r=new Date((e=>e+a(e))(s)),o=r.getUTCDay(),i=r.getUTCDate(),c=r.getUTCMonth(),l=r.getUTCFullYear();return{weekday:o,date:i,month:c,year:l,startOfPastHour:e=>n(Date.UTC(l,c,i,-1*e)),startOfPastDay:e=>n(Date.UTC(l,c,i,-24*e)),startOfMonth:e=>n(Date.UTC(l,e,1)),startOfYear:e=>n(Date.UTC(e,0,1))}}function g(){return new Date}function I(e){return e?new Date(1e3*e):g()}function C(e){return T(e)+(d-1)}function T(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function A(e,t){return!(!b(e)||!b(t))&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function O(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return A(new Date,e)}function b(e){return function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)&&!isNaN(e.getTime())}function R(e){if(!b(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function D(e){const t=R(e);return t.setDate(t.getDate()-t.getDay()),t}function f(e){const t=e.getDay();return 0===t||6===t}function N(e){const t=Date.now()+864e5*e,s=new Date(t);return s.getUTCMonth()+1+"/"+s.getUTCDate()+"/"+s.getUTCFullYear()}function M(e){const t=D(e),s=[t];for(let e=1;e<=6;e++){const a=R(t);a.setDate(a.getDate()+e),s.push(a)}return s}function L(e,t){const s=[];for(let a=1;a<=t;a++){const t=R(e);t.setDate(t.getDate()+a),s.push(t)}return s}function y(e){const t=R(e);t.setDate(1);const s=t.getMonth(),a=R(D(t)),n=[R(a)];for(a.setDate(a.getDate()+7);a.getMonth()===s;)n.push(R(a)),a.setDate(a.getDate()+7);return n}const P=1e3*d;function v(e,t){const s=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(s/P)}function F(e){return T(e)-d}function U(e,t=0){const s=new Date(e);return s.setDate(s.getDate()+t),s.getDay()}function H(e=new Date){return Math.ceil(c()(new Date(e.getFullYear(),e.getMonth(),e.getDate()))/7)}function k(e){const t=e=>e<10?`0${e}`:e;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function G(e){return"zh-Hant-HK"===e||"ko-KR"===e?"numeric":"short"}},function(e,t,s){"use strict";s.d(t,"k",function(){return r}),s.d(t,"j",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"c",function(){return E}),s.d(t,"d",function(){return _}),s.d(t,"h",function(){return u}),s.d(t,"a",function(){return p}),s.d(t,"b",function(){return m}),s.d(t,"i",function(){return h});var a=s(0),n=s(33);function r(e,t){if(t.isPrimary!==e.isPrimary)return t.isPrimary-e.isPrimary;if(t.type===a.g.DEA&&e.type!==a.g.DEA)return-1;if(t.type===a.g.DEA&&e.type===a.g.DEA){const s=e.email.toLowerCase()||"",a=t.email.toLowerCase()||"";return s.localeCompare(a)}return t.type!==a.g.DEA&&e.type===a.g.DEA?1:e.id-t.id}function o(e){const[t,s]=e.toLowerCase().split("@");let n=t;if(function e(t){if(!t)return!1;if(a.uc[t])return!0;const s=t.indexOf(".");return!(s<0)&&e(t.substr(s+1))}(s))n=e;else{if(!function(e){if(!e)return!1;const t=e.split(".");return!(t[0]!==a.fb.YAHOO||t.length>3||(t.length>2&&a.Wd[t[2]]?!a.Jd[t[1]]:2!==t.length||!a.Jd[t[1]]&&!a.Wd[t[1]]))}(s))return!1;"yahoo.cn"===s&&(n=e)}return!(n.length<4||n.length>32)&&!!n}function i({domainCheck:e},t){let s=!1;if(e&&e.length>0){const a="(@"+e.join(".com$|@")+".com$)";if(!(s=new RegExp(a,"i").test(t))){const a="(@"+e.join("|@")+")\\.";s=new RegExp(a,"i").test(t)}}return s}function c(e){if(!e)return null;return/@oath.com$/i.test(e)?a.fb.OATH:o(e)?a.fb.YAHOO:a.Wc.find(t=>i(a.vb[t],e))}function l(e){if(e.type!==a.g.IMAPIN)return null;switch(e.serverUri){case"imaps://gmail.com":return"google";case"imaps://outlook.com":return"outlook";case"imaps://aol.com":return"aol";default:return"yahoo"}}function d(e){const{email:t}=e;return c(t)}function E(e){const t=[a.g.SENDAS,a.g.POPIN,a.g.IMAPIN];return e.filter(e=>{const{isPrimary:s,type:n,accountVerified:r,status:o}=e;return s||n===a.g.ALIAS||n===a.g.DEA||"ENABLED"===o&&r&&t.indexOf(n)>-1})}function _(e){if(e.serverUri){const t=e.serverUri.split("://")[1].split(".")[0];return"gmail"===t?"google":t}return"Your mailbox"}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p({status:e,type:t,createTime:s,syncTime:n=20}){const r=Date.now();return e===a.f.ENABLED&&t===a.g.IMAPIN&&r/1e3-s<60*n}function m(e,t){return void 0!==e.find(e=>e.email===t)}function h({email:e,provider:t,type:s,sendingName:r="",description:o="",wssid:i="",crumb:c="",linkedAccounts:l},d){let E={email:e,type:s,sendingName:r,description:o};const _={};if(i&&(_.wssid=i),c&&(_.crumb=c),s===a.g.IMAPIN){const s=e,{imapServer:r}=a.vb[t];E=babelHelpers.extends({},E,{serverUri:r,status:"ENABLED",authType:"OAUTH2",email:s,replyToAddress:s,folderPrefix:Object(n.k)(e,d)})}else s===a.g.SENDAS&&l.length>0&&Object.assign(E,{linkedAccounts:l});return{newAccount:E,config:_}}},function(e,t,s){"use strict";s.d(t,"g",function(){return i}),s.d(t,"j",function(){return c}),s.d(t,"m",function(){return l}),s.d(t,"l",function(){return d}),s.d(t,"k",function(){return E}),s.d(t,"a",function(){return _}),s.d(t,"e",function(){return u}),s.d(t,"f",function(){return p}),s.d(t,"d",function(){return m}),s.d(t,"i",function(){return h}),s.d(t,"p",function(){return S}),s.d(t,"n",function(){return g}),s.d(t,"h",function(){return I}),s.d(t,"c",function(){return T}),s.d(t,"b",function(){return A}),s.d(t,"o",function(){return O});var a=s(0),n=s(33),r=s(19),o=s(8);function i({messageGroupId:e,mId:t}){return t?e+"-"+t:e}function c(e){return Object(n.n)(e.folder)===a.sb.DRAFT}function l(e){return Object(n.n)(e.folder)===a.sb.TRASH}function d(e){return Object(n.n)(e.folder)===a.sb.BULK}function E(e){return t=>t.folder.id===e}function _(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function u({partId:e,contentId:t},s){return Object(r.a)(s,"#generateAttachmentId must receive a messageId"),`${s}:${e||t}`}function p(e=""){const[t]=e.split(":");return t}function m(e,t){return e.filter(({folder:e})=>t(Object(n.n)(e)))}function h({decos:e}){return!(!e||!Array.isArray(e))&&e.findIndex(e=>{if("CRD"===e.id)return!0})>-1}function S(e,t=[]){return e.schemaOrg.forEach(s=>{const n=s.schema||s,r=n["@type"];switch(r){case a.Zc.ReservationPackage:n.subReservation&&(e.schemaOrg=n.subReservation,S(e,t));break;case a.Zc.FlightReservation:{if(!n.reservationFor)break;const{reservationId:e="",reservationFor:s}=n;let{underName:i=[],potentialAction:c=[]}=n;const{departureAirport:l,departureTime:d,departureTerminal:E="",arrivalAirport:_,arrivalTerminal:u="",flightNumber:p="",arrivalTime:m=""}=s;if(!(l&&_&&d&&n["@id"]))break;let h="";Array.isArray(c)||(c=[c]),Array.isArray(i)||(i=[i]),c.some(e=>{if(e["@type"]===a.Zc.CheckInAction&&e.url)return h=Object(o.a)(e,"url.@value")||Object(o.a)(e,"url",""),!0}),t.push({id:n["@id"],type:r,providerName:Object(o.a)(s,"provider.name",""),providerIataCode:Object(o.a)(s,"provider.iataCode",""),providerUrl:Object(o.a)(s,"provider.url",""),departureAirportName:Object(o.a)(l,"name",""),departureAirportDesc:Object(o.a)(l,"description",""),departureAirportCode:Object(o.a)(l,"iataCode",""),departureTime:d,departureTerminal:E,arrivalAirportName:Object(o.a)(_,"name",""),arrivalAirportDesc:Object(o.a)(_,"description",""),arrivalAirportCode:Object(o.a)(_,"iataCode",""),arrivalTime:m,arrivalTerminal:u,flightNumber:p,reservationId:e,passengers:i.map(e=>e.name),checkInUrl:h});break}case a.Zc.Coupon:{let s;const i=n["@id"],c=Object(o.a)(n,"validThrough",""),l=Object(o.a)(n,"description",""),d=Object(o.a)(e,"headers.from",[]),E=Object(o.a)(e,"cardConversationId",""),_=Object(o.a)(e,"decos",[]).some(e=>e&&e.id===a.Zb.TAG),u=Object(o.a)(n,"category",[]),p=Object(o.a)(n,"identifier",[]),m=Object(o.a)(p.find(e=>e&&"inferredExpiryDate"===e.propertyID),"value",""),h=Object(o.a)(n,"image.url",null);let S="";if(!i||!l||!d.length||!c&&!m)break;if(n.potentialAction&&n.potentialAction.length>0){const{object:{savedSearchQuery:e=null}={}}=n.potentialAction.find(e=>e["@type"]===a.Yc.SUBSCRIBE_ACTION);s=e}const g=Object(o.a)(u.find(e=>"GPT"===e.taxonomy&&"haifaproduct"===e.method),"name","").split(">");S=g[g.length-1],t.push({id:i,type:r,validThrough:c||m,isInferredDate:!c&&!!m,description:l,dealLink:Object(o.a)(n,"url.value",n.url||""),savedSearchQuery:s,clipped:_,from:d[0],cardConversationId:E,gptCategory:S,retailer:Object(o.a)(n,"broker.name",""),imageUrl:h});break}case a.Zc.Order:{const{acceptedOffer:e={},orderedItem:s=[],potentialSaving:a={},orderDate:i,seller:c,inferredOrderDate:l,broker:d={}}=n;if(!s.length||!n["@id"])break;t.push({id:n["@id"],type:r,price:Number(Number(Object(o.a)(e,"price",0)).toFixed(2)),potentialSavings:Number(Number(Object(o.a)(a,"price",0)).toFixed(2)),orderedItems:s,orderDate:i||l,sellerName:c?Object(o.a)(c,"name",""):"",broker:d});break}case a.Zc.Recommendation:{const{description:e="",recommendedItem:s=[],provider:a=""}=n;if(!s.length||!n["@id"])break;const o=s.filter(e=>e.name).map(e=>e.name);o.length&&t.push({id:n["@id"],type:r,description:e,provider:a.name||"",recommendedItems:o});break}}}),t}function g(e){const{decos:t}=e;return!(!t||!Array.isArray(t))&&t.some(e=>{if("USB"===e.id)return!0})}function I(e){const t=e.schemaOrg,s={};if(!t)return null;const a=Object(o.a)(t[0],"schema.potentialAction",[]);let n=Object(o.a)(a[0],"object.listUnsubscribe","").split(",")[0];return">"===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),-1!==n.indexOf("mailto")?s.mailTo=n.substring(n.indexOf(":")+1,n.length):s.unsubLink=n,s}function C(e){return`${e.email}@${e.name}`}function T(e){const t=e.length;if(t<=1)return e;const s=e[0],a={[C(s)]:s,[C(e[t-1])]:e[t-1]},n=[s];return e.slice(1,t-1).forEach(e=>{const t=C(e),n=a[t];(n!==s&&!n||!n.recent&&e.recent)&&(a[t]=e)}),e.slice(1,t-1).forEach(e=>{const t=C(e);a[t]===e&&n.push(e)}),n.push(e[t-1]),n.every(({email:e,recent:t,name:a})=>s.email===e&&s.recent===t&&s.name===a)?[s]:n}function A(e){if(1===e.length)return[0];const t=[0,e.length-1];let s=2;for(let a=1;a<e.length-1;a++){e[a].recent?(t.splice(s,0,a),s++):t.push(a)}return t}function O({recipients:e,participants:t,myAddresses:s}){let a=function(...e){const t={},s=[];let a=0;return e.forEach(e=>{e.forEach(e=>{const n=t[e.email];void 0===n?(t[e.email]=a,s[a]=Object.assign({},e),a++):s[n].recent=s[n].recent||e.recent})}),s}(e,t);if(a.length){const e=a.filter(e=>!s[e.email]);e.length&&(a=e)}return a}},function(e,t,s){"use strict";s.d(t,"a",function(){return a});const a={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,ESCAPE:27,SPACE:32,TAB:9,EQUAL:187,MINUS:189,PERIOD:190,BACKSPACE:8,DELETE:46,BRACKETLEFT:91,BRACKETRIGHT:93,ENTER:13,SLASH:47,PAGE_UP:33,PAGE_DOWN:34}},function(e,t,s){"use strict";s.d(t,"j",function(){return o}),s.d(t,"A",function(){return i}),s.d(t,"B",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"n",function(){return E}),s.d(t,"f",function(){return _}),s.d(t,"b",function(){return u}),s.d(t,"o",function(){return p}),s.d(t,"p",function(){return m}),s.d(t,"e",function(){return h}),s.d(t,"h",function(){return S}),s.d(t,"i",function(){return g}),s.d(t,"s",function(){return I}),s.d(t,"r",function(){return C}),s.d(t,"l",function(){return T}),s.d(t,"k",function(){return A}),s.d(t,"w",function(){return O}),s.d(t,"y",function(){return b}),s.d(t,"x",function(){return R}),s.d(t,"m",function(){return D}),s.d(t,"C",function(){return f}),s.d(t,"g",function(){return N}),s.d(t,"q",function(){return M}),s.d(t,"a",function(){return L}),s.d(t,"z",function(){return y}),s.d(t,"v",function(){return P}),s.d(t,"u",function(){return v}),s.d(t,"t",function(){return F});var a=s(1),n=s(0),r=s(5);s(61);const o=e=>babelHelpers.extends({type:a.a.AD_GEMINI_CLICKED},e),i=e=>babelHelpers.extends({type:a.a.AD_FEEDBACK_STARTED},e),c=e=>babelHelpers.extends({type:a.a.AD_FEEDBACK_SUBMITTED},e),l=e=>babelHelpers.extends({type:a.a.AD_FEEDBACK_CLOSED},e),d=e=>babelHelpers.extends({type:e.error?a.a.DARLA_ADS_FAILED:a.a.DARLA_ADS_RECEIVED},e),E=()=>({type:a.a.MESSAGE_READ_AD_ROTATION_TIMER}),_=()=>({type:a.a.FEATURE_DISABLED,name:n.kb.IS_WIDER_MAIL_EXTN_ENABLED}),u=e=>babelHelpers.extends({type:a.a.AD_ROTATION_SKIPPED},e),p=e=>babelHelpers.extends({type:a.a.PREMIUM_AD_STARTED},e),m=e=>babelHelpers.extends({type:a.a.PREMIUM_AD_STOPPED},e),h=e=>babelHelpers.extends({type:a.a.DARLA_AD_RENDERED},e),S=e=>babelHelpers.extends({type:a.a.GEMINI_AD_RENDERED},e),g=({sectionIds:e})=>({type:a.a.GEMINI_AD_REQUESTED,sectionIds:e}),I=({geminiAd:e,sectionIds:t})=>({type:a.a.GEMINI_AD_RECEIVED,geminiAd:e,sectionIds:t}),C=({error:e,sectionIds:t})=>({type:a.a.GEMINI_AD_FAILED,error:e,sectionIds:t}),T=({creativeId:e,asset:t})=>({type:a.a.GEMINI_SPONSORED_ASSET_RECEIVED,creativeId:e,asset:t}),A=({creativeId:e,error:t,url:s})=>({type:a.a.GEMINI_SPONSORED_ASSET_FAILED,creativeId:e,error:t,url:s}),O=({subject:e,asset:t})=>({type:a.a.SPONSORED_SAVE_TO_INBOX_REQUESTED,subject:e,asset:t}),b=({message:e,simpleBody:t})=>({type:a.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED,message:e,simpleBody:t}),R=()=>({type:a.a.SPONSORED_SAVE_TO_INBOX_FAILED}),D=({onWindowExpand:e,onMessageSend:t}={})=>({type:a.a.HIDE_RIGHT_PANE_ADS,onWindowExpand:e,onMessageSend:t,i13nModel:{mKey:r.e.HIDE_RIGHT_RAIL_AD,sec:r.g.RIGHT_RAIL,actionData:{onWindowExpand:e,onMessageSend:t}}}),f=({i13nModel:e})=>({type:a.a.VIGLINK_CLICKED,i13nModel:e}),N=()=>({type:a.a.FLASH_SALE_AD_ENDED}),M=({i13nModel:e})=>({type:a.a.RELATED_RETAILERS_TOGGLED,i13nModel:e}),L=({i13nModel:e})=>({type:a.a.AD_BLOCK_COUPON_CLICKED,i13nModel:e}),y=({i13nModel:e})=>({type:a.a.SHOPLIFT_AD_CLICKED,i13nModel:e}),P=({i13nModel:e})=>({type:a.a.RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED,i13nModel:e}),v=({i13nModel:e})=>({type:a.a.RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED,i13nModel:e}),F=({i13nModel:e})=>({type:a.a.RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"k",function(){return a}),s.d(t,"b",function(){return n}),s.d(t,"i",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"j",function(){return d}),s.d(t,"e",function(){return E}),s.d(t,"d",function(){return _}),s.d(t,"a",function(){return u});const a={HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",FallbackAdType:"FallbackAdType",FlashSaleAdType:"FlashSaleAdType",ShoppingCartAdType:"ShoppingCartAdType",ImagePortrait:"IMAGE_PORTRAIT"},n="http://n.gemini.yahoo.com:4080",r="/ssi",o=5443516,i=5551656,c=5564699,l=5559660,d=5564286,E="secOrigImagePortrait",_={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac",referer:"pu",domain:"dm"},u={[i]:5,[d]:2,[c]:18}},function(e,t,s){"use strict";s.d(t,"o",function(){return A}),s.d(t,"p",function(){return O}),s.d(t,"a",function(){return b}),s.d(t,"b",function(){return R}),s.d(t,"u",function(){return D}),s.d(t,"v",function(){return f}),s.d(t,"f",function(){return N}),s.d(t,"d",function(){return M}),s.d(t,"k",function(){return L}),s.d(t,"h",function(){return y}),s.d(t,"l",function(){return P}),s.d(t,"i",function(){return v}),s.d(t,"j",function(){return F}),s.d(t,"n",function(){return U}),s.d(t,"g",function(){return H}),s.d(t,"m",function(){return k}),s.d(t,"s",function(){return x}),s.d(t,"t",function(){return B}),s.d(t,"e",function(){return j}),s.d(t,"w",function(){return V}),s.d(t,"r",function(){return W}),s.d(t,"q",function(){return q}),s.d(t,"c",function(){return K});var a=s(1),n=s(0),r=s(33),o=s(7),i=s(48),c=s(14),l=s(9),d=s(97),E=s(5),_=s(145);function u(e,t){const{getFeaturesSelectors:s}=Object(l.b)(e.store.getState()),a=s();return t.length>=a.getSetting("bulkActionDialogThreshold")}function p({context:e,messageGroupIds:t=[],folderId:s,listId:a}){const{getAccountIdByFolderId:r,getAccountIdFromMessageGroupId:o,getAccountById:i,getFeaturesSelectors:c}=Object(l.b)(e.store.getState()),d=i(s?r(s):o(t[0],a));return c().isEnabled(n.kb.CONVERSATIONS)&&"IMAPIN"===d.type&&-1!==n.a.indexOf(d.serverUri)&&t.length<=n.R}function m(e,{sourceListId:t,fromMessageGroupView:s,destinationFolderId:r,messageIds:o,messageGroupIds:i,nextGroupId:c,streamId:p,streamItem:m,i13nModel:h}){const S=i.length,g=u(e,i),{getFeaturesSelectors:I}=Object(l.b)(e.store.getState()),T=I(),A=T.isEnabled(n.kb.CONVERSATIONS),O=T.isEnabled(n.kb.UPDATE_ITEMS_V3);if(0===(o=C(e,t,r,o,s)).length)return;const b={triageActionType:n.Pd.MOVE_SELECTED_ITEMS,count:S,conversations:A,folderId:r},R={triageActionType:n.Pd.MOVE_SELECTED_ITEMS,count:S,conversations:A};if(e.dispatch(a.a.MOVE_ITEMS_REQUESTED,{messageIds:o,destinationFolderId:r,isAsync:g,count:S,folderId:r,conversations:A,nextGroupId:c,listId:t,streamId:p,streamItem:m,i13nModel:h,triageActionType:n.Pd.MOVE_SELECTED_ITEMS,isV2Action:!0,fromMessageGroupView:s,successAction:babelHelpers.extends({type:a.a.UPDATE_ITEMS_SUCCEEDED},b),failureAction:babelHelpers.extends({type:a.a.UPDATE_ITEMS_FAILED},R)}),O)return Promise.resolve();const{getAction:D}=Object(l.b)(e.store.getState());let{itemsToUpdate:f}=D();return f||(_.a.error("no_items_to_update",{action:a.a.MOVE_ITEMS_REQUESTED}),f=[]),e.mailAPIClient.request("messages.update",[{destinationFolderId:r,messageIds:o,isAsync:g}]).then(({results:t})=>{g?t.forEach(({task:t})=>{t&&e.dispatch(a.a.BULK_PROGRESS_RECEIVED,t)}):e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,babelHelpers.extends({},b,{undoAction:Object(d.a)({streamId:p,itemsToUpdate:f,i13nModel:{mKey:E.e.UNDO_MOVE_ACTION}})}))}).catch(t=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,babelHelpers.extends({},R,{error:t})))}function h(e,{messageIds:t,messageGroupIds:s,sourceListId:a,fromMessageGroupView:n,destinationFolderType:r,flags:o,isAsync:i,checkForDuplicates:c}){const{__getFolderIdMapFromFolderType:d}=Object(l.b)(e.store.getState()),E=d(t,r);return Object.keys(E).map(t=>{let r=E[t];const l=!!c&&p({context:e,messageGroupIds:s,folderId:t,listId:a});return r=C(e,a,t,r,n),Object.assign({destinationFolderId:t,messageIds:r,deleteDuplicates:l,isAsync:i},o&&{flags:o})})}function S(e,{sourceListId:t,streamId:s,streamItem:r,i13nModel:o,fromMessageGroupView:i,destinationFolderType:c,messageIds:p,messageGroupIds:m,flags:S,triageActionType:g,checkForDuplicates:I}){const C=u(e,m),T=h(e,{sourceListId:t,destinationFolderType:c,messageIds:p,messageGroupIds:m,fromMessageGroupView:i,flags:S,isAsync:C,checkForDuplicates:I});if(0===(p=T.reduce(function(e,t){return e.concat(t.messageIds)},[])).length)return;const A=m.length,{getFeaturesSelectors:O}=Object(l.b)(e.store.getState()),b=O(),R=b.isEnabled(n.kb.CONVERSATIONS),D=b.isEnabled(n.kb.UPDATE_ITEMS_V3);if(e.dispatch(a.a.MOVE_ITEMS_REQUESTED,{messageIds:p,destinationFolderType:c,isAsync:C,i13nModel:o,successAction:{type:a.a.UPDATE_ITEMS_SUCCEEDED,triageActionType:g,count:A,conversations:R},failureAction:{type:a.a.UPDATE_ITEMS_FAILED,triageActionType:g,count:A,conversations:R},count:A,conversations:R,listId:t,fromMessageGroupView:i,triageActionType:g,streamId:s,streamItem:r,deleteDuplicates:T.some(e=>e.deleteDuplicates),isV2Action:!0}),D)return Promise.resolve();const{getAction:f}=Object(l.b)(e.store.getState());let{itemsToUpdate:N}=f();return N||(_.a.error("no_items_to_update",{action:a.a.MOVE_ITEMS_REQUESTED}),N=[]),e.mailAPIClient.request("messages.update",T).then(({results:t})=>{C?t.forEach(({task:t})=>{t&&e.dispatch(a.a.BULK_PROGRESS_RECEIVED,t)}):e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,{triageActionType:g,count:A,conversations:R,undoAction:Object(d.a)({streamId:s,itemsToUpdate:N,i13nModel:{mKey:g===n.Pd.ARCHIVE_SELECTED_ITEMS?E.e.UNDO_ARCHIVE_ACTION:E.e.UNDO_MOVE_ACTION}})})}).catch(t=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,{error:t,triageActionType:g,count:A,conversations:R}))}function g(e,t){return t&&t===n.sb.SENT||!t?e:function(e){return Object(i.d)(e,e=>e!==n.sb.SENT)}(e)}const I=[{moveFrom:n.sb.DRAFT,allow:!1},{moveTo:n.sb.DRAFT,allow:!1},{moveTo:n.sb.SENT,allow:!1}];function C(e,t=null,s,a,c){const{__patchV2MessageId__:d}=Object(l.b)(e.store.getState()),{getFeaturesSelectors:E,doesFolderIdExist:_,getPrimaryFolderTypeByFolderId:u}=Object(l.b)(e.store.getState()),p=u(s);let m=a.map(e=>d(e,t));const h=Object(o.m)(t),S=h&&_(h)&&u(h)||null,C=E().isEnabled(n.kb.CONVERSATIONS);return c?p!==n.sb.TRASH&&(m=g(m,S)):m=g(m=function(e,t,s){if(t&&s){const s={[n.sb.TRASH]:!0,[n.sb.BULK]:!0};return s[t]?Object(i.d)(e,e=>e===t):Object(i.d)(e,e=>!s[e])}return e}(m,S,C),S),function(e,t){return e.filter(e=>{const s=Object(r.n)(e.folder);let a=!0;return I.some(e=>{let n=!1;return e.hasOwnProperty("moveFrom")&&e.moveFrom===s?(a=e.allow,n=!0):e.hasOwnProperty("moveTo")&&e.moveTo===t&&(a=e.allow,n=!0),n}),a})}(m,p).map(({id:e})=>e)}function T(e,{messageIds:t,flags:s,itemId:r,streamId:o,streamItem:i,isRead:c,isStarred:d,i13nModel:E,persistStreamItemExpansionStates:_,triageActionType:u},{pendingActionType:p}){const{getCurrentListId:m,getFeaturesSelectors:h,doesMessageGroupIdExist:S}=Object(l.b)(e.store.getState()),g=m(),I=h().isEnabled(n.kb.UPDATE_ITEMS_V3);if(S(r)){if(e.dispatch(p,{i13nModel:E,isV2Action:!0,messageIds:t,itemId:r,listId:g,streamId:o,streamItem:i,flags:s,isRead:c,isStarred:d,persistStreamItemExpansionStates:_,triageActionType:u}),I)return Promise.resolve();if(0!==t.length)return e.mailAPIClient.request("messages.update",[{messageIds:t,flags:s}]).then(()=>e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,{})).catch(t=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,{error:t}))}}function A(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return m(e,{sourceListId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i})}function O(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return m(e,{sourceListId:t,fromMessageGroupView:!0,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i})}function b(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.ARCHIVE,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.ARCHIVE_SELECTED_ITEMS})}function R(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{fromMessageGroupView:!0,destinationFolderType:n.sb.ARCHIVE,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.ARCHIVE_SELECTED_ITEMS})}function D(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.INBOX,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.RESTORE_SELECTED_ITEMS})}function f(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.RESTORE_SELECTED_ITEMS})}function N(e,t){const{messageGroupIds:s,permanent:r,listId:o,fromMessageGroupView:i,deleteOne:c,deleteMany:m}=t,S=Object(l.b)(e.store.getState()),{__patchV2MessageId__:g,getAllAccounts:I,__getOriginalMessageGroupSender:C,getMessagesSelectors:T,getFeaturesSelectors:A,getRoute:O,isPermDeleteFolderType:b,getContentProviders:R}=S,D=A(),f=D.isEnabled(n.kb.CONVERSATIONS),N=D.isEnabled(n.kb.UPDATE_ITEMS_V3),M=u(e,s),L=p({context:e,messageGroupIds:s,listId:o});let y,P,{messageIds:v}=t;if(O().name===n.Pc.SEARCH){let t=null,a=null;const r=v.map(e=>g(e)).filter(({folder:e})=>b(e.id)).map(({id:e})=>e),c=v.map(e=>g(e)).filter(({folder:e})=>!b(e.id)).map(({id:e})=>e);c.length&&(t=h(e,{destinationFolderType:n.sb.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:c,messageGroupIds:s,checkForDuplicates:!0,isAsync:M})),r.length&&(a={messageIds:r,deleteDuplicates:L,isAsync:M}),y="messages.trashAndDelete",P={trashPayload:t,deletePayload:a}}else r?(P={messageIds:v,deleteDuplicates:L,isAsync:M},y="messages.delete"):(y="messages.update",v=(P=h(e,{destinationFolderType:n.sb.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:v,messageGroupIds:s,checkForDuplicates:!0,isAsync:M})).reduce((e,{messageIds:t})=>e.concat(t),[]));const{doesMessageIdExist:F,getDecos:U}=T(),H=s.length;if(0===v.length)return;let k=!1;if(D.isEnabled(n.kb.BULK_DELETE_MSG_EARNY_UPSELL)){const e=v.some(e=>F(e)&&U(e).some(e=>e.id===n.Zb.ORD)),{doesContentProviderExist:t,isContentProviderConnected:s}=R();k=!(t(n.M.EARNY)&&s(n.M.EARNY))&&e&&!i}const G={triageActionType:n.Pd.DELETE_SELECTED_ITEMS,count:H,conversations:f,permanent:r},w={triageActionType:n.Pd.DELETE_SELECTED_ITEMS,count:H,conversations:f};if(e.dispatch(a.a.DELETE_ITEMS_REQUESTED,Object.assign({},t,{isV2Action:!0,triageActionType:n.Pd.DELETE_SELECTED_ITEMS,messageIds:v,successAction:babelHelpers.extends({type:a.a.UPDATE_ITEMS_SUCCEEDED},G),failureAction:babelHelpers.extends({type:a.a.UPDATE_ITEMS_FAILED},w),count:H,conversations:f,enableEarnyBulkDeleteUpsell:k,deleteDuplicates:L,isAsync:M,deleteOne:c,deleteMany:m})),N)return Promise.resolve();const{getAction:x}=Object(l.b)(e.store.getState()),{itemsToUpdate:B=[],streamId:j}=x();B.length||_.a.error("no_items_to_update",{action:a.a.DELETE_ITEMS_REQUESTED});const V=Object(d.a)({streamId:j,itemsToUpdate:B,i13nModel:{mKey:E.e.UNDO_DELETE_ACTION}});return e.mailAPIClient.request(y,P).then(({results:t})=>{if(t&&M)t.forEach(({task:t})=>{t&&e.dispatch(a.a.BULK_PROGRESS_RECEIVED,t)});else if(D.isEnabled("unsubscribe")&&1===Object.keys(I()).length&&!r&&H>=2){const t=D.isEnabled(n.id.UNSUBSCRIBE_NOTIFICATION),r=D.getSetting(n.id.UNSUBSCRIBE_TIMESTAMP),o=D.getSetting(n.id.NUM_UNSUBSCRIBED_ITEMS),i=Date.now()-r,c=D.getSetting("unsubInterval");if(t&&i&&i>c){const t=s.map(e=>C(e)).filter(Boolean);e.dispatch(a.a.MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED),e.athenaClient.request("unSubscribeItems",{originalSendersInfo:t}).then(t=>{t&&t.length>0?e.dispatch(a.a.MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED,{unSubscribeList:t,undoAction:V,deleteItemCount:H,numListsPreviouslyCleaned:o||0}):e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,babelHelpers.extends({},G,{undoAction:V}))}).catch(()=>{e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,babelHelpers.extends({},G,{undoAction:V}))})}else e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,babelHelpers.extends({},G,{undoAction:V}))}else e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,babelHelpers.extends({},G,{undoAction:V}))}).catch(t=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,babelHelpers.extends({error:t},w)))}function M(e,{listId:t,messageIds:s,messageGroupIds:a,permanent:r,streamId:o,streamItem:i,i13nModel:c,deleteOne:l,deleteMany:d}){return N(e,{i13nModel:c,listId:t,streamId:o,streamItem:i,destinationFolderType:n.sb.TRASH,messageIds:s,fromMessageGroupView:!0,messageGroupIds:a,permanent:r,deleteOne:l,deleteMany:d})}function L(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.BULK,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function y(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.INBOX,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function P(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.BULK,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0,read:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function v(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return S(e,{destinationFolderType:n.sb.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Pd.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:!0})}function F(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i,persistStreamItemExpansionStates:c}){return T(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!1,flags:{read:!0},streamId:r,streamItem:o,persistStreamItemExpansionStates:c,triageActionType:n.Pd.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.a.READ_CHANGE_REQUESTED})}function U(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return T(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!0,flags:{read:!1},streamId:r,streamItem:o,triageActionType:n.Pd.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.a.READ_CHANGE_REQUESTED})}function H(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return T(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!1,flags:{flagged:!0},streamId:r,streamItem:o,triageActionType:n.Pd.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.a.STAR_CHANGE_REQUESTED})}function k(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return T(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!0,flags:{flagged:!1},streamId:r,streamItem:o,triageActionType:n.Pd.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.a.STAR_CHANGE_REQUESTED})}const G=n.I.Modes;function w(e,t,s,r,o){const i=s.id||s.messageId,d=Object(l.b)(e.store.getState()),{getCurrentListId:E,doesMessageBodyExist:_,findReplyForwardCsidsOfMessage:u,getDraftMessageId:p,isSent:m}=d,h=E(),{getFeaturesSelectors:S}=Object(l.b)(e.store.getState()),g=S().isEnabled(n.kb.CONVERSATIONS),I=(u(i)||[]).filter(e=>!p(e)&&!m(e)),C=I.length?I[0]:Object(c.f)(),{getMessageBodiesSelectors:T}=Object(l.b)(e.store.getState()),{get:A}=T();return e.dispatch(a.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{i13nModel:o,csid:C,listId:h,composeMode:r,messageGroupId:t,conversationsMode:g,groupId:t,messageId:i,secure:!1,full:!0,message:Object.assign({},s,{id:i,body:_(i)?A(i):void 0})})}function x(e,{messageGroupId:t,message:s,i13nModel:a}){return w(e,t,s,G.REPLY,a)}function B(e,{messageGroupId:t,message:s,i13nModel:a}){return w(e,t,s,G.REPLY_ALL,a)}function j(e,{messageGroupId:t,message:s,i13nModel:a}){return w(e,t,s,G.FORWARD,a)}function V(e,{messageGroupId:t,message:s,composeMode:a,i13nModel:n}){return w(e,t,s,a,n)}function W(e,{messageGroupId:t,message:s,i13nModel:r}){const{getCurrentListId:o}=Object(l.b)(e.store.getState()),i=o(),{getMessageBodiesSelectors:c}=Object(l.b)(e.store.getState()),{isSecureMessage:d}=c(),{getFeaturesSelectors:E}=Object(l.b)(e.store.getState()),_=!E().isEnabled(n.id.SHOW_IMAGES),u=s.id||s.messageId;return e.dispatch(a.a.MESSAGE_PRINT_REQUESTED,{i13nModel:r,messageGroupId:t,mId:u,listId:i,messageId:u,full:!0,secure:d(u)&&_})}function q(e,{messageId:t}){const{getSelectedMailboxId:s}=Object(l.b)(e.store.getState()),{mailAPIClient:a}=e,{wssid:n,appId:r}=a,o=a.ymreqidGenerator.generate(),i=s();window.open(`https://apis.mail.yahoo.com/ws/v3/mailboxes/@.id==${i}/messages/@.id==${t}/content/rawplaintext?appId=${r}&ymreqid=${o}&wssid=${n}`,"_blank")}function K(e,{hrefLink:t,message:s,i13nModel:n}){e.dispatch(a.a.MESSAGE_BODY_LINK_CLICKED,{hrefLink:t,message:s,i13nModel:n})}},function(e,t,s){"use strict";s.d(t,"d",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"h",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"b",function(){return E}),s.d(t,"i",function(){return u}),s.d(t,"k",function(){return p}),s.d(t,"j",function(){return m}),s.d(t,"l",function(){return h}),s.d(t,"e",function(){return S}),s.d(t,"c",function(){return g}),s.d(t,"f",function(){return I});var a=s(48),n=s(7),r=s(0);s(64);function o(e){const t=e.messages;let s=!0,a=!1,n=!1,r=!1;for(let e=0;e<t.length;e++){const o=t[e];o.flags.read||(s=!1),o.flags.flagged&&(a=!0),o.flags.answered&&(n=!0,r=!1),o.flags.forwarded&&(r=!0,n=!1)}return{read:s,flagged:a,answered:n,forwarded:r}}function i(e){return e.filter(e=>e.headers.from.length>0&&(e.headers.from[0].email||e.headers.from[0].name)).map(e=>({email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!e.flags.read}))}function c(e){return e.messages.some(e=>e.attachments&&e.attachments.length)}function l(e){return e.messages.some(e=>(function(e=[]){return e.map(e=>e.domain).join("").toLowerCase().indexOf("yahoo")>=0})(e.verifiedDomains))}function d(e){return e.messages.reduce((e,{attachments:t})=>e.concat(t),[]).filter(Boolean)}function E(e){return e.messages.reduce((e,{attachmentCount:t=0})=>e+t,0)}function _(e){return e.messages.some(a.j)}function u(e){return e.messages.every(a.j)}function p(e){return e.messages.every(a.m)}function m(e){return e.messages.every(a.l)}function h(e=""){return e.replace(/\^_(.+?)\^_/g,"$1")}function S(e){const t=e.messages;for(let e=t.length-1;e>=0;e--){if(t[e].folder.types[0]!==r.sb.TRASH)return t[e].folder}return t[t.length-1].folder}function g(e,t={}){const{listId:s}=t;let r;return s&&(r=Object(n.m)(s)),(function(e,t){return function(e,t){const s=e.messages;let a;for(let e=s.length-1;e>=0;e--)if(t(s[e])){a=s[e];break}return a}(e,Object(a.k)(t))}(e,r)||e.messages[e.messages.length-1]).headers.date}function I(e,t={}){const s=o(e),a=i(e.messages),n=function(e){return e.reduce((e,t)=>t.headers.to.filter(e=>e.email||e.name).reduce((e,s)=>(e.push({email:s.email,name:s.name,recent:!t.flags.read}),e),e),[])}(e.messages),r=e.messages[0].headers.subject,d=e.messages[e.messages.length-1].snippet;return{flags:s,participants:a,recipients:n,subjectWithMatchDelimiter:r,snippetWithMatchDelimiter:d,subject:h(r),snippet:h(d),date:g(e,t),messageCount:e.messages.length,hasAttachment:c(e),hasVerifiedMessage:l(e),hasDraft:_(e),folder:S(e)}}},function(e,t,s){"use strict";var a=s(4);t.a=Object(a.h)({move_msgs:{id:"move_msgs",defaultMessage:"Move the selected messages to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"\n            Are you sure you want to move {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } to Trash?\n        "},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"\n            Are you sure you want to permanently delete {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }\n        "},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"\n            Are you sure you want to move {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"\n            Are you sure you want to mark {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } as spam?\n        "},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"\n            Are you sure you want to mark {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } as not spam?\n        "},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"\n            Are you sure you want to archive {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"\n            Are you sure you want to restore {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_recipient:{id:"sort_by_recipient",defaultMessage:"Recipient"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select,\n                true {conversation}\n                false {message}\n            } [  Left ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select,\n                true {conversation}\n                false {message}\n            } [  Right ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos:{id:"photos_label",defaultMessage:"Photos from email"},documents:{id:"document_label",defaultMessage:"Documents from email"},disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}})},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});const a=(e=[])=>e.sort().join(""),n=(e,t)=>`${e}:${t}`},function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return E});s(6);var a=s(2),n=s.n(a),r=s(8),o=s(505),i=s.n(o),c=s(11),l=s.n(c);const d=Object(r.c)(["S","M"]);function E({size:e,inverted:t,flex:s}){const a=l()(i.a,{size:e,inverted:t,flex:s});return n.a.createElement("div",{className:a.wrapper},n.a.createElement("div",{className:a.container,"data-test-id":"loading_indicator"},n.a.createElement("svg",{className:a.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},n.a.createElement("path",{className:a.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),n.a.createElement("path",{className:a.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))}E.defaultProps={size:d.M}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a);class r extends n.a.Component{render(){const e=n.a.Children.only(this.props.children);return n.a.cloneElement(e,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}}r.displayName="PopoverAnchor",t.a=r},,function(e,t,s){"use strict";var a=s(58);t.a=s.n(a).a.create("norrin/app")},function(e,t,s){"use strict";s.d(t,"a",function(){return c});var a=s(519),n=s(520);const r="/",o=/^\s*\//,i=/\/\s*$/;const c=function(e){if(!e||"object"!=typeof e)throw new TypeError(e+" is not an object");return function(t){return e[t]?a.a.replace(i,"")+r+e[t].replace(o,""):t}}(n)},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"i",function(){return l}),s.d(t,"k",function(){return d}),s.d(t,"j",function(){return E}),s.d(t,"e",function(){return _}),s.d(t,"g",function(){return u}),s.d(t,"f",function(){return p}),s.d(t,"l",function(){return m}),s.d(t,"d",function(){return h}),s.d(t,"h",function(){return S});var a=s(1),n=s(9),r=s(0);const o=e=>{let{name:t,value:s}=e,o=babelHelpers.objectWithoutProperties(e,["name","value"]);return(e,i)=>{const{isMobileRoute:c}=Object(n.b)(i());return t===r.id.NOTIFICATION&&c()?(t=r.id.MOBILE_NOTIFICATION,s=Boolean(s)):t===r.id.NOTIFICATION&&(t=r.id.DESKTOP_NOTIFICATION,s=s?1:0),e(babelHelpers.extends({},o,{name:t,value:s,type:a.a.SETTINGS_CHANGE_REQUESTED}))}},i=e=>babelHelpers.extends({type:a.a.SETTINGS_CHANGE_SUCCEEDED},e),c=e=>babelHelpers.extends({type:a.a.SETTINGS_CHANGE_FAILED},e),l=e=>babelHelpers.extends({},e,{type:a.a.ACCOUNT_DETAILS_CHANGE_REQUESTED}),d=e=>babelHelpers.extends({},e,{type:a.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED}),E=e=>babelHelpers.extends({},e,{type:a.a.ACCOUNT_DETAILS_CHANGE_FAILED}),_=e=>babelHelpers.extends({},e,{type:a.a.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED}),u=e=>babelHelpers.extends({},e,{type:a.a.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED}),p=e=>babelHelpers.extends({},e,{type:a.a.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED}),m=e=>babelHelpers.extends({},e,{type:a.a.THEME_MODE_CHANGE_REQUESTED}),h=e=>({type:a.a.SETTINGS_SAVE_FILTERS_REQUESTED,name:r.id.MESSAGE_FILTERS,value:e,runV3:!0}),S=e=>babelHelpers.extends({type:a.a.REVIEW_FORWARD_EMAIL},e)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(26),c=s(11),l=s.n(c),d=(s(100),s(8),s(502)),E=s.n(d),_=s(86),u=s(49);const p=()=>{},m=["escape","left","right","up","down","tab"];class h extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={cursorIndex:-1},this.handleKeyDown=(e=>{switch(e.which||e.keyCode){case u.a.LEFT:case u.a.UP:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case u.a.RIGHT:case u.a.DOWN:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;case u.a.TAB:return void this.setState({cursorIndex:-1});case u.a.ESCAPE:return e.preventDefault(),e.stopPropagation(),void this.escape();default:return}}),this.handleBlur=(()=>{const e=Object(i.findDOMNode)(this);setTimeout(()=>{this._isMounted&&!e.contains(document.activeElement)&&this.props.onHide()},0)}),t}componentDidMount(){this._isMounted=!0,this.props.focusOnMount&&setTimeout(()=>this.list&&this.list.focus(),0),this.mousetrap=this.context.bindShortcut(m,this.handleKeyDown,this.list),this.props.onShow()}componentWillUnmount(){this._isMounted=!1,this.context.unbindShortcut(m,this.mousetrap)}escape(){Object(i.findDOMNode)(this).focus(),Object(i.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape()}navigate(e){const{min:t,max:s}=Math,a=Object(i.findDOMNode)(this),n=a.getElementsByTagName("li"),r=n.length-1;let o;this.props.circularNavigation?(o=this.state.cursorIndex+e)>r?o=0:o<0&&(o=r):o=t(s(this.state.cursorIndex+e,0),r);const c=n[o];if(a.querySelector("button")||a.querySelector("a")||a.querySelector('[role="checkbox"]')){const t=c.querySelector("button")||c.querySelector("a")||c.querySelector('[role="checkbox"]');t?(this.setState({cursorIndex:o}),t.focus()):this.setState({cursorIndex:o},function(){this.navigate(e)})}}getRole(){switch(this.props.kind){case _.a.MENU:return"menu";case _.a.TOOLBAR:return"menubar";default:return"list"}}render(){const e=this.getRole(),t=l()(E.a,{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return o.a.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:e=>this.list=e,tabIndex:this.props.tabIndex,role:e,onBlur:this.handleBlur,className:t.list},this.props.children)}}h.contextTypes={bindShortcut:n.a.func,unbindShortcut:n.a.func},h.defaultProps={disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:p,onHide:p,onEscape:p,isRestrictedHeight:!1},t.a=h},function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(12);s(19),s(57);t.a=class extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={visiblePopoverTypes:[r.h.MOUNT]},this.toggle=(e=>{this.state.visiblePopoverTypes.indexOf(e)>-1?this.hide(e):this.show(e)}),this.show=(e=>{const t=this.state.visiblePopoverTypes;t.indexOf(e)>-1||(t.push(e),this.setState({visiblePopoverTypes:t}))}),this.hide=((e,t)=>{const s=this.state.visiblePopoverTypes,a=s.indexOf(e);if(!t){const s=n.a.Children.toArray(this.props.children).filter(({props:t})=>t.triggerOn&&t.onHide&&t.triggerOn===e).map(({props:e})=>e.onHide);t=(()=>s.forEach(e=>e()))}-1!==a&&(s.splice(a,1),this.setState({visiblePopoverTypes:s},t))}),this.showContextualPopovers=(e=>{n.a.Children.toArray(this.props.children).some(e=>e.props.triggerOn===r.h.RIGHTCLICK)&&(e.preventDefault(),this.show(r.h.RIGHTCLICK))}),this.toggleClickPopovers=(()=>{this.toggle(r.h.CLICK)}),this.showHoverPopovers=(()=>{this.show(r.h.HOVER)}),this.hideHoverPopovers=(()=>{this.hide(r.h.HOVER)}),t}componentDidMount(){this.forceUpdate()}render(){const e=n.a.Children.toArray(this.props.children),t=e.shift(),s=n.a.cloneElement(t,{ref:"popoverAnchor",onClick:e=>{this.toggleClickPopovers(e),t.props.onClick&&t.props.onClick(e)},onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers});let a=[];return this.refs.popoverAnchor&&(a=e.filter(e=>this.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1).map(e=>{const{onHide:t}=e.props;return n.a.cloneElement(e,{onHide:this.hide.bind(this,e.props.triggerOn,t),popoverAnchor:this.refs.popoverAnchor})})),n.a.createElement("div",this.props,s,a)}}},,function(e,t,s){"use strict";s.r(t),s.d(t,"makeArray",function(){return E}),s.d(t,"hasInvalidComposeField",function(){return _}),s.d(t,"hasInvalidComposeHeader",function(){return u}),s.d(t,"hasInvalidComposeFields",function(){return p}),s.d(t,"hasTooFewComposeFields",function(){return m}),s.d(t,"hasTooManyComposeFields",function(){return h}),s.d(t,"getInvalidEmails",function(){return S}),s.d(t,"_getAccountFieldFromSelection",function(){return g}),s.d(t,"getFromAddress",function(){return I}),s.d(t,"getFromAddressForReplyForward",function(){return C}),s.d(t,"getSixDigitHexColor",function(){return T}),s.d(t,"getInitialFocusRef",function(){return A}),s.d(t,"addressHTMLString",function(){return O}),s.d(t,"getCaretCoordinates",function(){return b}),s.d(t,"getFontSizeStyle",function(){return R}),s.d(t,"getLocalizedFontFamilyName",function(){return D}),s.d(t,"isJSONString",function(){return f}),s.d(t,"buildRecipients",function(){return N}),s.d(t,"getAttachmentDisposition",function(){return M}),s.d(t,"extractPidFromString",function(){return L}),s.d(t,"getFileFromDataURI",function(){return y});var a=s(14),n=s(47),r=s(23),o=s(1),i=s(44),c=s(0),l=s(71),d=s(28);function E(e){return""===e||null==e?[]:Array.isArray(e)?e.slice(0):[e]}function _(e){const{to:t,cc:s,bcc:a}=e,n=S(t,s,a)||[];return n.length?{name:o.a.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:t&&t.length||s&&s.length||a&&a.length?t.length+s.length+a.length>l.f?{name:o.a.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null:{name:o.a.COMPOSE_NO_ADDRESS_DETECTED}}function u(e){return p(e)||m(e)||h(e)}function p(e){const{to:t=[],cc:s=[],bcc:a=[]}=e,n=S(t,s,a)||[];return n.length?{name:o.a.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:null}function m(e){const{to:t=[],cc:s=[],bcc:a=[]}=e;return t.length+s.length+a.length<=(S(t,s,a)||[]).length?{name:o.a.COMPOSE_NO_ADDRESS_DETECTED}:null}function h(e){const{to:t=[],cc:s=[],bcc:a=[]}=e;return t.length+s.length+a.length>l.f?{name:o.a.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null}function S(){let e=[];return Array.prototype.slice.call(arguments).forEach(function(t){e=e.concat(t)}),e.map(({email:e})=>e).filter(e=>!Object(a.m)(e))}function g(e,t){let s;const a=Object(n.c)(e);return t&&(s=a.find(({email:e})=>e===t)),s||(s=a.find(({isSending:e})=>!!e)),s||(s=a[0]||e[0]),s}function I(e,t){return g(e,t)}function C(e,t={}){const s=Object(n.c)(e);let a;return["to","cc","bcc"].forEach(e=>{a||(e=new Set(t[e].map(({email:e})=>e)),a=s.find(({email:t})=>e.has(t)))}),a||s.find(({isSending:e})=>!!e)||s.find(({isPrimary:e})=>!!e)||s[0]}function T(e){let t,s;if("number"==typeof e){for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+(e=e.substr(4,2)+e.substr(2,2)+e.substr(0,2))}return"string"==typeof e&&(e.indexOf("rgb")>-1&&(t=e.split("(")[1].split(")")[0],e="#"+(s=(t=t.split(",")).map(function(e){return 1===(e=parseInt(e,10).toString(16)).length?"0"+e:e})).join("")),4===e.length)?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e}function A({focusSubject:e,initialTo:t=[],initialSubject:s=""}){let a=r.FocusableRefs.EDITOR;return e?a=r.FocusableRefs.SUBJECT:0===t.length?a=r.FocusableRefs.TO:0===s.length&&(a=r.FocusableRefs.SUBJECT),a}function O({name:e,email:t}){return e||(e=`"${t}"`),`${e} &lt;${t}&gt;`}function b(e){const t=window.getSelection(),s=e.getBoundingClientRect();let a=0,n=0;if(t&&t.rangeCount){const e=t.getRangeAt(0).cloneRange();if(e.getClientRects){e.collapse(!0);const t=e.getClientRects();if(t.length>0){const e=t[0];a=e.left-s.left,n=e.top-s.top}}if(0===a&&0===n){const t=document.createElement("span");if(t.getClientRects){t.appendChild(document.createTextNode("")),e.insertNode(t);const r=t.getClientRects(),o=t.parentNode;if(r.length>0){const e=r[0];a=e.left-s.left,n=e.top-s.top}o.removeChild(t),o.normalize()}}}return{x:a,y:n}}function R(e){const t=Math.min(Number(e),7),s=l.d.find(e=>e.fontSize===t);return s?s.value:l.c.MEDIUM}function D(e,t=""){const s=d.a["font_family_label_"+t.toLowerCase()];return s?e(s):null}function f(e){try{return JSON.parse(e),!0}catch(e){return!1}}function N(e){return e.reduce((e,t=[])=>e.concat(t.map(({email:e})=>e)),[]).filter(e=>Object(a.m)(e))}function M(e){const t=e.type.split("/");let s;return(s=t.length>1?Object(i.d)(t[0],t[1]):Object(i.d)(e.type,e.subtype))===c.u.SimplifiedTypes.IMAGE?c.u.Dispositions.INLINE:c.u.Dispositions.ATTACHMENT}function L(e){const t=/https:\/\/.*?mail.yahoo.com.*?(?:\?|&)pid=([0-9]*)/i;if(t.test(e)){const[,s]=t.exec(e);return s}return""}function y(e){const t=e.match(/^(data):(.+)?;(.+?),/);if(!t||!window.atob)return null;const s=e.split(",")[1];let a;const n=(a="base64"===t[3]?atob(s):window.unescape(s)).length,r=t[2],o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=a.charCodeAt(e);const i=new Blob([o],{type:r});return i.name=`dataURI-${Date.now()}`,i.lastModifiedDate=new Date,i.isFromDataURI=!0,i}},function(e,t,s){"use strict";s.d(t,"o",function(){return l}),s.d(t,"p",function(){return d}),s.d(t,"a",function(){return E}),s.d(t,"b",function(){return _}),s.d(t,"u",function(){return u}),s.d(t,"v",function(){return p}),s.d(t,"c",function(){return m}),s.d(t,"d",function(){return h}),s.d(t,"k",function(){return S}),s.d(t,"h",function(){return g}),s.d(t,"l",function(){return I}),s.d(t,"i",function(){return C}),s.d(t,"j",function(){return T}),s.d(t,"n",function(){return A}),s.d(t,"g",function(){return O}),s.d(t,"m",function(){return b}),s.d(t,"w",function(){return R}),s.d(t,"r",function(){return D}),s.d(t,"t",function(){return f}),s.d(t,"s",function(){return N}),s.d(t,"f",function(){return M}),s.d(t,"e",function(){return L}),s.d(t,"q",function(){return y});var a=s(52),n=s(0),r=s(1),o=s(7),i=s(9);function c(e,t,s=(()=>!0)){const{getMessageIdsFromMessageGroupId:a,__getMessageWithFlagsAndFolderId:n}=Object(i.b)(e.store.getState()),r=t.map(e=>{return a(e).filter(e=>{const t=n(e);return s(t)})});return[].concat(...r)}function l(e,{destinationFolderId:t,listId:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){a.o(e,{destinationFolderId:t,listId:s,streamId:r,streamItem:o,messageIds:c(e,n),messageGroupIds:n,i13nModel:i})}function d(e,{destinationFolderId:t,listId:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){a.p(e,{listId:s,streamId:r,streamItem:o,destinationFolderId:t,messageIds:c(e,n),messageGroupIds:n,i13nModel:i})}function E(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.a(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function _(e,{messageGroupIds:t,listId:s,streamId:n,streamItem:r,i13nModel:o}){a.b(e,{messageIds:c(e,t),messageGroupIds:t,listId:s,streamId:n,streamItem:r,i13nModel:o})}function u(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.u(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function p(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.v(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function m(e,{listId:t,messageGroupIds:s,permanent:r,streamId:o,streamItem:l,i13nModel:d,streamItems:E,batchDelete:_}){let u=c(e,s);if(0!==u.length){if(r){const{__isPermDeleteMessage:t}=Object(i.b)(e.store.getState());u=u.filter(e=>{return t(e)})}return a.f(e,{listId:t,streamId:o,streamItem:l,isV2Action:!0,destinationFolderType:n.sb.TRASH,messageIds:u,messageGroupIds:s,permanent:r,i13nModel:d,streamItems:E,batchDelete:_})}}function h(e,{listId:t,permanent:s,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:l}){const{doesMessageGroupIdExist:d}=Object(i.b)(e.store.getState()),E=n.filter(e=>d(e));0!==E.length&&a.d(e,{messageGroupIds:E,messageIds:c(e,E),permanent:s,listId:t,streamId:r,streamItem:o,i13nModel:l})}function S(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.k(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function g(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.h(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function I(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.l(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function C(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:o}){a.i(e,{listId:t,streamId:n,streamItem:r,messageIds:c(e,s),messageGroupIds:s,i13nModel:o})}function T(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.j(e,{itemId:t[0],messageIds:c(e,t,e=>!e.flags.read),streamId:s,streamItem:n,i13nModel:r})}function A(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.n(e,{itemId:t[0],messageIds:c(e,t,e=>e.flags.read),streamId:s,streamItem:n,i13nModel:r})}function O(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.g(e,{itemId:t[0],messageIds:c(e,t,e=>!e.flags.flagged),streamId:s,streamItem:n,i13nModel:r})}function b(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.m(e,{itemId:t[0],messageIds:c(e,t,e=>e.flags.flagged),streamId:s,streamItem:n,i13nModel:r})}function R(e,{messageGroupIds:t,i13nModel:s}){const[n]=t,{__getLastNonDraftMessageIdByGroupId:r}=Object(i.b)(e.store.getState()),o=r(n);a.q(e,{messageId:o,i13nModel:s})}function D(e,{messageGroupIds:t,i13nModel:s}){const[n]=t,{__getLastNonDraftMessageIdByGroupId:r,__getMessageWithFlagsAndFolderId:o}=Object(i.b)(e.store.getState()),c=o(r(n));a.r(e,{messageGroupId:n,message:c,i13nModel:s})}function f(e,{messageGroupId:t,i13nModel:s}){const{__getLastNonDraftMessageIdByGroupId:n,__getMessageWithFlagsAndFolderId:r}=Object(i.b)(e.store.getState()),o=r(n(t));a.s(e,{messageGroupId:t,message:o,i13nModel:s})}function N(e,{messageGroupId:t,i13nModel:s}){const{__getLastNonDraftMessageIdByGroupId:n,__getMessageWithFlagsAndFolderId:r}=Object(i.b)(e.store.getState()),o=r(n(t));a.t(e,{messageGroupId:t,message:o,i13nModel:s})}function M(e,{messageGroupId:t,i13nModel:s}){const{__getLastNonDraftMessageIdByGroupId:n,__getMessageWithFlagsAndFolderId:r}=Object(i.b)(e.store.getState()),o=r(n(t));a.e(e,{messageGroupId:t,message:o,i13nModel:s})}function L(e,{listId:t,card:s}){const{messageId:a,csid:i,streamId:c,folderType:l}=s;if(!a&&!i)return;const d=Object(o.Q)(t,{listContentType:l===n.sb.DRAFT?n.Db.COMPOSE:n.Db.MESSAGE});e.dispatch(r.a.MESSAGE_CARD_FOCUSED,{streamId:c,streamItem:{id:a||i,listId:d},card:s})}function y(e,{downloadUrl:t}){e.dispatch(r.a.ATTACHMENT_PREVIEW_FAILED,{downloadUrl:t})}},function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return c});var a=s(0),n=s(8);const r=a.Nd,o=Object(n.c)(["TIMECHUNK"]),i=4,c=Object(n.c)(["LEFT","CENTER","RIGHT","NONE"])},function(e,t,s){"use strict";var a=s(87),n=s(34),r=s(19),o=s(24),i=s(8),c=s(111);class l{constructor(e={}){Object(r.a)(e.loggerName,"loggerName is missing");const{loggerName:t,loggerParams:s={},crumb:a,wssid:n,isOnline:o=(()=>!0)}=e;this.loggerName=t,this.loggerParams=s,a&&(this.crumbValue=a),n&&(this.wssid=n),this.isOnline=o,this.getMailboxParams=(()=>({}))}get crumb(){return this.crumbValue||""}set crumb(e){e&&(this.crumbValue=e)}get wssid(){return Object(o.b)()?l.wssid||"":this.wssidValue||""}set wssid(e){e&&(Object(o.b)()?l.wssid=e:this.wssidValue=e)}setRequestBlocked(e=!1){Object(o.b)()&&(l.requestBlocked=e)}isRequestBlocked(e=!0){return!!Object(o.b)()&&(e&&l.requestBlocked)}getRequestBlockedPromise(){return Promise.reject(new n.a("BaseClient.RequestBlocked",{errorCode:"REQUEST_BLOCKED",statusCode:0}))}logRequest(e,t,s="",n=0){const r=this.isOnline(),o=Object.assign({isOnline:r},this.loggerParams,t),l=s||this.loggerName,d=a.a.feature(l,o);return e.then(e=>(d.logSuccessAndLatency(),e)).catch(e=>{e=this.handleCommonError(e),this.isRetryableError(e,n)||(!1===Object(i.a)(e,"data.isOnline",!0)&&(o.isOnline=!1),c.a(a.a,l,o,e))})}handleAuthError(e){return null}handleYdodError(e){const{statusCode:t}=e;if(429===t)return this.setRequestBlocked(!0),e}handleWssidReissueError(e){return null}handleCommonError(e){let t=null;return e=n.a.errorify(e),t||(t=this.handleAuthError(e)),t||(t=this.handleYdodError(e)),t||(t=this.handleWssidReissueError(e)),t||e}setMailboxParams(e){this.getMailboxParams=e}isRetryableError(e,t){return!1}shouldRetry(e,t){return!(!t||!t.status||408!==t.status)||(!e||!e.code||"ECONNRESET"!==e.code)&&void 0}}l.wssid="",l.requestBlocked=!1,t.a=l},function(e,t,s){"use strict";var a=s(14),n=s(33),r=s(44),o=s(47),i=s(7),c=s(48),l=s(0),d=s(5),E=s(8),_=s(70),u=s(177),p=s(9);function m({messageGroupIds:e=[]},t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:a}=Object(p.b)(t.getState());return e.reduce((e,t)=>e.concat(s(t)?a(t):[]),[])}function h({listId:e},t){const{getListsSelectors:s}=Object(p.b)(t.getState()),{doesListExist:a,getItemIdsSelectors:n}=s();return{numMsg:a(e)?n(e).getItemIds().length:0}}function S(e,t){return{numMsg:m(e,t).length,mid:e.messageIds||""}}function g(e){return{msgID:e.messageIds.join(",")}}function I(e,t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:a}=Object(p.b)(t.getState());if(!s(e.messageGroupId))return{};const n=a(e.messageGroupId)||[];return{numMsg:n.length,mid:n||""}}function C(e,t){const{destinationFolderId:s,destinationFolderType:a,messageIds:r}=e,{getFoldersSelectors:o}=Object(p.b)(t.getState()),{doesFolderIdExist:i,getPrimaryFolderTypeByFolderId:c}=o(),l=i(s)?n.b[c(s)]:void 0;return{numMsg:m(e,t).length,destin:l||a||"",mid:r||""}}function T({itemsToUpdate:e}){return{numMsg:e.filter(e=>e.isAffected).length}}function A(e){const{attachment:t}=e;return{fileType:Object(r.d)(t.type,t.subtype),fileSize:t.size,msgId:t.id&&Object(c.f)(t.id)}}function O(e,t){const{route:s,i13nModel:{actionData:n={}}={}}=e,r={};let o,c,l;s?(o=Object(i.t)(s),c=s.params.groupId,l=Object(E.a)(e,"hashParams.itemId"),r.query=s.params.query||s.params.fid):(o=e.listId,c=e.itemId);const{getImportantContactsSelectors:d,doesMessageGroupIdExist:_,getMessageIdsFromMessageGroupId:u,getMessageGroupParticipantsInfo:m,getMessageFromAddress:h,getListItemIdIndex:S,getMessagesSelectors:g}=Object(p.b)(t.getState()),{getDecos:I}=g();if(!_(c))return{};const{getImportantContacts:C}=d(),T=C()||[],A=u(c),O=l||A.join(","),{senders:b=[]}=m(c,o),R=h(l=l||A[A.length-1]),D=R.length>0?R[0]:{},f=Object(a.m)(D.email)?Object(a.d)(D.email).domainPart:"NODOMAIN.COM",N={},M=[];A.forEach(e=>{I(e).forEach(e=>N[e.id]=e.id)});for(const e in N)M.push(N[e]);return Object.assign({},n,r,{mid:c,msgID:O,sdrDomain:f,mailDecos:M,numRcpt:b.length,numMsg:A.length,importntCntct:T.some(e=>-1!==e.emails.indexOf(D.email)),itemIdx:S(o,c)})}function b(e,t){const s={accountIds:Object(p.b)(t.getState()).getSelectedAccountId()},a=Object(_.b)(e.smartViewName,s),n=Object(i.d)(a);return{srchQry:Object(i.S)(n),srchType:Object(i.G)(n)?"cntct":"kwrd"}}function R(e){const t=e.listId||Object(i.t)(e.route),s=Object(i.S)(t),a=Object(i.p)(t),n=Object(i.k)(t);return Object.assign({srchQry:s,srchType:Object(i.G)(t)?"cntct":"kwrd",query:Object(i.G)(t)?n:a},Object(E.a)(e,"i13nModel.actionData",{}))}function D(e){const{value:t}=e,s={[l.Bc.NO]:"none",[l.Bc.RIGHT]:"vrtcl",[l.Bc.BOTTOM]:"hrztl"};if(s[t])return{setTo:s[t]}}function f(e){const{value:t}=e,s={[l.ac.SLIM]:"slm",[l.ac.NORMAL]:"rglr",[l.ac.RELAXED]:"rlxd"};if(s[t])return{setTo:s[t]}}function N(e){const{value:t}=e;return{setTo:t?"true":"false"}}function M({messageId:e,schemaCard:{id:t=""}={},i13nModel:{mKey:s="",sec:a="",actionData:n={}}={},recommendations:r=!1}={},o){if(e&&t){const{getMessagesSelectors:i,getCouponsSelectors:c}=Object(p.b)(o.getState()),{getParentMessageIdForCardConversationId:l}=i(),{isSingleCouponParentMessageId:E,getCardConversationId:_,getFromAddress:u}=c(),m=_(t),h=r?l(m):"",{email:S=""}=u(t),g=r&&s===d.e.COUPON_CLIPPED&&a===d.g.MSG_BODY&&E(h);return babelHelpers.extends({},n,{ccid:m,fromEmail:S,cardMid:e,parentMid:h,recommendationsEligible:g})}return{}}function L(e){const{files:t}=e,s=[],a=[];return t.forEach(e=>{const t=e.type.split("/");let n;n=t.length>1?Object(r.d)(t[0],t[1]):Object(r.d)(e.type,e.subtype),s.push(n),a.push(e.size)}),{attmTypes:s,attmSizes:a}}function y(e,t){const{getMessagesSelectors:s,getMessageGroupsSelectors:a}=Object(p.b)(t.getState()),{doesMessageGroupIdExist:n,getMessageIdsFromMessageGroupId:r}=a(),{getDecos:o,doesMessageIdExist:i}=s();if(!e||!e.streamItem)return{};const{groupId:c}=e.streamItem;if(!i(c)&&!n(c))return{};const l=n(c)?r(c):[c],d={},E=[];l.forEach(e=>{o(e).forEach(e=>d[e.id]=e.id)});for(const e in d)E.push(d[e]);return{mailDecos:E}}function P(e,t){const{isFeatureEnabled:s}=Object(p.b)(t.getState()),a=Object(E.a)(e,"i13nModel.actionData",{});return s(l.kb.CLICK_URL_LOGGING)?a:babelHelpers.extends({},a,{mHref:null})}var v={[d.a.SEARCH_SUGGESTION]:function(e,t){const{query:s,suggestions:a}=e,{getImportantContactsSelectors:n,getRecentSearchesSelectors:r,isFeatureEnabled:o}=Object(p.b)(t.getState()),{getImportantContacts:i}=n(),c=i(),{getRecentSearches:d}=r(),E=d(),_=(o(l.kb.SEARCH_SUGGESTIONS_V2)?u.d:u.c)(a,c,E,s,o(l.kb.SHOW_RECENT_SUGGESTIONS),o(l.kb.SHOW_EMPTY_SEARCH_SUGGESTIONS)).reduce((e,t)=>(t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e),{});return{query:s,people:_[l.Bd.PERSON]||0,keyword:_[l.Bd.KEYWORD]||0,recent:0}},[d.a.SEARCH_ZERO_RESULTS]:R,[d.e.MSG_REPLY]:I,[d.e.MSG_REPLY_ALL]:I,[d.e.MSG_FORWARD]:I,[d.e.TOOLBAR_REPLY]:I,[d.e.TOOLBAR_REPLYALL]:I,[d.e.TOOLBAR_FORWARD]:I,[d.e.QUICK_REPLY]:I,[d.e.QUICK_REPLYALL]:I,[d.e.QUICK_FORWARD]:I,[d.e.MSG_HDR_MARK_READ]:g,[d.e.MSG_HDR_MARK_UNREAD]:g,[d.e.MSG_HDR_MARK_STAR]:g,[d.e.MSG_HDR_MARK_UNSTAR]:g,[d.e.MSG_GRP_HDR_MARK_READ]:S,[d.e.MSG_GRP_HDR_MARK_UNREAD]:S,[d.e.MSG_GRP_HDR_MARK_STAR]:S,[d.e.MSG_GRP_HDR_MARK_UNSTAR]:S,[d.e.TOOLBAR_SELECTALL_MSG]:h,[d.e.TOOLBAR_SELECT_NONE]:h,[d.e.TOOLBAR_BULK_CONTEXT_ALL]:h,[d.e.TOOLBAR_BULK_CONTEXT_NONE]:h,[d.e.TOOLBAR_BULK_CONTEXT_READ]:h,[d.e.TOOLBAR_BULK_CONTEXT_UNREAD]:h,[d.e.TOOLBAR_BULK_CONTEXT_STARRED]:h,[d.e.TOOLBAR_BULK_CONTEXT_UNSTARRED]:h,[d.e.TOOLBAR_ARCHIVE]:S,[d.e.TOOLBAR_DELETE]:S,[d.e.TOOLBAR_MOVE]:C,[d.e.DRAG_DROP_MOVE]:C,[d.e.TOOLBAR_SPAM]:S,[d.e.TOOLBAR_NOT_SPAM]:S,[d.e.TOOLBAR_MARK_READ]:S,[d.e.TOOLBAR_MARK_UNREAD]:S,[d.e.TOOLBAR_MARK_STARRED]:S,[d.e.TOOLBAR_MARK_UNSTARRED]:S,[d.e.TOOLBAR_VIEW_RAW]:S,[d.e.SELECT_MSG]:S,[d.e.MARK_MSG_READ]:S,[d.e.MARK_MSG_UNREAD]:S,[d.e.MARK_MSG_STARRED]:S,[d.e.MARK_MSG_UNSTARRED]:S,[d.e.MSG_LIST_DEL]:S,[d.e.UNDO_DELETE_ACTION]:T,[d.e.UNDO_ARCHIVE_ACTION]:T,[d.e.UNDO_MOVE_ACTION]:T,[d.e.PHOTO_DOWNLOAD]:A,[d.e.OPEN_MSG]:O,[d.e.RIGHT_RAIL_MSG_OPEN]:O,[d.e.DOC_READ_MSG]:O,[d.e.PHOTO_READ_MSG]:O,[d.e.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]:O,[d.e.ATTACHMENT_LIGHTBOX_IMAGE_MSG]:O,[d.e.OPEN_LINK]:function(e,t){const{hrefLink:s,message:a}=e,{isFeatureEnabled:r}=Object(p.b)(t.getState());return{msgID:a.id,mHref:r(l.kb.CLICK_URL_LOGGING)?s:null,mSndr:a.headers.from.length>0?a.headers.from[0].email:"",mFldr:Object(n.l)(a.folder)}},[d.e.UNREAD_SMARTVIEW]:b,[d.e.STARRED_SMARTVIEW]:b,[d.e.PHOTO_SMARTVIEW]:b,[d.e.DOCUMENT_SMARTVIEW]:b,[d.e.SEARCH_BUTTON]:R,[d.e.ADVANCED_SEARCH_BUTTON]:R,[d.e.CONTACT_SEARCH]:R,[d.e.SUBJECT_SEARCH]:R,[d.e.SEARCH_PEOPLE_SUGGEST]:R,[d.e.SEARCH_KWRD_SUGGEST]:R,[d.e.SEARCH_RECENT_SUGGEST]:R,[d.e.SETTINGS_POPUP_PREVIEW_PANE]:D,[d.e.SETTINGS_PREVIEW_PANE]:D,[d.e.SETTINGS_POPUP_MSG_LIST_DENSITY]:f,[d.e.SETTINGS_MSG_LIST_DENSITY]:f,[d.e.SETTINGS_POPUP_TAB_SETTING]:N,[d.e.SETTINGS_TAB_SETTING]:N,[d.e.SETTINGS_POPUP_SNIPPET]:N,[d.e.SETTINGS_SNIPPET]:N,[d.e.SETTINGS_BLOCK_IMAGES]:N,[d.e.SETTINGS_NOTIFICATIONS]:N,[d.e.SETTINGS_CONVERSATION]:N,[d.e.SETTINGS_AUTOMATIC_REPLY]:function({value:e}){const{enabled:t}=e;return{setTo:t?"true":"false"}},[d.e.BLOCK_SENDERS_SUBMIT]:function(e){const{deleteItemsFromSenders:t}=e;return{deleteItemsFromSenders:t?t.length:0}},[d.e.SEND]:function(e,t){const{to:s=[],cc:a=[],bcc:n=[],csid:r,attachmentsInfo:o=[],containsStationery:i}=e,{isReplyMessage:c,isReplyAllMessage:l,isForwardMessage:d,getInForwardToMessageId:E}=Object(p.b)(t.getState()),_=E(r);return{sttnry:i,to:s?s.length:0,cc:a?a.length:0,bcc:n?n.length:0,mid:_||"",compType:c(r)||l(r)||d(r)?"inline":"comp",numAttchmts:o.length,sizeAttchmts:o.reduce((e,{size:t})=>e+t,0)}},[d.e.COMPOSE_ADD_ATTACHMENT]:L,[d.e.COMPOSE_DRAG_ATTACHMENT]:L,[d.e.COUPON_CLIPPED]:M,[d.e.COUPON_UNCLIPPED]:M,[d.e.DOWNLOAD_ATTACHMENT]:A,[d.e.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]:A,[d.e.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]:A,[d.e.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]:A,[d.e.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]:A,[d.e.DOWNLOAD_ATTACHMENT_ALL]:function({attachments:e=[]}){return e.map(({type:e,subtype:t,size:s})=>({fileType:Object(r.d)(e,t),fileSize:s}))},[d.e.AUTHORIZE_IMAP_ACCOUNT]:function(e){const{email:t}=e;return{prvdr:Object(o.f)(t)}},[d.e.COUPON_OPENED]:y,[d.e.RECEIPT_OPENED]:y,[d.e.TRAVEL_READ_MSG]:y,[d.e.PLA_GPT_CATEGORY_CLICKED]:function(e,t){const{keyword:s}=e,{getAdsSelectors:a,getCouponsSelectors:n}=Object(p.b)(t.getState()),{couponsRetailer:r}=n().getCouponsGPTData(),o=a().getPlaAdsForKeyword(s,r);if(o)return babelHelpers.extends({loadDataFromStore:!0,plaAdCount:o.length},Object(E.a)(e,"i13nModel.actionData",{}))},[d.e.LINK_ENHANCER_MOVE_LINK_INLINE]:P,[d.e.LINK_ENHANCER_ADD_LINK]:P,[d.e.LINK_ENHANCER_RESIZE_LINK]:P,[d.e.LINK_ENHANCER_REMOVE_LINK]:P,[d.e.LINK_ENHANCER_MOVE_LINK_BOTTOM]:P,[d.e.LINK_ENHANCER_SHARE_LINK]:P,[d.e.LINK_ENHANCER_OPEN_LINK]:P,[d.e.TOGGLE_LIST_VISIBILITY]:function(e,t){const s=Object(E.a)(e,"i13nModel.actionData",{}),{getListsSelectors:a}=Object(p.b)(t.getState()),{isListExpanded:n}=a();return babelHelpers.extends({},s,{listId:e.listId,isExpanding:n(e.listId)})}},F=s(58),U=s.n(F).a.create("norrin/i13n_client"),H=s(19);s.d(t,"a",function(){return G});const k={init(e){if("undefined"==typeof window)return;const t=window,s=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};const a=Object.assign({},e.rapid);return a&&(a.pageview_on_init=!1),t.Y.i13n.Rapid&&(s||(t.rapidInstance=new t.Y.i13n.Rapid(a))),t.rapidInstance},getRapidInstance:()=>"undefined"!=typeof window&&void 0!==window.rapidInstance&&window.rapidInstance,sendI13nModel(e,t,s=!1){const a=Object.assign({},e.i13nModel),n=v[a.mKey];"function"==typeof n&&(a.actionData=Object.assign({},a.actionData,n.call(this,e,t))),s&&a.mKeyGroup!==d.f.search&&a.sec!==d.g.FEATURE_CUE&&(a.mKey="SRP_"+a.mKey),function({mKey:e,sec:t,mKeyGroup:s,actionData:a={},interactionType:n=d.d.click}={}){if(!t||!e)return;d.d[n]||(n=d.d.click);const{mHref:r}=a,o=babelHelpers.objectWithoutProperties(a,["mHref"]),i={mKey:e,mHref:r?r.slice(0,290):null,intrctn:n,coreActn:s||null,actnData:Object(E.b)(o)?null:JSON.stringify(o)},c=U.feature(l.p.RapidClient,Object.assign({},{sec:t},i)),_=k.getRapidInstance();_?(c.logSuccess(),_.beaconClick(t,null,0,i)):c.logFailure()}(a)},sendBeaconEvent(e,t){const{i13nModel:s}=e,a=v[s.eventName];"function"==typeof a&&(s.pageParams=a.call(this,e,t),s.pageParams.etrg=s.etrg),function({eventName:e,pageParams:t,outcome:s}){const a=U.feature(l.p.RapidClient,{eventName:e,outcome:s}),n=k.getRapidInstance();n?(a.logSuccess(),n.beaconEvent(e,t,s)):a.logFailure()}(s)}};t.b=k;function G(e){return Object(H.a)(e,"the section id doesn't exist"),function(t){Object(H.a)(t,"expected a payload containg at least a mKey");const{mKey:s,event:n}=t,r=babelHelpers.objectWithoutProperties(t,["mKey","event"]);return Object(H.a)(s,"mKey can't be undefined. Check typo or define it in constants"),{i13nModel:babelHelpers.extends({},r,{mKey:s,sec:e,interactionType:n?Object(a.i)(n):d.d.click})}}}},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"a",function(){return l});var a=s(0),n=s(7);function r(e){return e&&e.types?e.types[0]:""}function o(e,t={}){let s={};switch(e){case a.td.UNREAD:s={keyword:a.qd.UNREAD,excludefolders:[a.sb.ARCHIVE],referrer:a.Fb[a.td.UNREAD]};break;case a.td.STARRED:s={keyword:a.qd.STARRED,referrer:a.Fb[a.td.STARRED]};break;case a.td.PHOTOS:s={listContentType:a.Db.IMAGES,referrer:a.Fb[a.td.PHOTOS],listFilter:a.Eb.ALL_PHOTOS};break;case a.td.PHOTOS_EMAIL:s={listContentType:a.Db.IMAGES,referrer:a.Fb[a.td.PHOTOS],listFilter:a.Eb.EMAIL_PHOTOS};break;case a.td.PHOTOS_MOBILE:s={listContentType:a.Db.IMAGES,referrer:a.Fb[a.td.PHOTOS],listFilter:a.Eb.MOBILE_PHOTOS};break;case a.td.DOCUMENTS:s={listContentType:"DOCUMENTS",referrer:a.Fb[a.td.DOCUMENTS]};break;case a.td.COUPONS:s={listContentType:a.Db.COUPON_CARDS,referrer:a.Fb[a.td.COUPONS],listFilter:a.Eb.ALL_COUPON_CARDS};break;case a.td.GROCERIES:s={listContentType:a.Db.GROCERY_STORES,referrer:a.Fb[a.td.GROCERIES],listFilter:a.Eb.LINKED_GROCERY_STORES};break;case a.td.RECEIPTS:s={listContentType:a.Db.REFUND_CARDS,referrer:a.Fb[a.td.RECEIPTS],listFilter:a.Eb.ALL_REFUND_CARDS};break;case a.td.TRAVEL:s={excludefolders:[a.sb.TRASH,a.sb.BULK],listContentType:a.Db.TRAVEL_CARDS,sortOrder:a.wd.CARD_DATE_ASC,listFilter:a.Eb.TRAVEL_VIEW_UPCOMING,referrer:a.Fb[a.td.TRAVEL]};break;case a.td.TRAVEL_PAST:s={excludefolders:[a.sb.TRASH,a.sb.BULK],listContentType:a.Db.TRAVEL_CARDS,sortOrder:a.wd.CARD_DATE_DESC,listFilter:a.Eb.TRAVEL_VIEW_PAST,referrer:a.Fb[a.td.TRAVEL]};break;case a.td.TRAVEL_EMAILS:s={keyword:a.qd.TRAVEL,listContentType:a.Db.MESSAGES,sortOrder:a.wd.DATE_DESC,referrer:a.Fb[a.td.TRAVEL]};break;case a.td.PEOPLE:s={listFilter:a.Eb.PEOPLE,excludefolders:[a.sb.TRASH,a.sb.BULK],referrer:a.Fb[a.td.PEOPLE]};break;case a.td.SHOPPING_EMAILS:s={listFilter:a.Eb.SHOPPING,excludefolders:[a.sb.TRASH,a.sb.BULK],referrer:a.Fb[a.td.COUPONS]};break;case a.td.SHOPPING_YAHOO_DEALS:s={listContentType:a.Db.YAHOO_DEAL_CARDS,referrer:a.Fb[a.td.COUPONS]}}return s.excludefolders&&t.excludefolders&&(s.excludefolders=t.excludefolders),delete t.excludefolders,Object.assign(s,t)}function i(e){const t=Object(n.q)(e),s=Object(n.x)(e);return Object(n.E)(e)&&t===a.Db.MESSAGES&&s===a.rd[a.td.TRAVEL]}function c(e){const t=Object(n.q)(e),s=Object(n.x)(e);return t===a.Db.IMAGES&&s===a.rd[a.td.PHOTOS]}function l(e){const t=e.split(":");if(2!==t.length)return null;const s=function(e){return Object.keys(a.W).find(t=>a.W[t]===e)||null}(t[0]);return s&&a.Kd.indexOf(s)>-1?{name:s,status:parseInt(t[1],10)||0}:null}},function(e,t,s){"use strict";s.d(t,"e",function(){return n}),s.d(t,"d",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"g",function(){return d});var a=s(8);const n=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],r=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],o={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},i={TINY:"10px",SMALL:"13px",MEDIUM:"16px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"},c=100,l={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"},d=Object(a.c)(["SENDING","SENT","SEND_FAILED"])},function(e,t,s){"use strict";var a=s(4);t.a=Object(a.h)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}})},function(e,t,s){"use strict";s.d(t,"a",function(){return l}),s.d(t,"b",function(){return d});var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(10),c=(s(8),s(38),s(260));const l="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",d={C:{imageSize:i.AVATAR_SIZE_COMPACT,requestSize:64},S:{imageSize:i.AVATAR_SIZE_S,requestSize:64},M:{imageSize:i.AVATAR_SIZE_M,requestSize:80},L:{imageSize:i.AVATAR_SIZE_L,requestSize:256},QUOTIENT_M:{imageSize:i.AVATAR_SIZE_40,requestSize:80},NOBLE_S:{imageSize:i.AVATAR_SIZE_24,requestSize:64},NOBLE_L:{imageSize:i.AVATAR_SIZE_40,requestSize:64},NOBLE_XL:{imageSize:i.AVATAR_SIZE_60,requestSize:64}};class E extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={imageLoaded:!1},this.src=(()=>{const{fallback:e=l,contact:t,size:s}=this.props,{requestSize:a}=s,{appId:n}=this.context;return Object(c.a)(t,a,e,n)}),t}componentDidMount(){this._isMounted=!0;const e=this.props.useFallbackImage?null:this.src();e&&(this.image=new Image,this.image.onload=(()=>{this._isMounted&&this.setState({imageLoaded:!0})}),this.image.src=e,window.requestAnimationFrame(()=>{this.refs.image&&(this.refs.image.removeAttribute("clip-path","url(#clip-orb)"),this.refs.image.setAttribute("clip-path","url(#clip-orb)"))}))}componentWillUnmount(){this._isMounted=!1}render(){const{imageLoaded:e}=this.state,{size:t,useFallbackImage:s,customFallbackImageData:a}=this.props,{imageSize:n}=t;return o.a.createElement("svg",{width:n,height:n,viewBox:"0 0 20 20"},o.a.createElement("image",{ref:"image",xlinkHref:e&&!s?this.src():a,width:"20",height:"20",clipPath:"url(#clip-orb)"}))}}E.contextTypes={appId:n.a.string},E.defaultProps={size:d.M,useFallbackImage:!1,customFallbackImageData:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",contact:{}},t.c=E},function(e,t,s){"use strict";var a=s(13),n=s(165),r=s(9),o=s(0);t.a=Object(a.b)(function(e,{folderId:t,isCountVisible:s}){const a=Object(r.b)(e).getFoldersSelectors(),n=a.getFolderName(t),i=a.getFolderDisplayTypeByFolderId(t);let c;return s&&(c=i===o.Dd.DRAFT?a.getFolderTotal(t):a.getFolderUnreadCount(t)),{name:n,folderDisplayType:i,count:c}})(n.a)},function(e,t,s){"use strict";s.d(t,"s",function(){return n}),s.d(t,"r",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"x",function(){return l}),s.d(t,"v",function(){return d}),s.d(t,"w",function(){return E}),s.d(t,"q",function(){return _}),s.d(t,"p",function(){return u}),s.d(t,"o",function(){return p}),s.d(t,"n",function(){return m}),s.d(t,"c",function(){return h}),s.d(t,"a",function(){return S}),s.d(t,"b",function(){return g}),s.d(t,"k",function(){return I}),s.d(t,"j",function(){return C}),s.d(t,"m",function(){return T}),s.d(t,"l",function(){return A}),s.d(t,"u",function(){return O}),s.d(t,"t",function(){return b}),s.d(t,"g",function(){return R}),s.d(t,"i",function(){return D}),s.d(t,"h",function(){return f});var a=s(1);const n=({retailers:e,listIds:t,hasMoreItems:s})=>({type:a.a.RETAILERS_LIST_SUCCEEDED,retailers:e,listIds:t,hasMoreItems:s}),r=(e,t)=>({type:a.a.RETAILERS_LIST_FAILED,listIds:e,error:t}),o=({retailers:e,listIds:t,i13nModel:s})=>({type:a.a.LINK_RETAILER_SUCCEEDED,retailers:e,listIds:t,i13nModel:s}),i=(e,t,s,n)=>({type:a.a.LINK_RETAILER_FAILED,retailerId:e,error:t,errorHint:s,i13nModel:n}),c=({retailerId:e="",loyaltyId:t="",linked:s=null,parentName:n=""}={})=>({type:a.a.LINK_RETAILER_REQUESTED,retailerId:e,loyaltyId:t,linked:s,parentName:n}),l=({retailers:e,listIds:t})=>({type:a.a.UNLINK_RETAILER_SUCCEEDED,retailers:e,listIds:t}),d=(e,t)=>({type:a.a.UNLINK_RETAILER_FAILED,retailerId:e,error:t}),E=({retailerId:e=""}={})=>({type:a.a.UNLINK_RETAILER_REQUESTED,retailerId:e}),_=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:n="",offerType:r=""})=>({type:a.a.OFFERS_LIST_SUCCEEDED,listId:e,offers:t,hasMoreItems:s,offset:n,offerType:r}),u=(e,t)=>({type:a.a.OFFERS_LIST_FAILED,listId:e,error:t}),p=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:n="",offerType:r=""})=>({type:a.a.MORE_OFFERS_LIST_SUCCEEDED,listId:e,offers:t,hasMoreItems:s,offset:n,offerType:r}),m=(e,t)=>({type:a.a.MORE_OFFERS_LIST_FAILED,listId:e,error:t}),h=(e=[],t="",s={})=>({type:a.a.ACTIVATE_OFFER_SUCCEEDED,listId:t,offers:e,i13nModel:s}),S=e=>({type:a.a.ACTIVATE_OFFER_FAILED,error:e}),g=({retailerId:e="",offer:t={}}={})=>({type:a.a.ACTIVATE_OFFER_REQUESTED,retailerId:e,offer:t}),I=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:n="",numActivatedOffers:r=0})=>({type:a.a.ACTIVATED_OFFERS_LIST_SUCCEEDED,listId:e,offers:t,hasMoreItems:s,offset:n,numActivatedOffers:r}),C=(e,t)=>({type:a.a.ACTIVATED_OFFERS_LIST_FAILED,listId:e,error:t}),T=({listId:e="",offers:t=[],hasMoreItems:s=!1,offset:n="",numActivatedOffers:r=0})=>({type:a.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED,listId:e,offers:t,hasMoreItems:s,offset:n,numActivatedOffers:r}),A=(e,t)=>({type:a.a.MORE_ACTIVATED_OFFERS_LIST_FAILED,listId:e,error:t}),O=({retailerId:e="",totalSavings:t=0,offersUsed:s=0}={})=>({type:a.a.SAVINGS_LIST_SUCCEEDED,retailerId:e,totalSavings:t,offersUsed:s}),b=e=>({type:a.a.SAVINGS_LIST_FAILED,error:e}),R=(e={})=>({type:a.a.LINKED_CARD_SHOWN,i13nModel:e.i13nModel}),D=(e={})=>({type:a.a.QUOTIENT_MODAL_SHOWN,i13nModel:e.i13nModel}),f=({retailerId:e=""}={})=>({type:a.a.PRINT_OFFERS_REQUESTED,retailerId:e})},function(e,t,s){"use strict";s.d(t,"i",function(){return E}),s.d(t,"h",function(){return _}),s.d(t,"j",function(){return u}),s.d(t,"l",function(){return p}),s.d(t,"n",function(){return m}),s.d(t,"m",function(){return h}),s.d(t,"f",function(){return S}),s.d(t,"g",function(){return g}),s.d(t,"d",function(){return I}),s.d(t,"k",function(){return C}),s.d(t,"a",function(){return R}),s.d(t,"b",function(){return D}),s.d(t,"c",function(){return f}),s.d(t,"o",function(){return N}),s.d(t,"e",function(){return M}),s.d(t,"q",function(){return L}),s.d(t,"p",function(){return y});var a=s(35),n=s.n(a),r=s(0),o=s(34),i=s(36),c=s(48),l=s(8),d=s(136);function E(e,{listContentType:t},s){if(!e||!t)throw new o.a("BootcampApiClient.SearchError");const{items:a=[],totalHits:n,extendUrl:r="",cursor:i}=e;return{totalHits:n,offset:a.length?i:"",nextItemsUrl:r,items:d.a[t]?d.a[t](a,s):a}}function _({items:e=[],cursor:t=0,totalHits:s=0,extendUrl:a=""}={}){return{cardGroupList:d.a[r.Db.COUPON_CARDS](e),offset:parseInt(""===t?0:t,10),totalHits:s,hasMoreItems:!!a,nextItemsUrl:a}}function u(e){if(!e)throw new o.a("BootcampApiClient.LocalStoresError");const{items:[{listing:[t={}]=[]}={}]=[]}=e;return{nearbyListing:t}}function p(e){if(!e)throw new o.a("BootcampApiClient.RecentSearchError");return e}function m(e={}){if(void 0===e.offer)throw new o.a("BootcampApiClient.RetailerOffersError");const{offer:t=[],paginationInfo:{offset:s=0,offerType:a=""}={},statusCode:n}=e;return{offers:t.map(e=>{const t=Object(l.a)(e,"offerExpiryDate",""),s=Object(l.a)(e,"requirements",{}),a=Object(l.a)(s,"rewards.discounts",[]),n=Object(l.a)(a[0],"value","0")||"0",o=Object(l.a)(a[0],"amountUnit","USD"),i=Object(l.a)(s,"offerType",r.Gc.AMOUNT);return{amountUnit:o,brandName:Object(l.a)(e,"brandName",""),description:Object(l.a)(e,"offerDescription",""),discountType:i,expiryTimestamp:new Date(t).getTime(),imageUrl:Object(l.a)(e,"offerImage.offerImage1",""),offerId:Object(l.a)(e,"offerId",""),value:i===r.Gc.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0)}}),hasMoreItems:!!a,offset:parseInt(""===s?0:s,10),offerType:a,statusCode:n}}function h(e={}){if(void 0===e.offer)throw new o.a("BootcampApiClient.RetailerActivatedOffersError");const{offer:t=[],paginationInfo:{startRecord:s=0,totalRecordsPerPage:a=0,totalRecords:n=0}={},statusCode:i}=e,c=s+a<n;return{offers:t.map(e=>{const t=Object(l.a)(e,"offerExpiryDate",""),s=Object(l.a)(e,"requirements",{}),a=Object(l.a)(s,"rewards.discounts",[]),n=Object(l.a)(a[0],"value","0")||"0",o=Object(l.a)(a[0],"amountUnit","USD"),i=Object(l.a)(s,"offerType",r.Gc.AMOUNT);return{amountUnit:o,brandName:Object(l.a)(e,"brandName",""),description:Object(l.a)(e,"offerDescription",""),discountType:i,expiryTimestamp:new Date(t).getTime(),imageUrl:Object(l.a)(e,"offerImage.offerImage1",""),offerId:Object(l.a)(e,"offerId",""),value:i===r.Gc.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0)}}),hasMoreItems:c,offset:c?s+a:0,numActivatedOffers:n,statusCode:i}}function S(e){if(!e)throw new o.a("BootcampApiClient.LocalStoresError");return{messageGroupsResponses:[{cardGroupList:e.items.map(e=>({id:e.immutableId,messages:[n()(babelHelpers.extends({},e.messageMetadata,{schemaCards:Object(c.p)(e.messageMetadata)}),["schemaOrg"])]})),filter:r.Eb.ALL_COUPON_CARDS,hasMoreItems:!1,offset:""}],parentMessagesMap:{}}}function g(e){return e&&e.items?e.items.map(e=>Object(l.a)(e,"messageMetadata.schemaOrg.0.schema",{})):null}function I(e,{listContentType:t},s){if(!e||!t)throw new o.a("BootcampApiClient.gifCategoriesApiError");return{categories:e.categories.map(({gifs:a={},itemsUrl:n="",queryString:r=""},o)=>{const{items:i=[],extendUrl:c="",cursor:l=""}=a;return babelHelpers.extends({},e.categories[o],{gifs:{offset:l,nextItemsUrl:c||n||"",items:d.a[t]?d.a[t](i,[],s):i},itemsUrl:n||"",queryString:r||""})})}}function C({status:e,response:t}){if(401===e)throw new o.a(i.b,{statusCode:e,errorCode:"AUTH",refresh:!1});if(!t||200!==e)throw new o.a("BootcampApiClient.SearchError");let s=[];if(t.verticals){t.verticals.reduce((e,t={})=>e.concat(Object(l.a)(t,"contentBlocks",[])),[]).forEach(e=>{const{blockType:t,content:a}=e;if("ADS"===t){const e="PLAADS",{items:t}=a,n=d.a[e](t);s=s.concat(n)}})}return s}const T=e=>e&&e.items&&0===e.items.length&&!!e.extendUrl,A=e=>"CPN"===e.id,O=e=>"CRD"===e.id,b=e=>e.reduce((e,t)=>{if("CARDS"!==t.blockType)e.push(t);else{const s={};t.content.items.forEach(e=>{const{decos:a}=e.messageMetadata;let n=r.Db.CARDS;a.some(O)&&a.some(A)&&(n=r.Db.COUPON_CARDS),s[n]||(s[n]=babelHelpers.extends({},t,{blockType:n,content:babelHelpers.extends({},t.content,{items:[]})})),s[n].content.items.push(e)}),e.push(...Object(l.e)(s))}return e},[]);function R(e,t){const s=e.reduce((e,t={})=>e.concat(Object(l.a)(t,"contentBlocks",[])),[]);return b(s).reduce((e,s={})=>{const{filter:a=r.Eb.WITH_KEYWORD,content:n}=s;let{blockType:o}=s;if("ADS"===o&&(o="PLAADS"),!r.Eb[a]||T(n))return e;if(e[o]||(e[o]={}),e[o][a]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},n){const{items:s=[],suggestedWords:r=[],extendUrl:i="",totalHits:c,cursor:l,queryResponse:E}=n;e[o][a]=babelHelpers.extends({totalHits:c,offset:s.length?l:void 0,nextItemsUrl:i,suggestedWords:r,items:d.a[o]?d.a[o](s,t):s},E&&{lmv3Query:E})}return e},{})}function D(e){const t=Object(l.a)(e,"UNIResponse.AdResponse.0.Results.0.ResultSet.0.Listing",[]),s=d.a[r.Db.ADS](t);return{[r.Db.ADS]:{[r.Eb.WITH_KEYWORD]:{items:s}}}}function f(e){const t=e.getElementsByTagName("Listing"),s=d.a[r.Db.ADS](t);return{[r.Db.ADS]:{[r.Eb.WITH_KEYWORD]:{items:s}}}}function N(e){if(!e||!e.response)throw new o.a("BootcampApiClient.SuggestionError");return e.response.suggestions}function M(e){return e.reduce((e,t)=>{const{name:s,isConnected:a,additionalProperties:n={}}=t,r=(n.additionalStatus||[]).reduce((e,t)=>Object.assign(e,{[t.name]:"connected"===t.status}),{});return Object.assign(e,{[s]:{isConnected:a,connectionDetails:r}})},{})}function L(e){const t=Object(l.a)(e,"pivotInfoList.0.pivotInfoList",null);if(!t)throw new o.a("BootcampApiClient.TopRetailersError");return t.map(({count:e,pivotName:t,contentItems:s})=>{return{count:e,email:t,nameFromEmail:Object(l.a)(s,"0.internalKVSet.custom.messageMetadata.headers.from.0.name","")}})}function y(e){const t=Object(l.a)(e,"pivotInfoList.0.pivotInfoList",null),s={};if(!t)throw new o.a("BootcampApiClient.TopDealCategoriesError");for(const e of t){const t=e.pivotName.split(">")[0];"Other"!==t&&(s[t]=s[t]?s[t]+e.count:e.count)}return Object.keys(s).sort((e,t)=>s[t]-s[e])}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["TopLeft","TopCenter","TopRight","CenterLeft","CenterCenter","CenterRight","BottomLeft","BottomCenter","BottomRight"])},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return d});var a=s(0),n=s(1),r=s(5),o=s(8);function i(e,t){switch(t){case a.Pc.FOLDER:return e.launchFolder;case a.Pc.NEW_DRAFT:case a.Pc.EDIT_DRAFT:return e.launchCompose;case a.Pc.MESSAGE_FROM_FOLDER_LIST:return e.launchMessage;default:return e.root}}const c=(e,t)=>e&&`https://redirect.viglink.com?u=${encodeURIComponent(e)}&key=${t}`,l=Object(o.c)([n.a.WINDOW_RESIZED,n.a.AD_FEEDBACK_CLOSED,n.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,n.a.MESSAGE_CARD_EXPANSION_CHANGED,n.a.PREVIEW_MESSAGE_REQUESTED,n.a.ITEM_LIST_PAGE_SCROLLED,n.a.DELETE_ITEMS_REQUESTED,n.a.SEND,n.a.RESPOND_TO_INVITE,n.a.V3_MESSAGE_SEND_REQUESTED,n.a.SEARCH_LIST_ITEMS_REQUESTED,n.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,n.a.MESSAGE_READ_AD_ROTATION_TIMER,n.a.ADFREE_UPSELL_CANCEL,n.a.SETTINGS_MENU_CLOSED,n.a.CONFIRM_DELETE_DIALOG_CLOSED,n.a.MOVE_ITEMS_REQUESTED,n.a.LAUNCH_COMPLETED,n.a.ROTATE_AD_ON_LIST_SCROLL,n.a.FLASH_SALE_AD_ENDED]),d=e=>{switch(e.type){case n.a.APPLICATION_VISIBILITY_DID_CHANGE:return e.isVisible;case n.a.OPEN_PAGE_REQUESTED:return e.route.name!==a.Pc.SPONSORED_MESSAGE;case n.a.STREAM_CURSOR_MOVED:return e.previewPane!==a.Bc.NO;case n.a.ONLINE_STATUS_CHANGED:return e.online&&e.rotateAdsOnline;case n.a.SYNC_DATA:return e.forceSync&&Object(o.a)(e,"i13nModel.mKey",null)===r.e.PULL_TO_REFRESH;case n.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case n.a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:return e.rotateAds;case n.a.MESSAGE_READ_AD_ROTATION_TIMER:return!1;default:return!!l[e.type]}}},function(e,t,s){"use strict";s.d(t,"x",function(){return n}),s.d(t,"y",function(){return r}),s.d(t,"s",function(){return o}),s.d(t,"t",function(){return i}),s.d(t,"C",function(){return c}),s.d(t,"E",function(){return l}),s.d(t,"D",function(){return d}),s.d(t,"z",function(){return E}),s.d(t,"B",function(){return _}),s.d(t,"A",function(){return u}),s.d(t,"d",function(){return p}),s.d(t,"f",function(){return m}),s.d(t,"e",function(){return h}),s.d(t,"u",function(){return S}),s.d(t,"w",function(){return g}),s.d(t,"v",function(){return I}),s.d(t,"g",function(){return C}),s.d(t,"i",function(){return T}),s.d(t,"h",function(){return A}),s.d(t,"b",function(){return O}),s.d(t,"q",function(){return b}),s.d(t,"r",function(){return R}),s.d(t,"a",function(){return D}),s.d(t,"c",function(){return f}),s.d(t,"k",function(){return N}),s.d(t,"l",function(){return M}),s.d(t,"p",function(){return L}),s.d(t,"o",function(){return y}),s.d(t,"n",function(){return P}),s.d(t,"m",function(){return v}),s.d(t,"j",function(){return F});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.SETTINGS_MENU_REQUESTED},e),r=e=>babelHelpers.extends({type:a.a.SETTINGS_POPOVER_AUTOOPEN_CHANGED},e),o=e=>babelHelpers.extends({type:a.a.OPT_OUT_OF_NORRIN},e),i=e=>babelHelpers.extends({type:a.a.OPT_OUT_CANCEL_FEEDBACK},e),c=e=>babelHelpers.extends({type:a.a.SETTINGS_LOCATION_CHANGE_REQUESTED},e),l=e=>babelHelpers.extends({type:a.a.SETTINGS_LOCATION_CHANGE_SUCCEEDED},e),d=e=>babelHelpers.extends({type:a.a.SETTINGS_LOCATION_CHANGE_FAILED},e),E=e=>babelHelpers.extends({type:a.a.CONVERSATIONS_CHANGE_REQUESTED},e),_=e=>babelHelpers.extends({type:a.a.CONVERSATIONS_CHANGE_SUCCEEDED},e),u=e=>babelHelpers.extends({type:a.a.CONVERSATIONS_CHANGE_FAILED},e),p=e=>babelHelpers.extends({type:a.a.ALIAS_EMAIL_CREATE_REQUESTED},e),m=e=>babelHelpers.extends({type:a.a.ALIAS_EMAIL_CREATE_SUCCEEDED},e),h=e=>babelHelpers.extends({type:a.a.ALIAS_EMAIL_CREATE_FAILED},e),S=e=>babelHelpers.extends({type:a.a.CONFIRM_EMAIL_RESEND_REQUESTED},e),g=e=>babelHelpers.extends({type:a.a.CONFIRM_EMAIL_RESEND_SUCCEEDED},e),I=e=>babelHelpers.extends({type:a.a.CONFIRM_EMAIL_RESEND_FAILED},e),C=e=>babelHelpers.extends({type:a.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED},e),T=e=>babelHelpers.extends({type:a.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED},e),A=e=>babelHelpers.extends({type:a.a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED},e),O=e=>babelHelpers.extends({type:a.a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED},e),b=e=>babelHelpers.extends({type:a.a.ACCOUNT_ADD_FINISHED},e),R=e=>babelHelpers.extends({type:a.a.ACCOUNT_ADD_WIZARD_OPENED},e),D=e=>babelHelpers.extends({type:a.a.ACCOUNT_ADD_SELECT_PROVIDER},e),f=e=>babelHelpers.extends({type:a.a.ACCOUNT_SETTINGS_CANCEL},e),N=e=>babelHelpers.extends({type:a.a.FEEDBACK_SUBMITTED},e),M=e=>babelHelpers.extends({type:a.a.ABOUT_OUR_ADS_PAGE_REQUESTED},e),L=e=>babelHelpers.extends({type:a.a.PRIVACY_TERMS_PAGE_REQUESTED},e),y=e=>babelHelpers.extends({type:a.a.HELP_PAGE_REQUESTED},e),P=e=>babelHelpers.extends({type:a.a.ADFREE_MAIL_PAGE_REQUESTED},e),v=e=>babelHelpers.extends({type:a.a.ABOUT_YAHOO_MAIL_PAGE_REQUESTED},e),F=e=>babelHelpers.extends({type:a.a.SETTINGS_BLOCKED_SENDERS_REQUESTED},e)},function(e,t,s){"use strict";s.d(t,"b",function(){return p}),s.d(t,"a",function(){return h});var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(26),c=s(4),l=s(49),d=s(8);const E=Object(c.h)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),_="data-iskeynav",u=`[${_}]`,p=Object(d.c)(["HORIZONTAL","VERTICAL"]),m=["escape","left","meta+left","right","meta+right","up","meta+up","down","meta+down",",","."];class h extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{const t=this.getNavigableElements();let s=e.target;for(;s!==e.currentTarget&&!s.getAttribute(_);)if(!(s=s.parentElement))return;t.indexOf(s)>-1&&-1===s.tabIndex&&this.applyFocusTo(s)}),this.handleKeyDown=(e=>{if(!e.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||this.props.excludeKeyCodes.indexOf(e.key)>=0||this.props.excludeKeyCodes.indexOf(e.which)>=0)){switch(e.key){case"Escape":document.activeElement.blur()}if(this.props.axis===p.HORIZONTAL)switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}else switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}switch(e.which){case l.a.COMMA:case l.a.FF_COMMA:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case l.a.PERIOD:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;default:return}}}),this.jumpToTop=(()=>{this.jump()}),this.jumpToEnd=(()=>{this.jump(!0)}),this.jump=(e=>{const t=this.getNavigableElements();let s,a=0,n=1,r=t.length-1;for(e&&(a=r,n=-1,r=0),s=t[a];this.isNotFocusable(s)&&a!==r;)s=t[a+=n];this.applyFocusTo(s)}),this.isNotFocusable=(e=>!(e&&e.offsetHeight&&!e.disabled)),this.getNavigableElements=(()=>{const e=Object(i.findDOMNode)(this);return Array.prototype.slice.call(e.querySelectorAll(u))}),this.navigate=(e=>{const t=this.getNavigableElements(),{min:s,max:a}=Math,n=t.length-1,r=t.indexOf(document.activeElement);let o,i;if(t.length){for(this.props.circularNavigation?(o=r+e)>n?o=0:o<0&&(o=n):o=s(a(r+e,0),n),i=t[o];i&&this.isNotFocusable(i);)i=t[o+=e];i&&this.applyFocusTo(i)}}),this.resetTabIndex=(()=>{const e=Object(i.findDOMNode)(this).querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]');for(let t=0;t<e.length;++t)e[t].tabIndex=-1}),this.applyFocusTo=(e=>{this.resetTabIndex(),e.tabIndex=this.props.groupTabIndex,e.focus()}),t}componentDidMount(){const e=Object(i.findDOMNode)(this),t=this.getNavigableElements();t.length&&!e.querySelector(`[tabindex="${this.props.groupTabIndex}"]`)&&(t[0].tabIndex=this.props.groupTabIndex),this.mousetrap=this.context.bindShortcut(m,this.handleKeyDown,e)}componentWillUnmount(){this.context.unbindShortcut(m,this.mousetrap)}render(){const{formatMessage:e}=this.context.intl,t=Object.assign({},this.props);return delete t.axis,delete t.circularNavigation,delete t.groupTabIndex,delete t.groupTabIndex,delete t.excludeKeyCodes,delete t.skipKeydownOnFormElement,o.a.createElement("div",babelHelpers.extends({"data-test-id":"focus-group",ref:e=>this.focusGroup=e,onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":e(E.focus_group_aria_label)},t),this.props.children)}}h.contextTypes={intl:c.i.isRequired,bindShortcut:n.a.func,unbindShortcut:n.a.func},h.defaultProps={axis:p.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]}},function(e,t,s){"use strict";s.d(t,"e",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"k",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"f",function(){return E}),s.d(t,"b",function(){return _}),s.d(t,"j",function(){return u}),s.d(t,"i",function(){return p}),s.d(t,"h",function(){return m});var a=s(1),n=s(7),r=s(0);const o=e=>babelHelpers.extends({type:a.a.MORE_MESSAGES_REQUEST_SUCCESS},e),i=e=>babelHelpers.extends({type:a.a.MORE_COUPONS_SUCCESS},e),c=e=>babelHelpers.extends({type:a.a.MORE_RECEIPTS_SUCCESS},e),l=e=>babelHelpers.extends({type:a.a.MORE_TRAVEL_ITEMS_SUCCEEDED},e),d=e=>babelHelpers.extends({type:a.a.MORE_MESSAGES_REQUEST_FAILED},e),E=e=>babelHelpers.extends({type:a.a.MORE_RECEIPTS_REQUEST_FAILED},e),_=e=>babelHelpers.extends({type:a.a.MORE_COUPONS_REQUEST_FAILED},e),u=e=>babelHelpers.extends({type:a.a.MORE_TRAVEL_ITEMS_FAILED},e),p=e=>babelHelpers.extends({type:a.a.MORE_SEARCH_LIST_ITEMS_RECEIVED},e),m=e=>babelHelpers.extends({type:a.a.MORE_SEARCH_LIST_ITEMS_FAILED},e);t.a=(e=>{const t=Object(n.r)(e.listId);switch(Object(n.q)(e.listId)){case r.Db.COUPON_CARDS:return babelHelpers.extends({type:a.a.MORE_COUPONS_REQUESTED},e);case r.Db.OFFER_CARDS:return babelHelpers.extends({type:t===r.Eb.ACTIVATED_OFFER_CARDS?a.a.MORE_ACTIVATED_OFFERS_REQUESTED:a.a.MORE_OFFERS_REQUESTED},e);case r.Db.REFUND_CARDS:return babelHelpers.extends({type:a.a.MORE_RECEIPTS_REQUESTED},e);default:return babelHelpers.extends({type:a.a.MORE_ITEMS_REQUESTED},e)}})},function(e,t,s){"use strict";function a(e,t=!0){if(!e||!/^https?:\/\//.test(e))return"";const s=new Image;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+encodeURIComponent((new Date).getTime())),s.src=e,s.src}function n(e){if(!e||!/^https?:\/\//.test(e))return"";const t=document.createElement("iframe");t.src=e,t.width="1px",t.height="1px",t.style.display="none",document.body.appendChild(t)}s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n})},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return E});var a=s(7),n=s(0),r=s(64),o=s.n(r);const i=(e=[])=>e.reduce((e,t)=>{if(Object(a.q)(t.listId)!==n.Db.MESSAGES||void 0===t.folder)return e;const{groupId:s,folder:r,destinationFolder:i={},flags:c=[],isAffected:l}=t,{originalFolderIds:d=[],folderIds:E=[],folderTypes:_=[],flags:u=[]}=e[s]||{};let p,m;return l?(p=i.id?[i.id]:[],m=i.types?[].concat(i.types):[]):(p=[r.id],m=[].concat(r.types)),babelHelpers.extends({},e,{[s]:{flags:l?u:u.concat(c),originalFolderIds:o()(d.concat(r.id)),folderIds:o()(E.concat(p)),folderTypes:o()(_.concat(m))}})},{}),c=(e=[],t=[])=>{const s=i(e);return Object.keys(s).filter(e=>{const{folderIds:a=[],folderTypes:r=[]}=s[e];return t.length?!a.some(e=>-1!==t.indexOf(e)):!r.some(e=>-1===[n.sb.TRASH,n.sb.BULK].indexOf(e))})},l=(e=[],t,s=[])=>{const n=i(e);return Object.keys(n).filter(e=>{const{flags:r=[]}=n[e];return s.some(e=>Object(a.N)(t,e))&&!r.some(e=>!e.read)})},d=(e,t)=>{const s=e.path.toLocaleLowerCase(),a=t.path.toLocaleLowerCase(),n=s.split("/"),r=a.split("/");let o=0,i=0;for(;o<n.length&&i<r.length;){const e=n[o],t=r[i];if(e!==t)return e.localeCompare(t);o++,i++}const c=s.localeCompare(a);return c||(s.localeCompare(a)||s.length-a.length)},E=(e,t,s)=>{const a=Math.floor(s/t),n=[];let r=0,o=0;return e.forEach(e=>{n[r]||(n[r]=[]),n[r].push(e),++o%a==0&&(r++,o=0)}),n}},function(e,t,s){"use strict";s.d(t,"f",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"n",function(){return E}),s.d(t,"m",function(){return _}),s.d(t,"a",function(){return u}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return m}),s.d(t,"p",function(){return h}),s.d(t,"q",function(){return S}),s.d(t,"i",function(){return g}),s.d(t,"o",function(){return I}),s.d(t,"j",function(){return C}),s.d(t,"l",function(){return T}),s.d(t,"k",function(){return A}),s.d(t,"e",function(){return O}),s.d(t,"d",function(){return b});var a=s(1),n=s(43),r=s(17),o=s(0),i=s(5);function c(e){return babelHelpers.extends({type:a.a.ACCOUNT_DELETE_REQUESTED},e)}function l(e){return babelHelpers.extends({type:a.a.ACCOUNT_DELETE_SUCCEEDED},e)}function d(e){return babelHelpers.extends({type:a.a.ACCOUNT_DELETE_FAILED},e)}function E(e){return babelHelpers.extends({type:a.a.ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED},e)}function _(e){return babelHelpers.extends({type:a.a.ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED},e)}function u(e){return babelHelpers.extends({type:a.a.ACCOUNT_ADD_REQUESTED},e)}function p(e){return babelHelpers.extends({type:a.a.ACCOUNT_ADD_SUCCEEDED},e)}function m(e){return babelHelpers.extends({type:a.a.ACCOUNT_ADD_FAILED},e)}function h(e){return babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_DISCONNECT_FAILED})}function S(e){return babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED})}function g(){return Object(n.i)({route:Object(r.s)({settingsGroupId:o.ld.PERSONALIZE_INBOX}),i13nModel:{interactionType:i.d.nav,mKey:i.e.SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS,sec:i.g.SETTINGS_LEFT_RAIL}})}function I(e){return babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED})}const C=e=>babelHelpers.extends({type:a.a.ACCOUNT_REAUTH_REQUESTED},e),T=e=>babelHelpers.extends({type:a.a.ACCOUNT_REAUTH_SUCCEEDED},e),A=e=>babelHelpers.extends({type:a.a.ACCOUNT_REAUTH_FAILED},e);function O(e){return babelHelpers.extends({},e,{type:a.a.ACCOUNT_DELETE_CONFIRMED})}function b(e){return babelHelpers.extends({type:a.a.ACCOUNT_ADD_AUTHORIZED},e)}},function(e,t,s){"use strict";var a=s(22),n=s(24),r=s(58),o=s.n(r).a.create("norrin/push_notifications"),i=s(145);s.d(t,"a",function(){return u}),s.d(t,"b",function(){return p}),s.d(t,"e",function(){return m}),s.d(t,"c",function(){return h}),s.d(t,"f",function(){return S}),s.d(t,"g",function(){return I}),s.d(t,"h",function(){return C}),s.d(t,"d",function(){return T}),s.d(t,"i",function(){return O});const c={TEST:"/sw_test.js",PROD:"/sw.js"},l="/onepush/v1/public/yql?format=json",d="com.yahoo.mail.browser.chrome",E="mail",_="CR-SDK v=1;id=mail;sig=2a99128d27f0438381b5ae0124edeb97b82271265bf9dc62907b7a7f3d7abc2e",u={DEFAULT:"default",GRANTED:"granted",DENIED:"denied"},p={RENEW:"renew-subscription",SUBSCRIBE:"subscribe"};function m(){return Object(n.b)()&&"serviceWorker"in window.navigator&&"PushManager"in window&&"showNotification"in ServiceWorkerRegistration.prototype}function h(e){if(m())return window.navigator.serviceWorker.addEventListener("message",e)}function S(){return m()?window.navigator.serviceWorker.getRegistration().then(e=>e&&e.pushManager.getSubscription()).then(e=>!!e).catch(()=>!1):Promise.resolve(!1)}function g(){if(!m())return Promise.reject(new Error("Service Workers not supported"));const e=window.AppBootstrapData&&("alpha"===window.AppBootstrapData.environment||"beta"===window.AppBootstrapData.environment);return window.navigator.serviceWorker.register(e?c.TEST:c.PROD)}function I(e){const t=o.feature("push_notifications_subscription",{subscriptionIds:e});return g().then(function(e){return window.navigator.serviceWorker.ready.then(e=>e.pushManager.subscribe({userVisibleOnly:!0})).then(t=>{if(t){const s=btoa(JSON.stringify(t)),n=t.endpoint.substring(t.endpoint.lastIndexOf("/")+1);return function({channelId:e,deviceId:t,subscriptionIds:s}){const n={appId:d,accountId:E,accountKey:_,deviceId:t,channelId:e,tags:s.map(b).join(",")},r=new a.b(a.a.POST,l);return r.send(function({accountId:e,accountKey:t}){return`q=select * from cloudrepo.app_attributes where account_id="${e}" and account_key="${t}" and issue_crumb="true"`}(n)).then(e=>e.body.query.results.json.crumb).then(e=>n.crumb=e).then(()=>r.send(function({accountId:e,accountKey:t,appId:s,deviceId:a,channelId:n,crumb:r}){return`q=insert into cloudrepo.app_attributes(account_id, account_key, app_id, device_id, attributes, crumb) values("${e}", "${t}", "${s}", "${a}",'{"version":"1.0","push_addresses":{"browserw3c":{"push_app_id":"${s}","channel_id":"${n}"}},"name":"${s}"}', "${r}");`}(n))).then(()=>r.send(function({accountId:e,accountKey:t,appId:s,deviceId:a,tags:n,crumb:r}){return`q=insert into cloudrepo.user_app_tags(account_id, account_key, app_id, device_id, tags, crumb) values("${e}","${t}","${s}","${a}",'[${n}]',"${r}")`}(n))).catch(e=>{i.a.error("onepush_subscription_error",{message:e.message||"",name:e.name,statusCode:e.statusCode||"",responseText:e.data?e.data.responseText:""})})}({channelId:s,deviceId:n,subscriptionIds:e})}return Promise.reject(new Error("Subscribing failed"))})}.bind(this,e)).then(t.logSuccess).catch(e=>(t.logFailure(e),C().then(()=>Promise.reject(e),()=>Promise.reject(e))))}function C(){return m()?window.navigator.serviceWorker.getRegistration().then(e=>e&&e.pushManager.getSubscription()).then(e=>!e||e.unsubscribe().then(e=>!!e||Promise.reject(new Error("Unsubscription failed")))):Promise.reject(new Error("Service Workers not supported"))}function T(){try{if("undefined"!=typeof Notification)return Notification.permission;throw new Error("Browser unsupported")}catch(e){return e}}function A(e,t){if(!e)return;return e.postMessage({type:"translations",data:t})}function O(e){m()&&(window.navigator.serviceWorker.controller?A(window.navigator.serviceWorker.controller,e):g().then(t=>{A(t.active,e)}).catch(e=>(console.log("SW register error",e),Promise.reject(e))))}function b(e){return`"mail/new_mail_v4|notify|${e}|deco:FTI"`}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["DEFAULT","MENU","TOOLBAR"])},function(e,t,s){"use strict";var a=s(58);t.a=s.n(a).a.create("norrin/base_client")},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["DEFAULT","GRID","WRAP_CONTENT"])},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"a",function(){return c});var a=s(0),n=s(7);const r=(e,t,s=!1)=>{const{getFeaturesSelectors:n,getRoute:r,isNarrowScreen:o,getActionableRightRailPane:i}=t,{isEnabled:c}=n(),l=r(),d=c(a.kb.HIDE_RIGHT_RAIL),E=c(a.kb.WIDE_RIGHT_RAIL),_=!!l.params.attachmentId;return e&&!d&&(!o()||E||s)&&!i()&&!_},o=(e,t)=>{const s=t.getRoute(),n=t.getSetting(a.id.PREVIEW_PANE)!==a.Bc.NO;let o=[a.Pc.MESSAGE_FROM_FOLDER_LIST,a.Pc.MESSAGE_FROM_SEARCH_LIST,a.Pc.MESSAGE_FROM_LIST];return n&&(o=[...o,a.Pc.FOLDER,a.Pc.LIST]),r(e,t)&&-1!==o.indexOf(s.name)&&!!t.getGroupId()},i=(e,t,s)=>{const{getFeaturesSelectors:o,getRoute:i}=t,{isEnabled:c}=o(),l=i(),d=Object(n.t)(l),E=Object(n.q)(d),_=l.name===a.Pc.SEARCH,u=c(a.kb.COUPONS_SMART_VIEW_SEARCH)&&E===a.Db.COUPON_CARDS,p=_&&!!Object(n.k)(d)&&!u;if(!r(!0,t,!0))return!1;switch(s){case a.kb.RIGHT_RAIL_CONTACT_CARD:return p;case a.kb.RIGHT_RAIL_PHOTO_CARD:return E!==a.Db.IMAGES&&p;case a.kb.RIGHT_RAIL_DOCS_CARD:return E!==a.Db.DOCUMENTS&&p;case a.kb.RIGHT_RAIL_MESSAGES_CARD:return E!==a.Db.MESSAGES&&p;default:return!1}},c=(e,t)=>{const{getAdsSelectors:s,isFeatureEnabled:r,getCurrentListId:o}=t,{getShoppingCartAd:i}=s(),c=Object(n.q)(o())===a.Db.YAHOO_DEAL_CARDS;return e||r(a.kb.IS_WIDER_MAIL_EXTN_ENABLED)||!!i().length||c}},function(e,t,s){"use strict";s.d(t,"i",function(){return d}),s.d(t,"b",function(){return E}),s.d(t,"a",function(){return _}),s.d(t,"j",function(){return u}),s.d(t,"f",function(){return p}),s.d(t,"d",function(){return m}),s.d(t,"e",function(){return h}),s.d(t,"h",function(){return S}),s.d(t,"c",function(){return g}),s.d(t,"g",function(){return I});var a=s(1),n=s(0),r=s(7),o=s(135),i=s(9);function c(e,t){const{getFolderIdsForSelectedAccount:s}=Object(i.b)(e.store.getState());return s(t)[0]}function l(e,t,s){const{getListLmv3Query:n,getSelectedAccountId:c,doesListExist:l}=Object(i.b)(e.store.getState()),d=c(),{listId:E,destinationFolderId:_,allItemsCount:u,flags:p,triageActionType:m}=t,h=Object(r.m)(E),S=l(E)?n(E):void 0,g=S?JSON.parse(S):void 0;let I=g?g.base:null;if(!I&&h&&(I=Object(o.e)({folderId:h})),!I)return;g&&g.token&&(I+=` querytoken:${g.token}`);const C=-1!==[a.a.DELETE_ITEMS_REQUESTED,a.a.READ_CHANGE_REQUESTED].indexOf(s)?h:_;e.dispatch(s,babelHelpers.extends({},t,{accountId:d,folderId:C,isAsync:!0,conversations:!1,count:u,allSelected:!0,isV2Action:!0,successAction:{type:a.a.UPDATE_ITEMS_SUCCEEDED,triageActionType:m,folderId:C,conversations:!1},failureAction:{type:a.a.UPDATE_ITEMS_FAILED,triageActionType:m,folderId:C}}));const T=babelHelpers.extends({folderId:h,query:I,isAsync:!0,isConversation:!1},_&&{destinationFolderId:_},p&&{flags:p});return e.mailAPIClient.request(t.permanent?"folderList.delete":"folderList.update",[T]).then(({task:t})=>e.dispatch(a.a.BULK_PROGRESS_RECEIVED,t)).catch(s=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,{conversations:!1,count:u,allSelected:!0,destinationFolderType:t.destinationFolderType,triageActionType:m,error:s}))}function d(e,t){return l(e,babelHelpers.extends({},t,{triageActionType:n.Pd.MOVE_ALL_ITEMS,flags:null}),a.a.MOVE_ITEMS_REQUESTED)}function E(e,t){return l(e,babelHelpers.extends({},t,{flags:null,destinationFolderType:n.sb.TRASH,destinationFolderId:c(e,n.sb.TRASH),triageActionType:n.Pd.DELETE_ALL_ITEMS}),a.a.DELETE_ITEMS_REQUESTED)}function _(e,t){return l(e,babelHelpers.extends({},t,{flags:null,destinationFolderType:n.sb.ARCHIVE,destinationFolderId:c(e,n.sb.ARCHIVE),triageActionType:n.Pd.ARCHIVE_ALL_ITEMS}),a.a.MOVE_ITEMS_REQUESTED)}function u(e,t){return l(e,babelHelpers.extends({},t,{flags:null,destinationFolderType:n.sb.INBOX,destinationFolderId:c(e,n.sb.INBOX),triageActionType:n.Pd.RESTORE_ALL_ITEMS}),a.a.MOVE_ITEMS_REQUESTED)}function p(e,t){return l(e,babelHelpers.extends({},t,{flags:{spam:!0},destinationFolderType:n.sb.BULK,destinationFolderId:c(e,n.sb.BULK),triageActionType:n.Pd.SPAM_ALL_ITEMS}),a.a.MOVE_ITEMS_REQUESTED)}function m(e,t){return l(e,babelHelpers.extends({},t,{flags:{ham:!0},destinationFolderType:n.sb.INBOX,destinationFolderId:c(e,n.sb.INBOX),triageActionType:n.Pd.NOT_SPAM_ALL_ITEMS}),a.a.MOVE_ITEMS_REQUESTED)}function h(e,t){return l(e,babelHelpers.extends({},t,{isRead:!1,flags:{read:!0},triageActionType:n.Pd.READ_CHANGE_ALL_ITEMS}),a.a.READ_CHANGE_REQUESTED)}function S(e,t){return l(e,babelHelpers.extends({},t,{isRead:!0,flags:{read:!1},triageActionType:n.Pd.READ_CHANGE_ALL_ITEMS}),a.a.READ_CHANGE_REQUESTED)}function g(e,t){return l(e,babelHelpers.extends({},t,{isStarred:!1,flags:{flagged:!0},triageActionType:n.Pd.STAR_CHANGE_ALL_ITEMS}),a.a.STAR_CHANGE_REQUESTED)}function I(e,t){return l(e,babelHelpers.extends({},t,{isStarred:!0,flags:{flagged:!1},triageActionType:n.Pd.STAR_CHANGE_ALL_ITEMS}),a.a.STAR_CHANGE_REQUESTED)}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(21),o=(s(3),s(8),s(99)),i=s.n(o),c=s(506),l=s.n(c),d=s(11);const E=s.n(d)()(l.a);t.a=class extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleHover=(e=>{this.setState({hovered:e})}),t}render(){const e=this.props,{colorStates:t}=e,s=babelHelpers.objectWithoutProperties(e,["colorStates"]),a=!this.props.disabled&&this.state.hovered?t.hovered:t.normal;return n.a.createElement(r.a,babelHelpers.extends({title:""},s,{className:i()(this.props.className||"",E.button),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:a}))}}},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});s(6);var a=s(2),n=s.n(a),r=s(40),o=(s(12),s(57),s(8),s(10));const i={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},c={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8};class l extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={popoverShown:!1},this.handleClick=(()=>{const e=this.state.popoverShown,{triggerOn:t,triggerOff:s}=this.props;e||(t&i.CLICK)!==i.CLICK?e&&(s&c.CLICK)===c.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})}),this.handleDragStart=(()=>{const e=this.state.popoverShown,{triggerOff:t}=this.props;e&&(t&c.DRAG_START)===c.DRAG_START&&this.setState({popoverShown:!1})}),this.handleMouseOver=(()=>{clearTimeout(this._hideTimeout);const{triggerOn:e,triggerDelayTime:t}=this.props;(e&i.HOVER)===i.HOVER?this.setState({popoverShown:!0}):(e&i.HOVER_DELAYED)===i.HOVER_DELAYED&&(this._shownTimeout=setTimeout(()=>{this.setState({popoverShown:!0})},t))}),this.handleMouseOut=(e=>{const t=this.state.popoverShown,{triggerOff:s}=this.props;clearTimeout(this._shownTimeout),t&&(this.refs.anchor!==e.target&&!this.refs.anchor.contains(e.target)||(s&c.HOVER_OUT_ANCHOR)!==c.HOVER_OUT_ANCHOR?(s&c.HOVER_OUT)===c.HOVER_OUT&&(this._hideTimeout=setTimeout(()=>{this.setState({popoverShown:!1})},0)):this.setState({popoverShown:!1}))}),this.handlePopoverHide=(()=>{clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})}),t}componentWillUnmount(){clearTimeout(this._shownTimeout),clearTimeout(this._hideTimeout)}componentDidMount(){const{triggerOn:e,disabled:t}=this.props;t||(e&i.MOUNT==i.MOUNT?this.setState({popoverShown:!0}):this.forceUpdate())}componentDidUpdate(e,t){this.state.popoverShown!==t.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())}render(){const{align:e,arrowSize:t,disabled:s,isArrowVisible:a,offset:o,permittedArrowDirections:i,persistent:c,zAltitude:l}=this.props,[d,E]=n.a.Children.toArray(this.props.children),_=!s&&this.state.popoverShown;return n.a.createElement("span",null,n.a.cloneElement(d,s?{ref:"anchor"}:{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"}),_&&this.refs.anchor?n.a.createElement(r.b,{popoverAnchor:this.refs.anchor,arrowSize:t,align:e,offset:o,permittedArrowDirections:i,zAltitude:l,onMouseOver:e=>{this.handleMouseOver(e),this.props.onContentMouseOver(e)},onMouseOut:e=>{this.handleMouseOut(e),this.props.onContentMouseOut(e)},onClick:this.handleClick,onHide:this.handlePopoverHide,persistent:c,isArrowVisible:a},E):null)}}l.defaultProps={disabled:!1,stopClickPropagation:!1,onShown:()=>{},onHide:()=>{},onContentMouseOver:()=>{},onContentMouseOut:()=>{},persistent:!1,zAltitude:o.ZIndices.POPOVER.MEDIUM,isArrowVisible:!0},t.c=l},function(e,t,s){var a=s(299);function n(e,t,s,n,r){if(!e)throw new Error("guidMd5 is required argument");if("number"!=typeof t&&"number"!=typeof s)throw new Error("clientId and sessionId are required and have to be numeric values");this.state={guiMd5Section:a.toNBits(a.hexToBin(e),64),clientIdSection:a.toNBits(t.toString(2),8),sessionSection:a.toNBits(s.toString(2),16),versionSection:a.toNBits(1..toString(2),8),randomClientSection:a.toNBits((n||Math.floor(256*Math.random())).toString(2),8),debugSection:a.toNBits((r||0).toString(2),8)},this._seq=0}n.prototype.generate=function(){var e=a.toNBits(this._getNextSeq().toString(2),16),t=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,e,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(t)},n.prototype._formatBinary=function(e){var t=a.binToHex(e),s=0;return[8,4,4,4,12].map(function(e){var a=t.substr(s,e);return s+=e,a}).join("-")},n.prototype._getNextSeq=function(){return this._seq>65535&&(this._seq=0),this._seq++},n.getSeq=function(e){var t=e.substr(26,4);return parseInt(t,16)},e.exports=n},function(e,t,s){"use strict";var a=s(4);t.a=Object(a.h)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Deals - Click to see all deals"},GROCERIES:{id:"smart_view_groceries_tooltip",defaultMessage:"Groceries - Click to see all grocery stores where you can save"},RECEIPTS:{id:"smart_view_receipts_tooltip",defaultMessage:"Receipts - Click to see all receipts"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"smart_view_photos",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Deals"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_GROCERIES:{id:"smart_view_groceries",defaultMessage:"Groceries"},smart_view_selected_GROCERIES:{id:"smart_view_selected_groceries_tooltip",defaultMessage:"Groceries, selected - Showing your grocery stores"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"},smart_view_RECEIPTS:{id:"smart_view_reciepts",defaultMessage:"Purchases"},smart_view_selected_RECEIPTS:{id:"smart_view_selected_receipts_tooltip",defaultMessage:"Purchases, selected - Showing your purchases"},smart_view_ALL:{id:"category.all_header",defaultMessage:"All"},smart_view_PEOPLE:{id:"category.people_header",defaultMessage:"People"},smart_view_PEOPLE_HINT:{id:"category.people_hint",defaultMessage:"Messages from real people, not businesses or promotions"},smart_view_PEOPLE_SHORT_HINT:{id:"category.people_short_hint",defaultMessage:"Turn on <strong>People View</strong> to see messages from people in one place."},smart_view_SHOPPING:{id:"category.shopping_header",defaultMessage:"Shopping"},smart_view_SHOPPING_HINT:{id:"category.shopping_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},smart_view_SHOPPING_SHORT_HINT:{id:"category.shopping_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},smart_view_SOCIAL:{id:"category.social_header",defaultMessage:"Social"},smart_view_SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},smart_view_SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},smart_view_FINANCE:{id:"category.finance_header",defaultMessage:"Finance"},smart_view_FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},smart_view_TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move view up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move view down"},categorization_header:{id:"categorization_header",defaultMessage:"Inbox views"},categorization_hint:{id:"categorization_hint",defaultMessage:"Automatically group messages by views for easier organization"},categorization_onboarding:{id:"categorization_onboarding",defaultMessage:"Automatically group messages by category for easier organization"}})},function(e,t,s){"use strict";s.d(t,"h",function(){return n}),s.d(t,"i",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"k",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"l",function(){return l}),s.d(t,"j",function(){return d}),s.d(t,"m",function(){return E}),s.d(t,"d",function(){return _}),s.d(t,"c",function(){return u}),s.d(t,"a",function(){return p}),s.d(t,"b",function(){return m}),s.d(t,"e",function(){return h});var a=s(1);function n(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SAVE_REQUESTED})}function r(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SAVE_SUCCEEDED})}function o(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SAVE_FAILED})}function i(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SEND_REQUESTED})}function c(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED})}function l(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SEND_SUCCEEDED})}function d(e){return babelHelpers.extends({},e,{type:a.a.V3_MESSAGE_SEND_FAILED})}function E(e){return babelHelpers.extends({},e,{type:a.a.RTE_MORE_MENU_SHOWN})}function _(e){return babelHelpers.extends({},e,{type:a.a.HANDLE_RTE_TOOLBAR_ACTIONS})}function u(e){return babelHelpers.extends({},e,{type:a.a.QUOTED_TEXT_EXPANDED})}function p(e){return babelHelpers.extends({},e,{type:a.a.CONTACT_ADDED})}function m(e){return babelHelpers.extends({},e,{type:a.a.CONTACT_DRAG_DROP})}function h(e){return babelHelpers.extends({},e,{type:a.a.UPLOAD_PROGRESS_RECEIVED})}},,function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o});var a=s(1);const n=e=>{let{itemsToUpdate:t}=e,s=babelHelpers.objectWithoutProperties(e,["itemsToUpdate"]);return babelHelpers.extends({itemsToUpdate:t.map(e=>{let{destinationFolder:t,folder:s}=e,a=babelHelpers.objectWithoutProperties(e,["destinationFolder","folder"]);return babelHelpers.extends({},a,{folder:t,destinationFolder:s})})},s,{type:a.a.UNDO_MOVE_REQUESTED})},r=e=>babelHelpers.extends({},e,{type:a.a.UNDO_MOVE_SUCCEEDED}),o=e=>babelHelpers.extends({},e,{type:a.a.UNDO_MOVE_FAILED})},,,function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["HORIZONTAL","VERTICAL","GRID"])},function(e,t,s){"use strict";function a(e,t){for(let s=e.length;s;s--)if(t(e[s-1]))return s-1;return-1}function n(e,t=0){const s=Array(e);for(;e--;)s[e]=e+t;return s}function r(e,...t){return e.concat(t)}function o(e,t,s=1){return-1===t?e:e.slice(0,t).concat(e.slice(t+s))}s.d(t,"b",function(){return a}),s.d(t,"d",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"c",function(){return i});const i=e=>Array.prototype.concat.apply([],e)},function(e,t,s){"use strict";s.d(t,"e",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"c",function(){return d}),s.d(t,"g",function(){return E}),s.d(t,"h",function(){return _});var a=s(1),n=s(9);function r(e){const{getCurrentListId:t}=Object(n.b)(e.store.getState());e.dispatch(a.a.LAUNCH_COMPLETED,{listId:t()})}function o(e,{isVisible:t}){const s=e.heartbeatAPIClient.emergencyRefresh,{getFeaturesSelectors:r,isAppVisible:o,getApplicationLastVisibleTimeStamp:i}=Object(n.b)(e.store.getState()),c=r(),l=c.getSetting("appRefreshIdleInterval"),d=c.isEnabled("heartbeatRefresh");t!==o()&&e.dispatch(a.a.APPLICATION_VISIBILITY_DID_CHANGE,{isVisible:t,emergencyRefresh:s,appRefreshIdleInterval:l,heartbeatRefresh:d,applicationLastVisibleTimeStamp:i()})}function i(e,{i13nModel:t}){e.dispatch(a.a.HEADER_NAVIGATION_SELECTED,{i13nModel:t})}function c(e){e.dispatch(a.a.SETTINGS_MENU_CLOSED)}function l(e,{i13nModel:t}){e.dispatch(a.a.ACCOUNT_MENU_SHOWN,{i13nModel:t})}function d(e,{i13nModel:t}){e.dispatch(a.a.USER_LOGGED_OUT,{i13nModel:t})}function E(e,{i13nModel:t}){e.dispatch(a.a.OPEN_TABS_MENU,{i13nModel:t})}function _(e,t){e.dispatch(a.a.SYNC_DATA,t)}},function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return E});var a=s(1),n=s(0);const r=e=>"click"===e.userAction?babelHelpers.extends({type:a.a.FEATURE_TRY_NOW_REQUESTED,fromFeature:e.name},e):babelHelpers.extends({type:a.a.FEATURE_CLOSED},e),o=e=>babelHelpers.extends({type:a.a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED},e),i=e=>babelHelpers.extends({type:a.a.FEATURE_CUE_NOTIFICATION_CLOSED},e),c=e=>"click"===e.userAction?babelHelpers.extends({type:a.a.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED,name:n.id.SCOUT_ONBOARDING},e):babelHelpers.extends({type:a.a.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED,name:n.id.SCOUT_ONBOARDING},e),l=({userAction:e,error:t})=>"click"===e?{type:a.a.FEATURE_CUE_MARK_AS_SUCCESS_FAILED,error:t}:{type:a.a.FEATURE_CUE_MARK_AS_CLOSE_FAILED,error:t},d=e=>babelHelpers.extends({type:a.a.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,name:n.id.SCOUT_ONBOARDING},e),E=e=>({type:a.a.FEATURE_CUE_MARK_AS_SHOWN_FAILED,error:e})},function(e,t,s){"use strict";s.d(t,"b",function(){return E}),s.d(t,"a",function(){return _});var a=s(2),n=s.n(a),r=s(4),o=s(130),i=s(19);const c={};let l=0;function d(e,t,s){const a={};if(Object.keys(s).forEach(e=>{a[e]=++l}),!0===e)return a;let i=c[t.id];return i||(c[t.id]=i={group:t,keys:[]}),Object.keys(s).forEach(e=>{const{key:t,description:c}=s[e],l=function(e,t){for(let s=0;s<e.length;s++){const a=e[s],o=a.description;if(o===t)return a;if(!(n.a.isValidElement(o)&&o.type!==r.c||n.a.isValidElement(t)&&t.type!==r.c)&&(n.a.isValidElement(o)?o.props.id:o.id)===(n.a.isValidElement(t)?t.props.id:t.id))return a}}(i.keys,c);if(l)l.key.indexOf(t)<0&&(l.key+=o.b+t);else{const s={id:a[e],key:t,description:c};-1===i.keys.indexOf(s)&&i.keys.push(s)}}),a}function E({invisible:e,group:t,keys:s}){return function(e,t,s){Object(i.a)(e||"object"==typeof t&&"string"==typeof t.description.id,`The 'group' has to be an object returned by React Intl's defineMessages. Currently we got ${t}`),Object.keys(s).forEach(t=>{const a=s[t];Object(i.a)(e||n.a.isValidElement(a.description)||"object"==typeof a.description&&"string"==typeof a.description.id,`The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is ${t}`)})}(e,t,s),function(e,t){const s={};return Object.keys(e).forEach(a=>{const{key:n}=e[a],r=t[a];s[a]=(e=>({id:r,key:n,callback:e}))}),s}(s,d(e,t,s))}function _(){return c}},function(e,t,s){"use strict";s.d(t,"g",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return E}),s.d(t,"h",function(){return _}),s.d(t,"j",function(){return u}),s.d(t,"i",function(){return p});var a=s(1),n=s(9);const r=e=>babelHelpers.extends({type:a.a.PREVIEW_MESSAGE_REQUESTED},e);function o(e){return babelHelpers.extends({type:a.a.MESSAGE_BODIES_RECEIVED},e)}function i(e){return babelHelpers.extends({type:a.a.MESSAGE_BODIES_FAILED},e)}function c(e){return babelHelpers.extends({type:a.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED},e)}function l(e){return babelHelpers.extends({type:a.a.MESSAGE_GROUP_WITH_BODIES_FAILED},e)}const d=e=>t=>{const{itemsToUpdate:s}=e,n=s.length?s[s.length-1]:void 0;return t(babelHelpers.extends({},e,{streamItem:{listId:n.listId,id:n.messageId},type:a.a.MESSAGE_CARD_EXPANSION_CHANGED}))},E=e=>(t,s)=>{const{listId:r,messageGroupId:o,expansionState:i}=e,c={id:o,listId:r},{getMessageGroupStreamItems:l}=Object(n.b)(s());return t({itemsToUpdate:l(c).map(e=>babelHelpers.extends({},e,{expansionState:i})),type:a.a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED})},_=e=>babelHelpers.extends({type:a.a.MESSAGE_PRINT_CANCELED},e),u=e=>babelHelpers.extends({type:a.a.MESSAGE_PRINT_SUCCEEDED},e),p=e=>babelHelpers.extends({type:a.a.MESSAGE_PRINT_CLOSED},e)},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(16),o=s(30);class i extends n.a.Component{render(){const e=this.props,{hasText:t,isActive:s,children:a}=e,i=babelHelpers.objectWithoutProperties(e,["hasText","isActive","children"]);return n.a.createElement(r.a,babelHelpers.extends({},i,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:t?o.a.CHROMELESS:s?o.a.ICON_HIGHLIGHTED:o.a.ICON}),a)}}i.defaultProps={hasText:!1,isActive:!1},t.a=i},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i});var a=s(1),n=s(27);const r=e=>babelHelpers.extends({type:a.a.LAUNCH_PAGE_REQUESTED},e),o=e=>{let{initialMailboxAttributes:t={},mailboxAttributes:s={}}=e,r=babelHelpers.objectWithoutProperties(e,["initialMailboxAttributes","mailboxAttributes"]);const o=Object(n.k)(r.mailboxes,r.bizEmail),{responses:i={},success:c}=s,l={responses:Object.assign(i,t),success:c};return babelHelpers.extends({type:a.a.INITIAL_STATE,mailboxAttributes:l,selectedMailbox:o},r)},i=({error:e})=>({type:a.a.LAUNCH_ERROR,error:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"w",function(){return E}),s.d(t,"a",function(){return _}),s.d(t,"u",function(){return u}),s.d(t,"b",function(){return p}),s.d(t,"v",function(){return m}),s.d(t,"h",function(){return h}),s.d(t,"g",function(){return S}),s.d(t,"f",function(){return g}),s.d(t,"e",function(){return I}),s.d(t,"l",function(){return C}),s.d(t,"m",function(){return T}),s.d(t,"k",function(){return A}),s.d(t,"t",function(){return O}),s.d(t,"s",function(){return b}),s.d(t,"q",function(){return R}),s.d(t,"r",function(){return D}),s.d(t,"o",function(){return f}),s.d(t,"p",function(){return N}),s.d(t,"n",function(){return M}),s.d(t,"j",function(){return L}),s.d(t,"d",function(){return y}),s.d(t,"i",function(){return P}),s.d(t,"x",function(){return v});var a=s(0),n=s(1),r=s(7),o=s(9);const i=(e=!0)=>t=>{let{cardMid:s,schemaId:i}=t,c=babelHelpers.objectWithoutProperties(t,["cardMid","schemaId"]);return(t,l)=>{const{getSelectedAccountId:d,getMessagesSelectors:E,getCouponsSelectors:_}=Object(o.b)(l()),{getParentMessageIdForCardConversationId:u}=E(),{getCardConversationId:p}=_(),m=u(p(i)),h=d(),S=Object(r.Q)("{}",{listContentType:a.Db.COUPON_CARDS,listFilter:e?a.Eb.SAVED_COUPON_CARDS:a.Eb.ALL_COUPON_CARDS,accountIds:[h],referrer:a.Fb[a.td.COUPONS]});t(babelHelpers.extends({type:e?n.a.COUPONS_ADD_TAG_DECO_REQUESTED:n.a.COUPONS_REMOVE_TAG_DECO_REQUESTED,listId:S,streamId:S,messageDecosPayloads:[{messageId:s}],parentMessageId:m,messageId:s,schemaCard:{id:i,type:a.Zc.Coupon,clipped:e},accountId:h},c))}},c=e=>t=>babelHelpers.extends({type:e},t),l=e=>t=>({type:e,error:t}),d=(e={})=>c(n.a.COUPONS_ADD_TAG_DECO_SUCCEEDED)(e),E=(e={})=>c(n.a.COUPONS_REMOVE_TAG_DECO_SUCCEEDED)(e),_=e=>l(n.a.COUPONS_ADD_TAG_DECO_FAILED)(e),u=e=>l(n.a.COUPONS_REMOVE_TAG_DECO_FAILED)(e),p=(e={})=>i(!0)(e),m=(e={})=>i(!1)(e),h=()=>({type:n.a.VIGLINK_CLICKED}),S=()=>({type:n.a.COUPON_RECOMMENDATIONS_OPENED}),g=(e="")=>({type:n.a.COUPON_RECOMMENDATIONS_CLOSED,listId:Object(r.e)({referrer:a.Fb.COUPON_RECOMMENDATIONS,keyword:e})}),I=()=>({type:n.a.COUPON_RECOMMENDATIONS_AD_CLICKED}),C=(e={})=>babelHelpers.extends({type:n.a.EXTRACT_COUPON_REQUESTED},e),T=(e={})=>c(n.a.EXTRACT_COUPON_SUCCEEDED)(e),A=e=>l(n.a.EXTRACT_COUPON_FAILED)(e),O=()=>({type:n.a.SELF_EXTRACT_COUPON_MODAL_OPENED}),b=()=>({type:n.a.SELF_EXTRACT_COUPON_MODAL_CLOSED}),R=({i13nModel:e})=>({type:n.a.RELATED_COUPONS_TOGGLED,i13nModel:e}),D=({i13nModel:e})=>({type:n.a.SEARCH_RIGHT_RAIL_COUPONS_TOGGLED,i13nModel:e}),f=e=>({type:n.a.PARENT_MESSAGE_METADATA_REQUESTED,cardConversationId:e}),N=e=>babelHelpers.extends({},e,{type:n.a.PARENT_MESSAGE_METADATA_SUCCEEDED}),M=e=>({error:e,type:n.a.PARENT_MESSAGE_METADATA_FAILED}),L=({i13nModel:e})=>({type:n.a.COUPONS_SEARCH_TOP_DEAL_CLICKED,i13nModel:e}),y=e=>({type:n.a.COUPON_CLICKED_FROM_PENCIL,i13nModel:e}),P=e=>({type:n.a.COUPON_RENDERED_ON_PENCIL,i13nModel:e}),v=e=>({type:n.a.YAHOO_DEAL_CARD_CLICKED,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"s",function(){return l}),s.d(t,"l",function(){return d}),s.d(t,"b",function(){return E}),s.d(t,"r",function(){return _}),s.d(t,"o",function(){return u}),s.d(t,"q",function(){return p}),s.d(t,"p",function(){return m}),s.d(t,"a",function(){return h}),s.d(t,"n",function(){return S}),s.d(t,"c",function(){return g}),s.d(t,"k",function(){return I}),s.d(t,"m",function(){return C}),s.d(t,"e",function(){return T}),s.d(t,"f",function(){return A}),s.d(t,"d",function(){return O}),s.d(t,"h",function(){return b}),s.d(t,"g",function(){return R}),s.d(t,"j",function(){return D}),s.d(t,"i",function(){return f});var a=s(0),n=s(1),r=s(7),o=s(17),i=s(5),c=s(43);const l=e=>babelHelpers.extends({},e,{type:n.a.RIGHT_RAIL_COMMS_ICON_CLICKED,name:a.Nc.CONTACTS_PANE}),d=e=>babelHelpers.extends({},e,{name:a.Nc.CONTACTS_PANE}),E=e=>{let{listFilter:t}=e,s=babelHelpers.objectWithoutProperties(e,["listFilter"]);return babelHelpers.extends({},s,{listFilter:t,type:n.a.CONTACTS_PANE_LIST_FILTER_CHANGED})},_=e=>babelHelpers.extends({},e,{type:n.a.CATEGORY_LIST_EXPANSION_TOGGLED}),u=e=>babelHelpers.extends({},e,{type:n.a.CONTACTS_PANE_CONTACT_CLICKED}),p=e=>babelHelpers.extends({},e,{type:n.a.CONTACTS_PANE_BACK_BUTTON_CLICKED}),m=e=>babelHelpers.extends({},e,{type:n.a.CONTACTS_PANE_EDIT_BUTTON_CLICKED}),h=e=>babelHelpers.extends({},e,{type:n.a.CONTACT_EDIT_CANCELLED}),S=e=>{let{keyword:t}=e,s=babelHelpers.objectWithoutProperties(e,["keyword"]);return babelHelpers.extends({},s,{keyword:t,listId:Object(r.j)(t),type:n.a.CONTACTS_PANE_SEARCHED})},g=e=>babelHelpers.extends({},e,{type:n.a.CONTACT_SEARCH_CLOSED}),I=e=>babelHelpers.extends({type:n.a.CONTACT_CREATE_CLICKED},e),C=(e={})=>{const{smtp:t,name:s,sectionValue:a}=e;return Object(c.i)({route:Object(o.r)({emailAddresses:t,name:s||t}),i13nModel:{interactionType:i.d.click,mKey:i.e.CONTACT_SEARCH,sec:a||i.g.RIGHT_RAIL,mKeyGroup:i.f.search}})},T=e=>babelHelpers.extends({type:n.a.CONTACT_SAVE_REQUESTED},e),A=e=>babelHelpers.extends({type:n.a.CONTACT_SAVE_SUCCEEDED},e),O=e=>babelHelpers.extends({type:n.a.CONTACT_SAVE_FAILED},e),b=e=>babelHelpers.extends({type:n.a.CONTACT_PHOTO_UPLOAD_SUCCEEDED},e),R=e=>babelHelpers.extends({type:n.a.CONTACT_PHOTO_UPLOAD_FAILED},e),D=e=>babelHelpers.extends({type:n.a.CREATE_CONTACT_SUCCEEDED},e),f=e=>babelHelpers.extends({type:n.a.CREATE_CONTACT_FAILED},e)},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var a=s(4);const n=Object(a.h)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),r={priority:0,id:"general",description:n.general},o={priority:1,id:"selection",description:n.selection},i={priority:2,id:"action",description:n.action},c={priority:3,id:"attachmentPreview",description:n.attachmentPreview}},function(e,t,s){"use strict";s.d(t,"a",function(){return _}),s.d(t,"b",function(){return u});var a=s(24),n=s(8),r=s(19),o=s(0),i=s(34),c=s(69);const l=Object(n.c)([o.p.BootcampClient,o.p.MailAPIClient,o.p.UDBClient]),d=Object(n.c)([o.p.CredstoreClient,o.p.LinkEnhancerClient,o.p.XobniClient]);function E(e,t,s){const{apiName:n,statusCode:r,errorCode:i,alertTAE:c=!0}=s;return!1===c?100:function({apiName:e,isOnline:t,alertTAE:s=!0},n,r){if(!1===s)return!1;if(!Object(a.b)())return!0;if(!t)return!1;if(["CRUMB","AUTH","EC-4008","EC-4012","EC-4023"].includes(n))return!1;if(["REQUEST_BLOCKED","DEBOUNCED","ES-2001"].includes(n))return!1;if(d[r])return!1;switch(e){case"checkMail":case"messages.autosave":case"messages.autoSaveV3":case"messages.prefetchGetBodies":case"messages.prefetchGetBodiesFull":case"messages.prefetchGetExtractedBodies":case"messages.prefetchGetExtractedBodiesFull":case"getContentProviders":case"searchSuggestions":return!1}return!0}(s,i,e)?function(e,t){return 429===e||"EC-4017"===t||"EC-4018"===t}(r,i)?19:n&&function(e){return 0===e.indexOf("launch.")}(n)?15:function(e,t="",s){return!([400,500].indexOf(s)>-1)&&(0===e.indexOf("HttpTransport.")&&!t||["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENOTFOUND","OUTBOUND","REQUEST_QUEUE_TIMEOUT","REQUEST_QUEUE_REJECTED","YCPI"].indexOf(t)>-1)}(t.name,i,r)?18:function(e){return e===o.p.UDBClient}(e)?1:function(e,t){return e===o.p.BootcampClient||["search_list.get","search_list.update"].indexOf(t)>-1}(e,n)?20:function(e){return["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList","message_view.get","message_view.update"].indexOf(e)>-1}(n)?4:function(e){return["messages.saveV3","messages.saveWithAttachment","messages.saveAndSend","messages.saveAndSendWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send","compose.new","compose.reply","compose.save","compose.send"].indexOf(e)>-1}(n)?13:function(e){return"document.fetch"===e}(n)?22:function(e){let t;switch(e){case"ET-5003":t=1;break;case"ET-5004":t=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":t=2;break;default:t=14}return t}(i):100}function _(e,t,s,n){Object(r.a)(s.apiName,"logData.apiName must be present");const o={},{statusCode:i=null,errorCode:_=null}=n;if(null!==i&&(o.statusCode=i),null!==_&&(o.errorCode=_),l[t]||d[t]){const{extraStatusCode:e=null,extraErrorCode:r=null}=n;e&&(o.extraStatusCode=e),r&&(o.extraErrorCode=r);const l=E(t,n,Object.assign({},s,o));o.tae=l,function(e,t,s){if(Object(a.b)()){const a=t||s||"",n=c.b.getRapidInstance();n&&n.beaconEvent(0,{etrg:"error",taeCode:e,errCode:a},"norrin_tae")}}(l,_,i)}e.feature(t,Object.assign({},s,o)).logFailure(n)}function u({logger:e,apiName:t,message:s,loggerName:a=o.p.MailAPIClient,statusCode:n=0,errorCode:r="",extraStatusCode:c="",extraErrorCode:l="",ymreqid:d=""}){const E={apiName:t,alertTAE:!1,statusCode:n,errorCode:r,extraStatusCode:c,extraErrorCode:l,ymreqid:d};_(e,a,E,i.a.jsonToError({name:t,message:s,data:E,statusCode:n,errorCode:r,extraStatusCode:c,extraErrorCode:l}))}},,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(13),o=s(9),i=s(26),c=s.n(i),l=s(190),d=s(121),E=(s(100),s(8),s(62)),_=s(86),u=s(11),p=s.n(u),m=s(521),h=s.n(m);const S=()=>{},g=["click","focus","resize"],I=["resize"];class C extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={show:!1,dimensionStyles:{}},this.handleHide=(e=>{const t=c.a.findDOMNode(this.refs.menu),s=c.a.findDOMNode(this.props.actionNode);!t||e.target instanceof Node&&(t.contains(e.target)||s.contains(e.target))||(this.setState({show:!1}),this.props.onHideMenu())}),this.handleEscape=(()=>{this.setState({show:!1}),this.props.onHideMenu(),c.a.findDOMNode(this.props.actionNode).focus()}),this.handleKeyDown=(e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),this.handleEscape();break;default:return void e.stopPropagation()}}),t}componentDidMount(){this.refs.menu&&(this.setState({show:!0,dimensionStyles:Object(l.a)(c.a.findDOMNode(this.props.actionNode),c.a.findDOMNode(this.refs.menu),this.props.isRTL)},function(){c.a.findDOMNode(this.refs.navigableList).focus()}),(this.props.persistOnClick?I:g).forEach(e=>{window.addEventListener(e,this.handleHide,!1)}))}componentWillUnmount(){g.forEach(e=>{window.removeEventListener(e,this.handleHide,!1)})}render(){if(!this.props.children)return null;const e=p()(h.a),t=Object.assign({position:"absolute",visibility:this.state.show?"visible":"hidden"},this.state.dimensionStyles);return n.a.createElement(d.a,null,n.a.createElement("div",{onKeyDown:this.handleKeyDown,className:e.menu,onClick:this.props.persistOnClick?this.props.focusBackEditor:this.handleEscape,ref:"menu",style:t,"data-test-id":"menu"},n.a.createElement(E.a,babelHelpers.extends({ref:"navigableList",kind:_.a.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}}C.defaultProps={onHide:S,persistOnClick:!1,focusBackEditor:S};t.a=Object(r.b)(e=>{const{getEnvironmentSelectors:t}=Object(o.b)(e);return{isRTL:"rtl"===t().getPageDirection()}})(C)},function(e,t,s){"use strict";s.d(t,"g",function(){return n}),s.d(t,"d",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"e",function(){return d});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED},e),r=e=>babelHelpers.extends({type:a.a.IMPORTANT_CONTACTS_FETCH_FAILED},e),o=e=>babelHelpers.extends({type:a.a.CONTACT_DETAIL_FETCH_REQUESTED},e),i=e=>babelHelpers.extends({type:a.a.CONTACT_DETAIL_FETCH_SUCCEEDED},e),c=e=>babelHelpers.extends({type:a.a.CONTACT_DETAIL_FETCH_FAILED},e),l=e=>babelHelpers.extends({type:a.a.CONTACTS_LIST_FETCH_SUCCEEDED},e),d=e=>babelHelpers.extends({type:a.a.CONTACTS_LIST_FETCH_FAILED},e)},function(e,t,s){"use strict";s.d(t,"b",function(){return u}),s.d(t,"a",function(){return p}),s.d(t,"i",function(){return m}),s.d(t,"f",function(){return h}),s.d(t,"h",function(){return g}),s.d(t,"c",function(){return I}),s.d(t,"g",function(){return C}),s.d(t,"e",function(){return O}),s.d(t,"d",function(){return b});var a=s(324);const n=e=>{const t=[],s={};return e.forEach(({ep:e,type:a})=>{const n=(e=>e.match(/^smtp:(\S+)/)[1])(e);t.push(n),s[n]=a||"Email"}),{emails:t,emailType:s}},r=/^(?:https?|ftp):(?:\/\/)?/i,o={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},i=babelHelpers.extends({NAME:"name",POSITION:"position",COMPANY:"company"},o,{WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes"}),c=e=>e?!(e=e.trim())||r.test(e)?e:`http://${e}`:e,l=e=>"ke"===e||"user"===e,d=e=>e+"_url";function E({ep:e,xobniId:t=""}){return{xobniId:t,emails:[e].filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]),name:"",phonesWithType:[],id:""}}const _=e=>{const{name:t={},role:s={},attributes:a=[],endpoints:r=[],is_known_entity:E,edit_token:_}=e||{};return babelHelpers.extends({name:t.name||"",position:s.position,company:s.company,editToken:_,isBusiness:E},(e=>({phonesWithType:e.filter(({ep:e})=>/^tel:(\+|)\d+/.test(e)).map(({ep:e,type:t,display:s})=>({number:s||e.match(/^tel:(\S+)/)[1],type:t||"Phone"}))}))(r),n((e=>e.filter(({ep:e})=>/^smtp:(\S+)/.test(e)))(r)),(({attributes:e=[]})=>{const t={};return Object.keys(o).forEach(s=>{s=o[s];const a=e.find(({source:e,key:t})=>"link"===t&&e===s||l(e)&&t===d(s))||{},n=c(a.value);t[s]=n}),t.backyard=(e.find(({key:e,source:t})=>"user_id"===e&&"corpdir"===t)||{}).value,t})({attributes:a}),((e=[])=>{return{website:c((e.find(({key:e,source:t})=>e===i.WEBSITE&&l(t))||{}).value)}})(a),(e=>({[i.NOTES]:(e.find(({key:e})=>e===i.NOTES)||{}).value,[i.BIRTHDAY]:(e.find(({key:e})=>e===i.BIRTHDAY)||{}).value,[i.ANNIVERSARY]:(e.find(({key:e})=>e===i.ANNIVERSARY)||{}).value}))(a),(e=>{const t=[];return e.filter(({ep:e})=>/^adr:/.test(e)).forEach(({ep:e,type:s,display:a})=>{const n=a||e.replace("adr:","").split(";").filter(e=>e).join(",");n&&t.push({value:n,type:s||"Address"})}),{addressesWithType:t}})(r))};function u({ep:e,contacts_info:t,contacts_by_ep:s,relationshipHistory:a}){if(!s||!s[e])return E({ep:e});const[n]=s[e];if(!t||!t[n])return E({ep:e,xobniId:n});const r=_(t[n]);return babelHelpers.extends({xobniId:n,id:r.emails[0],relationshipHistory:a},r)}function p(e){const{id:t}=e||{},s=_(e);return babelHelpers.extends({id:t},s)}function m({results:e={}},t){return Object.keys(t).reduce((s,a)=>{const n=t[a],r=e[n];return r&&(s[a]={spid:n,connected:!r.is_expired,connectedTimestamp:r.issued_ts}),s},{})}function h(e){const t=e.filter(({emails:e})=>void 0!==e),s=function(e){const t={[a.a]:{categoryName:"All Contacts",contactIds:[]}};return e.forEach(({categories:e})=>{Array.isArray(e)&&e.forEach(e=>{!t.hasOwnProperty(e.id.toString())&&e.name&&(t[e.id]={categoryName:e.name,contactIds:[]})})}),t}(t),n={};return t.forEach(e=>{const{categories:t,emails:r,name:o}=e,i=[a.a];Array.isArray(t)&&t.forEach(e=>{const t=e.id.toString();s.hasOwnProperty(t)&&i.push(t)});const c=r.map(e=>e.ep);r.forEach(({ep:e})=>{n[e]={id:e,categories:i,emails:c,name:S(o)},i.forEach(t=>s[t].contactIds.push(e))})}),{contacts:n,categoryIdToGroupNameAndContacts:s}}function S(e={}){const{givenName:t,familyName:s}=e;return`${t||""} ${s||""}`.trim()}function g(e){return[{category:"top",remainingCount:0,contacts:(e["contacts-with-ranks"]||[]).map(({endpoints:e=[],name:t={},id:s})=>babelHelpers.extends({id:s},n(e),{name:t.name,isBusiness:!1}))}]}function I({response:e}){return(e.contact_rank_list||[]).map(({category:e,remaining_count:t,contacts:s=[]})=>({category:e.toUpperCase(),remainingCount:t,contacts:s.map(({endpoints:e=[],id:t,name:s})=>babelHelpers.extends({id:t},n(e),{name:s}))}))}function C(e){return[{category:"search",remainingCount:0,contacts:e.map(({i:e,n:t,e:s,a_e:a})=>({id:e,name:t,emails:[s].concat(a)}))}]}function T(e,t,s){const{emails:a,emailType:n,phonesWithType:r}=e,{emailType:o,phonesWithType:i}=t,c=[],l={};return a.map(e=>{o&&o[e]&&o[e]===n[e]||c.push({ep:"smtp:"+e,type:n[e]})}),r&&r.map(e=>{i&&i.find(t=>t.number===e.number&&t.type===e.type)||c.push({ep:"tel:"+e.number,type:e.type||""})}),c.length?(l[s]=c)&&l:{}}function A(e,t){const s={},a=!t;return Object.keys(i).forEach(n=>{let r=n=i[n];switch(e[n]=e[n]||"",n){case i.FACEBOOK:case i.TWITTER:e[n]=c(e[n]),r=d(n);break;case i.WEBSITE:e[n]=c(e[n])}a?e[n]&&(s[r]=e[n]):(t[n]=t[n]||"",t[n]!==e[n]&&(s[r]=e[n]))}),s}function O(e,t){const s=A(t,e);return{source:t.editToken,changes:babelHelpers.extends({},s,T(e,t,"removed_endpoints"),T(t,e,"added_endpoints"))}}function b({contact:e,file:t}){const s=A(e);return t&&(s.image=t),{source_contacts:[babelHelpers.extends({},s,T(e,{},"endpoints"))]}}},,,,function(e,t,s){"use strict";s.d(t,"h",function(){return n}),s.d(t,"g",function(){return r}),s.d(t,"i",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return E}),s.d(t,"c",function(){return _});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.DELETE_CONTACT_SUGGESTIONS_REQUESTED},e),r=e=>babelHelpers.extends({type:a.a.DELETE_CONTACT_SUGGESTIONS_FAILED},e),o=e=>babelHelpers.extends({type:a.a.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED},e),i=e=>babelHelpers.extends({type:a.a.CONTACT_SUGGESTIONS_REQUESTED},e),c=e=>babelHelpers.extends({type:a.a.CONTACT_SUGGESTIONS_SUCCEEDED},e),l=e=>babelHelpers.extends({type:a.a.CONTACT_SUGGESTIONS_FAILED},e),d=e=>babelHelpers.extends({type:a.a.XOBNIFIED_RESPONDED},e),E=e=>babelHelpers.extends({type:a.a.XOBNIFIED_FAILED},e),_=e=>babelHelpers.extends({type:a.a.AUTOTAG_DROPDOWN_CLOSED},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"i",function(){return c}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"j",function(){return E}),s.d(t,"e",function(){return _}),s.d(t,"f",function(){return u});var a=s(1);function n(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_FETCH_REQUESTED},e)}function r(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_FETCH_SUCCEEDED},e)}function o(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_FETCH_FAILED},e)}function i(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_ADD_LINK},e)}function c(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_RESIZE_LINK},e)}function l(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_REMOVE_LINK},e)}function d(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_OPEN_LINK},e)}function E(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_SHARE_LINK},e)}function _(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_MOVE_LINK_BOTTOM},e)}function u(e){return babelHelpers.extends({type:a.a.LINK_ENHANCER_MOVE_LINK_INLINE},e)}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(26),o=s.n(r),i=s(24);class c extends n.a.Component{constructor(...e){var t;return t=super(...e),this.onEventHandler=(e=>{e.stopPropagation()}),t}render(){if(!Object(i.b)())return null;const{position:e,left:t,top:s,visibility:a,styles:r}=this.props;let c=Object.assign({position:e,left:t,top:s,visibility:a},r);return e&&t&&s&&a||(c=null),this.rootNode&&document.body.contains(this.rootNode)||(this.rootNode=document.getElementById(this.props.rootId)),o.a.createPortal(n.a.createElement("div",{style:c,onClick:this.onEventHandler,onKeyUp:this.onEventHandler,onKeyPress:this.onEventHandler,onMouseOver:this.onEventHandler,onMouseUp:this.onEventHandler,onBlur:this.onEventHandler},this.props.children),this.rootNode)}}c.defaultProps={rootId:"app"},t.a=c},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(26),o=s.n(r),i=(s(91),s(106),s(113),s(11)),c=s.n(i),l=s(522),d=s.n(l);const E=()=>{};class _ extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={isMenuVisible:!1},this.toggleMenu=(()=>{this.state.isMenuVisible?this.hideMenu():this.showMenu()}),this.showMenu=(()=>{this.setState({isMenuVisible:!0}),this.props.onMenuShow()}),this.hideMenu=(()=>{this.setState({isMenuVisible:!1}),this.props.onMenuHide()}),this.handleMenuButtonKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),this.toggleMenu();break;case"Escape":e.preventDefault(),this.hideMenu(),this.blurMenuButton()}}),this.blurMenuButton=(()=>{o.a.findDOMNode(this.refs.button).blur()}),t}componentDidUpdate(e,t){this.props.afterMenuHide&&!this.state.isMenuVisible&&t.isMenuVisible&&this.props.afterMenuHide()}componentDidMount(){this.props.parentMenu&&this.setState({isMenuVisible:!0})}render(){const e=this.props,{onFocus:t,onBlur:s,children:a,showMenuActiveState:r,parentMenu:o}=e,i=babelHelpers.objectWithoutProperties(e,["onFocus","onBlur","onMenuShow","onMenuHide","afterMenuHide","children","showMenuActiveState","parentMenu"]),[l,E]=n.a.Children.toArray(a),{isMenuVisible:_}=this.state,u=c()(d.a,{active:_&&r});let p=null;l&&(p=n.a.cloneElement(l,{ref:"button","aria-expanded":_,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:t,onBlur:s,isActive:_}));let m=null;return o&&E?m=n.a.cloneElement(E,{ref:"submenu",actionNode:o.refs.button,onHideMenu:this.hideMenu}):_&&E&&(m=n.a.cloneElement(E,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),n.a.createElement("div",babelHelpers.extends({},i,{className:u.buttonContainer}),p,m)}}_.defaultProps={onMenuShow:E,onMenuHide:E,onFocus:E,onBlur:E,showMenuActiveState:!1},t.a=_},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});var a=s(0);const n={REG:"reg",MAIL_ADFREE:"mail_adfree",YM_MAIL_CONV:"ym_mail_conv",YM_MAIL_THM:"ym_mail_thm",YM_TZ:"ym_tz",YM_LAST_OBSERVED_TZ:"ym_last_observed_tz",YM_MAIL_TABS:"ym_mail_tabs",YM_MAIL3:"ym_mail3",YM_MAIL_SCOUT:"ym_mail_scout",YM_FE_CURRENT:"ym_fe_current",YM_FE_PREVIOUS:"ym_fe_previous",YM_FE_HISTORY:"ym_fe_history",YM_FE_MIGRATION:"ym_fe_migration",YM_MAIL_SSA_ALERT:"ym_mail_ssa_alert",YM_MAIL_COMPROMISE:"ym_mail_compromise",YM_MAIL_SH:"ym_mail_sh",YM_MAIL_ONBOARD:"ym_mail_onboard"},r={[n.YM_FE_CURRENT]:a.Vb,[n.YM_MAIL_CONV]:{ON:"1",OFF:"-1"},[n.YM_MAIL_TABS]:{OFF:"0",ON:"1"}}},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});var a=s(19);function n(e){if("undefined"!=typeof Storage&&"string"==typeof e)try{return localStorage.getItem(e)}catch(e){}}function r(e,t){if("undefined"!=typeof Storage){Object(a.a)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(e){}}}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(175);const i=Object(r.h)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}});class c extends n.a.Component{render(){const{title:e,onConfirm:t,onAbort:s,hideIcon:a,customTitle:r,showCustomTitle:i,acceptLabel:c,cancelLabel:l,message:d,onOuterClick:E,wideContainer:_=!1}=this.props;return n.a.createElement(o.a,{primaryButtonLabel:c,secondaryButtonLabel:l,hideIcon:a,title:e,customTitle:r,showCustomTitle:i,message:d,onPrimaryButtonClick:t,onSecondaryButtonClick:s,onClose:s,onOuterClick:E,wideContainer:_},this.props.children)}}c.contextTypes={intl:r.i.isRequired},c.defaultProps={acceptLabel:i.defaultAcceptLabel,cancelLabel:i.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1},t.a=c},,,function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});var a=s(8);const n=Object(a.c)(["EMPTY_FOLDER","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"]),r=138},,function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return l});var a=s(2),n=s.n(a),r=s(4);const o=",",i="+",c={reply:{key:"R",description:n.a.createElement("strong",null,n.a.createElement(r.c,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:n.a.createElement("strong",null,n.a.createElement(r.c,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:n.a.createElement("strong",null,n.a.createElement(r.c,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:n.a.createElement("strong",null,n.a.createElement(r.c,{id:"shortcut.print",defaultMessage:"Print"}))}},l=["r","a","f","p"]},,,function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c});var a=s(1),n=s(9);const r=e=>babelHelpers.extends({},e,{isRead:!1,type:a.a.READ_CHANGE_REQUESTED}),o=e=>babelHelpers.extends({},e,{isRead:!0,type:a.a.READ_CHANGE_REQUESTED}),i=e=>babelHelpers.extends({},e,{type:a.a.READ_CHANGE_SUCCEEDED}),c=e=>babelHelpers.extends({},e,{type:a.a.READ_CHANGE_FAILED});t.a=(e=>(t,s)=>{const{streamItem:r}=e,{getMessageGroupsSelectors:o,getMessageFlags:i}=Object(n.b)(s()),c=o().getMessageIdsFromMessageGroupId(r.id).every(e=>i(e).read);return t(babelHelpers.extends({type:a.a.READ_CHANGE_REQUESTED},e,{isRead:c}))})},function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return l});var a=s(1),n=s(9),r=s(5);const o=e=>babelHelpers.extends({},e,{isStarred:!1,type:a.a.STAR_CHANGE_REQUESTED}),i=e=>babelHelpers.extends({},e,{isStarred:!0,type:a.a.STAR_CHANGE_REQUESTED}),c=e=>babelHelpers.extends({},e,{type:a.a.STAR_CHANGE_SUCCEEDED}),l=e=>babelHelpers.extends({},e,{type:a.a.STAR_CHANGE_FAILED});t.a=(e=>(t,s)=>{const{streamItem:o,i13nModel:i}=e,c=babelHelpers.objectWithoutProperties(e,["streamItem","i13nModel"]),{getMessageGroupsSelectors:l,getMessageFlags:d}=Object(n.b)(s()),E=l().getMessageIdsFromMessageGroupId(o.id).some(e=>d(e).flagged);return t(babelHelpers.extends({},c,{streamItem:o},i&&{i13nModel:babelHelpers.extends({},i,{mKey:E?r.e.MARK_MSG_UNSTARRED:r.e.MARK_MSG_STARRED})},{isStarred:E,type:a.a.STAR_CHANGE_REQUESTED}))})},function(e,t,s){"use strict";s.d(t,"e",function(){return d}),s.d(t,"b",function(){return E}),s.d(t,"f",function(){return _}),s.d(t,"a",function(){return u}),s.d(t,"c",function(){return p}),s.d(t,"g",function(){return m}),s.d(t,"h",function(){return h}),s.d(t,"d",function(){return S});var a=s(1),n=s(7),r=s(17),o=s(0),i=s(9);const c=1e4;function l(e,t){const{getFeaturesSelectors:s}=Object(i.b)(e.store.getState());return t>=s().getSetting("bulkActionDialogThreshold")}function d({folderId:e,filterUnread:t=!1}){let s=`folderId:${e} count:${c}`;return t&&(s+=" is:unread"),s}function E(e,{accountId:t,folderName:s,i13nModel:n={}}){return e.dispatch(a.a.CREATE_FOLDER_REQUESTED,{accountId:t,folderName:s,i13nModel:n}),e.mailAPIClient.request("folders.create",{folderName:s,accountId:t}).then(t=>{e.dispatch(a.a.CREATE_FOLDER_SUCCEEDED,{folder:t.folder})}).catch(t=>{e.dispatch(a.a.CREATE_FOLDER_FAILED,{folderName:s,error:t})})}function _(e,{streamId:t,listId:s,folderId:n,unreadCount:r,i13nModel:E}){const _=Math.min(r,c),u=l(e,_),{getFeaturesSelectors:p}=Object(i.b)(e.store.getState()),m=p().isEnabled(o.kb.UPDATE_ITEMS_V3);return e.dispatch(a.a.READ_CHANGE_REQUESTED,{folderId:n,listId:s,isAsync:u,count:_,isRead:!1,flags:{read:!0},allSelected:!0,streamId:t,triageActionType:o.Pd.READ_CHANGE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Pd.READ_CHANGE_FOLDER_ITEMS,folderId:n},failureAction:{type:a.a.UPDATE_ITEMS_FAILED,triageActionType:o.Pd.READ_CHANGE_FOLDER_ITEMS,folderId:n},i13nModel:E}),m?Promise.resolve():e.mailAPIClient.request("folderList.update",[{query:d({folderId:n,filterUnread:!0}),flags:{read:!0},isAsync:u}]).then(({task:t})=>{u&&t?e.dispatch(a.a.BULK_PROGRESS_RECEIVED,t):e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,{triageActionType:o.Pd.READ_CHANGE_FOLDER_ITEMS,folderId:n})}).catch(t=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,{triageActionType:o.Pd.READ_CHANGE_FOLDER_ITEMS,folderId:n,error:t}))}function u(e,{folderId:t,total:s,streamId:r,i13nModel:E}){const{getFolderIdsForSelectedAccount:_}=Object(i.b)(e.store.getState()),u=Object(n.s)(t),p=o.sb.ARCHIVE,m=Math.min(s,c),h=l(e,m),S={query:d({folderId:t}),destinationFolderId:_(p)[0],isAsync:h},{getFeaturesSelectors:g}=Object(i.b)(e.store.getState()),I=g().isEnabled(o.kb.UPDATE_ITEMS_V3);return e.dispatch(a.a.MOVE_ITEMS_REQUESTED,{streamId:r,listId:u,folderId:t,destinationFolderType:p,isAsync:h,count:m,conversations:!1,allSelected:!0,triageActionType:o.Pd.ARCHIVE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Pd.ARCHIVE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.a.UPDATE_ITEMS_FAILED,triageActionType:o.Pd.ARCHIVE_FOLDER_ITEMS,folderId:t},i13nModel:E}),I?Promise.resolve():e.mailAPIClient.request("folderList.update",[S]).then(({task:s})=>{h&&s?e.dispatch(a.a.BULK_PROGRESS_RECEIVED,s):e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,{triageActionType:o.Pd.ARCHIVE_FOLDER_ITEMS,folderId:t})}).catch(s=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,{triageActionType:o.Pd.ARCHIVE_FOLDER_ITEMS,folderId:t,error:s}))}function p(e,{folderId:t,total:s,streamId:E,i13nModel:_}){const{isPermDeleteFolderType:u,getFolderIdsForSelectedAccount:p,getMainStreamItems:m,normalizeRoute:h}=Object(i.b)(e.store.getState()),S=Object(n.s)(t),g=u(t),I=Math.min(s,c),C=l(e,I),T={folderId:t,isAsync:C,isConversation:!1},A=h(Object(r.i)(t)),{getFeaturesSelectors:O}=Object(i.b)(e.store.getState()),b=O().isEnabled(o.kb.UPDATE_ITEMS_V3);let R;return T.query=d({folderId:t}),g?R="folderList.delete":(R="folderList.update",T.destinationFolderId=p(o.sb.TRASH)[0]),e.dispatch(a.a.DELETE_ITEMS_REQUESTED,{streamId:E,listId:S,folderId:t,destinationFolderType:o.sb.TRASH,permanent:g,isAsync:C,count:I,conversations:!1,allSelected:!0,triageActionType:o.Pd.DELETE_FOLDER_ITEMS,streamItems:m(A),isV2Action:!0,successAction:{type:a.a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Pd.DELETE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.a.UPDATE_ITEMS_FAILED,triageActionType:o.Pd.DELETE_FOLDER_ITEMS,folderId:t},i13nModel:_}),b?Promise.resolve():e.mailAPIClient.request(R,[T]).then(({task:s})=>{C&&s?e.dispatch(a.a.BULK_PROGRESS_RECEIVED,babelHelpers.extends({triageActionType:o.Pd.DELETE_FOLDER_ITEMS},s)):e.dispatch(a.a.UPDATE_ITEMS_SUCCEEDED,{triageActionType:o.Pd.DELETE_FOLDER_ITEMS,folderId:t})}).catch(s=>e.dispatch(a.a.UPDATE_ITEMS_FAILED,{triageActionType:o.Pd.DELETE_FOLDER_ITEMS,folderId:t,error:s}))}function m(e,{i13nModel:t}){e.dispatch(a.a.FOLDER_CONTEXT_MENU_REQUESTED,{i13nModel:t})}function h(e,{i13nModel:t}){e.dispatch(a.a.EXPAND_ACCOUNT_LIST,{i13nModel:t})}function S(e,{folderId:t,i13nModel:s}){e.dispatch(a.a.DELETE_NON_EMPTY_FOLDER_REQUESTED,{folderId:t,i13nModel:s})}},function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return m});var a=s(118),n=s.n(a),r=s(35),o=s.n(r),i=s(48),c=s(0),l=s(115),d=s(51),E=s(24),_=s(8);function u(e){const t=e=>({email:e.id,name:e.name});return e.map(e=>{const s=Number(e.creationDate)/1e3,a={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},cardConversationId:e.cardConversationId||"",decos:e.decos||[],headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:s},snippet:e.snippet||"",attachments:p(e.attachments.map(t=>Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid}))).map(e=>e.attachment),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(a.csid=e.csid),a})}function p(e){return e.map(e=>{const[t,s]=e.mimeType.split("/"),{partId:a=e.id,conversationId:n,csid:r,source:o}=e,{Dispositions:l}=c.u,d=e.mid?Object(i.a)(e.mid):void 0;return{attachment:{id:d?Object(i.e)({partId:a},d,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:a,type:t,subtype:s,conversationId:n,source:o,csid:r,disposition:e.disposition||l.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:d,subject:e.subject}}})}const m={[c.Db.MESSAGES]:function(e,t){return e.map(e=>{const{itemType:t}=e;return"THREAD"===t?{id:e.conversationId,messages:u(e.messages.reverse())}:"MESSAGE"===t?{id:e.mid,messages:u([e])}:void 0})},[c.Db.DOCUMENTS]:p,[c.Db.IMAGES]:p,[c.Db.PEOPLE]:function(e){return e.map(e=>{const t=e.payload,s=t.id,a={[s]:t},n=c.Db.PEOPLE,r={[n]:[s]},o=e.relationshipHistory;return{contactDetails:Object(l.b)({ep:n,contacts_info:a,contacts_by_ep:r,relationshipHistory:o})}})},[c.Db.ADS]:Object(E.b)()?function(e){const t=[];for(let s=0;s<e.length;s++){const a=Array.prototype.slice.call(e[s].attributes).reduce((e,t)=>(e[t.name]=t.value,e),{});t.push({creativeId:a.ListingId||"",pencilAd:{adHeadline:n()(a.title)||"",adSummary:n()(a.description)||"",adImg:a.faviconUrl||"",adSource:a.siteHost||"",clickUrl:e[s].getElementsByTagName("ClickUrl")[0].innerHTML||"",beacon:"",impressionTrackingUrls:[],type:d.k.PencilAdType,adFeedbackBeacon:"",rating:a.MRRating||null}})}return t}:function(e){return(e||[]).map(e=>{const t=e.$;return{creativeId:t.ListingId||"",pencilAd:{adHeadline:n()(t.title)||"",adSummary:n()(t.description)||"",adImg:t.faviconUrl||"",adSource:t.siteHost||"",clickUrl:e.ClickUrl[0]._||"",beacon:"",impressionTrackingUrls:[],type:d.k.PencilAdType,adFeedbackBeacon:"",rating:t.MRRating||null}}})},[c.Db.GIFS]:function(e){return(e||[]).map(e=>{const{downloadLink:t,height:s,width:a,id:n,online:r,onlineContentLink:o,ownerId:i,source:c,thumbnail:l,thumbnailHeight:d,thumbnailWidth:E,thumbnails:_,feedbackUrl:u="",h1_title:p=""}=e;return{downloadLink:t,height:s,width:a,id:n,online:r,onlineContentLink:o,ownerId:i,source:c,thumbnail:l,thumbnailHeight:d,thumbnailWidth:E,thumbnails:_,feedbackUrl:u,altText:p}})},[c.Db.COUPON_CARDS]:function(e=[]){return e.map(({immutableId:e,messageMetadata:t})=>({id:e,messages:[babelHelpers.extends({},o()(babelHelpers.extends({},t,{schemaCards:Object(i.p)(t)}),["schemaOrg"]),{id:e})]}))},[c.Db.PLAADS]:function(t){if(t&&t.length>0){const s=JSON.parse(new e(t[0].ads,"base64").toString("utf8")),a=Object(_.a)(s,"response.search.moduleGroups",[]),r=Object(_.a)(s,"response.search.modules",{});let o=[],i=[];return a.forEach(e=>{"pla"===e.name&&(o=e.modules)}),o.forEach(e=>{const t=Object(_.a)(r,`${e}.data.list`,[]);i=i.concat(t)}),(i||[]).map(e=>({title:n()(e.title.replace(/<[^>]+>/g,""))||"",url:e.url||"",abstract:n()(e.abstract)||"",sellerName:e.sellername||"",originalPrice:e.originalprice||"",dealPrice:e.dealprice||"",image:e.image||"",eliteBadge:e.eliteBadge&&{domain:e.eliteBadge&&e.eliteBadge.domain||"",rating:e.eliteBadge&&e.eliteBadge.rating||"",numberOfRatings:e.eliteBadge&&e.eliteBadge.numberOfRatings||""},priceDropAlert:e.priceDropAlert&&{displayedText:e.priceDropAlert&&e.priceDropAlert.displayedText||"",longText:e.priceDropAlert&&e.priceDropAlert.longText||""},productRating:e.productRating&&{rating:e.productRating&&e.productRating.rating||"",numberOfReviews:e.productRating&&e.productRating.numberOfReviews||""}}))}return[]}}}).call(this,s(323).Buffer)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(121),c=s(11),l=s.n(c),d=s(517),E=s.n(d),_=s(362);s(8);class u extends o.a.Component{constructor(...e){var t;return t=super(...e),this.forceFocus=(()=>{this.refs.content&&this.refs.content.focus()}),this.handleBlurCapture=(e=>{this.refs.content.contains(e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement)||setTimeout(this.forceFocus,0)}),this.handleKeyDown=(e=>{const{onKeyDown:t,onClose:s}=this.props;e.stopPropagation(),"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),s(e)):t&&t(e)}),this.handleOuterPartClick=(e=>{if(e.stopPropagation(),this.props.onOuterClick)return this.props.onOuterClick(e);this.props.onClose(e)}),t}componentDidMount(){this.forceFocus(),window.addEventListener("focus",this.forceFocus),this.refs.content&&(this.mousetrap=this.context.bindShortcut(["esc"],this.handleKeyDown,this.refs.content))}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus),this.mousetrap&&this.context.unbindShortcut(["esc"],this.mousetrap)}render(){const{children:e,kind:t,ariaLabelledBy:s,ariaDescribedBy:a,hideShadow:n}=this.props,r=l()(E.a,{kind:t,hideShadow:n});return o.a.createElement(i.a,null,o.a.createElement("div",{onClick:this.handleOuterPartClick,className:r.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:s||a?"alertdialog":null,"aria-labelledby":s,"aria-describedby":a},o.a.createElement("div",{"data-test-id":"modal-content",className:r.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:p,tabIndex:0,role:s||a?"document":null},e)))}}function p(e){e.stopPropagation()}u.contextTypes={bindShortcut:n.a.func,unbindShortcut:n.a.func},u.defaultProps={hideShadow:!1,kind:_.a.DARK,ariaLabelledBy:null,ariaDescribedBy:null},t.a=u},,function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"a",function(){return E}),s.d(t,"c",function(){return _});const a="",n=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,r=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/;function o(e){return e.charCodeAt(0)>=1568}function i(e){return(e=e.slice(-1))&&o(e)&&n.test(e)}function c(e){return(e=e[0])&&o(e)&&r.test(e)}const l=(e="",t="")=>{const s=E(t);return e.search(new RegExp(`(^${s}| +${s})`,"i"))};function d(e="",t=""){let s=l(e,t);if(s>0&&s++,s>=0){const n=s+t.length;return function(e,t=a){return e.forEach((e,s,a)=>{0!==s&&c(e)&&i(a[s-1])&&(a[s-1]=a[s-1]+t,a[s]=t+a[s]),a[s+1]&&i(e)&&c(a[s+1])&&(a[s+1]=t+a[s+1],a[s]=a[s]+t)}),e}([e.substring(0,s),e.substring(s,n),e.substring(n)])}return[e]}function E(e=""){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function _(e,t,s){var a="";return s=void 0!==s?s:"...",a=e=e||"",e.length>(t=t||0)&&(a=e.substr(0,t-s.length)+s),a}},function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"h",function(){return c}),s.d(t,"g",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"f",function(){return E}),s.d(t,"e",function(){return _});var a=s(1),n=s(0);const r=e=>babelHelpers.extends({},e,{destinationFolderType:n.sb.TRASH,type:a.a.DELETE_ITEMS_REQUESTED}),o=e=>babelHelpers.extends({},e,{type:a.a.DELETE_ITEMS_SUCCEEDED}),i=e=>babelHelpers.extends({},e,{type:a.a.DELETE_ITEMS_FAILED}),c=e=>babelHelpers.extends({type:a.a.DELETE_PREVIEW_REQUESTED},e),l=e=>babelHelpers.extends({type:a.a.DELETE_PREVIEW_CLOSED},e),d=e=>babelHelpers.extends({type:a.a.PENSIEVE_DELETE_REQUESTED},e),E=e=>babelHelpers.extends({type:a.a.PENSIEVE_DELETE_SUCCESS},e),_=e=>babelHelpers.extends({type:a.a.PENSIEVE_DELETE_FAILED},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return d});var a=s(2),n=s.n(a),r=s(67);const o=/^\^_+|\^_+$/g;function i(e,t){let s=-1;if(t&&e){const t=e.indexOf("^_");if(-1!==t){s=t/e.length}}return s>.66?r.a.RIGHT:s>.33?r.a.CENTER:s>=0?r.a.LEFT:r.a.NONE}function c(e){return e.split(/(\^_[^^]*?\^_)/g)}function l(e=null,t,s){return e&&t?function(e,t){return c(e).map(function(e){return 0===e.indexOf("^_")?n.a.createElement("span",{key:e,className:t,"data-test-id":"highlight"},e.replace(o,"")):e})}(e,s):e}function d(e=null){if(e){return c(e).map(function(e){return 0===e.indexOf("^_")?e.replace(o,""):e}).join("")}return e}},,,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(11),o=s.n(r),i=s(567),c=s.n(i),l=s(8);const d=Object(l.c)(["LI","SPAN"]),E=o()(c.a);class _ extends n.a.Component{shouldComponentUpdate(){return!1}render(){return n.a.createElement(this.props.tagName===d.LI?"li":"span",{className:E.flexSpacer})}}_.defaultProps={kind:d.SPAN};t.a=_},function(e,t,s){"use strict";var a=s(58);t.a=s.n(a).a.create("norrin/info")},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});var a=s(1),n=s(0);const r=({tasks:e,messageItemsToSync:t,actionPayload:s})=>babelHelpers.extends({type:a.a.BULK_PROGRESS_INITIATED,tasks:e,messageItemsToSync:t},s),o=({id:e,status:t,progress:s,pollCount:n})=>({type:a.a.BULK_PROGRESS_RECEIVED,id:e,status:t,progress:s,pollCount:n}),i=({taskId:e})=>({type:a.a.BULK_CANCEL_REQUESTED,taskId:e,status:n.y.ABORTING}),c=({taskId:e,progress:t,triageActionType:s,folderId:r,count:o,conversations:i})=>({type:a.a.BULK_CANCEL_FAILED,triageActionType:s,folderId:r,count:o,conversations:i,taskId:e,progress:t,status:n.y.ABORT_FAILED})},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"h",function(){return d}),s.d(t,"g",function(){return E}),s.d(t,"c",function(){return _}),s.d(t,"e",function(){return u}),s.d(t,"d",function(){return p});var a=s(1),n=s(9),r=s(0),o=s(139);const i=({folder:e})=>({folder:e,type:a.a.CREATE_FOLDER_SUCCEEDED}),c=({error:e,folderName:t})=>({folderName:t,error:e,type:a.a.CREATE_FOLDER_FAILED}),l=({folderId:e,folderName:t,i13nModel:s={}})=>(i,c)=>{const{getFolderName:l,getFeaturesSelectors:d,getFolderFullName:E}=Object(n.b)(c()),_=l(e),u=t.substr(t.lastIndexOf("/")+1),p=E(e),m=p.replace(RegExp(Object(o.a)(_)+"$"),u),h=d().getSetting(r.id.MESSAGE_FILTERS).map(e=>(function(e,t,s){return babelHelpers.extends({},e,{actions:e.actions.map(e=>{const{value:{folderActionValueBean:{folder:{name:a}}}}=e;if(a!==t)return e;const n=babelHelpers.extends({},e);return n.value.folderActionValueBean.folder.name=s,n})})})(e,p,m));return i({folderId:e,folderName:t,i13nModel:s,originalFolderName:_,newFolderName:u,filters:h,type:a.a.RENAME_FOLDER_REQUESTED,name:r.id.MESSAGE_FILTERS,value:h})},d=({newFolderName:e,folderId:t,originalFolderName:s,folder:n,subfolders:r=[]})=>({newFolderName:e,folderId:t,originalFolderName:s,folder:n,subfolders:r,type:a.a.RENAME_FOLDER_SUCCEEDED}),E=({folderId:e,newFolderName:t,originalFolderName:s,filters:n,error:r})=>({folderId:e,newFolderName:t,originalFolderName:s,filters:n,error:r,type:a.a.RENAME_FOLDER_FAILED}),_=({folderId:e,folderName:t,i13nModel:s={}})=>({folderId:e,folderName:t,i13nModel:s,type:a.a.DELETE_FOLDER_REQUESTED}),u=({folderId:e,folderName:t,i13nModel:s})=>({folderId:e,folderName:t,i13nModel:s,type:a.a.DELETE_FOLDER_SUCCEEDED}),p=({folderId:e,folderName:t,error:s})=>({folderId:e,folderName:t,error:s,type:a.a.DELETE_FOLDER_FAILED})},function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return d});var a=s(1),n=s(0);const r=e=>babelHelpers.extends({type:a.a.MOVE_ITEMS_REQUESTED},e),o=e=>r(babelHelpers.extends({},e,{destinationFolderType:n.sb.INBOX})),i=e=>r(babelHelpers.extends({},e,{destinationFolderType:n.sb.ARCHIVE})),c=e=>r(babelHelpers.extends({},e,{destinationFolderType:n.sb.BULK})),l=e=>babelHelpers.extends({},e,{type:a.a.MOVE_ITEMS_SUCCEEDED}),d=e=>babelHelpers.extends({},e,{type:a.a.MOVE_ITEMS_FAILED})},,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(16),o=s(137),i=s(555),c=s.n(i),l=s(11),d=s.n(l),E=s(10),_=s(15),u=s(21),p=s(4),m=s(3);const h=d()(c.a),S={margin:`14px ${E.GRID_UNIT}px ${5*E.GRID_UNIT}px 0`,border:0,padding:`0 ${7*E.GRID_UNIT}px`},g=Object(p.h)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),I=()=>{};class C extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!0},this.handleKeyDown=(e=>{("Enter"===e.key||"Escape"===e.key&&!this.props.onClose)&&(e.preventDefault(),e.stopPropagation(),this.props.onAccept())}),this.handleAccept=(e=>{e.stopPropagation(),this.props.onAccept()}),this.handleClose=(e=>{e.stopPropagation(),this.props.onClose()}),t}render(){const{formatMessage:e}=this.context.intl,t=e(this.props.acceptText);let s;return s=this.props.hideClose?null:n.a.createElement("div",{className:h.close},n.a.createElement(u.a,{onClick:this.props.onClose?this.handleClose:this.handleAccept,kind:m.b.CLOSE,size:m.d.XS,title:e(g.close),"aria-label":e(g.close),"data-test-id":"alert-button-close"})),n.a.createElement(o.a,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:I},n.a.createElement("div",{className:h.container,"data-test-id":"alert-dialog",role:"alertdialog"},n.a.createElement("div",{className:h.icon},n.a.createElement(_.b,{kind:m.b.EXCLAMATION_ALT,size:m.d.L,colorState:m.a.WARNING_GRAD_RED})),n.a.createElement("header",{className:h.header},n.a.createElement("h3",{className:h.title,"data-test-id":"alert-title"},this.props.title),s),n.a.createElement("section",{className:h.message,"data-test-id":"alert-message"},this.props.message),n.a.createElement("footer",{className:h.controls},n.a.createElement(r.a,{onClick:this.handleAccept,style:S,"data-test-id":"alert-button-ok"},t))))}}C.contextTypes={intl:p.i.isRequired},C.defaultProps={acceptText:g.defaultAcceptText},t.a=C},,function(e,t,s){"use strict";s.d(t,"a",function(){return _});var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(11),c=s.n(i),l=s(13),d=(s(29),s(8),s(9));const E=e=>{const{getFeaturesSelectors:t}=Object(d.b)(e),s=t();return{theme:s.getSetting("theme"),themeMode:s.getSetting("themeMode")}},_=e=>Object(l.b)(E)(function(e){var t,s;return s=t=class extends o.a.Component{getChildContext(){return{getCss:(e,t)=>c()(e,Object.assign({},t,{themeMode:this.props.themeMode,theme:this.props.theme,themeCombo:`${this.props.themeMode}_${this.props.theme}`})),getTheme:()=>this.props.theme,getThemeMode:()=>this.props.themeMode}}render(){return o.a.createElement(e,babelHelpers.extends({key:`${this.props.theme}-${this.props.themeMode}`,ref:"childComponent"},this.props))}},t.displayName="WrappedThemeProvider",t.childContextTypes={getCss:n.a.func,getTheme:n.a.func,getThemeMode:n.a.func},s}(e))},,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(19),i=s(113),c=s(106),l=s(122),d=s(65),E=s(537),_=s.n(E),u=s(211),p=s.n(u),m=s(11),h=s.n(m),S=s(15),g=s(3),I=s(21),C=s(16),T=s(62),A=s(32),O=s(88),b=s(100);const R=h()(_.a),D=h()(p.a),f=Object(r.h)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class N extends n.a.Component{constructor(...e){var t;return t=super(...e),this.handleBackButton=(e=>{e.stopPropagation(),this.props.goToMainMenu()}),this.onColorChange=((e,t)=>{e(t)}),t}render(){const{formatMessage:e}=this.context.intl,t=e(f.foreground_color_text_label),{onFGColorChange:s,onBGColorChange:a,swatchColors:o,selectedFGColor:E,selectedBGColor:_}=this.props,u=e(f.background_color_text_label),p=Object(d.getSixDigitHexColor)(E),m=Object(d.getSixDigitHexColor)(_),h=o.map(e=>{const t=`#${e}`;return n.a.createElement(L,{key:"fc-"+e,name:"fc-"+e,color:t,selected:p===t,onClick:this.onColorChange.bind(this,s,t),isDark:M(e)})}),C=o.map(e=>{const t=`#${e}`;return n.a.createElement(L,{key:"bc-"+e,name:"bc-"+e,color:t,selected:m===t,onClick:this.onColorChange.bind(this,a,t),isDark:M(e)})});return n.a.createElement(l.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?n.a.createElement(c.a,{style:{display:"none"}}):n.a.createElement(c.a,{"data-test-id":"icon-btn-text_color",title:t,"aria-label":t},n.a.createElement(S.b,{kind:g.b.TEXT_COLOR,size:g.d.XS,colorState:g.a.NORMAL})),n.a.createElement(i.a,{onHide:this.handleMenuHide,menuLayout:b.a.VERTICAL,"data-test-id":"color-picker"},this.props.parentMenu?n.a.createElement(I.a,{title:e(f.back_button_text_label),kind:g.b.ARROW_UP,size:g.d.XS,rotate:g.c.D270,colorState:g.a.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},n.a.createElement("span",{className:D.backButtonLabel},n.a.createElement(r.c,f.back_button_text_label))):"",n.a.createElement("div",{className:this.props.parentMenu?R.subColorMenu:R.colorMenu},n.a.createElement(T.a,{layout:b.a.HORIZONTAL},n.a.createElement("li",{className:R.swatchItem},n.a.createElement("div",{className:R.swatchTitleBase},n.a.createElement(r.c,f.foreground_color_text_label)),n.a.createElement("div",{className:R.swatchContent},n.a.createElement(T.a,{layout:b.a.GRID},h))),n.a.createElement("li",{className:R.swatchItem},n.a.createElement("div",{className:R.swatchTitleBase},n.a.createElement(r.c,f.background_color_text_label)),n.a.createElement("div",{className:R.swatchContent},n.a.createElement(T.a,{layout:b.a.GRID,title:u},C)))))))}}function M(e){Object(o.a)(6===e.length,"Expect input to be 6 digit hex color");const t=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255;return(Math.max(t,s,a)+Math.min(t,s,a))/2<.55}function L({color:e,selected:t,name:s,isDark:a,onClick:r}){return n.a.createElement(A.a,{name:s,kind:O.a.GRID},n.a.createElement("div",{className:R.colorElement},n.a.createElement(C.a,{title:e,className:R.color,style:{backgroundColor:e,boxShadow:"#ffffff"===e?"inset 0 0 0 1px #e2e2e6":null},onClick:r},t&&n.a.createElement(S.b,{kind:g.b.CHECKMARK,size:g.d.XXS,colorState:a?g.a.INVERTED:g.a.NORMAL}))))}N.contextTypes={intl:r.i.isRequired},N.DEFAULTS={FG_COLOR:"#000000",BG_COLOR:"#ffffff"},N.defaultProps={swatchColors:["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],parentMenu:null},t.a=N},function(e,t,s){"use strict";var a=s(68),n=s(93),r=s.n(n),o=s(8),i=s(24),c=s(19),l=s(22),d=s(34),E=s(36);function _(e,t){let s=null;return s||(s=function(e,t){if(0===t.indexOf("launch.")){const{message:s,statusCode:a,errorCode:n,extraStatusCode:r="",extraErrorCode:o=""}=e;let i=15;return 429===a&&(i=19),new d.a(E.j,s,{apiName:t,code:i,errorCode:n,statusCode:a,extraErrorCode:o,extraStatusCode:r})}return null}(e,t)),s||e}var u=s(37),p=s(0),m=s(45),h=s.n(m),S=s(87),g=s(14),I=s(481),C=s.n(I);const T=["EC-4001","EC-4002","EC-4004","EC-4020"],A={Transport:l.b,request:(e,t,s,a,n)=>{if(!n[e])throw new Error(`Invalid method '${e}'.\n                List of available methods: ${JSON.stringify(Object.keys(n))}`);const r=n[e];if(s&&!s.timeout&&A._isGSBMethod(e)&&(s.timeout=6e4),!r.getBatchPayload)throw new TypeError("Method "+e+" does not implement the required function `getBatchPayload`");const o=r.getBatchPayload(t,s);if(null==o||0===Object.keys(o).length||0===o.requests.length)return Promise.reject(new d.a("MailApiClient.EmptyRequestPayload",Object.assign({methodName:e,ymreqid:s.ymreqid,errorCode:"EMPTY_REQUEST"},t)));const i=Object.assign({},o,{responseType:"json"});s.hash=Object(g.h)(i,s.wssid,s.retryCount,A._getHeaders(s,r,t));const c=A._getEndpoint(e,s),{apiDebounceManager:l}=s;return l.get(e).execute({execute:()=>A._request(e,c,i,s,a,r,t),hash:s.hash,log:({duration:t,counter:a,active:n})=>{S.a.error("mail_api_client_debounced",{apiName:e,hash:s.hash||"",ymreqid:s.ymreqid||"",appId:s.appId||"",useHostname:s.useHostname||!1,duration:t,counter:a,active:n})}})},_getHeaders:(e,t,s)=>Object.assign({},A._getCustomHeaders(t,s),e.headers),_request:(e,t,s,a,n,r,i)=>{const c=A._getHeaders(a,r,i),{appId:l="",ymreqid:d="",debugRequestPayload:p=!1}=a;return A._sendRequest(e,t,s,a,n,c).then(c=>{let _,p;const m=Object(o.a)(c,"body.result.responses",[]);if(!m.length){const e=Object(o.a)(c,"text","Not Available"),t=Object(o.a)(c,"headers","Not Available"),s=Object.assign(e?{}:{headers:t},{responseText:e});_=new u.a(E.g,{},!0,s)}else p=A._generateSuccessAndFailureResponses(m),_=A._getError(r,p,i,e);if(_){const{retryCount:o=0}=a,{statusCode:c,errorCode:u,extraStatusCode:p,extraErrorCode:m,isRetryable:h=!1}=_;if(a.isComposite&&h&&o<1)return a.retryCount=o+1,A._request(e,t,s,a,n,r,i);if(_.message!==E.i)throw _;S.a.error("mail_api_unhandled_error",{apiName:e,appId:l,ymreqid:d,statusCode:c,errorCode:u,extraStatusCode:p,extraErrorCode:m})}return r.transformResponses(p,babelHelpers.extends({},a,i),s)}).catch(t=>{const{errorCode:a=""}=t;throw p&&T.includes(a)&&S.a.error("debug_request_payload",{apiName:e,appId:l,ymreqid:d,errorCode:a,requestPayload:C()(s)}),t=_(t,e)||t})},_generateSuccessAndFailureResponses:e=>{const t={successMap:{},failureMap:{}};return e.forEach(e=>{e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e}),t},_getError:(e,t,s,a)=>{const{successMap:n,failureMap:r}=t,i=Object.keys(r).length;if(-1!==a.indexOf("launch.")&&n.GetMailboxes){const e=Object(o.a)(n.GetMailboxes,"response.result.mailboxes",[]);if(e.length>1){return new u.a(E.m,{GetMailboxes:{id:"GetMailboxes",response:e}},!1)}}if(!s.allowUsernameAndPhoneReg&&n.GetAccounts){const e=Object(o.a)(n.GetAccounts,"response.result.accounts",[]).find(e=>e.isPrimary&&("EXTERNAL"===e.type||"PHONE"===e.type));if(e){return new u.a(E.a,{GetAccounts:{id:"GetAccounts",response:e}},!1)}}if(e.getBatchError){const a=e.getBatchError(t,s);return!a&&i?new u.a(E.i,r):a}return i?new u.a(E.h,r):null},_getCustomHeaders:(e,t)=>{let s=null;return e.getHeaders&&(s=e.getHeaders(t)),s},_setCustomHeaders:(e,t)=>{t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})},_isGSBMethod:e=>/^messages\.[a-z]+(Bodies|BodiesFull)$/i.test(e),_sendRequest:(e,t,s,a,n,r)=>{const{timeout:o,httpRetry:i,shouldRetry:c,uploadProgressCallback:l}=a,d=new A.Transport("post",t,{timeout:o,httpRetry:i,shouldRetry:c,apiName:e,uploadProgressCallback:l});return a.cookie&&d.setCookieHeader(a.cookie),d.setHeader("Accept","application/json"),A._setCustomHeaders(d,r),d.setField("batchJson",JSON.stringify(s)),n&&n.forEach(e=>{d.setAttachment(encodeURIComponent(e.name),e)}),d.send()},_getEndpoint:(e,t)=>{const{appId:s="",wssid:a="",ymreqid:n="",useHostname:r=!1,hash:o="",retryCount:i=0}=t,l=r?"http://"+p.yb:"";Object(c.a)(a,"wssid is required for making request to JEDI"),Object(c.a)(n,"ymreqid is required for making request to JEDI");const d=Object.assign({name:e,hash:o,appId:s,ymreqid:n,wssid:a},i>0?{retryCount:i}:{});return l+"/ws/v3/batch?"+h.a.stringify(d)}};var O=A;const b=p.Xd+"/mail_api/",R="post";var D=s(33),f=s(365);var N=s(64),M=s.n(N),L=s(31),y=s.n(L);const P={[p.Wb.DELIVERY_BLOCKED_SENDERS]:"senders",[p.Wb.SCOUT_ONBOARDING]:"value",[p.Wb.SUPPRESSED_UPSELLS]:"value"};function v(e,{mailboxId:t,filter:s,count:a,offset:n,sortOrder:r=p.wd.CARD_DATE_DESC,accountId:o},i,c,l){return O.request("refundCards.getList",{mailboxId:t,filter:s,count:a,offset:n,sortOrder:r,accountId:o},i,c,l).then(e=>{const s=[],a=[];return e.cardGroupList.forEach(e=>{e.messages.forEach(e=>{-1===a.indexOf(e.cardConversationId)&&a.push(e.cardConversationId)})}),s.push(a.length>0?O.request("messages.getExtractions",{mailboxId:t,cardConversationIds:a},i,c,l):Promise.resolve({result:{extractedMessagesList:[]}})),Promise.all(s).then(([t])=>{const s=t.result.extractedMessagesList.filter(e=>e&&e.decos&&e.decos.some(e=>e&&e.id&&e.id===p.Zb.EML)),a=s.map(e=>e.cardConversationId),n=e.cardGroupList.filter(e=>e.messages.every(e=>-1!==a.indexOf(e.cardConversationId))),r=s.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t)}),{});return babelHelpers.extends({messageGroupsResponses:{cardGroupList:n,hasMoreItems:e.hasMoreItems,offset:e.offset}},{parentMessagesMap:r})})})}var F=s(27);const U=1;class H extends a.a{constructor({appId:e=p.Zd,loginHash:t,wssid:s,crumb:a,cookie:n,bizEmail:o,loggerParams:l,httpRetry:d,requestQueue:E,isOnline:_,throttleAPIList:u,batchMethods:m,headers:h,executeRequestsSequentially:S=Object(i.b)(),config:{debugRequestPayload:g=!1}={}},I){if(super({loggerName:p.p.MailAPIClient,loggerParams:Object(i.b)()?{}:l,crumb:a,wssid:s,isOnline:_}),"string"==typeof I&&!H.STRATEGIES[I])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(H.STRATEGIES)));this.batchMethods=m,this.appId=e,this.cookie=n,this.bizEmail=o,this.headers=h||{},this.httpRetry=d,this.strategy=I||this._getDefaultStrategy(),this._validateStrategy(this.strategy),S&&(Object(c.a)(E,"if you are executing requests sequentially, you must pass a request queue."),this.executeRequestsSequentially=!0,this.requestQueue=E),t&&(this.ymreqidGenerator=new r.a(t,p.Yd,p.Rc)),this.apiDebounceManager=new F.a(u||{}),this.debugRequestPayload=g}_getDefaultStrategy(){return Object(i.b)()?H.STRATEGIES.BROWSER_TO_JEDI:H.STRATEGIES.NODE_TO_JEDI}_validateStrategy(e){if(Object(i.b)()&&e===H.STRATEGIES.NODE_TO_JEDI)throw new Error(H.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!Object(i.b)()&&[H.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,H.STRATEGIES.BROWSER_TO_JEDI].indexOf(e)>-1)throw new Error(H.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+H.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")}_getRequest(e,t,s,a){if(s.useHostname=s.strategy===H.STRATEGIES.NODE_TO_JEDI,s.strategy===H.STRATEGIES.BROWSER_TO_NODE_TO_JEDI)return Object(c.a)(!a,"We cannot proxy a request with files."),H.REQUESTS.BrowserProxy.bind(null,e,t,s.ymreqid,this.crumb,this.wssid,s.httpRetry);return(H.REQUESTS[e]||H.REQUESTS.Batch).bind(null,e,t,s,a,this.batchMethods)}request(e,t={},s={},a){if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `loginHash`, so that it can generate a new one");const n=this.strategy===H.STRATEGIES.NODE_TO_JEDI&&s.ymreqid?s.ymreqid:this.ymreqidGenerator.generate(),{retryCount:r=0,retryErrorCode:o="",retryStatusCode:i="",retryYmreqid:c="",uploadProgressCallback:l}=s,d={useHostname:null,ymreqid:n,cookie:this.cookie,retryCount:r};s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid),d.appId=s.appId||this.appId,d.ymreqid=n,d.wssid=s.wssid||this.wssid,d.strategy=s.strategy||this.strategy,d.noRetry=s.noRetry,d.timeout=s.timeout,d.headers=s.headers||this.headers,d.uploadProgressCallback=l,d.httpRetry=this.httpRetry,d.shouldRetry=this.shouldRetry,d.loggerParams=this.loggerParams,d.apiDebounceManager=this.apiDebounceManager,d.debugRequestPayload=this.debugRequestPayload,this._validateStrategy(d.strategy);const E=this.getMailboxParams(),_=Array.isArray(t)?t.map(e=>babelHelpers.extends({},e,E)):babelHelpers.extends({},t,this.getMailboxParams());this.bizEmail&&(_.bizEmail=this.bizEmail);const u=this._getRequest(e,_,d,a),p={apiName:e,ymreqid:n,retryCount:r};let m;return t.prefetchMode&&(p.prefetchMode=t.prefetchMode),"document.fetch"===e&&(p.documentId=t.documentId||"",p.mimeType=t.mimeType||"",p.size=t.size||"",p.page=`${t.startPage}-${t.endPage}`,p.pageRetryCount=t.retryCount,p.isFirstReq=0===t.retryCount&&1===t.startPage),1===r&&Object.assign(p,{retryErrorCode:o,retryStatusCode:i,retryYmreqid:c}),m=this.isRequestBlocked("checkMail"!==e)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(u,e):u(),this.logRequest(m,p,null,r),m.then(e=>(this.setRequestBlocked(!1),e),o=>{if(o=this.handleCommonError(o),this.isRetryableError(o,r)){const{errorCode:i="",statusCode:c=""}=o,l=Object.assign({},s,{retryCount:r+1,retryYmreqid:n||"",retryErrorCode:i,retryStatusCode:c});return-1!==i.indexOf("DOC-814")?function(e){return new Promise(t=>setTimeout(t,e))}(2e3).then(()=>this.request(e,t,l,a)):this.request(e,t,l,a)}throw o})}handleAuthError(e){const{statusCode:t}=e;if(401===t){const s=Object(o.a)(e,"data.body.error.code","");return new d.a(E.b,{statusCode:t,errorCode:s,body:e.getDataByName("body",""),refresh:!0})}return null}handleWssidReissueError(e){const{statusCode:t}=e;if(400===t){const s=Object(o.a)(e,"data.body.error.code","");if("EC-4003"===s){const a=Object(o.a)(e,"data.body.error.details.wssid","");if(a)return this.wssid=a,new d.a(E.e,{statusCode:t,errorCode:s,wssid:a})}}return null}isRetryableError(e,t){if(this.appId===p.fe)return!1;if(t<U){const{isRetryable:t=!1,name:s="",errorCode:a="",statusCode:n=0}=e;if(s===E.e)return!0;if("HttpTransport.NotOkStatusCode"===s&&500===n)return!0;if(["ECONNABORTED","OUTBOUND"].includes(a))return!0;if(t)return!0}return!1}shouldRetry(e,t){if(t&&t.status&&500===t.status)return!1;if(e){if(e.timeout&&"ECONNABORTED"===e.code)return!1;if(e.crossDomain)return!1}return super.shouldRetry(e,t)}}H.STRATEGIES=Object(o.c)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),H.REQUESTS={Batch:O.request,BrowserProxy:function(e,t,s,a,n,r){const o=new l.b(R,b+e+"?crumb="+a+"&ymreqid="+s+"&wssid="+n,{httpRetry:r});return o.setHeader("Accept","application/json"),o.send({params:t,ymreqid:s}).then(e=>e.body)},checkMail:function(e,{accountId:t,mailboxId:s,folderId:a,sortOrder:n,filter:r,count:o,offset:i,conversationsMode:c,highestModSeq:l,resetUnseenCount:d,alertStoreHighestModSeq:E,excludeFolderTypes:_},u={},m,h){return u.isComposite=!0,O.request("mailbox.sync",{mailboxId:s},u,m,h).then(e=>{const S=Object(D.d)(e.folders),g=S[a],I=Object(f.a)(u.timezone),C=!(g&&void 0!==l&&g.highestModSeq===l),T=[],A=Object.keys(S).find(e=>-1!==S[e].types.indexOf(p.sb.ALERTSTORE)),b=(S[A]||"").highestModSeq,R=!(!E||!b||E===b);return C||R?(T.push(C?O.request("messageGroups.getList",{mailboxId:s,folderId:a,sortOrder:n,filter:r,count:o,offset:i,conversationsMode:c,excludeFolderTypes:_},u,m,h):Promise.resolve()),T.push(R?O.request("account.getAlerts",{mailboxId:s},u,m,h):Promise.resolve([])),d&&T.push(O.request("unseenCount.reset",{mailboxId:s,accountId:t},u,m,h)),Promise.all(T).then(([t,s])=>babelHelpers.extends({currentTimezoneOffset:I},e,t,{accountAlerts:s}))):babelHelpers.extends({currentTimezoneOffset:I},e)})},saveArrayAttributes:function(e,{mailboxId:t,attribute:s,items:a,overWrite:n=!1,dedupFn:r=null},i={},c,l){i.isComposite=!0;const d=e=>O.request("settings.saveWebMailboxAttributes",{mailboxId:t,attributes:[{id:s,value:e}]},i,c,l);return Array.isArray(a)?Object(o.e)(p.Wb).indexOf(s)<0?Promise.reject("attribute must be defined first."):n?d(a).then(()=>a):(()=>O.request("mailbox.getAttributes",{mailboxId:t,attributes:{[s]:s}},i,c,l).then(({responses:e})=>{const t=e[s][P[s]||s];return Array.isArray(t)?t:Promise.reject("current list is not an array")}))().then(e=>{let t;return t="function"==typeof r?r(e.concat(a)):M()(e.concat(a)),y()(e.sort(),t.sort())?Promise.resolve():d(t).then(()=>t)}):Promise.reject("provided list must be an array")},getReceipts:v,getMoreReceipts:v};t.a=H},function(e,t,s){"use strict";s.d(t,"b",function(){return E}),s.d(t,"c",function(){return _}),s.d(t,"d",function(){return u}),s.d(t,"a",function(){return p});var a=s(23),n=s(0),r=s(151),o=s(65),i=s(209);const c=/messages\/@.id==(.*?)\/.*?content\/parts\/@.id==(.*?)\//i,l=/^https/i,d="yahoo-style-wrap";function E(e){const t=e.querySelectorAll(`[class*="${d}"]`);return 0===t.length?null:t[0]}function _(e){if(!e)return!1;const t=e.getAttribute("class");return t&&-1!==t.indexOf("yiv")}function u(e,t){const{getFeaturesSelectors:s,getAttachmentsSelectors:i}=t,{getSetting:u}=s(),p=Object(r.getInertElement)(e),m=function(e){return!!e.querySelector(a.LINK_EHANCER_CARD_SELECTOR)}(p),h=E(p),S=_(h);!function(e,t){const{getDownloadUrlByContentId:s,doesAttachmentExistById:n,getContentIdByAttachmentId:r}=t;[].forEach.call(e.querySelectorAll(a.INLINE_IMAGE_SELECTOR),e=>{let t=e.getAttribute("data-id");const a=e.getAttribute("src");if(!t){if(!a||!c.test(a))return;{const[,e,s]=c.exec(a),o=e+":"+s;if(!n(o))return;t=r(o)}}let o=s(t);!o&&l.test(a)&&(o=a),e.setAttribute("src",o||"cid://"+t.slice(1,-1)),e.removeAttribute("data-id"),e.setAttribute("data-id",t)})}(p,i()),function(e){const t=e.querySelector(a.STATIONERY_BODY_SELECTOR);t&&t.removeAttribute("contenteditable")}(p),function(e){[].forEach.call(e.querySelectorAll("ol"),e=>{e.setAttribute("style",[...(e.getAttribute("style")||"").split(";").filter(Boolean),"list-style-position: inside"].join(";"))})}(p);const g=h&&!S?p.innerHTML.replace(/&quot;/g,""):`<div class="${d}" style="font-family:`+u(n.id.COMPOSE_FONT_FAMILY).replace(/"/g,"")+";font-size:"+Object(o.getFontSizeStyle)(u(n.id.COMPOSE_FONT_SIZE))+';">'+p.innerHTML+"</div>";return`<html${m?` ${a.OutlookSupportHTMLAttributes}`:""}>`+`<head>${m?a.OutlookSupportHTMLHeadContent:""}</head>`+"<body>"+g+"</body></html>"}function p(e){return Object(i.convertToPlainText)(Object(r.getInertElement)(e))}},function(e,t,s){"use strict";s.d(t,"a",function(){return d});s(6);var a=s(2),n=s.n(a),r=s(21),o=s(3),i=s(4),c=s(8);const l=Object(i.h)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"},partialChecked:{id:"atom.checkbox_partial_checked",defaultMessage:"Checkbox, partially checked"}}),d=Object(c.c)(["NONE","ALL","PARTIAL"]);class E extends n.a.Component{render(){const{type:e,highContrast:t,isInverted:s,size:a,isMonochrome:i}=this.props;let c,E,_,u,p;switch(s?(u=t?o.a.INVERTED_LESS_DIM:o.a.INVERTED_DIM,p=o.a.INVERTED):(u=t?o.a.NORMAL:o.a.COOL_FAINT,p=o.a.SELECTED),e){case d.ALL:c=o.b.CHECKBOX_ON,E=p,_=l.checked;break;case d.PARTIAL:c=i?o.b.MONOCHROME_MIXED_CHECKBOX:o.b.MIXED_CHECKBOX,E=u,_=l.partialChecked;break;case d.NONE:default:c=o.b.CHECKBOX_OFF,E=u,_=l.notChecked}return n.a.createElement(r.a,babelHelpers.extends({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,size:a,kind:c,colorState:E,title:this.context.intl.formatMessage(_)}))}}E.defaultProps={highContrast:!1,isInverted:!1,size:o.d.XS,isMonochrome:!1},E.contextTypes={intl:i.i.isRequired},t.b=E},function(e,t,s){"use strict";var a=s(112),n=s.n(a);const r=/^[\w\-]+:.+$/gim;t.a=function({boundary:e,useBuffer:t=!0,consolidate:s=!1}){let a="";return n()(function(n){t||(a="");const o=(n=a+n).split(new RegExp(`--${e}-{0,2}`,"gm")),i=[];for(;o.length>1;){const e=o.shift().replace(r,"").trim();""!==e&&(s?i.push(e):this.emit("data",e))}s&&i.length>0&&this.emit("data",i),a=o[0]})}},,function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(15),c=s(3),l=s(618),d=s.n(l);const E=(e,{getCss:t})=>{const s=t(d.a);return o.a.createElement("div",{className:s.container},o.a.createElement("span",{className:s.orb,"aria-hidden":!0},o.a.createElement(i.b,{kind:c.b.ORB,colorState:c.a.INHERITED,size:c.d.M})),o.a.createElement("span",{className:s.content,"aria-hidden":!0},o.a.createElement("span",{className:s.name}),o.a.createElement("span",{className:s.emails})))};E.contextTypes={getCss:n.a.func},t.a=E},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(538),o=s.n(r),i=s(11),c=s.n(i),l=s(99),d=s.n(l),E=s(142),_=s(21),u=s(3),p=s(4);const m=Object(p.h)({clearButton:{id:"input_clear",defaultMessage:"Clear"}});class h extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={value:this.props.value},this.focus=(()=>{this.bidiInput.focus()}),this.handleChange=(e=>{const{value:t}=this.state;e.persist(),e.target.value!==t&&this.setState({value:e.target.value},()=>{this.props.onChange(e)})}),t}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}componentDidMount(){this.props.focusOnMount&&setTimeout(()=>this.bidiInput&&this.bidiInput.focus(),0)}render(){const e=this.props,{className:t,containerClassName:s,clearButtonContainerClassName:a,isClearable:r,onClear:i,clearIconColorState:l}=e,p=babelHelpers.objectWithoutProperties(e,["className","containerClassName","clearButtonContainerClassName","isClearable","onClear","clearIconColorState","focusOnMount"]),{value:h}=this.state,S=Boolean(r&&h),g=Object(E.getTextDirection)(h),I=c()(o.a,{showClear:S});return n.a.createElement("div",{className:d()(I.inputContainer,s)},n.a.createElement("input",babelHelpers.extends({},p,{value:h,className:d()(I.input,t,I.rtlRemoveInput,I.rtlRawInput),ref:e=>this.bidiInput=e,onChange:this.handleChange},g&&{dir:g})),S&&n.a.createElement("span",{className:d()(I.clearButtonContainer,a)},n.a.createElement(_.a,{kind:u.b.CLEAR,size:u.d.XXS,colorState:l,title:this.context.intl.formatMessage(m.clearButton),className:I.clearButton,onClick:i,"data-test-id":"clear-button"})))}}h.contextTypes={intl:p.i},h.defaultProps={value:"",onChange(){},isClearable:!1,onClear(){},containerClassName:"",focusOnMount:!1,clearIconColorState:u.a.FAINT},t.a=h},,function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"e",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"c",function(){return l});const a="&id=",n="&partner=",r="&actp=productlink",o="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL_WEB&locale=",i={"de-DE":"de_DE","de-AT":"de_AT","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-JO":"en_JO","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-TH":"en_TH","en-US":"en_US","en-ZA":"en_ZA","es-AR":"es_ES","es-CL":"es_ES","es-CO":"es_ES","es-ES":"es_ES","es-MX":"es_ES","es-PE":"es_ES","es-US":"es_US","es-VE":"es_ES","fr-FR":"fr_FR","fr-BE":"fr_BE","fr-CA":"fr_CA","id-ID":"id_ID","it-IT":"it_IT","pt-BR":"pt_BR","vn-VN":"vn_VN","zh-Hant-TW":"zh_TW","zh-Hant-HK":"zh_HK"},c={SLN22036:"SLN28884",SLN4992:"SLN28885",SLN26611:"SLN28838",SLN28055:"SLN28824",SLN28056:"SLN28813",SLN5283:"SLN28886",SLN28068:"SLN28808",SLN28071:"SLN28825",SLN6265:"SLN28887",SLN26757:"SLN28888",SLN25582:"SLN28889",SLN8271:"SLN28890"},l={VIEWMAIL:"/img/viewing_email.png",NOTIFICATIONS:"/img/notification.gif",VACATION_RESPONSE:"/img/vacation_response.png",FILTER:"/img/filters.png",SOCIAL:"/img/social_accounts.png",ACCOUNTS:"/img/accounts.png",CATEGORIZATION:"/img/categorization.png"}},function(e,t,s){"use strict";s.d(t,"a",function(){return h});var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(26),c=s.n(i),l=s(4),d=s(143),E=s(38),_=s(210);let u,p;class m extends o.a.Component{render(){return null}}function h(e,t){if(u)return;u=document.createElement("div"),(p=document.getElementById("app")).appendChild(u);const s=o.a.createElement(m,{context:t},e),a=Object(_.a)(function(e){class t extends o.a.Component{constructor(t){super(t),this.unmountModal.bind(this),this.children=e.props.children}getChildContext(){return{intl:e.props.context.intl,store:e.props.context.store,config:e.props.context.config,navigateTo:e.props.context.navigateTo,timezone:e.props.context.timezone,getStore:e.props.context.getStore,executeAction:e.props.context.executeAction,getTheme:e.props.context.getTheme,getCss:e.props.context.getCss}}componentWillUnmount(){p&&p.removeChild(u),u=null}unmountModal(){c.a.unmountComponentAtNode(u)}render(){const[t]=o.a.Children.toArray(this.children),s=this.children.props;return o.a.createElement(l.f,window.AppIntl,o.a.createElement(d.FluxibleComponent,{context:e.props.context},o.a.cloneElement(t,{onPrimaryButtonClick:()=>{this.unmountModal(),s.onPrimaryButtonClick()},onSecondaryButtonClick:()=>{this.unmountModal(),s.onSecondaryButtonClick()},onClose:()=>{this.unmountModal(),s.onClose&&s.onClose()},onAccept:()=>{this.unmountModal(),s.onAccept()}})))}}return t.childContextTypes={intl:l.i,store:n.a.object,config:n.a.object,navigateTo:n.a.func,timezone:E.e,getStore:n.a.func,executeAction:n.a.func,getTheme:n.a.func,getCss:n.a.func},t}(s));c.a.render(o.a.createElement(a,null),u)}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(11),i=s.n(o),c=(s(0),s(8),s(33)),l=s(512),d=s.n(l),E=s(142);const _=i()(d.a),u=Object(r.h)({ariaLabel:{id:"folder_label_with_count",defaultMessage:"{folderName}, {count, plural,\n            =0 {}\n            other {# unread}\n        }"}});function p({folderDisplayType:e="",name:t,prefix:s="",count:a},{intl:r}){const o=s+(Object(c.m)(r.formatMessage,e)||t),i=r.formatMessage(u.ariaLabel,{folderName:o,count:a}),l="rtl"===Object(E.getTextDirection)(o)?_.rtlIgnoreDirRTL:_.rtlIgnoreDirLTR;let d;return a&&(d=` (${r.formatNumber(a)})`),n.a.createElement("span",{className:d?_.container:"","aria-live":!0,role:"heading","aria-label":i},n.a.createElement("span",{className:l+" "+(d?_.label:""),"aria-hidden":!0,"data-test-folder-name":t},o),d?n.a.createElement("span",{className:_.count,"aria-hidden":!0},d):null)}p.defaultProps={count:0},p.contextTypes={intl:r.i.isRequired},t.a=p},function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"f",function(){return l}),s.d(t,"d",function(){return d});s(10);var a=s(8);const n=15,r=25,o=185,i=52,c=15,l=32,d=Object(a.c)(["SWITCH","CHECKBOX"])},function(e,t,s){"use strict";var a=s(4);t.a=Object(a.h)({mailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"}})},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(578),c=s.n(i);class l extends o.a.Component{constructor(...e){var t;return t=super(...e),this.renderSegment=((e,t,s,a)=>{if(!e)return null;return o.a.createElement("div",{className:`${s===t?a.activeSegment:a.inactiveSegment} ${a.button}`}," ",e," ")}),t}render(){const e=this.context.getCss(c.a,{isOnDarkBackground:this.props.isOnDarkBackground}),{children:t,activeIndex:s}=this.props;return o.a.createElement("div",{className:e.container,"data-test-id":"segmented-control"},o.a.Children.map(t,(t,a)=>this.renderSegment(t,a,s,e)))}}l.contextTypes={getCss:n.a.func},l.defaultProps={activeIndex:-1,isOnDarkBackground:!1},t.a=l},,,function(e,t,s){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z281SGl o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRpVF o_h G_e J_x Q_fq7 E_fq7",remove:"o_h G_e J_x Q_fq7 E_fq7 p_a R_0 W_6LEV H_6LEV r_P",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_Z2uhb3X q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_Z2uhb3X q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_52qC k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_ZqTdtW p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_1I4yPF cZ1WADfW_1I4z5p",relatedContactsContainer:"M_fq7 D_F gl_FM",relatedContacts:"M_2gqwFT",relatedContactsClose:"P_eo6 r_P"},autotag:{typeaheadDropDown:"a_3rJgR",relatedContacts:"A_6EqO C_Z1VRpVF u_e69 Q_6Eb4"},showCcBcc:{pillsContainer:"K_FB7P8"}},_key:"Z290mtQ"}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(92),o=s(12),i=s(14),c=s(541),l=s.n(c),d=s(11),E=s.n(d),_=s(293),u=s(10),p=s(142);const m=300,h=E()(l.a);class S extends n.a.Component{constructor(...e){var t;return t=super(...e),this.popoverDidAppear=(()=>{this._popover&&this.props.popoverDidAppear(this._popover)}),this.setPopoverRef=(e=>{this._popover=e}),this.rerenderIfPopoverNotEnabled=(()=>{this.tooSoonToRender&&this.forceUpdate()}),this.tooSoonToRenderPopover=(()=>{const{createdTime:e}=this.props;return this.tooSoonToRender=e&&Date.now()-e<1e3,this.tooSoonToRender}),t}render(){const{email:e,isCompose:t,isDisabled:s,name:a,popoverZIndex:c}=this.props,l="ltr"===Object(p.getTextDirection)(a+" "+e)?h.rtlIgnoreDirLTR:h.rtlIgnoreDirRTL;return this.tooSoonToRenderPopover()||t&&!Object(i.m)(e)?n.a.createElement("span",{className:h.anchor,onMouseEnter:this.rerenderIfPopoverNotEnabled,onMouseLeave:this.rerenderIfPopoverNotEnabled,"data-test-id":"email-pill-without-popover"},this.props.children):n.a.createElement(r.c,{arrowSize:o.b.M,permittedArrowDirections:[o.g.ANY],triggerOn:r.b.HOVER_DELAYED,triggerDelayTime:m,triggerOff:r.a.HOVER_OUT|r.a.DRAG_START|r.a.CLICK,disabled:s,zAltitude:c,onShown:this.popoverDidAppear,ref:this.setPopoverRef},n.a.createElement("span",{"data-test-id":"email-pill",className:h.anchor+" "+l},this.props.children),n.a.createElement(_.a,{key:e,email:e,isCompose:t,withBackground:!1,name:a}))}}S.defaultProps={isDisabled:!1,popoverZIndex:u.ZIndices.POPOVER.HIGH,popoverDidAppear:()=>{}},t.a=S},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i});var a=s(4),n=s(8);const r=Object(n.c)(["READY","PENDING","SUCCESS","FAILURE"]),o=Object(n.c)(["HUFFPOST"]),i=[{id:"HUFFPOST-c1fb2d6bc59dbabb03c6369b73d9ece3",provider:o.HUFFPOST,icon:"subscriptions_huffpost.png",name:"The Morning Email",strings:Object(a.h)({description:{id:"HUFFPOST-c1fb2d6bc59dbabb03c6369b73d9ece3.description",defaultMessage:"Wake up to the day's most important news from HuffPost."}}),email:"dailybrief@huffpost.com",subid:"c1fb2d6bc59dbabb03c6369b73d9ece3"}]},function(e,t,s){"use strict";var a=s(58);t.a=s.n(a).a.create("norrin/bootcamp_client")},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(16),o=s(137),i=s(15),c=s(21),l=s(30),d=s(3),E=s(564),_=s.n(E),u=s(11),p=s.n(u),m=s(10),h=s(4);const S=Object(h.h)({close:{id:"dualActionDialog.close",defaultMessage:"Close"}}),g={margin:`${4*m.GRID_UNIT}px ${m.GRID_UNIT}px ${5*m.GRID_UNIT}px 0`};class I extends n.a.Component{constructor(...e){var t;return t=super(...e),this.handlePrimaryButtonClick=(e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)}),this.handleSecondaryButtonClick=(e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)}),this.handleClose=(e=>{e.stopPropagation(),this.props.onClose(e)}),this.handleKeyDown=(e=>(e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onPrimaryButtonClick(e)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onClose(e)):void 0)),t}render(){const{formatMessage:e}=this.context.intl,{title:t,hideIcon:s,showCustomTitle:a,customTitle:E,onOuterClick:u,wideContainer:m=!1}=this.props;let{message:h}=this.props;const I=e(this.props.primaryButtonLabel),C=e(this.props.secondaryButtonLabel),T=p()(_.a,{hideIcon:s,wideContainer:m});return h||(h=this.props.children),n.a.createElement(o.a,{onClose:this.handleClose,onKeyDown:this.handleKeyDown,onOuterClick:u},n.a.createElement("div",{className:T.container,"data-test-id":"dual-action-dialog"},s?null:n.a.createElement("div",{className:T.icon},n.a.createElement(i.b,{kind:d.b.EXCLAMATION_ALT,size:d.d.L,colorState:d.a.WARNING_GRAD_RED})),n.a.createElement("div",{className:T.header},a?E:n.a.createElement("div",{className:T.title,"data-test-id":"title"},t),n.a.createElement("div",{className:T.close},n.a.createElement(c.a,{onClick:this.handleClose,kind:d.b.CLOSE,size:d.d.XS,title:e(S.close),"aria-label":e(S.close),"data-test-id":"close-btn"}))),n.a.createElement("div",{className:T.message,"data-test-id":"message"},h),n.a.createElement("div",{className:T.controls},n.a.createElement(r.a,{onClick:this.handlePrimaryButtonClick,style:g,"data-test-id":"primary-btn"},I),n.a.createElement(r.a,{onClick:this.handleSecondaryButtonClick,kind:l.a.SECONDARY,style:g,"data-test-id":"secondary-btn"},C))))}}I.contextTypes={intl:h.i.isRequired},I.defaultProps={primaryButtonLabel:S.defaultprimaryButtonLabel,secondaryActionLabel:S.defaultsecondaryActionLabel,hideIcon:!1},t.a=I},,function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return _}),s.d(t,"c",function(){return p}),s.d(t,"d",function(){return h});var a=s(0),n=s(139),r=s(118),o=s.n(r);function i(e=[]){const t=[];return e.forEach(e=>{Object.keys(e.entities).forEach(s=>{const n=e.entities[s];t.push(Object.assign({},n,e.intent===a.Ad.ALL?{name:o()(n.name)}:null))})}),t}function c(e=[]){return i(e.filter(e=>e.intent===a.Ad.PEOPLE).filter(e=>{const t=e.entities;return Object.keys(t).forEach(e=>{const s=t[e];s.type!==a.Bd.PERSON||s.emailIds&&0!==s.emailIds.length||delete t[e]}),Boolean(Object.keys(t).length)}))}function l(e){return i(e.filter(e=>e.intent===a.Ad.ALL).filter(e=>{const t=e.entities;return Object.keys(t).forEach(e=>{const s=t[e];s.type!==a.Bd.KEYWORD||s.name||delete t[e]}),Boolean(Object.keys(t).length)}))}function d(e=[],t){const s=new RegExp("(^|\\s)"+Object(n.a)(t),"gi");return e.filter(e=>{const{name:a="",backyard:n="",emails:r=[]}=e,o=a+" "+n+" "+r.join(" ");return t&&-1!==o.search(s)}).map(e=>(function(e){return{emailIds:e.emails,imageUrl:`https://proddata.xobni.yahoo.com/v4/contacts/${e.xobniId}/photo`,name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:a.Bd.PERSON}})(e)).filter((e,t,s)=>s.findIndex(t=>t.serviceId===e.serviceId)===t)}function E(e=[],t=[]){const s=e.map(e=>{const s=t.find(t=>t.serviceId===e.serviceId);return void 0!==s?s:e}),a=t.filter(e=>!s.find(t=>t.serviceId===e.serviceId));return[].concat(s,a)}function _(e){const t=[];return e.forEach(e=>{e.emailIds.forEach(s=>{const a=JSON.parse(JSON.stringify(e));a.emailIds=[s],t.push(a)})}),t}function u(e,t=""){const s=[];return e.forEach(e=>{e.query&&-1!==e.query.indexOf(t)&&s.push({type:a.Bd.RECENT,name:e.query})}),s}function p(e=[],t=[],s=[],a,n=!1,r=!1){const o=a&&""===a.trim();if(!r&&o)return[];const i=c(e),_=l(e).slice(0,6),p=d(t,a),m=u(s,a),h=E(p,i);let S=[],g=0;return g=Math.max(0,2-h.length)+Math.max(0,2-_.length)+Math.max(0,2-m.length),h.length&&(S=h.slice(0,2+g),g-=Math.max(0,S.length-2)),S=S.concat(_.slice(0,2+g)),g-=Math.max(0,S.length-4),m.length&&n&&(S=S.concat(m.splice(0,2+g))),S.slice(0,6)}function m(e,t=!1){return{type:a.Bd.HEADER,headerType:a.zd[e],firstEntry:t}}function h(e=[],t=[],s=[],n="",r=!1,o=!1){const i=""===n.trim();if(!o&&i)return[];const _=c(e),p=l(e).slice(0,4),h=d(t,n),S=r?u(s,n):[],g=E(h,_);let I;const C=[],T=[];if((I=i?S.length?S:p:p.length?p:S).length){const e=0===_.length;C.push(m(I[0].type===a.Bd.KEYWORD?a.Bd.KEYWORD:a.Bd.RECENT,e))}g.length&&T.push(m(a.Bd.PERSON,!0));const A=2+Math.max(0,2-I.length),O=2+Math.max(0,2-g.length);return[].concat(T,g.slice(0,A),C,I.slice(0,O))}},function(e,t,s){"use strict";s.d(t,"f",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"b",function(){return d});var a=s(1),n=s(0);function r({altListId:e,query:t,id:s},r){return{type:a.a.GIF_FETCH_SUCCEEDED,listId:e,response:{[n.Db.GIFS]:{[n.Eb.GIFS]:r}},query:t,id:s}}function o({altListId:e,query:t,id:s},n){return{type:a.a.GIF_FETCH_FAILED,err:n,listId:e,query:t,id:s}}function i(e){return babelHelpers.extends({},e,{type:a.a.GIF_FETCH_REQUESTED})}function c(e){return babelHelpers.extends({},e,{type:a.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED})}function l(e){return babelHelpers.extends({},e,{type:a.a.GIF_CATEGORIES_CONTENT_FETCH_FAILED})}function d(e){return babelHelpers.extends({},e,{type:a.a.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED})}},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.SEARCH_INPUT_FOCUSED},e),r=e=>babelHelpers.extends({type:a.a.SEARCH_LIST_ITEMS_FAILED},e),o=e=>babelHelpers.extends({type:a.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED},e),i=e=>babelHelpers.extends({type:a.a.SEARCH_LIST_ITEMS_RECEIVED},e)},,,,,,function(e,t,s){"use strict";t.a={loadScript:function(e){return new Promise((t,s)=>{const a=document.createElement("script"),n=document.getElementsByTagName("head")[0];a.readyState?a.onreadystatechange=(()=>{"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}):(a.onload=(()=>t()),a.onerror=(()=>s(new Error(`Failed to load script from ${e}`)))),a.type="text/javascript",a.setAttribute("data-origin","norrin"),a.setAttribute("data-inserted-time",Date.now()),a.src=e,n.appendChild(a),setTimeout(()=>n.removeChild(a),1e3)})}}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(26),c=s.n(i),l=s(4),d=s(91),E=s(15),_=s(73),u=s(14),p=(s(8),s(10),s(24)),m=s(11),h=s.n(m),S=s(527),g=s.n(S),I=s(3);const C=h()(g.a);var T=class extends o.a.Component{render(){return o.a.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:C.dragIcon,style:{left:this.props.x,top:this.props.y}},o.a.createElement(d.a,{title:"drag-icon",kind:this.props.iconKind,size:I.d.XS,colorStates:{normal:I.a.SELECTED,hovered:I.a.SELECTED}}),o.a.createElement("div",{className:C.counter},this.props.count))}},A=s(295),O=s.n(A);const b=Object(l.h)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"}});class R extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1},this.handleDragEnter=(()=>{this.setState({isDragHovered:!0})}),this.handleDragOnPill=((e,t)=>{this.setState({dragSide:t})}),this.handleDragLeave=(()=>{this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})}),this.shouldHandleDrop=(e=>e===this.refs.leftDragNode||e===this.refs.rightDragNode),this.handleDragOver=(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),this.handleDragEnd=(()=>{this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})}),this.renderDragImage=((e,t)=>{const s=e.cloneNode(!0),a=h()(O.a,{isDragImg:!0}),n=h()(O.a),r=s.getElementsByClassName("pill-close")[0],{clientHeight:i,clientWidth:l}=e;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=i+"px",this.imgContainer.style.maxWidth=l+10+"px",this.imgContainer.style.opacity=1,Object(p.g)(this.imgContainer),s.classList.remove.apply(s.classList,n.pillContent.split(" ")),s.classList.add.apply(s.classList,a.pillContent.split(" ")),r&&s.removeChild(r),this.imgContainer.appendChild(s),t>1){const e=document.createElement("div");e.style.position="absolute",c.a.render(o.a.createElement(T,{count:t,x:l-40,y:-14,iconKind:I.b.CONTACT_CARD}),e),this.imgContainer.appendChild(e)}return this.imgContainer}),this.removeDragImage=(()=>{if(this.imgContainer&&this.imgContainer.parentNode){const e=document.getElementById("icon-div");e&&e.parentNode&&(c.a.unmountComponentAtNode(e),e.parentNode.removeChild(e)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null}),this.handleDragStart=(e=>{const t=e.target,s=this,{selectedPills:a}=this.props,n={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId};let r=a.length;const o=a.findIndex(({name:e,email:t})=>n.name===e&&n.email===t);this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),e.dataTransfer.setData("text",JSON.stringify({contact:n,dragFromField:this.props.inputField})),e.dataTransfer.effectAllowed="move",Object(p.h)()&&(r>0&&-1===o&&(r+=1),e.dataTransfer.setDragImage(this.renderDragImage(t,r),0,0)),setTimeout(function(){s.props.handleDragState(!0),s.setState({isSelfDrag:!0})})}),this.handleDrop=((e,t)=>{this.shouldHandleDrop(e.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(e,t,this.props.contactId))}),this.handleOnKeyDown=(e=>{e.stopPropagation()}),this.handleHover=(e=>{this.setState({hovered:e})}),this.renderPillImage=(e=>{const{isFolderPill:t,contactEmail:s,contactId:a,pillFujiKind:n,pillFujiSize:r,pillFujiColorState:i}=this.props,c=Object(u.m)(s);return t?o.a.createElement("div",{"data-test-id":"pill-folder",className:e.pillDiv},o.a.createElement(E.b,{kind:n,colorState:i,size:r})):c?o.a.createElement("div",{"data-test-id":"pill-avatar",className:e.avatar},o.a.createElement(_.c,{contact:{id:a,email:s},size:_.b.S})):null}),this.renderDraggedPill=((e,t)=>e?o.a.createElement("div",{className:t.dragHoverContent,"data-test-id":"drag-hover-content"},o.a.createElement("div",{ref:"leftDragNode",className:t.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"left"),onDrop:e=>this.handleDrop(e,"left")}),o.a.createElement("div",{ref:"rightDragNode",className:t.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"right"),onDrop:e=>this.handleDrop(e,"right")})):null),this.renderRemovePill=((e,t,s)=>(this.props.isSelected||e)&&this.props.onPillRemove?o.a.createElement("div",{className:"pill-close "+t.pillRemove},o.a.createElement(d.a,{kind:I.b.CLOSE_MINI,size:I.d.XXS,colorStates:s?{normal:I.a.DISABLED,hovered:I.a.SELECTED}:{normal:I.a.DISABLED,hovered:I.a.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(b.remove_contact)})):null),this.handleChange=(e=>{this.props.onPillUpdate(e.target.value)}),this.handleKeyDown=(e=>{this.setState({inputWidth:8*e.target.value.length,inputValue:e.target.value}),e.stopPropagation()}),t}componentDidMount(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentDidUpdate(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentWillReceiveProps(e){if(this.props.title!==e.title){this.setState({inputValue:e.title,inputWidth:e.title.length?8*(e.title.length+1):300})}}render(){const{hovered:e,isDragHovered:t,dragSide:s,isSelfDrag:a}=this.state,{useEllipsis:n,isSelected:r,maxWidth:i,isDark:c,isFolderPill:l,isDragged:d,isEditing:E}=this.props,_=Object(u.m)(this.props.contactEmail),p=!_,m=h()(O.a,{isHovered:e,hasError:p,isSelected:r,useEllipsis:n,isDark:c,isFolderPill:l,dragSide:s,isDragged:a||d});let S;n&&i&&(S={maxWidth:i});const{title:g}=this.props;if(E){return o.a.createElement("div",{className:"pill-container "+m.pillContainer,onBlur:this.handleChange},o.a.createElement("input",{ref:e=>{this.editInputPill=e},"data-test-id":"edit-pill-input",className:m.editInput,type:"text",defaultValue:this.state.inputValue||this.props.title,onKeyDown:this.handleKeyDown,style:{width:(this.state.inputWidth||"300")+"px"}}))}return o.a.createElement("div",{className:"pill-container "+m.pillContainer},o.a.createElement("div",{"data-test-id":"pill",title:g,"aria-label":this.props.value,className:"pill-content "+m.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.dragDropPill&&this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(m),o.a.createElement("div",{"data-test-id":"pill-text",className:m.pillText,style:S},this.props.value),this.renderRemovePill(e,m,_)),this.renderDraggedPill(t,m))}}R.contextTypes={intl:l.i.isRequired,config:n.a.object},R.defaultProps={onPillClick:()=>{},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],dragDropPill:!0,isEditing:!1};t.a=R},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return d});var a=s(59);const n="[a-zA-Z0-9-_]*",r={start:0,end:0},o="yahoo_quoted";function i(e){if(0===e.length)return!1;const{divIds:t}=e[0];return 0!==t.length}function c(e,{divIds:t=[]}){const s=[];let o=r;return t.forEach(t=>{let i=r;try{i=function(e,{divId:t}){let s,a;const o=new RegExp("<div[^>]+id=[\"']"+n+t+n+"[\"'][^>]*>","gm").exec(e);if(!o)return r;const i=e.slice(o.index),c=/<div|<\/div>/gi;for(s=0;s>0||!a||"</div>"!==a[0];){const e=c.exec(i);if(!e){(a=[""]).index=i.length;break}"<div"===(a=e)[0]?s++:s--}return{imbalancedBy:s,start:o.index,end:o.index+a.index+a[0].length}}(e.slice(o.end),{divId:t})}catch(e){a.a.error("Mismatched HTML tags",{divId:t,error:e})}i!==r&&(i.start+=o.end,i.end+=o.end,s.push(i),o=i)}),s}function l(e="",t=[]){if(!i(t))return{nonQuote:e,quote:""};const s=c(e,{divIds:t[0].divIds});let a="",n="",o=r;for(let t=0;t<s.length;t++){const{start:r,end:i,imbalancedBy:c}=s[t];a+=e.slice(t>0?o.end:0,r),n+=e.slice(r,i),c>0&&(n+=new Array(c).fill("</div>").join("")),o=s[t]}return{quote:n,nonQuote:a+=e.slice(o.end)}}function d(e="",t=[],s=!1){if(!i(t))return{messageAbove:e,messageBelow:"",expandable:!1};const a=c(e,{divIds:t[0].divIds});let n=r,o=!1;const l=[],d=[];for(let t=0;t<a.length;t++){const{start:r,end:o,imbalancedBy:i}=a[t];if((0===t?l:d).push(e.slice(n.end,r)),s){let t=e.slice(r,o);i>0&&(t+=new Array(i).fill("</div>").join("")),d.push(`<div class="qtd-body">${t}</div>`)}n=a[t]}return 0===a.length?l.push(e):(d.push(e.slice(n.end)),o=!0),{messageAbove:l.join(""),messageBelow:d.join(""),expandable:o}}},,function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c});var a=s(7),n=s(0),r=s(89);const o=e=>{const{getPlaAdsSelectors:t}=e,{plaAdsData:s}=t().getPlaAdsData(!0);return s&&s.length>0},i=(e,t,s)=>{const{getRoute:o,isFeatureEnabled:i,getListsSelectors:c,getCouponsSelectors:l,getRecommendedItemCardSelectors:d}=s,E=o(),_=Object(a.t)(E),u=c().getSearchCoupons(_),p=i(n.kb.COUPONS_ON_SEARCH_RIGHT_RAIL)&&!!u&&!!u.length,m=E.name===n.Pc.SEARCH,h=m&&!!Object(a.k)(_),{gptCategoryList:S}=l().getCouponsGPTData(),g=i(n.kb.PLA_ADS_FOR_RECOMMENDATION_EMAILS),I=d().getRecommendedItemList();return e===n.kb.PLA_SEARCH_ADS?t&&m&&Object(r.c)(!0,s)&&!p&&!h&&!Object(a.K)(_)&&Object(a.q)(_)===n.Db.MESSAGES:e===n.kb.PLA_ADS_ON_COUPON_MESSAGE_READ?t&&Object(r.b)(t,s)&&S.length>0:e===n.kb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ?g&&Object(r.b)(!0,s)&&I.length>0:void 0},c=(e,t,s)=>{const{getSetting:a}=e,r=a(n.id.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION).bucketId,o=-1!==[n.yc.bucket_3,n.yc.bucket_4].indexOf(r);return t&&o?`${t} ${s}`:t}},function(e,t,s){"use strict";function a(e,t,s){let a=t.getBoundingClientRect();const n=e.ownerDocument.documentElement.offsetHeight,r=e.ownerDocument.documentElement.offsetWidth,o=e.getBoundingClientRect(),i=-o.width,c=8,l={below:n-o.bottom-c,above:o.top-c,left:o.left-i,right:r-o.right-i},d={},E=Math.floor(.9*Math.max(l.above,l.below)),_=Math.floor(.9*Math.max(l.left,l.right));if(a.height>E&&(d.maxHeight=E),a.width>_&&(d.maxWidth=_),d.maxHeight||d.maxWidth){d.overflow="auto";const e=d.maxHeight||a.height,t=d.maxWidth||a.width;a=Object.assign({},a,{height:e,width:t,bottom:a.top+e,right:a.left+t})}const u=.9*l.below-a.height>=0,p=.9*l.above-a.height>=0,m=.9*l.left-a.width>=0,h=.9*l.right-a.width>=0;return s&&h?d.left=o.left-a.width-i:h?d.left=o.right+i:m&&(d.left=o.left-a.width-i),u?d.top=o.bottom+c:p&&(d.top=o.top-a.height-c),d}s.d(t,"a",function(){return a})},function(e,t,s){"use strict";s.d(t,"h",function(){return r}),s.d(t,"g",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"f",function(){return E}),s.d(t,"e",function(){return _});var a=s(1),n=s(9);const r=e=>({type:a.a.LIST_SAVED_SEARCH_SUCCEEDED,savedSearches:e}),o=e=>({type:a.a.LIST_SAVED_SEARCH_FAILED,error:e}),i=e=>{let{name:t,query:s,decorations:r,priority:o,parentMessageId:i}=e,c=babelHelpers.objectWithoutProperties(e,["name","query","decorations","priority","parentMessageId"]);return(e,l)=>{const{getAccountIdByFolderId:d,getMessageFolderId:E}=Object(n.b)(l()),_=d(E(i));e(babelHelpers.extends({type:a.a.CREATE_SAVED_SEARCH_REQUESTED,name:t,query:`acctId:${_} AND ${s}`,decorations:r,priority:o},c))}},c=e=>({type:a.a.CREATE_SAVED_SEARCH_SUCCEEDED,savedSearches:[].concat(e)}),l=e=>({type:a.a.CREATE_SAVED_SEARCH_FAILED,error:e}),d=e=>{let{query:t,parentMessageId:s}=e,r=babelHelpers.objectWithoutProperties(e,["query","parentMessageId"]);return(e,o)=>{const{getSavedSearchesSelectors:i,getAccountIdByFolderId:c,getMessageFolderId:l}=Object(n.b)(o()),{getSavedSearchesByQuery:d}=i(),E=c(l(s)),[{id:_}]=d(`acctId:${E} AND ${t}`);e(babelHelpers.extends({type:a.a.DELETE_SAVED_SEARCH_REQUESTED,savedSearchId:_},r))}},E=e=>({type:a.a.DELETE_SAVED_SEARCH_SUCCEEDED,savedSearchId:e}),_=e=>({type:a.a.DELETE_SAVED_SEARCH_FAILED,error:e})},function(e,t,s){"use strict";s.d(t,"h",function(){return n}),s.d(t,"g",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return E});var a=s(1);const n=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED}),r=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_CONNECT_FAILED}),o=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED}),i=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED}),c=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED}),l=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_IMPORT_FAILED}),d=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNTS_STATUS_RECEIVED}),E=e=>babelHelpers.extends({},e,{type:a.a.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED})},function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.RECENT_SEARCHES_SUCCEEDED},e),r=()=>({type:a.a.RECENT_SEARCHES_FAILED}),o=e=>({type:a.a.DELETE_RECENT_SEARCH_REQUESTED,keyword:e}),i=e=>babelHelpers.extends({type:a.a.DELETE_RECENT_SEARCH_SUCCEEDED},e),c=()=>({type:a.a.DELETE_RECENT_SEARCH_FAILED})},,function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i});const a=/</g,n=/"/g;function r(e,t,s){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,s)}function o(e){return r(e,a,"&lt;")}function i(e){return r(e,n,"&quot;")}},,,,,,,,,,function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r);class i extends o.a.Component{componentDidMount(){const{getUnsyncedData:e}=this.props;this.context.store&&this.context.store.registerUnsyncedDataHandler&&(this.unsyncedDataHandler=this.context.store.registerUnsyncedDataHandler(e))}componentWillUnmount(){this.unsyncedDataHandler&&this.unsyncedDataHandler.remove()}render(){return this.props.children||null}}i.contextTypes={store:n.a.object},t.a=i},function(e,t,s){"use strict";e.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO iy_A",sponsoredMessageContainer:"I_52qC",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_Z17Hvh7 D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z2aVTcY",emptyBodyMessage:"Q_fq7 E_fq7",button:"A_6DUj C_Z1VRpVF Q_36Jhx",textContainer:"J_EN"},printView:{bodyContainer:"P_0 iy_q",leftRightPadding:"jb_0 X_6MGW N_6MGW"}},_key:"Z1fROpB"}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(13),c=s(25),l=s(4),d=s(38),E=s(234),_=s(21),u=s(144),p=s(73),m=s(172);const h=s(2),S=s(840),g=s(11),I=5,C=Object(l.h)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}});class T extends h.Component{constructor(...e){var t;return t=super(...e),this.state={opened:!1},this.handleToggle=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({opened:!this.state.opened})}),t}render(){const e=g(S),{addresses:t,popoverZIndex:s}=this.props,{formatMessage:a}=this.context.intl,n=this.state.opened?t.length:I;var r=[h.createElement("span",{key:"label-"+this.props.label,className:e.label},this.props.label)];if(t.slice(0,n).forEach(({name:t,email:a},n,o)=>{r.push(h.createElement(m.a,{key:a,isCompose:!1,email:a,name:t,popoverZIndex:s},h.createElement("span",{className:e.email,key:n,title:a,"data-test-id":"message-to"},t||a))),n<o.length-1&&r.push(h.createElement("span",{key:n+"-sep",className:e.separator},","))}),t.length>n){r.push(h.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:e.button},a(C.and_x_more_recipients,{numNonVisibleAddresses:t.length-I})))}else this.state.opened&&r.push(h.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:e.button},a(C.hide_recipients)));return h.createElement("div",{className:e.container},r)}}T.contextTypes={intl:l.i};var A=T,O=s(141),b=s(11),R=s.n(b),D=s(354),f=s.n(D),N=s(9),M=s(133),L=s(134),y=s(50),P=s(0),v=s(10),F=s(60),U=s(24),H=s(78),k=s(5),G=s(8),w=s(3),x=s(55),B=s(20);const j=Object(l.h)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural,\n            =1 {an attachment}\n            other {attachments}\n        }"},header_print_message:{id:"header_print_message",defaultMessage:"Print"},sponsoredByViglinkMessageRead:{id:"viglink.sponsored_by_viglink_message_read",defaultMessage:"Sponsored link by Viglink"}});class V extends o.a.Component{constructor(e){super(e),this.handleStarClick=(e=>{e.stopPropagation();const{streamId:t,listId:s,groupId:a,message:n}=this.props;this.props.onToggleStar({streamId:t,streamItem:{messageIds:[n.id],id:a,listId:s}})}),this.handlePrintClick=(e=>{e.stopPropagation(),this.props.onPrint(e)}),this.handleAttachmentClick=(e=>{this.props.expanded&&(e.stopPropagation(),this.props.onAttachmentClick(e))}),this.handleReadClick=(e=>{e.stopPropagation();const{streamId:t,listId:s,groupId:a,message:n}=this.props;this.props.onToggleRead({streamId:t,streamItem:{messageIds:[n.id],id:a,listId:s}})}),this.handleKeyDown=(e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.props.onToggleExpand();break;default:return}}),this.renderPrintButton=(()=>{const{formatMessage:e}=this.context.intl,t=R()(f.a);return this.props.expanded&&this.props.onPrint?o.a.createElement("div",{className:t.print},o.a.createElement(_.a,{kind:w.b.PRINTER,size:w.d.XS,title:e(j.header_print_message),ariaLabel:e(j.header_print_message),colorState:w.a.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null}),this.handleToggleExpand=(e=>{this.addressInfoContainer.contains(e.target)?(e.preventDefault(),e.stopPropagation(),this.props.expanded||this.props.onToggleExpand()):this.props.onToggleExpand()}),this.burstOnClick=((e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),this.avatarClicked=(()=>{this.props.viglinkClicked({i13nModel:{mKey:k.e.MESSAGE_READ_AVATAR_CLICKED,sec:k.g.MSG_BODY,actionData:{url:this.props.contactLink}}})}),this.burstURL=Object(F.a)(e.starAnimation.lightGifURL),Object(U.d)(this.burstURL),this.state={shouldBurst:!1,flagged:e.message.flags.flagged}}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.message.flags.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.message.flags.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const{formatMessage:e}=this.context.intl,{message:t,expanded:a,onToggleStar:n,onToggleRead:r,expandable:i,idx:c,totalMessages:l,conversations:d,starRef:h,readRef:S,isOnModal:g,starredMailEnhanced:I,contactLink:C,viglinkEnabled:T,viglinkBlacklist:b}=this.props,{from:D,to:N,cc:M,bcc:L,date:y}=t.headers,{flagged:F,read:U}=t.flags,k=Object(O.a)(t.snippet,!0),G=I?a:null,x=R()(f.a,{expanded:a,expandable:i,flagged:F,highlightPosition:k,starEnhancedExpanded:G}),V=d?j.message_header_count_label:j.message_header_label,W=(t.attachments||[]).length,q=new Date(1e3*y),K=g?v.ZIndices.MODAL:v.ZIndices.POPOVER.MEDIUM,z=I?w.a.INHERITED:w.a.FAINT,Y=Object(H.c)(C,P.Pb),Z=C&&!b.some(e=>-1!==C.toLowerCase().indexOf(e)),X=T&&Z?{href:Y,target:"_blank",rel:"noreferrer",onClick:this.avatarClicked}:null;return o.a.createElement("header",{className:x.header,onClick:i?this.handleToggleExpand:null,onKeyDown:i?this.handleKeyDown:null,"aria-label":e(V,{idx:c+1,totalMessages:l})},o.a.createElement("span",{className:x.avatar},o.a.createElement("a",babelHelpers.extends({},X,{"data-test-id":"sender-logo"}),o.a.createElement(p.c,{contact:{email:D[0]&&D[0].email}}))),r?o.a.createElement("div",{className:x.readUnread,ref:S},o.a.createElement(_.a,{"data-test-id":"icon-btn-read",title:e(j[U?"mark_as_unread":"mark_as_read"]),"aria-label":e(j[U?"message_is_read":"message_is_not_read"]),"aria-pressed":!U,kind:w.b.CIRCLE,colorState:U?w.a.FAINT:w.a.SELECTED,size:w.d.XS,onClick:this.handleReadClick,paddingLess:!0})):null,o.a.createElement("div",{className:x.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},o.a.createElement("div",{className:x.fromRow},o.a.createElement("span",{"data-test-id":"message-from",className:x.fromField},D[0]?o.a.createElement(m.a,{isCompose:!1,email:D[0].email,name:D[0].name,popoverZIndex:K},D[0]&&D[0].name?o.a.createElement("span",null,D[0].name,a&&o.a.createElement("span",{className:x.fromEmail},"<",D[0].email,">")):D[0].email):null)),!a&&o.a.createElement("div",{className:x.snippetContainer,"data-test-id":"snippet"},o.a.createElement("div",{className:x.snippet},Object(O.b)(t.snippet,!0,x.highlightedTerm))),!a&&o.a.createElement(u.a,null),a&&N.length>0&&o.a.createElement(A,{label:e(j.message_to),addresses:N,popoverZIndex:K}),a&&M.length>0&&o.a.createElement(A,{label:e(j.message_cc),addresses:M,popoverZIndex:K}),a&&L.length>0&&o.a.createElement(A,{label:e(j.message_bcc),addresses:L,popoverZIndex:K})),o.a.createElement(B.a,{defer:!0,import:"./unsubscribe_button",message:t,cardExpanded:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,951))},_moduleResolver:function(){return 951}}),a&&o.a.createElement(u.a,null),this.renderPrintButton(),W>0?o.a.createElement("div",{className:x.attachment},o.a.createElement(_.a,{kind:w.b.ATTACHMENT,size:w.d.XS,title:e(j.message_has_attachment,{attachmentCount:W}),ariaLabel:e(j.message_has_attachment,{attachmentCount:W}),onClick:this.handleAttachmentClick,paddingLess:!0,colorState:w.a.DISABLED})):null,o.a.createElement("div",{className:x.date,"data-test-id":"message-date"},o.a.createElement(E.a,{date:q,long:!0,timezone:this.context.timezone.name})),n?o.a.createElement("div",{className:x.star,ref:h},this.state.shouldBurst?o.a.createElement("img",{title:e(j[F?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":F,src:this.burstURL,style:{height:"24px",width:"24px"}}):o.a.createElement(_.a,{title:e(j[F?"mark_as_unstarred":"mark_as_starred"]),"aria-label":e(j[F?"message_is_starred":"message_is_not_starred"]),"aria-pressed":F,kind:w.b.STAR,size:I?w.d.S:w.d.XS,colorState:F?w.a.STARRED:z,onClick:I?e=>{this.burstOnClick(e,F)}:this.handleStarClick,paddingLess:!0})):null)}}V.contextTypes={config:n.a.object.isRequired,intl:l.i.isRequired,timezone:d.e};t.a=Object(c.d)(Object(i.b)((e,t)=>{const s=Object(N.b)(e),{getRoute:a,getFeaturesSelectors:n,__patchV2MessageId__:r,getMainStreamListIds:o,doesContactIdExist:i,getContactById:c}=s,{listId:l,message:d}=t,E=d.id,_=Object(G.a)(t,"message.headers.from.0.email",""),u=n(),p=u.isEnabled(P.kb.STARRED_MAIL_ENHANCED),m=u.getSetting(P.id.STAR_ANIMATION),h=u.isEnabled(P.kb.VIGLINK),S=u.getSetting(P.id.VIGLINK_BLACKLIST),g=i(_)?c(_):void 0;return E?{contactLink:g&&g.website,viglinkEnabled:h,viglinkBlacklist:S,message:r(E,l),streamId:Object(x.a)(o(a())),starredMailEnhanced:p,starAnimation:m}:{message:d,starredMailEnhanced:p,starAnimation:m}}),Object(i.b)(void 0,(e,t)=>{const{message:s}=t,{flags:a}=s,{read:n,flagged:r}=a;return{onToggleRead:t=>e(n?Object(M.c)(t):Object(M.b)(t)),onToggleStar:t=>e(r?Object(L.c)(t):Object(L.b)(t)),viglinkClicked:t=>e(Object(y.C)(t))}}))(V)},,,function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(194),c=s.n(i);t.a=(e=>{var t,s;return s=t=class extends o.a.Component{getChildContext(){return{bindShortcut:(e,t,s)=>(s?c()(s):c.a).bind(e,t),unbindShortcut:(e,t=c.a)=>{if(!(t===c.a||t instanceof c.a))throw new TypeError("#context.unbindShortCut takes mousetrap as optional 2nd argument");t.unbind(e)}}}render(){return o.a.createElement(e,this.props)}},t.displayName="ReactKeyProvider",t.childContextTypes={bindShortcut:n.a.func,unbindShortcut:n.a.func},s})},function(e,t,s){"use strict";e.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_2ieea9 e4_dRA O4_N",menuLabel:"y_12BoOJ A_6EqO C_Z281SGl Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"y_12BoOJ A_6DUj C_Z1TsNWR",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",rtlRawHidden:"rtlR_rtlR_v_h rtlR_rtlR_D_ATgVd ",rtlRemoveHidden:"rtlRM_rtlRM_v_h rtlRM_rtlRM_D_ATgVd "}},_key:"2vslr6"}},function(e,t,s){"use strict";e.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"T_dRK W_6D6F p_R",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_52qC",errorContainer:"C_52qC",listLoadingRetry:"C_52qC"}},_key:"ZKdmn0"}},function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"g",function(){return d}),s.d(t,"f",function(){return E});var a=s(1),n=s(5);function r({messageId:e,params:t}){return{type:a.a.GET_INVITE_INFO_REQUESTED,messageId:e,params:t}}function o({messageId:e,inviteInfo:t}){return{type:a.a.GET_INVITE_INFO_SUCCEEDED,messageId:e,inviteInfo:t,i13nModel:{mKey:n.e.RSVP_LOADED,sec:n.g.RSVP_CARD,actionData:{msgID:e}}}}function i({messageId:e,error:t}){return{type:a.a.GET_INVITE_INFO_FAILED,messageId:e,error:t}}function c(e){return babelHelpers.extends({type:a.a.RESPOND_TO_INVITE},e,{i13nModel:{mKey:n.e.RSVP_CALENDAR_RESPONSE,sec:n.g.RSVP_CARD,actionData:{msgID:e.messageId,response:e.response}}})}function l({messageId:e}){return{type:a.a.RSVP_NAVIGATE_TO_CALENDAR,i13nModel:{mKey:n.e.RSVP_NAVIGATE_TO_CALENDAR,sec:n.g.RSVP_CARD,actionData:{msgID:e}}}}function d({uid:e,response:t,messageId:s}){return{type:a.a.RESPOND_TO_INVITE_SUCCEEDED,messageId:s,uid:e,response:t}}function E({uid:e,response:t,messageId:s}){return{type:a.a.RESPOND_TO_INVITE_FAILED,messageId:s,uid:e,response:t}}},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"d",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i});var a=s(0);const n="https://www.hipmunk.com/api/external/v1/autocomplete",r=3e4,o=`${a.Xd}/location_autosuggest_api/getLocationAutoSuggestion`,i=858204},,,,,,,,,function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o});var a=s(8);const n={ENABLED:"enabled",SELECTED:"selected",ADDING:"adding",END_DATE:"endDate",START_DATE:"startDate",MSG_BODY:"messageBody",DOMAIN_ONE:"domainOne",DOMAIN_TWO:"domainTwo",DOMAIN_MSG_BODY:"domainMessageBody",DOMAIN_ENABLED:"domainResponseEnabled"},r=Object(a.c)(["PREVIEW","EDITOR"]),o=Object(a.c)(["SAVE","SWITCH_ON","SWITCH_OFF","DELETE"])},,function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",rsvpContainer:"P_6Fd5 I_52qC m_Z12nDQf",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_52qC",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_52qC t_C r_P D_F ab_C P_1EuKY1 H_6TFj p_R ir3_1JO2M7 it3_689y",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1Xxgu0",scrollView:"iz_A em_0 Z_0",empty:"I_52qC W_6D6F t_C A_6FsP P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC D_X i_6VdP t_C I4_Z29WjXl ir3_1JO2M7 it3_dRA",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z281SGl",sponsoredMessageSource:"M_1IaimO A_6EWk u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4l8N j_ZlOSbd"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"16NQwX"}},function(e,t,s){"use strict";s.d(t,"f",function(){return n}),s.d(t,"g",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return l}),s.d(t,"i",function(){return d}),s.d(t,"h",function(){return E}),s.d(t,"a",function(){return _});var a=s(1);const n=()=>({type:a.a.VIDEO_PLAYER_CLOSED}),r=()=>({type:a.a.VIDEO_PLAYER_OPENED}),o=({payload:e})=>({type:a.a.VIDEO_CHANNELS_METADATA_RECEIVED,payload:e}),i=({error:e})=>({type:a.a.VIDEO_CHANNELS_METADATA_FAILED,error:e}),c=e=>babelHelpers.extends({type:a.a.VIDEO_CHANNEL_RECEIVED},e),l=e=>babelHelpers.extends({type:a.a.VIDEO_CHANNEL_FAILED},e),d=()=>({type:a.a.VIDEO_PLAYER_PLAYED}),E=()=>({type:a.a.VIDEO_PLAYER_PAUSED}),_=e=>babelHelpers.extends({type:a.a.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c});var a=s(1),n=s(9),r=s(5);const o=e=>(t,s)=>{const{getSearchSuggestions:o}=Object(n.b)(s());var i=o(e.query);return t(babelHelpers.extends({type:a.a.SUGGESTIONS_REQUESTED},e,{suggestions:i||void 0,i13nModel:{isBeaconEvent:!0,eventName:r.a.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"}}))},i=e=>babelHelpers.extends({type:a.a.SUGGESTIONS_RECEIVED},e),c=e=>babelHelpers.extends({type:a.a.SUGGESTIONS_FAILED},e)},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_2sqbOJ u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI gl_C M_0 D_F cZ1RN91d_n A_6EqO y_Z2uhb3X b_0 C_52qC r_P I4_2sqbPK ir3_1JO2M7 it3_dRA",searchInputContainer:"D_F W_6D6F s_3z5BY cj_dRA bk_dRA k_w b_0 I_52qC p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2uhb3X I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2uhb3X I_T C_Z1AHs3T p_a q_T L_0 Z_0",suggestionDropdown:"W_Z2mrcQq Z_fcS I_52qC k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z281SGl",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C W_1BJksS",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a",couponIndicator:"D_F C_Z2aVTcY q_2iedUU e_dRA H_6NIX ab_C P_SkAgv A_6EWk",headerLabel:"D_F P_sUAQ8 k_w H_6VdP y_Z2uhb3X u_e69 C_Z1VRpVF A_6EqO Y_fq7 z_Z28pSMW"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_6Eb4",searchInputContainer:"X_6DEy"},hasContactPill:{searchInput:"P_ZzrjY8"},firstEntry:{headerLabel:"Y_0 z_n"}},_key:"aOPl0"}},function(e,t,s){"use strict";s.d(t,"h",function(){return o}),s.d(t,"g",function(){return c}),s.d(t,"d",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"b",function(){return E}),s.d(t,"e",function(){return _}),s.d(t,"a",function(){return u}),s.d(t,"c",function(){return p});var a=s(4),n=s(163);const r=Object(a.h)({helpGroupAndDelete:{id:"view_mail_help_group_and_delete",defaultMessage:"Group and delete emails by conversations"},helpUnsubscribe:{id:"view_mail_help_unsubscribe",defaultMessage:"Unsubscribe from email lists"},helpAccessFromOtherComputer:{id:"view_mail_help_access_from_other_computer",defaultMessage:"Can I access {mailBrandNameString} from another computer?"},helpToggleNotification:{id:"notification_help_toggle_notification",defaultMessage:"Turn Desktop notifications on or off for {mailBrandNameString}"},helpCreateVacationResponse:{id:"vacation_response_create_vacation_response",defaultMessage:"Create a vacation response"},helpSortOrganizeEmail:{id:"filters_help_sort_organize_email",defaultMessage:"Use filters to sort and organize incoming email"},helpWronglyFiltered:{id:"filters_help_wrongly_filtered",defaultMessage:"An email was wrongly filtered as spam"},helpTrashFolder:{id:"filters_trash_folder",defaultMessage:"Email incorrectly delivered to the Trash folder"},helpReauthorize:{id:"social_accounts_help_reauthorize",defaultMessage:"Reauthorize LinkedIn connection in {mailBrandNameString}"},helpContactCard:{id:"social_accounts_help_contact_cards",defaultMessage:"Contact cards in {mailBrandNameString}"},helpChangeReplyAddress:{id:"accounts_change_reploy_address",defaultMessage:"Change your reply-to address in {mailBrandNameString}"},helpChangeAcName:{id:"accounts_change_account_name",defaultMessage:"Change your account name and nickname on Yahoo"},helpCreateUseDelExtra:{id:"accounts_create_use_del_extra_email",defaultMessage:"Create, use, and delete an extra email address"},helpCreateDiffID:{id:"accounts_create_diff_id",defaultMessage:"Create a different Yahoo ID or email address"},helpNoAdsHeader:{id:"mail_pro_info_no_more_ads_header",defaultMessage:"No more ads"},helpNoAdsHint:{id:"mail_pro_info_no_more_ads_hint",defaultMessage:"See your emails without any ads across all devices for this account"},helpEmailSupportHeader:{id:"mail_pro_email_support_header",defaultMessage:"Always-on email support"},helpEmailSupportHint:{id:"mail_pro_email_support_hint",defaultMessage:"Email your questions and comments anytime and get a prompt response from our customer service"}}),o=e=>(function(t,s=""){return-1!==(e=>{switch(e){case"att":case"sky":case"frontier":case"rogers":return["SLN4992","SLN15953","SLN2059"];default:return[]}})(s).indexOf(e)?null:n.b+(n.g[t]||"en_ZZ")+n.d+("att"===s&&n.f[e]?n.f[e]:e)+(!s||"ycorp"===s&&"verizon"===s?"":n.e+s+n.a)}),i={viewMail:[{text:r.helpGroupAndDelete,link:o("SLN28055")},{text:r.helpUnsubscribe,link:o("SLN28056")},{text:r.helpAccessFromOtherComputer,link:o("SLN5283")}],notifications:[{text:r.helpToggleNotification,link:o("SLN26611")}],vacationResponse:[{text:r.helpCreateVacationResponse,link:o("SLN28068")}],filter:[{text:r.helpSortOrganizeEmail,link:o("SLN28071")},{text:r.helpWronglyFiltered,link:o("SLN28056")},{text:r.helpTrashFolder,link:o("SLN6265")}],social:[{text:r.helpReauthorize,link:o("SLN26757")},{text:r.helpContactCard,link:o("SLN25582")}],accounts:[{text:r.helpChangeReplyAddress,link:o("SLN22036")},{text:r.helpChangeAcName,link:o("SLN4992")},{text:r.helpCreateUseDelExtra,link:o("SLN15953")},{text:r.helpCreateDiffID,link:o("SLN2059")}],mailPro:[{img:"/img/mail_pro_nomoreads.png",header:r.helpNoAdsHeader,hint:r.helpNoAdsHint},{img:"/img/mail_pro_support.png",header:r.helpEmailSupportHeader,hint:r.helpEmailSupportHint}]},c=i.viewMail,l=i.notifications,d=i.vacationResponse,E=i.filter,_=i.social,u=i.accounts,p=i.mailPro},function(e,t,s){"use strict";s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return E});var a=s(1),n=s(0),r=s(44),o=s(9);function i(e){return babelHelpers.extends({},e,{type:a.a.ATTACHMENT_ZOOMED})}function c(e,{i13nModel:t}){e.dispatch(a.a.ATTACHMENT_OPENED,{i13nModel:t})}function l(e,{documentId:t,pageNumber:s=1}){const{getDocumentSelectors:i}=Object(o.b)(e.store.getState()),c=i().getNumberOfPages(t)||n.s.PAGES_CHUNK_SIZE,{startPage:l,endPage:d}=Object(r.i)(s,c,n.s.PAGES_CHUNK_SIZE);e.dispatch(a.a.DOCUMENT_FETCH_REQUESTED,{documentId:t,startPage:l,endPage:d})}function d({attachment:e,i13nModel:t}){let{downloadUrl:s}=e;const{id:r,filename:o}=e;return e.source===n.xb.TRIPODWEB&&(s=function(e){const t=e.lastIndexOf(".");return e.slice(0,t)+"_d"+e.slice(t,e.length)}(s)),{attachment:e,type:a.a.ATTACHMENT_DOWNLOADED,download:{downloadId:r,downloadUrl:s,filename:o,fileCount:1},i13nModel:t}}function E({attachments:e,downloadUrl:t,downloadId:s,filename:n,i13nModel:r}){return{attachments:e,type:a.a.ALL_ATTACHMENTS_DOWNLOADED,download:{downloadId:s,downloadUrl:t,filename:n,fileCount:e.length},i13nModel:r}}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(128);s(8);const o="data:image/svg+xml;base64,",i={[r.a.EMPTY_FOLDER]:o+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",[r.a.SELECTED_MESSAGES]:o+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",[r.a.ATTACHMENT_PREVIEW_ERROR]:o+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",[r.a.PLAY_VIDEO]:o+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"};class c extends n.a.Component{render(){return n.a.createElement("img",{src:i[this.props.kind],width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}}c.defaultProps={width:48,height:48,altText:""},t.a=c},function(e,t,s){"use strict";s.d(t,"a",function(){return i});s(6);var a=s(2),n=s.n(a),r=s(157),o=(s(8),s(3));function i(e){const{isChecked:t,size:s}=e;return n.a.createElement(r.b,babelHelpers.extends({},e,{type:t?r.a.ALL:r.a.NONE,size:s}))}i.defaultProps={size:o.d.XS}},function(e,t,s){"use strict";var a=s(4),n=s(23),r=s(10);const o=()=>{},i=Object(a.h)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},emojiAltText:{id:"compose.emoji_image",defaultMessage:"Emoji"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"}}),{IMAGE_BIG_WIDTH:c}=n.INLINE_IMAGE_PLUGIN_SIZE,{INLINE_IMAGE_CLASS:l,EMOJI_WRAPPER_CLASS:d,ONLINE_GIF_CLASS:E,GIF_WRAPPER_CLASS:_}=n.INLINE_IMAGE_PLUGIN_CLASSES,u="https://s.yimg.com/nq/gif-providers/1/gif-providers/tenor.png",p="<div><br></div>";function m(e,t,s=o){try{const a=window.getSelection();e.restoreCaret(),a&&!e.element.contains(a.anchorNode)&&e.focus(),e.pushButton("insertHTML",t),e.saveUndo(),s()}catch(e){console.error(e)}}t.a={findGifWrapper(e){for(;e&&-1===e.className.indexOf(_);)e=e.parentNode;return e},insertEmoji(e,t,s){const a=new Image;a.alt=a.title=t(i.emojiAltText),a.classList.add(d),a.height=s.height,a.src=s.downloadLink,a.style.padding="0px 2px",a.style.verticalAlign="middle",a.width=s.width,m(e,a.outerHTML,()=>{e.contentChanged({type:"emoji_inserted",eventData:{emoji:s}})})},insertGif(e,t,s){const a=new Image;a.alt=a.title=s.altText,a.src=s.downloadLink,a.className=l+" "+E,a.setAttribute("data-id",Date.now()),a.draggable=!1,m(e,function(e,t,{onlineContentLink:s}){const a=e(i.gifPickerAttribution,{htmlImage:`<img src="${u}"/>`});let n={"font-size":r.FONT_SIZE_XXS,color:"#979ba7","margin-top":"8px","font-family":"Arial"};return n=Object.keys(n).map(e=>e+":"+n[e]).join(";"),p+`<div class="${_}" contentEditable="false">\n               <a rel="noreferrer"\n                   target="_blank"\n                   href="${s}"\n                   style="cursor:pointer;text-decoration: none;color:transparent"\n               >${t.outerHTML}\n                   <div style="${n}" class="rte-gif-attribution">${a}</div>\n               </a></div>`+p}(t,a,s),()=>{e.contentChanged({type:"gif_inserted",eventData:{gif:s}}),e.scrollCaretIntoView()})},getOffsetFromEditorContainer(e,t){const s={top:0,left:0};for(;t&&t!==e.element.parentNode&&t!==document.body;)s.top+=t.offsetTop,s.left+=t.offsetLeft,t=t.offsetParent;return s},insertInlineAttachment(e,t,s){const{contentId:a}=s,n=new Image;n.setAttribute("data-id",a),n.alt=n.title=t(i.inlineImageAltText),n.src=s.downloadUrl,n.classList.add(l),n.style.maxWidth=c+"px",n.draggable=!1,m(e,n.outerHTML+"<br/>",()=>e.scrollCaretIntoView())},isGif:e=>e.className.indexOf(_)>-1||e.className.indexOf(E)>-1,putCursorBefore(e){const t=window.getSelection(),s=document.createRange();s.setStartBefore(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},removeInlineImage(e,t,s=o){let a=n.EDITOR_EVENTS.inline_image_removed;this.isGif(t)&&(t=this.findGifWrapper(t.parentNode),a=n.EDITOR_EVENTS.gif_removed),t.parentNode.removeChild(t),e.contentChanged({type:a}),s()},fixOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:a}){if(e&&t&&s){const{scrollTop:n}=s,r=this.getOffsetFromEditorContainer(a,e);let o=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);r.left+o>a.element.clientWidth&&(o=a.element.clientWidth-r.left);let i=e.clientHeight;if(r.top<n){const e=r.top;r.top=n,i-=s.scrollTop-e}Object.assign(t.style,{left:r.left+"px",top:r.top+"px",width:o+"px",height:i+"px",position:"absolute"})}}}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(46);function i(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}class c extends n.a.Component{shouldComponentUpdate(e){const t=this.props;return e.date.getTime()!==t.date.getTime()||e.offset!==t.offset||e.timezone!==t.timezone||e.long!==t.long}render(){const{date:e,long:t,timezone:s="UTC"}=this.props,{intl:a}=this.context,{locale:c}=a,l=Object(o.s)(e,s),d=Object(o.r)({offset:l,timezone:s});return t?function(e,t,s,a,c){return n.a.createElement(r.c,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:i(e,t)?a.formatDate(e,{timeZone:s,day:"numeric",month:Object(o.n)(c)}):a.formatDate(e,{timeZone:s,day:"numeric",month:Object(o.n)(c),year:"numeric"}),time:a.formatTime(e,{timeZone:s,hour:"numeric",minute:"numeric"})}})}(e,d,s,a,c):function(e,t,s,a){return function(e,t){return e.getTime()>=t}(e,t)?n.a.createElement(r.e,{value:e,timeZone:s,hour:"numeric",minute:"2-digit"}):i(e,t)?n.a.createElement(r.a,{value:e,timeZone:s,day:"numeric",month:Object(o.n)(a)}):n.a.createElement(r.a,{value:e,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(e,d,s,c)}}c.contextTypes={intl:r.i},t.a=c},,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(139);const o=({haystack:e,needle:t,formatter:s,containerClassNames:a})=>{const[o,i,c]=Object(r.b)(e,t);return i?n.a.createElement("span",{className:a},o,s(i),c):n.a.createElement("span",{className:a},e)};o.defaultProps={formatter:e=>e,haystack:"",needle:""},t.a=o},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(15),o=s(3),i=s(44),c=s(0),l=s(10),d=s(11),E=s.n(d),_=s(563),u=s.n(_);const{SimplifiedTypes:p}=c.u,m=E()(u.a),h={[p.IMAGE]:o.b.ATTACH_IMAGE_48,[p.VIDEO]:o.b.ATTACH_MOVIE_48,[p.FILE]:o.b.ATTACH_GENERIC_48,[p.AUDIO]:o.b.ATTACH_SOUND_48,[p.COMPRESSED]:o.b.ATTACH_ZIP_48,[p.PDF]:o.b.ATTACH_PDF_48,[p.XLS]:o.b.ATTACH_XLS_48,[p.PPT]:o.b.ATTACH_PPT_48,[p.DOC]:o.b.ATTACH_DOC_48,[p.CAL]:o.b.ATTACH_ICS_48},S={[p.IMAGE]:o.a.ATTACH_MEDIA,[p.VIDEO]:o.a.ATTACH_MEDIA,[p.AUDIO]:o.a.ATTACH_MEDIA,[p.PDF]:o.a.ATTACH_PDF,[p.XLS]:o.a.ATTACH_EXCEL,[p.PPT]:o.a.ATTACH_SLIDE,[p.DOC]:o.a.ATTACH_DOC,[p.CAL]:o.a.ATTACH_CAL,[p.COMPRESSED]:o.a.ATTACH_COMPRESSED},g={[o.a.ATTACH_MEDIA]:`url(#${o.a.ATTACH_MEDIA}) ${l.PALETTE.ycolorPurple14a}`,[o.a.ATTACH_CAL]:`url(#${o.a.ATTACH_MEDIA}) ${l.PALETTE.ycolorPurple14a}`,[o.a.ATTACH_EXCEL]:`url(#${o.a.ATTACH_EXCEL}) ${l.PALETTE.ycolorTurquoise8a}`,[o.a.ATTACH_DOC]:`url(#${o.a.ATTACH_DOC}) ${l.PALETTE.ycolorBlue10b}`,[o.a.ATTACH_SLIDE]:`url(#${o.a.ATTACH_SLIDE}) ${l.PALETTE.ycolorPink1a}`,[o.a.ATTACH_PDF]:`url(#${o.a.ATTACH_SLIDE}) ${l.PALETTE.ycolorPink1a}`,[o.a.ATTACH_GENERIC]:`url(#${o.a.ATTACH_GENERIC}) ${l.PALETTE.ycolorBlue10a}`,[o.a.ATTACH_COMPRESSED]:`url(#${o.a.ATTACH_GENERIC}) ${l.PALETTE.ycolorBlue10a}`};t.a=function({disabled:e,type:t,subtype:s,isInverted:a}){const c=Object(i.d)(t,s),d=S[c]||o.a.ATTACH_GENERIC,E=a?l.DODGE_60:g[d];return n.a.createElement("svg",{style:{fill:e?l.THIRD_LEVEL_GRAY:E},viewBox:"0 0 20 20",className:m.attachmentIcon},r.a[h[c]||o.b.ATTACH_GENERIC_48])}},,function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"e",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"g",function(){return c}),s.d(t,"c",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"b",function(){return E});var a=s(0),n=s(8);const r="https://rover.ebay.com/rover/1/711-53200-19255-0/1?icep_id=114&ipn=icep&toolid=20004",o="https://www.ebay.com/svc/item-services?itemIds=",i="https://pages.ebay.com/services/hub.html",c={ELECTRONICS:"electronics",AUTOPARTS:"vehicle parts & accessories"},l="ebay@reply.ebay.com",d=Object(n.e)(c),E={[a.eb.TOP]:{[c.ELECTRONICS]:5338378194,[c.AUTOPARTS]:5338378198},[a.eb.RIGHT]:{[c.ELECTRONICS]:5338378196,[c.AUTOPARTS]:5338378199}}},,function(e,t,s){"use strict";s.d(t,"a",function(){return E}),s.d(t,"b",function(){return _});var a=s(170),n=s.n(a),r=s(123),o=s(1),i=s(0),c=s(9),l=s(292),d=s(24);function E(e,{serverInferredTimezone:t,lastObservedTimezone:s}){const{getEnvironmentSelectors:a,getSelectedAccountId:E}=Object(c.b)(e.store.getState());if(a().isAMT())return;const _=n.a.determine(),u=_&&_.name(),p=E();let m=null;if(Object(d.b)()){const e=new l.a({window:window});m=e.getClientTimeZone(),e.determineClientTimeZone()}!function(e,t,s){const{getFeaturesSelectors:a,getEnvironmentSelectors:n}=Object(c.b)(e.store.getState()),o=a(),l=n().isAMT();o.isEnabled("udb")&&(l||t&&t.server===s.server&&t.client===s.client||(o.isEnabled(i.kb.UDB_MIGRATION_COMPLETE)?e.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:i.Wb.LAST_OBSERVED_TIMEZONE,value:`${s.client||""}|${s.server||""}`}]}):e.udbClient.write({[r.a.YM_LAST_OBSERVED_TZ]:JSON.stringify(s)})))}(e,s,{client:u,server:t}),s&&u!==m&&u!==s.client&&u!==t&&e.dispatch(o.a.TIMEZONE_CHANGE_DETECTED,{accountId:p})}function _(e){e.dispatch(o.a.PREFERRED_TIMEZONE_CHANGE_REJECTED)}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(0);function n(e,t,s,n=a.Zd){const{id:r,email:o,iataCode:i}=e,c={spsize:t+"X"+t,fallback_url:s,alphatar_photo:!0,appId:n};let l;if(i)l=`/v4/tags/iata/${i}/photo`;else if(r&&r!==o)l="/v4/contacts/"+r+"/photo",c.badge=!0;else{if(!o)return s;l="/v4/endpoints/smtp:"+o+"/photo",c.format="image"}return a.Vd+l+"?"+Object.keys(c).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(c[e])).join("&")}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=(s(38),s(44)),l=s(262),d=s(230),E=s(11),_=s.n(E),u=s(353),p=s.n(u),m=s(5),h=s(15),S=s(3),g=s(150),I=s(21),C=s(13),T=s(9),A=s(0),O=s(46);const b=_()(p.a),R=Object(i.h)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"},harmfulAttachment:{id:"attachment.harmfulContent",defaultMessage:"This email was moved from Spam folder. Attachments may contain harmful content."},unsupportedFileType:{id:"attachment.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."}});class D extends o.a.Component{constructor(e){super(e),f.call(this);const{message:t}=e;this.state={combinedZipFilename:t?N(t.headers.subject):"",learnMoreShown:!1}}render(){const{readOnly:e,allowDownload:t,mayContainVirus:s,onAttachmentPreview:a,message:n,attachmentPreview:r,isCompact:d,allowInline:E}=this.props,u=_()(p.a,{isCompact:d,allowInline:E}),m=this.props.cepForward?Object(c.m)(Object(c.f)(this.getAttachments())):Object(c.f)(this.getAttachments(),E),{length:g}=m;return g?o.a.createElement("div",{className:u.tray},n&&n.downloadAllUrl&&t&&g>1?o.a.createElement("a",{className:u.downloadAllLink,href:n.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:e=>this._handleDownloadAllClick(e,m)},o.a.createElement("span",{className:u.downloadAllIcon},o.a.createElement(h.b,{kind:S.b.DOWNLOAD,size:S.d.XS,colorState:S.a.SELECTED})),o.a.createElement(i.c,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,s?this._renderWarningMsg():null,n&&n.id?this.renderSpamAttachmentWarning(n.id):null,this.renderUnsupportedAttachmentWarning(),o.a.createElement("ul",{className:u.ul},m.map((n,i)=>o.a.createElement("li",{key:i,className:u.item,"data-test-id":"attachment-tray-list-item"},o.a.createElement(l.a,{attachment:n,readOnly:e,allowDownload:t,mayContainVirus:s,onRemove:this.onItemRemove.bind(null,n),onClick:a.bind(null,n.id),isPreviewEnabled:t&&Boolean(r),onSendAsInlineImage:this.props.onSendAsInlineImage,richTextMode:this.props.richTextMode,isCompact:d,csid:this.props.csid}))))):null}}D.contextTypes={executeAction:n.a.func,config:n.a.object,intl:i.i.isRequired},D.defaultProps={onAttachmentRemove:()=>{},onAttachmentPreview:()=>{},richTextMode:!0,getAttachments:()=>[],attachments:[],cepForward:!1,allowInline:!1};var f=function(){this.onItemRemove=(e=>{this.props.readOnly||this.props.onAttachmentRemove(e)}),this._handleDownloadAllClick=((e,t)=>{e.stopPropagation(),e.preventDefault();const s=this.getDownloadAllFilename(),{id:a,downloadAllUrl:n}=this.props.message;this.props.handleDownloadAll({attachments:t,downloadId:a,downloadUrl:n,filename:s,i13nModel:{mKey:m.e.DOWNLOAD_ATTACHMENT_ALL,sec:m.g.MSG_READ_ATTACHMENT,mKeyGroup:m.f.dwnld_attmnt}})}),this.getDownloadAllFilename=(()=>`Attachments_${this.state.combinedZipFilename}.zip`),this._renderWarningMsg=(()=>{const{formatMessage:e}=this.context.intl,{learnMoreShown:t}=this.state;return o.a.createElement("div",{className:b.spamDownloadWarning},o.a.createElement(I.a,{colorState:S.a.WARNING,className:b.attentionIcon,kind:S.b.ATTENTION,size:S.d.XXS,title:e(R.warningIcon)}),o.a.createElement(i.c,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),o.a.createElement("button",{className:b.learnMore,onClick:()=>this.setState({learnMoreShown:!0}),"data-test-id":"learn-more"},o.a.createElement(i.c,{id:"attachment.learnmore",defaultMessage:"Learn more"})),t?o.a.createElement(g.a,{title:e(R.title),message:e(R.content),onAccept:()=>this.setState({learnMoreShown:!1})}):null)}),this.renderSpamAttachmentWarning=(e=>{if(this.props.shouldShowSpamAttachmentWarning(e))return o.a.createElement("div",{className:b.spamAttachmentWarning},o.a.createElement(I.a,{colorState:S.a.WARNING,className:b.attentionIcon,kind:S.b.EXCLAMATION_ALT,size:S.d.XXS,title:this.context.intl.formatMessage(R.harmfulAttachment)}),o.a.createElement(i.c,R.harmfulAttachment))}),this.renderUnsupportedAttachmentWarning=(()=>{if(Object(c.f)(this.getAttachments(),this.props.allowInline).filter(e=>!Object(c.l)(e.filename)).length){const{formatMessage:e,locale:t}=this.context.intl,s=e(R.unsupportedFileType);return o.a.createElement("div",{className:b.attachmentWarning},o.a.createElement(I.a,{colorState:S.a.WARNING,className:b.attentionIcon,kind:S.b.ATTENTION,size:S.d.XXS,title:s}),s,o.a.createElement("button",{className:b.attachmentWarningLearnMore,onClick:()=>window.open(Object(A.be)(t),"_blank")},o.a.createElement(i.c,{id:"alert.learn_more_url",defaultMessage:"Learn more"})))}}),this.getAttachments=(()=>{const{getAttachments:e,attachments:t}=this.props;return e().length?e():t||[]})};function N(e=""){if(!e||!/[a-z0-9]/i.test(e))return Object(O.m)(new Date).replace(/-/g,"");return e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20)}t.a=Object(C.b)(e=>{const{getFeaturesSelectors:t}=Object(T.b)(e),s=t();return{attachmentPreview:s.isEnabled("attachmentPreview"),cepForward:s.isEnabled(A.kb.CEP_FORWARD)}},e=>({handleDownloadAll({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}){e(Object(d.a)({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}))}}),null,{areOwnPropsEqual:()=>!1})(D)},function(e,t,s){"use strict";var a=s(13),n=s(4),r=(s(6),s(2)),o=s.n(r),i=(s(38),s(0)),c=s(56),l=s(255),d=s(15),E=s(91),_=s(92),u=s(12),p=s(62),m=s(86),h=s(10),S=s(299),g=s(5),I=s(3),C=s(16),T=s(30),A=s(11),O=s.n(A),b=s(352),R=s.n(b),D=s(341),f=s(44),N=s(14),M=s(32),L=s(9),y=s(230);const P=Object(n.h)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"},preview:{id:"attachment_item.preview",defaultMessage:"Preview"}}),v=O()(R.a);class F extends o.a.Component{constructor(e){super(e),this.handleSendAsImage=(()=>{this.props.onSendAsInlineImage(this.props.attachment)}),this.renderProgressBar=(()=>{const e=this.getProgressValue();return o.a.createElement("div",{"data-test-id":"attachment-progress-bar",role:"progressbar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100",className:v.progressBar,style:{width:e+"%"}})}),this.getProgressValue=(()=>{const{contentIdToUploadProgress:e,attachment:{contentId:t}}=this.props;return e[t]||0}),this.displayImageWhenReady=(e=>{this.blobUrl=null,this.imageToLoad=null,this.imageRef.current&&(this.imageRef.current.src=e.target.src)}),this.loadImageInBackground=(e=>{this.blobUrl&&!this.imageToLoad&&(this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady)}),this.renderContent=((e,t)=>{const{contentId:s,filename:a}=e,{mayContainVirus:n,hasError:r,isUploaded:E,getThumbnailUrl:_}=this.props;let u;switch(t){case i.u.SimplifiedTypes.AUDIO:u="audio";break;case i.u.SimplifiedTypes.VIDEO:u="video";break;case i.u.SimplifiedTypes.IMAGE:u="img"}if(!r(s)&&!E(s)){const s=this.getProgressValue();return t===i.u.SimplifiedTypes.IMAGE?(this.blobUrl=e.downloadUrl,o.a.createElement("div",null,o.a.createElement(u,{src:e.thumbnailUrl||e.downloadUrl,className:v.media,style:{opacity:"0.3"}}),!s&&o.a.createElement("div",{className:v.loadingIconContainer},o.a.createElement(c.b,null)),this.renderProgressBar())):o.a.createElement("div",null,s?o.a.createElement(l.a,e):o.a.createElement(c.b,null),this.renderProgressBar())}if(r(s)||!Object(f.l)(a))return o.a.createElement(d.b,{kind:I.b.ATTENTION,size:I.d.L,colorState:I.a.WARNING});if(n)return o.a.createElement(l.a,babelHelpers.extends({},e,{disabled:!0}));if(u){const e=_(s);return"img"===u&&this.loadImageInBackground(e),o.a.createElement(u,{ref:this.imageRef,src:"img"===u&&this.blobUrl||e,className:v.media,"data-test-id":"attachment-thumbnail"})}return o.a.createElement(l.a,e)}),this.onMouseEnterChange=(e=>{clearTimeout(this._hoverTimer),e?this.state.hover!==e&&this.setState({hover:e}):this._hoverTimer=setTimeout(()=>{this.state.hover!==e&&this.setState({hover:e})},0)}),this.onMouseEventChange=(e=>{this.setState({anchorHover:e})}),this.renderPopoverMenu=(e=>o.a.createElement(_.c,{permittedArrowDirections:[u.g.UP],zAltitude:h.ZIndices.POPOVER.HIGH,align:u.a.END,offset:2*h.GRID_UNIT,triggerOn:_.b.CLICK,triggerOff:_.a.CLICK,className:v.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},o.a.createElement("div",{className:v.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},o.a.createElement(E.a,{kind:I.b.MORE,colorStates:{normal:I.a.COOL_FAINT,hovered:I.a.SELECTED},size:I.d.XXS})),o.a.createElement("div",{className:v.menuContainer,"data-test-id":"attachment-menu"},o.a.createElement(p.a,{kind:m.a.MENU,focusOnMount:!0},e===i.u.Types.IMAGE&&this.props.richTextMode?o.a.createElement(M.a,{className:v.menuItem,"data-test-id":"send-as-image-item"},o.a.createElement(C.a,{kind:T.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},o.a.createElement(n.c,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,o.a.createElement(M.a,{className:v.menuItem,"data-test-id":"remote-att-item"},o.a.createElement(C.a,{kind:T.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},o.a.createElement(n.c,{id:"attachment.remove",defaultMessage:"Remove"}))))))),this._renderPreviewMask=((e,t)=>{const{onClick:s,allowDownload:a}=this.props,n=a?e.previewButtonWrapper:e.previewWrapperMsgList,r=a?e.previewButton:e.previewButtonMsgList,i=this.context.intl.formatMessage(P.preview);return o.a.createElement("div",{className:n,onClick:e=>s(Object(N.i)(e))},o.a.createElement(C.a,{"data-test-id":"attachment-item-preview",kind:T.a.PLAIN,className:r,title:i},o.a.createElement("span",{"aria-hidden":!0},i)),a?o.a.createElement("div",{className:e.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},o.a.createElement(d.b,{kind:I.b.DOWNLOAD,size:I.d.XS,colorState:this.state.anchorHover?I.a.PRIMARY_HOVER:I.a.SELECTED})):null)}),this._renderDownloadMask=((e,t)=>{const{allowDownload:s}=this.props;return o.a.createElement("div",{className:s?e.noPreviewWrapper:e.noPreviewWrapperMsgList,"data-test-id":"attachment-no-preview"},o.a.createElement("span",{className:s?e.noPreviewText:e.noPreviewTextMsgList},o.a.createElement(n.c,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?o.a.createElement("div",{"data-test-id":"download-icon",className:e.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},o.a.createElement(d.b,{kind:I.b.DOWNLOAD,size:I.d.XS,colorState:this.state.anchorHover?I.a.PRIMARY_HOVER:I.a.SELECTED})):null)}),this._handleDownloadClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.handleDownload({attachment:this.props.attachment,i13nModel:{mKey:g.e.DOWNLOAD_ATTACHMENT,sec:g.g.MSG_READ_ATTACHMENT,mKeyGroup:g.f.dwnld_attmnt}})}),this._hoverTimer=null,this.imageRef=o.a.createRef(),this.state={hover:!1,anchorHover:!1}}componentWillUnmount(){clearTimeout(this._hoverTimer)}render(){const{attachment:e={},allowDownload:t,readOnly:s,isPreviewEnabled:a,mayContainVirus:n,previewWithoutDownload:r,smallPreview:c,isCompact:l}=this.props,{filename:d,subtype:E,type:_,state:u,size:p}=e,{formatMessage:m}=this.context.intl,h=u===i.t.LOADING,g=Object(f.d)(_,E),I=Object(f.k)(e),C=t&&!h,T=D.b(d),A=d?D.a(d,T):m(P.untitled),b=m(P.download),N=Object(S.prettyPrintBytes)(p,1),M=O()(R.a,{type:g,state:u,anchorHover:this.state.anchorHover,spam:n,smallPreview:c,isPreviewEnabled:a,hover:this.state.hover,isCompact:l,unsupportedFileType:!Object(f.l)(d)});return o.a.createElement("div",{className:M.container,"data-test-id":"attachment-item"},!s&&this.state.hover&&this.renderPopoverMenu(g),o.a.createElement("div",{"data-test-id":"attachment-container",className:M.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},o.a.createElement("div",{className:M.mediaContent},this.renderContent(e,g)),a&&(t||r)&&s&&this.state.hover?o.a.createElement("div",{className:M.hoverMask},I?this._renderPreviewMask(M,b):this._renderDownloadMask(M,b)):null),o.a.createElement("div",{className:M.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},C?o.a.createElement("div",{className:M.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},o.a.createElement("a",{"data-test-id":"attachment-download",href:e.downloadUrl,className:M.downloadIconWrapper},o.a.createElement("span",{className:M.downloadFilename,title:e.filename},o.a.createElement("div",{className:M.filename},o.a.createElement("span",{className:M.labelBaseName},o.a.createElement("span",null,A)),o.a.createElement("span",null,T)),o.a.createElement("div",{className:M.fileSize},N)))):o.a.createElement("span",{className:M.filenameContainer,title:e.filename},o.a.createElement("div",{className:M.filename},o.a.createElement("span",{className:M.labelBaseName},o.a.createElement("span",null,A)),o.a.createElement("span",null,T)),c?null:o.a.createElement("div",{className:M.fileSize},N))))}}F.contextTypes={intl:n.i.isRequired},F.defaultProps={smallPreview:!1,previewWithoutDownload:!1,contentIdToUploadProgress:{}};t.a=Object(a.b)((e,t)=>{const{getAttachmentsSelectors:s,getComposeSessionsSelectors:a}=Object(L.b)(e),{hasError:n,isUploaded:r,getThumbnailUrl:o}=s(),{getAttachmentProgress:i,doesComposeSessionExist:c}=a();return{hasError:n,isUploaded:r,getThumbnailUrl:o,contentIdToUploadProgress:c(t.csid)?i(t.csid):void 0}},e=>({handleDownload({attachment:t,i13nModel:s}){e(Object(y.b)({attachment:t,i13nModel:s}))}}))(F)},function(e,t,s){"use strict";s.d(t,"b",function(){return c});var a=s(13),n=s(9),r=s(48),o=s(7),i=s(0);const c=(e,t)=>{const{streamId:s}=t,{getAttachmentIdsByMessageId:a,getAttachmentById:c,getMessageGroupsSelectors:l,getMessagesSelectors:d,getSubjectAndSnippetSelectors:E,getFoldersSelectors:_,doesStreamExist:u,getCursorItem:p,isStreamItemSelected:m,isFeatureEnabled:h,getSetting:S,getRouteName:g,getAccountSelectors:I,getAccountIdByFolderId:C,getMessageGroupParticipantsInfo:T,getMessageFlags:A,getMessageFolderId:O}=Object(n.b)(e),b=I(),R=_(),{getPrimaryFolderTypeByFolderId:D}=_(),{getMessageIdsFromMessageGroupId:f}=l(),{getSubject:N,getSnippet:M}=E(),L=f(t.groupId),y=Object(o.m)(t.listId),P=y?D(y):void 0,v=!h(i.kb.CONVERSATIONS),F=u(s)&&p(s)||{},U={id:t.groupId,listId:t.listId},H=!!u(s)&&m(s,U);let k=!1,G=!1;L.forEach(e=>{const t=A(e).answered,s=A(e).forwarded;t&&(k=!0,G=!1),s&&(k=!1,G=!0)});const w=O(t.relevantMessageId),x=R.getFolderName(w),B=C(w),j=b.getAccountDescriptionByAccountId(B),V=b.getProviderFromAccount(B);return{messageIds:L,subject:N(t.relevantMessageId,t.listId),snippet:M(t.relevantMessageId,t.listId),isRead:L.every(e=>A(e).read),isReplied:k,isForwarded:G,isStarred:L.some(e=>A(e).flagged),getParticipantsInfo:()=>T(t.groupId,t.listId),active:F.id===U.id&&F.listId===U.listId,selected:H,isVerifiedDomain:()=>d().isVerifiedDomain(t.relevantMessageId),showSnippets:h(i.id.SNIPPETS),messageListDensity:S(i.id.MSG_LIST_DENSITY),listItemHeight:S(i.id.LIST_ITEM_HEIGHT),isSpam:P===i.sb.BULK,hasDraft:()=>L.some(e=>O(e)===i.Ed.DRAFT),showContactSearch:(e=[])=>1===(Object(r.c)(e)||[]).length&&1===L.length&&!Object(o.G)(t.listId),showSubjectSearch:v,showDestinationLabel:()=>g()===i.Pc.SEARCH,folderId:w,getAttachments:()=>{const e=L.reduce((e,t)=>e.concat(a(t).map(c)),[]).filter(({filename:e})=>e),t=e.map(e=>e.filename+e.size);return e.filter(({filename:e,size:s},a)=>a===t.indexOf(e+s))},accountProvider:V,accountDescription:j,folderName:x}};t.a=Object(a.b)(c,void 0,void 0,{areStatePropsEqual:(e,t)=>e.messageIds===t.messageIds&&e.folderId===t.folderId&&e.isRead===t.isRead&&e.isReplied===t.isReplied&&e.isForwarded===t.isForwarded&&e.isStarred===t.isStarred&&e.tabIndex===t.tabIndex&&e.selected===t.selected&&e.active===t.active&&e.listItemHeight===t.listItemHeight})},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_GG p_a o_h",msgDragProxy:"p_a Z_3n0uA P_eo6 b_Z14vXdP",counter:"C_52qC en_0 P_3gJiI e_fFR A_6DUj I_Z2aVTcY O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z281SGl"},isBriefView:{container:"p_CS H_CS en_0 M_Zm1Iab U_eo6 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",list:"p_CS I_52qC o_h W_3vpWV",briefHeader:"M_1d6dau A_6EqO",briefContent:"M_1d6dau",briefFooter:"D_F gl_CH M_9DHCV A_6Eb4 C_Z2aVTcY"},"themeMode-DARK":{dragIcon:"cdPFi_ZpQYvz",container:"l_T",list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z21zYBA"},"themeMode-MEDIUM":{container:"l_T",list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z21zYBA"},"themeCombo-DARK_NIGHT_LANDSCAPE":{list:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{list:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{list:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{list:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{list:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{list:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{list:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{list:"I_t5YMW"}},_key:"ZL5jQN"}},,function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=s(13),l=s(16),d=s(0),E=s(32),_=s(15),u=s(21),p=s(3),m=s(122),h=s(106),S=s(113),g=s(100),I=s(11),C=s.n(I),T=s(559),A=s.n(T),O=s(28);const b=C()(A.a);class R extends o.a.Component{render(){const{tooltip:e,onChange:t,showPlainTextToggle:s}=this.props,{formatMessage:a}=this.context.intl;return o.a.createElement(m.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},o.a.createElement(h.a,{"aria-label":e,"data-test-id":"icon-btn-more_tools",title:e},o.a.createElement(_.b,{kind:p.b.MORE,size:p.d.XS,colorState:p.a.INHERITED})),o.a.createElement(S.a,{persistOnClick:!0,focusBackEditor:this.props.focusBackEditor,menuLayout:g.a.HORIZONTAL,"data-test-id":"more-tools"},o.a.createElement("span",{className:b.sectionDivider}),o.a.createElement("span",{className:b.rtlIgnoreDir},o.a.createElement(E.a,{key:"align-l",name:"align-l"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{"aria-label":a(O.a.leftAlign),title:a(O.a.leftAlign),kind:p.b.ALIGN_LEFT,size:p.d.XS,onClick:t.bind(null,"left")}))),o.a.createElement(E.a,{key:"align-c",name:"align-c"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{"aria-label":a(O.a.centerAlign),title:a(O.a.centerAlign),kind:p.b.ALIGN_CENTER,size:p.d.XS,onClick:t.bind(null,"center")}))),o.a.createElement(E.a,{key:"align-r",name:"align-r"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{className:b.rightAlignIcon,"aria-label":a(O.a.rightAlign),title:a(O.a.rightAlign),kind:p.b.ALIGN_LEFT,rotate:p.c.D0,size:p.d.XS,onClick:t.bind(null,"right")})))),o.a.createElement("span",{className:b.sectionDivider}),o.a.createElement(E.a,{key:"bullet",name:"bullet"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{className:b.rtlRawScaleX,"aria-label":a(O.a.bulletedList),title:a(O.a.bulletedList),kind:p.b.LIST_UNORDERED,size:p.d.XS,onClick:t.bind(null,"bullet")}))),o.a.createElement(E.a,{key:"number",name:"number"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{className:b.rtlRawHidden,"aria-label":a(O.a.numberedList),title:a(O.a.numberedList),kind:p.b.LIST_ORDERED,size:p.d.XS,onClick:t.bind(null,"number")}),o.a.createElement(u.a,{className:b.rtlRemoveHidden,"aria-label":a(O.a.numberedList),title:a(O.a.numberedList),kind:p.b.LIST_ORDERED_FLIPPED,size:p.d.XS,onClick:t.bind(null,"number")}))),o.a.createElement("span",{className:b.sectionDivider}),o.a.createElement(E.a,{name:"indent",key:"indent"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{className:b.rtlRawScaleX,"aria-label":a(O.a.increaseIndent),title:a(O.a.increaseIndent),kind:p.b.INDENT,size:p.d.XS,onClick:t.bind(null,"indent")}))),o.a.createElement(E.a,{name:"outdent",key:"outdent"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{className:b.rtlRawScaleX,"aria-label":a(O.a.decreaseIndent),title:a(O.a.decreaseIndent),kind:p.b.OUTDENT,size:p.d.XS,onClick:t.bind(null,"outdent")}))),o.a.createElement("span",{className:b.sectionDivider}),o.a.createElement(E.a,{name:"strikethrough",key:"strikethrough"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{"aria-label":a(O.a.strikeThrough),title:a(O.a.strikeThrough),kind:p.b.STRIKETHROUGH,size:p.d.XS,onClick:t.bind(null,"strikeThrough")}))),s?o.a.createElement(E.a,{name:"turn-off-richtext",key:"turn-off-richtext"},o.a.createElement("span",{className:b.icon},o.a.createElement(u.a,{"data-test-id":"richtext-off",onClick:t.bind(null,"plaintext"),title:a(O.a.plaintext),"aria-label":a(O.a.plaintext_icon_label),kind:p.b.RICHTEXT_OFF,size:p.d.XS})),o.a.createElement("span",{className:b.sectionDivider})):null))}}R.contextTypes={intl:i.i.isRequired},R.defaultProps={onMenuShow:()=>{}};var D=R,f=s(88),N=s(30),M=s(560),L=s.n(M);var y=function({kind:e,text:t,onClick:s,selected:a}){const n=C()(L.a,{kind:e,selected:a});return o.a.createElement(E.a,{key:e,kind:f.a.WRAP_CONTENT,name:e,text:t},o.a.createElement(l.a,{kind:N.a.MENUITEM,onClick:s},o.a.createElement("div",{className:n.menuItem},o.a.createElement("span",{className:n.checkmarkWrapper},a&&o.a.createElement(_.b,{kind:p.b.CHECKMARK,size:p.d.XS})),t)))},P=s(23),v=s(62),F=s(211),U=s.n(F),H=s(65);const k=C()(U.a),G=Object(i.h)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class w extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleBackButton=(e=>{e.stopPropagation(),this.props.goToMainMenu()}),t}render(){const{formatMessage:e}=this.context.intl,t={[P.FontSizes[0].name]:e(G.font_size_label_tiny),[P.FontSizes[1].name]:e(G.font_size_label_small),[P.FontSizes[2].name]:e(G.font_size_label_medium),[P.FontSizes[3].name]:e(G.font_size_label_large),[P.FontSizes[4].name]:e(G.font_size_label_xlarge),[P.FontSizes[5].name]:e(G.font_size_label_huge)},s=parseInt(this.props.selectedFontSize,10),a=this.props.selectedFontFamily,n=P.FontSizes.map(({name:e,fontSize:a})=>o.a.createElement(y,{key:e,kind:e,text:t[e]||"",onClick:this.props.onFontSizeChange.bind(null,a),selected:a===s})),r=P.Fonts.map(({name:t,label:s,fontFamily:n})=>{const r=n.replace(/['," ]/g,"").toLowerCase()===a.replace(/['," ]/g,"").toLowerCase();return o.a.createElement(y,{key:t,kind:t,text:Object(H.getLocalizedFontFamilyName)(e,t)||s,onClick:this.props.onFontFamilyChange.bind(null,n),selected:r})});return o.a.createElement(m.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?o.a.createElement(h.a,{style:{display:"none"}}):o.a.createElement(h.a,{"aria-label":e(G.font_name_size),"data-test-id":"icon-btn-text",title:e(G.font_name_size)},o.a.createElement(_.b,{kind:p.b.TEXT,size:p.d.XS,colorState:p.a.NORMAL})),o.a.createElement(S.a,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:g.a.VERTICAL,"data-test-id":"font-picker"},this.props.parentMenu?o.a.createElement(u.a,{title:e(G.back_button_text_label),kind:p.b.ARROW_UP,size:p.d.XS,rotate:p.c.D270,colorState:p.a.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},o.a.createElement("span",{className:k.backButtonLabel},o.a.createElement(i.c,G.back_button_text_label))):"",o.a.createElement(v.a,{layout:g.a.HORIZONTAL},o.a.createElement(E.a,{key:"font-families"},o.a.createElement(v.a,null,r)),o.a.createElement(E.a,{key:"font-sizes"},o.a.createElement(v.a,null,n)))))}}w.contextTypes={intl:i.i.isRequired},w.defaultProps={parentMenu:null};var x=w,B=s(154);const j=C()(U.a);class V extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={showMainMenu:!0,showColorMenu:!1,showFontMenu:!1},this.onClickColor=(e=>{this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),e.stopPropagation()}),this.onClickFont=(e=>{this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),e.stopPropagation()}),this.onShowMenu=(()=>{this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),this.focusBackEditor=(()=>{this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()}),this.goToMainMenu=(()=>{this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),t}render(){const{tooltip:e,onChange:t,showPlainTextToggle:s}=this.props,{formatMessage:a}=this.context.intl;return o.a.createElement("div",null,o.a.createElement(m.a,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},o.a.createElement(h.a,{"aria-label":e,"data-test-id":"icon-btn-expanded_more_tools",title:e},o.a.createElement(_.b,{kind:p.b.MORE,size:p.d.XS,colorState:p.a.INHERITED})),this.state.showMainMenu?o.a.createElement(S.a,{menuLayout:g.a.VERTICAL,"data-test-id":"expanded-more-tools-menu"},o.a.createElement("div",{className:j.menuContainer},o.a.createElement("div",null,o.a.createElement(E.a,{key:"link",name:"link",className:j.menuListItem,ariaLabel:a(O.a.link_icon_label),onClick:this.props.onAddLink},o.a.createElement(l.a,{className:j.button,title:a(O.a.link),"data-test-id":"icon-btn-link"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.LINK,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.link))))),o.a.createElement(E.a,{key:"font",name:"font",className:j.menuListItem,ariaLabel:a(O.a.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},o.a.createElement(l.a,{className:j.button,title:a(O.a.font_name_size),"data-test-id":"icon-btn-text_expanded"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.TEXT,size:p.d.XS,colorState:p.a.NORMAL})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.font_name_size))))),o.a.createElement(E.a,{key:"color",name:"color",className:j.menuListItem,ariaLabel:a(O.a.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},o.a.createElement(l.a,{className:j.button,title:a(O.a.color),"data-test-id":"icon-btn-text_color_expanded"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.TEXT_COLOR,size:p.d.XS,colorState:p.a.NORMAL})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.color))))),s?o.a.createElement(E.a,{key:"turn-off-richtext",name:"turn-off-richtext",className:j.menuListItem,ariaLabel:a(O.a.plaintext_icon_label),onClick:t.bind(null,"plaintext")},o.a.createElement(l.a,{className:j.button,title:a(O.a.plaintext),"data-test-id":"richtext-off"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.RICHTEXT_OFF,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.plaintext_text_label))))):o.a.createElement(E.a,{className:j.menuListItem}),o.a.createElement("span",{className:j.sectionDivider}),o.a.createElement(E.a,{key:"align-l",name:"align-l",className:j.menuListItem,ariaLabel:a(O.a.leftAlign),onClick:t.bind(null,"left")},o.a.createElement(l.a,{className:j.button,title:a(O.a.leftAlign)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.ALIGN_LEFT,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.leftAlign))))),o.a.createElement(E.a,{key:"align-c",name:"align-c",className:j.menuListItem,ariaLabel:a(O.a.centerAlign),onClick:t.bind(null,"center")},o.a.createElement(l.a,{className:j.button,title:a(O.a.centerAlign)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.ALIGN_CENTER,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.centerAlign))))),o.a.createElement(E.a,{key:"align-r",name:"align-r",className:j.menuListItem,ariaLabel:a(O.a.rightAlign),onClick:t.bind(null,"right")},o.a.createElement(l.a,{className:j.button,title:a(O.a.rightAlign)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.rightAlignIcon},o.a.createElement(_.b,{kind:p.b.ALIGN_LEFT,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.rightAlign))))),o.a.createElement(E.a,{name:"indent",key:"indent",className:j.menuListItem,ariaLabel:a(O.a.increaseIndent),onClick:t.bind(null,"indent")},o.a.createElement(l.a,{className:j.button,title:a(O.a.increaseIndent)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon+" "+j.rtlRawScaleX},o.a.createElement(_.b,{kind:p.b.INDENT,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.increaseIndent)))))),o.a.createElement("div",{className:j.spaceBetween}),o.a.createElement("div",null,o.a.createElement(E.a,{key:"bold",name:"bold",className:j.menuListItem,ariaLabel:a(O.a.bold_icon_label),onClick:this.props.onClickBold},o.a.createElement(l.a,{className:j.button,title:a(O.a.bold),"data-test-id":"icon-btn-bold"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.BOLD,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.bold))))),o.a.createElement(E.a,{key:"italic",name:"italic",className:j.menuListItem,ariaLabel:a(O.a.italic_icon_label),onClick:this.props.onClickItalic},o.a.createElement(l.a,{className:j.button,title:a(O.a.italic),"data-test-id":"icon-btn-italic"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.ITALIC,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.italic))))),o.a.createElement(E.a,{key:"strikethrough",name:"strikethrough",className:j.menuListItem,ariaLabel:a(O.a.strikeThrough),onClick:t.bind(null,"strikeThrough")},o.a.createElement(l.a,{className:j.button,title:a(O.a.strikeThrough),"data-test-id":"icon-btn-strikethrough"},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon},o.a.createElement(_.b,{kind:p.b.STRIKETHROUGH,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.strikeThrough))))),o.a.createElement(E.a,{className:j.menuListItem}),o.a.createElement("span",{className:j.sectionDivider}),o.a.createElement(E.a,{key:"bullet",name:"bullet",className:j.menuListItem,ariaLabel:a(O.a.bulletedList),onClick:t.bind(null,"bullet")},o.a.createElement(l.a,{className:j.button,title:a(O.a.bulletedList)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon+" "+j.rtlRawScaleX},o.a.createElement(_.b,{kind:p.b.LIST_UNORDERED,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.bulletedList))))),o.a.createElement(E.a,{key:"number",name:"number",className:j.menuListItem,ariaLabel:a(O.a.numberedList),onClick:t.bind(null,"number")},o.a.createElement(l.a,{className:j.button,title:a(O.a.numberedList)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon+" "+j.rtlRawHidden},o.a.createElement(_.b,{kind:p.b.LIST_ORDERED,size:p.d.XS})),o.a.createElement("span",{className:j.menuIcon+" "+j.rtlRemoveHidden},o.a.createElement(_.b,{kind:p.b.LIST_ORDERED_FLIPPED,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.numberedList))))),o.a.createElement(E.a,{key:"outdent",name:"outdent",className:j.menuListItem,ariaLabel:a(O.a.decreaseIndent),onClick:t.bind(null,"outdent")},o.a.createElement(l.a,{className:j.button,title:a(O.a.decreaseIndent)},o.a.createElement("div",{className:j.menuItem},o.a.createElement("span",{className:j.menuIcon+" "+j.rtlRawScaleX},o.a.createElement(_.b,{kind:p.b.OUTDENT,size:p.d.XS})),o.a.createElement("span",{className:j.menuLabel},o.a.createElement(i.c,O.a.decreaseIndent)))))))):o.a.createElement(S.a,{style:{display:"none"}})),this.state.showColorMenu?o.a.createElement("span",null,o.a.createElement(B.a,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"",this.state.showFontMenu?o.a.createElement("span",null,o.a.createElement(x,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"")}}V.contextTypes={intl:i.i.isRequired};var W=V;var q=class extends o.a.Component{render(){return o.a.createElement("input",{role:"button",className:this.props.className,type:"file",ref:"input",value:"",title:this.props.ariaLabel,"aria-label":this.props.ariaLabel,multiple:this.props.multiple,onChange:this.props.onChange})}},K=s(561),z=s.n(K);const Y=C()(z.a),Z=Object(i.h)({attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"}});function X({onFileSelect:e},{intl:t}){const{formatMessage:s}=t;return o.a.createElement("div",{className:Y.container},o.a.createElement(_.b,{kind:p.b.ATTACH,colorState:p.a.NORMAL,size:p.d.XS}),o.a.createElement(q,{className:Y.input,multiple:!0,onChange:Q.bind(null,e),ariaLabel:s(Z.attachFile)}))}function Q(e,t){e({data:Array.prototype.slice.call(t.target.files)})}X.contextTypes={intl:i.i.isRequired};var $=s(281),J=s(9),ee=s(178),te=s(5),se=s(20),ae=s(63),ne=s(40),re=s(57),oe=s(12),ie=s(69);const ce=Object(i.h)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"}}),le=500;class de extends o.a.Component{constructor(e,t){super(e,t),this._getDefaultCategory=(()=>{const{gifCategories:e}=this.props;return e.length?e[0]:{}}),this._getInitialState=(()=>{const{queryString:e="",categoryId:t=""}=this._getDefaultCategory();return{query:e,searchBoxValue:"",selectedCategory:t,menuOpen:!1}}),this.handleGifClick=(e=>{this.props.onGifClick(e),this.toggleMenu()}),this.fetchGIF=(e=>{this.props.gifCategories.length&&this.props.fetchGIF(e)}),this.onCategoryClick=((e,t=!0)=>{this.fetchGIF({query:e.queryString,fromCategory:t,i13nModel:{mKey:te.e.GIF_CATEGORY,sec:te.g.COMPOSE_TOOLBAR,interactionType:te.d.click}}),this.setState({query:e.queryString,selectedCategory:e.categoryId,searchBoxValue:""})}),this.toggleMenu=(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._gifPopoverContainer.hide(oe.h.MOUNT),this.setState(this._getInitialState(),()=>this.props.focusBackEditor())):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._gifPopoverContainer.show(oe.h.MOUNT),this.setState({menuOpen:!t}),ie.b.sendI13nModel({i13nModel:{mKey:te.e.GIF_OPEN,sec:te.g.COMPOSE_MSG,interactionType:te.d.click}}))}),this.handleSearchChange=(e=>{clearTimeout(this._timer);const{queryString:t="",categoryId:s=""}=this._getDefaultCategory();let a=t;e?(this.setState({searchBoxValue:e,selectedCategory:""}),a=e):this.setState({searchBoxValue:"",selectedCategory:s}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:te.e.GIF_SEARCH,sec:te.g.COMPOSE_TOOLBAR,interactionType:te.d.keydown}}),this.setState({query:e})}.bind(this,a),le)}),this.onPopoverContentHide=(()=>{this.setState(this._getInitialState())}),this.renderGifPopup=(()=>o.a.createElement(ne.b,{permittedArrowDirections:[oe.g.DOWN],triggerOn:oe.h.MOUNT,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.onPopoverContentHide},o.a.createElement(se.a,{import:"./atoms/gif_pop_up.jsx",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.toolbarBoundingRect.left,bottom:Math.max(window.innerHeight-this.toolbarBoundingRect.top,this.toolbarBoundingRect.height),onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.toolbarBoundingRect.width,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,929))},_moduleResolver:function(){return 929}}))),this._timer=null,this.state=this._getInitialState()}componentWillReceiveProps(e){if(!this.props.gifCategories.length&&e.gifCategories.length){const{queryString:t="",categoryId:s=""}=e.gifCategories[0];this.setState({query:t,selectedCategory:s})}}componentDidMount(){this.props.showGIFPicker&&setTimeout(()=>{this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.setState({menuOpen:!0})},1e3)}render(){const{menuOpen:e}=this.state,{formatMessage:t}=this.context.intl;return o.a.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},o.a.createElement(ae.a,{ref:e=>this._gifPopoverContainer=e},o.a.createElement(re.a,{"data-test-id":"gif-picker-anchor"},o.a.createElement(l.a,{title:t(ce.gifPicker),"aria-label":t(ce.gifPicker),kind:e?N.a.ICON_HIGHLIGHTED:N.a.ICON},o.a.createElement(_.b,{kind:p.b.GIF_BOX,size:p.d.XS,colorState:p.a.NORMAL}))),e?this.renderGifPopup():null))}}de.defaultProps={onGifClick:()=>{},showGIFPicker:!1},de.contextTypes={executeAction:n.a.func,intl:i.i.isRequired};var Ee=de;var _e=Object(c.b)(e=>{const{getGifCategoriesSelectors:t}=Object(J.b)(e),{isCategoryListLoaded:s,getGifCategoriesList:a}=t();return{gifCategories:s()?a():[]}},function(e){return{fetchGIF(t){e(Object(ee.d)(babelHelpers.extends({},t,{query:t.query.toLocaleLowerCase().trim()})))},fetchGifCategories(){e(Object(ee.b)())}}})(Ee),ue=s(444),pe=s(10),me=s(56),he=s(364),Se=s.n(he);const ge=C()(Se.a),Ie=Object(i.h)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}});class Ce extends o.a.Component{constructor(e){super(e),this.togglePopover=(()=>{const{popoverOpen:e}=this.state;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!e})}),this.closePicker=(()=>{this.refs.emojiPopoverContainer.hide(oe.h.CLICK);const e={mKey:te.e.EMOJI_CLOSE,sec:te.g.COMPOSE_MSG,interactionType:te.d.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(ue.b,{i13nModel:e})}),this.renderEmojiCue=(()=>o.a.createElement(ne.b,{align:oe.a.CENTER,triggerOn:oe.h.MOUNT,zAltitude:pe.ZIndices.POPOVER.HIGH,persistent:!0},o.a.createElement(se.a,{import:"../compose/atoms/emoji_cue",cueName:d.kb.EMOJI_CUE,onTryNow:()=>{this.refs.emojiPopoverContainer.hide(oe.h.MOUNT),this.refs.emojiPopoverContainer.show(oe.h.CLICK)},onMayBeLater:()=>{},_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,954))},_moduleResolver:function(){return 954}}))),this.renderEmojiPopup=(()=>o.a.createElement(ne.b,{permittedArrowDirections:[oe.g.DOWN],triggerOn:oe.h.CLICK,"data-test-id":"emoji-pop-up",onShow:()=>{this.props.showEmojiCue&&this.refs.emojiPopoverContainer.hide(oe.h.MOUNT)},onHide:this.togglePopover,align:oe.a.START,className:ge.emojiPopUp},o.a.createElement(se.a,{import:"./emoji_popup.jsx",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,933))},_moduleResolver:function(){return 933}},o.a.createElement(se.b,{loading:!0},o.a.createElement("div",{className:ge.lazyStyle},o.a.createElement(me.b,null)))))),this.timer=null,this.state={popoverOpen:!1}}componentWillUnmount(){clearTimeout(this.timer)}render(){const{formatMessage:e}=this.context.intl,{popoverOpen:t}=this.state;return o.a.createElement("div",{onClick:this.togglePopover},o.a.createElement(ae.a,{ref:"emojiPopoverContainer"},o.a.createElement(re.a,{"data-test-id":"emoji-picker-anchor"},o.a.createElement(l.a,{"data-test-id":"emoji-picker-button",title:e(Ie.emojiPicker),"aria-label":e(Ie.emojiPicker),kind:t?N.a.ICON_HIGHLIGHTED:N.a.ICON},o.a.createElement(_.b,{kind:p.b.COMPOSE_EMOJI,size:p.d.XS,colorState:p.a.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup()))}}Ce.contextTypes={executeAction:n.a.func.isRequired,intl:i.i.isRequired};var Te=Ce,Ae=s(562),Oe=s.n(Ae);s(8);const be=d.ab.Status,Re={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},De=Object(i.h)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}});class fe extends o.a.Component{constructor(...e){var t;return t=super(...e),this._getToolbarStyle=(()=>{const e={};return this.props.fixed&&this.props.width&&(e.maxWidth=`${this.props.width-P.HORIZONTAL_PADDING}px`),e}),this._renderToolbarPlaceholder=(e=>o.a.createElement("div",{className:e.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"})),this._renderRichTextOff=((e,t)=>o.a.createElement("span",{className:e.icon},o.a.createElement(u.a,{"data-test-id":"richtext-on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:t(De.richtext),"aria-label":t(De.richtext_icon_label),kind:p.b.RICHTEXT_ON,size:p.d.XS}))),this.getToolbarBoundingRect=(()=>this.toolbar?this.toolbar.getBoundingClientRect():{}),this._renderRichTextOn=((e,t,s,a)=>{const{foreColor:n,backgroundColor:r,fontSize:i,fontFamily:c}=this.getFormatState();return s?o.a.createElement("div",{className:e.formattingTools},o.a.createElement("span",{className:e.menuIcon},o.a.createElement(W,{onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:t(De.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:n,backgroundColor:r,fontSize:i,fontFamily:c,toolbar:this}))):o.a.createElement("div",{className:e.formattingTools},o.a.createElement("span",{className:e.icon},o.a.createElement(u.a,{onClick:this.onAddLink,title:t(De.link),"aria-label":t(De.link_icon_label),kind:p.b.LINK,size:p.d.XS})),o.a.createElement("span",{className:e.icon},o.a.createElement(u.a,{onClick:this.onClickBold,title:t(De.bold),"aria-label":t(De.bold_icon_label),kind:p.b.BOLD,size:p.d.XS})),o.a.createElement("span",{className:e.icon},o.a.createElement(u.a,{onClick:this.onClickItalic,title:t(De.italic),"aria-label":t(De.italic_icon_label),kind:p.b.ITALIC,size:p.d.XS})),o.a.createElement("span",{className:e.menuIcon},o.a.createElement(B.a,{selectedFGColor:n,selectedBGColor:r,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),o.a.createElement("span",{className:e.menuIcon},o.a.createElement(x,{selectedFontSize:i,selectedFontFamily:c,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),o.a.createElement("span",{className:e.menuIcon},o.a.createElement(D,{onChange:this.onMoreMenuChange,tooltip:t(De.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick})))}),this.onThemeChange=((e,t)=>this.handleChange(P.ToolbarActions.UPDATE_STATIONERY,{data:e,i13nModel:t})),this.onAddLink=(e=>{this.handleChange("createlink",{data:e,i13nModel:{mKey:te.e.COMPOSE_ADD_LINK,sec:te.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}})}),this.onClickBold=(e=>{this.handleChange("bold",{data:e,i13nModel:{mKey:te.e.COMPOSE_BOLD,sec:te.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),this.onClickItalic=(e=>{this.handleChange("italic",{data:e,i13nModel:{mKey:te.e.COMPOSE_ITALIC,sec:te.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),this.chooseColor=((e,t)=>{this.handleChange(e,{data:t,i13nModel:{mKey:te.e.COMPOSE_CHOOSE_COLOR,sec:te.g.RTE_TOOLBAR,actionData:{color:t,isFreshCompose:this.props.isFreshCompose}}})}),this.chooseFont=((e,t)=>{let s={size:t};"fontname"===e&&(s={font:t});const a={mKey:te.e.COMPOSE_CHOOSE_FONT,sec:te.g.RTE_TOOLBAR,actionData:babelHelpers.extends({},s,{isFreshCompose:this.props.isFreshCompose})};this.handleChange(e,{data:t,i13nModel:a})}),this.onMoreMenuChange=((e,t)=>{let s=te.e.COMPOSE_OPEN_MORE_MENU,a="";switch(e){case"bullet":s=te.e.COMPOSE_CHOOSE_LIST_TYPE,a="unordrd";break;case"number":s=te.e.COMPOSE_CHOOSE_LIST_TYPE,a="ordrd";break;case"left":s=te.e.COMPOSE_ALIGN_TEXT,a="lft";break;case"right":s=te.e.COMPOSE_ALIGN_TEXT,a="rght";break;case"center":s=te.e.COMPOSE_ALIGN_TEXT,a="cntr";break;case"strikeThrough":s=te.e.COMPOSE_STRIKETHROUGH_TEXT,a="strikethrough"}this.handleChange(e,{data:t,i13nModel:{mKey:s,sec:te.g.RTE_TOOLBAR,actionData:{setTo:a,isFreshCompose:this.props.isFreshCompose}}})}),this.handleChange=((e,t)=>{this.props.onExecuteAction(Re[e]||e,t)}),this.getFormatState=(()=>Object.assign({foreColor:B.a.DEFAULTS.FG_COLOR,backgroundColor:B.a.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState)),t}render(){const{disabled:e,draftStatus:t,fixed:s,kind:a,showPlainTextMode:n,stationeryEnabled:r,gifFinderEnabled:c,uploadEnabled:d,emojiEnabled:E,width:_,stationeryRestrictedThemes:m,useRichText:h}=this.props,S=C()(Oe.a,{kind:a,fixed:s,disabled:e}),{formatMessage:g}=this.context.intl,I=this._getToolbarStyle(),T=h&&r,A=h&&c,O=h&&E,b=d||T,R=_<P.COMPOSE_MIN_WIDTH;return o.a.createElement("div",{"data-test-id":"compose-toolbar",ref:e=>this.toolbar=e},o.a.createElement("div",{"data-test-id":"compose-toolbar-styler",className:S.composeToolbar,style:I},this.props.showSendButton?o.a.createElement(l.a,{"data-test-id":"compose-send-button",className:S.sendButton,disabled:t===be.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,P.ToolbarActions.SEND),title:g(De.send_button_title)},o.a.createElement(i.c,{id:"compose.send_button_label",defaultMessage:"Send"})):null,d?o.a.createElement("span",{className:S.icon+" "+S.rtlRawScaleX},o.a.createElement(X,{onFileSelect:this.handleChange.bind(this,P.ToolbarActions.FILE_SELECT)})):null,A?o.a.createElement("span",{className:S.menuIcon},o.a.createElement(_e,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid,getToolbarBoundingRect:this.getToolbarBoundingRect,showGIFPicker:this.props.showGIFPicker})):null,T?o.a.createElement("span",{className:S.menuIcon+" "+S.rtlRawScaleX},o.a.createElement($.a,{"data-test-id":"stationery-button",getToolbarBoundingRect:this.getToolbarBoundingRect,onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:m,rtl:this.props.rtl,showStationeryPicker:!e&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind})):null,O?o.a.createElement("span",{className:S.menuIcon},o.a.createElement(Te,{showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,b?o.a.createElement("span",{"data-test-id":"section-divider-contentSection",className:S.sectionDivider}):null,h?this._renderRichTextOn(S,g,R,n):this._renderRichTextOff(S,g),o.a.createElement("span",{className:S.spacer}),t===be.SAVED||t===be.SAVED_PARTIAL||t===be.SAVING?o.a.createElement("span",{role:"status","data-test-id":"status",className:S.status},o.a.createElement(i.c,t===be.SAVING?{id:"compose.draft_saving_status",defaultMessage:"Saving"}:{id:"compose.draft_save_success_status",defaultMessage:"Saved"})):null,this.props.showDeleteButton?o.a.createElement("span",{className:S.deleteButton},o.a.createElement(u.a,{onClick:this.handleChange.bind(null,P.ToolbarActions.DELETE_DRAFT),title:g(De.delete_draft),"aria-label":g(De.delete_draft),kind:p.b.DELETE,size:p.d.XS,colorState:p.a.INHERITED,className:S.trashIcon})):null),this.props.fixed&&this._renderToolbarPlaceholder(S))}}fe.contextTypes={intl:i.i.isRequired},fe.defaultProps={uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:P.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:()=>{},stationeryEnabled:!1,useRichText:!0,isFreshCompose:!0};t.a=Object(c.b)((e,{getDraftStatus:t})=>{return{draftStatus:t?t():void 0}})(fe)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(368),c=s.n(i),l=s(4),d=s(13),E=(s(38),s(187)),_=s(20),u=s(56),p=s(21),m=s(3),h=s(14),S=s(19);var g=s(150),I=s(125),C=s(8);const T=Object(C.c)(["FORM","PASSWORD"]),A="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",O=`\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    ${A}\n`,b=`\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    ${A}\n`,R=Object(l.h)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}});class D extends o.a.Component{constructor(...e){var t;return t=super(...e),this.hidePasswordWarning=(e=>{this.props.onDialogClose(),e.warningShown=!0}),this.submitForm=(e=>{this.props.onDialogClose(),e&&"FORM"===e.nodeName&&e.submit&&HTMLFormElement.prototype.submit.call(e)}),t}shouldComponentUpdate({warningType:e,targetElement:t}){const{warningType:s,targetElement:a}=this.props;return e!==s||t!==a}render(){const{formatMessage:e}=this.context.intl,t=e(R.warning),{warningType:s,targetElement:a,onDialogClose:n}=this.props,r=o.a.createElement(l.c,{id:"message_pane.password_warning",defaultMessage:O,values:{brand:"Yahoo"}}),i=o.a.createElement(l.c,{id:"message_pane.form_warning",defaultMessage:b,values:{brand:"Yahoo"}});switch(s){case T.FORM:return o.a.createElement(I.a,{title:t,message:i,onAbort:n,onConfirm:this.submitForm.bind(this,a)});case T.PASSWORD:return o.a.createElement(g.a,{title:t,message:r,onAccept:this.hidePasswordWarning.bind(this,a)});default:return null}}}D.contextTypes={intl:l.i.isRequired};var f=D;const N=/^\s*mailto:/i;class M extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={warningType:null},this._isYahooUrl=(e=>{const t=document.createElement("a");t.setAttribute("href",e);return/\.yahoo\.com$/i.test(t.hostname)}),this._handleFormWarning=(e=>{const t=e.target;if(!this._isYahooUrl(t.action))return e.preventDefault(),e.stopPropagation(),this.setState({warningType:T.FORM,targetElement:t}),!1}),this._handlePasswordWarning=(e=>{const{target:t}=e,{tagName:s,type:a,warningShown:n}=t;if("INPUT"===s&&"password"===a&&!n)return this.setState({warningType:T.PASSWORD,targetElement:t}),!1}),this.handleKeyDown=(e=>{e.stopPropagation()}),this.handleBodyClick=(e=>{let{target:t}=e;do{if("A"===t.nodeName){if(t.hasAttribute("ymailto")||t.href&&N.test(t.href)){e.preventDefault(),e.stopPropagation();const s=t.getAttribute("ymailto")||t.href;return void this.props.onMailtoClick(s)}if(t.hasAttribute("href"))return t.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(t)}}while(t.parentElement!==this.wrapper&&(t=t.parentElement))}),this.handleDialogClose=(()=>{this.setState({warningType:null,targetElement:null})}),t}componentDidMount(){const e=this.messageBody;e&&(e.addEventListener("submit",this._handleFormWarning,!0),e.addEventListener("focus",this._handlePasswordWarning,!0),function(e,t=[]){Object(S.a)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"]'),e=>{const s="<"+e.src.slice("cid://".length)+">",a=t.find(e=>e.contentId===s);a&&(e.src=a.downloadUrl,e.setAttribute("data-id",a.dataId||e.dataset.id))})}(e,this.props.attachments))}componentWillUnmount(){const e=this.messageBody;e&&(e.removeEventListener("submit",this._handleFormWarning,!0),e.removeEventListener("focus",this._handlePasswordWarning,!0))}render(){const{warningType:e,targetElement:t}=this.state,s=this.props.dangerouslySetInnerHTML.__html;return o.a.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:e=>this.wrapper=e},e?o.a.createElement(f,{warningType:e,targetElement:t,onDialogClose:this.handleDialogClose}):null,o.a.createElement("div",{ref:e=>this.messageBody=e,onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}}M.contextTypes={config:n.a.object},M.defaultProps={className:"",onHrefLinkClick:h.a,onMailtoClick:h.a,attachments:[]};var L=M,y=s(9),P=s(11),v=s.n(P),F=s(282),U=s.n(F),H=s(16),k=s(30),G=s(15);const w=v()(U.a),x=Object(l.h)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."}}),B=({onShowImages:e,onChangeImageSetting:t,isSpamFolder:s},{intl:a})=>{const n=a.formatMessage(x.blockedImageMessageTitle);return o.a.createElement("div",{className:w.container,"data-test-id":"blocked-image-banner"},o.a.createElement(G.b,{size:m.d.XS,kind:m.b.ATTACH_IMAGE_48,colorState:m.a.COOL_FAINT}),o.a.createElement("div",null,o.a.createElement("p",{title:n,className:w.message},n),o.a.createElement("div",{className:w.buttonsContent},o.a.createElement(H.a,{kind:k.a.CHROMELESS,onClick:e},o.a.createElement("span",{"data-test-id":"show-image-button",className:w.button},o.a.createElement(l.c,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))),s?null:o.a.createElement("div",null,o.a.createElement(l.c,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),o.a.createElement(H.a,{kind:k.a.CHROMELESS,onClick:t},o.a.createElement("span",{"data-test-id":"always-show-image-button",className:w.button},o.a.createElement(l.c,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"})))))))};B.contextTypes={intl:l.i.isRequired};var j=B,V=s(17),W=s(0);const q=v()(U.a),K=e=>{e({route:Object(V.s)({settingsGroupId:W.ld.VIEWING_EMAIL})})},z=(e,{navigateTo:t})=>o.a.createElement("div",{className:q.container,"data-test-id":"pac-notification-banner"},o.a.createElement(G.b,{size:m.d.XS,kind:m.b.TRUSTED,colorState:m.a.SUCCESS}),o.a.createElement("p",{className:q.message},o.a.createElement(l.c,{id:"externalImage.message",defaultMessage:"External images are now more secure, and shown by default."})),"",o.a.createElement(H.a,{"data-test-id":"change-settings-button",kind:k.a.CHROMELESS,onClick:K.bind(null,t)},o.a.createElement("span",{className:q.primaryButton},o.a.createElement(l.c,{id:"externalImage.change_accept",defaultMessage:"Change in Settings"}))));z.contextTypes={navigateTo:n.a.func.isRequired};var Y=z,Z=s(103),X=s(5),Q=s(206),$=s.n(Q);const J=/<img .*\/?>/i,ee=Object(l.h)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},showQuote:{id:"show_quote",defaultMessage:"Show original message"}}),te=c.a.renderToStaticMarkup(o.a.createElement("div",null,o.a.createElement(u.b,null)));class se extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={quoteExpanded:this.props.quoteExpanded||!1,mounted:!1},this._areImagesBlocked=(({htmlAnnotations:e=[]})=>e.some(({type:e})=>"blocked"===e)),this.toggleQuote=(e=>{e.preventDefault(),e.stopPropagation();const{quoteExpanded:t}=this.state,{onShowQuotedText:s,isSecure:a,hasFullBody:n}=this.props;return t||n||s({full:!0,secure:a}),this.setState({quoteExpanded:!t}),!1}),this.renderBodyContent=((e,t="")=>{const{onHrefLinkClick:s,onMailtoClick:a}=this.props;return o.a.createElement(L,{className:t,dangerouslySetInnerHTML:{__html:e},onHrefLinkClick:s,onMailtoClick:a,attachments:this.props.attachments})}),this.onLinkEnhancerUtilsLoad=(({enhanceCardsInTree:e})=>{this.enhanceCardsInTree=e,this.enhanceCards()}),this.enhanceCards=(()=>!!this.enhanceCardsInTree&&(this.enhanceCardsInTree(this.messageBody,this,this.props.onShareCard,this.props.onShareCardLinkClick,this.context.intl.formatMessage),!0)),t}componentDidMount(){this.setState({mounted:!0});const{showPACNotification:e,body:t,pacNotificationCueShown:s,updatePacNotificationCue:a}=this.props;e&&!s&&J.test(t.html)&&a({name:"pacNotificationCue",i13nModel:{sec:X.g.FEATURE_CUE,mKey:"cue_pacNotificationCue_invoke"}})}componentDidUpdate(e,t){this.props.body.html===e.body.html&&this.state.quoteExpanded===t.quoteExpanded||this.enhanceCards()}render(){const{quoteExpanded:e}=this.state,{onShowImages:t,onChangeImageSetting:a,renderAttachments:n,removeCollapseButton:r,body:i,hasFullBody:c,isSpamFolder:l,showPACNotification:d,printView:u}=this.props,h=v()($.a,{printView:u}),S=!!this.props.linkEnhancerEnabled,g=this._areImagesBlocked(i)||d&&J.test(i.html),I=Object(E.b)(i.html,i.htmlAnnotations,e);let{messageBelow:C}=I;const{messageAbove:T,expandable:A}=I,O=this.context.intl.formatMessage(e?ee.hideQuote:ee.showQuote),b=h.leftRightPadding;return!c&&e&&(C=te),o.a.createElement("div",{"data-test-id":"message-view-body"},g&&o.a.createElement("div",{className:h.blockedImageBanner},!d||l?o.a.createElement(j,{onChangeImageSetting:a,onShowImages:t.bind(null,{secure:!1,full:c}),isSpamFolder:l}):o.a.createElement(Y,{onChangeImageSetting:a,cueName:"pacNotification"})),o.a.createElement("div",{ref:e=>this.messageBody=e,className:"msg-body "+h.bodyContainer,"data-test-id":"message-view-body-content"},this.renderBodyContent(T,b),!r&&A&&o.a.createElement("div",{className:b},o.a.createElement(p.a,{"data-norrin-quoted-button":!0,className:h.button,kind:m.b.CHEVRON_UP,size:m.d.XS,rotate:e?m.c.D180:m.c.D90,colorState:m.a.DISABLED,title:O,onClick:this.toggleQuote},O)),""!==C&&o.a.createElement("div",{className:b},this.renderBodyContent(C))),n?o.a.createElement("div",{className:b},n()):null,S?o.a.createElement(_.a,{import:"../../../platform/link_enhancer/utils_loader.jsx",onLoad:this.onLinkEnhancerUtilsLoad,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,935))},_moduleResolver:function(){return 935}}):null)}}se.contextTypes={intl:l.i.isRequired},se.defaultProps={onShowImages:h.a,onShowQuotedText:h.a,onChangeImageSetting:h.a};t.a=Object(d.b)((e,t)=>{const{doesMessageBodyExist:s,getMessageBodiesSelectors:a,getFeaturesSelectors:n,getFoldersSelectors:r,findUnsyncedDataByCsid:o,isSendRequested:i,doesComposeSessionExist:c,getFeatureCueSelectors:l}=Object(y.b)(e);let d;const{csid:E,folderId:_}=t,{isSpamFolder:u}=r(),p=n(),m=a(),h=p.isEnabled(W.kb.CONVERSATIONS),S=p.isEnabled(W.id.SHOW_IMAGES),g=!h||m.hasFullBody(t.messageId),I=m.isSecureMessage(t.messageId),C=p.isEnabled("linkEnhancer"),T=!S&&p.isEnabled(W.kb.INLINE_IMAGES_PROXIED),A=l().isShown("pacNotificationCue");if(E&&c(E)&&i(E)){const{html:e,htmlAnnotations:t}=o(E)||{};d={html:e,htmlAnnotations:t}}else d=s(t.messageId)?m.get(t.messageId):void 0;return{body:d,isSecure:I,hasFullBody:g,linkEnhancerEnabled:C,showPACNotification:T,pacNotificationCueShown:A,isSpamFolder:u(_)}},e=>({updatePacNotificationCue:t=>e(Object(Z.g)(t))}))(se)},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"e",function(){return c}),s.d(t,"b",function(){return l});var a=s(0);const n={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",ATTACHMENT_TYPE:"attachmenttype"},r={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};function o(e=""){return(e.match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce((e,t)=>{const[,s,a]=t.match(/^([a-z]*):(.*)$/);return Object.assign(e,{[s]:[...e[s]||[],a]})},{})}function i(e,t="",s=!1){const a=new RegExp(`(${e}:"[^"]*")|(${e}:[^\\s]*)`,"g");return s?t.replace(a,""):t.replace(a,"").trim()}function c(e,t=!1){if(!e)return{};const s=o(e),c={};let l=e;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach(e=>{const r=n[e],o=s[r]||[];1===o.length&&(c[a.n[e]]="BEFORE"===e||"AFTER"===e?o[0].replace(/"/g,""):o[0],l=i(r,l,t))});const d=s[n.HAS]||[];return["ATTACHMENT","PHOTO"].forEach(e=>{c[a.n[e]]=-1!==d.indexOf(r[e]),l=l.replace(`${n.HAS}:${r[e]}`,"")}),c[a.n.CALENDAR_INVITE]=-1!==(s[n.ATTACHMENT_TYPE]||[]).indexOf(r.CALENDAR_INVITE),(l=(l=l.replace(`${n.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`,"")).replace(new RegExp("^\\s*"),"")).trim()&&(c[a.n.KEYWORD]=l),c}function l(e){const t=[],s=e[a.n.FOLDERS],o=e[a.n.FROM],i=e[a.n.TO],c=e[a.n.SUBJECT],l=e[a.n.KEYWORD],d=e[a.n.BEFORE],E=e[a.n.AFTER],_=e[a.n.ATTACHMENT],u=e[a.n.PHOTO],p=e[a.n.CALENDAR_INVITE];return s&&t.push(`${n.FOLDERS}:${s}`),o&&t.push(`${n.FROM}:${o}`),i&&t.push(`${n.TO}:${i}`),c&&t.push(`${n.SUBJECT}:${c}`),_&&t.push(`${n.HAS}:${r.ATTACHMENT}`),u&&t.push(`${n.HAS}:${r.PHOTO}`),p&&t.push(`${n.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`),E&&t.push(`${n.AFTER}:"${E}"`),d&&t.push(`${n.BEFORE}:"${d}"`),l&&t.push(l),t.join(" ")}},,,function(e,t,s){"use strict";s.d(t,"b",function(){return f}),s.d(t,"a",function(){return M});var a=s(0),n=s(7),r=s(33),o=s(8),i=s(9),c=s(1),l=s(47),d=s(14),E=s(70),_=s(17);const u="cmps",p="cmpsThrd",m="msgRd",h="msgLst",S="contacts",g="sttgs",I="sttgs_per",C="trvLst",T="tutrl",A={[a.ld.PERSONALIZE_INBOX]:I,[a.ld.ACCOUNTS]:"sttgs_accnt",[a.ld.NOTIFICATIONS]:"sttgs_not",[a.ld.WRITING_EMAIL]:"sttgs_write",[a.ld.VIEWING_EMAIL]:"sttgs_view",[a.ld.AUTOMATIC_REPLY]:"sttgs_rply",[a.ld.FILTERS]:"sttgs_fltr",[a.ld.SECURITY_AND_PRIVACY]:"sttgs_sec",[a.ld.ENCRYPTION]:"sttgs_crypt",[a.ld.SOCIAL_ACCOUNTS]:"sttgs_sclaccnt",[a.ld.MAIL_PRO]:"sttgs_mpro"},O=(e,t)=>{let s;const{getSelectedAccountId:n,getAccountSelectors:r,getFeaturesSelectors:o}=e,{getAccountById:i,getImapInAccounts:c,getPrimaryAccountType:E}=r(),{getSetting:_,isEnabled:u}=o(),p=u(a.id.MAIL_TABS),m=_(a.id.PREVIEW_PANE),h=_(a.id.THEME),S=_(a.id.THEME_MODE),g=i(n())||{},I=c().length,C=Object(l.e)(g),{domainPart:T}=Object(d.d)(g.email||""),A=g.type===a.g.FREE?"PRIMARY":g.type,O=u(a.kb.SHOULD_SW_SUBSCRIBE);switch(E()){case a.g.PHONE:s="phReg";break;case a.g.EXTERNAL:s="usReg";break;default:s=""}return{tabs:p,prvwpan:m,vwCntxt:t,acctDomain:T,acctType:A,impn:I,theme:`${h}-${S}`,prvdr:C,regType:s,pshNtfctnsSbscrbd:O}},b=(e,t)=>{const s=Object(n.t)(e),r=Object(n.q)(s),o=Object(n.r)(s),i=Object(n.K)(s),c=Object(n.G)(s),l=Object(E.e)(s);if(e.name===a.Pc.MESSAGE_FROM_SEARCH_LIST||e.name===a.Pc.MESSAGE_FROM_LIST)return t.messageViewTabPane;if(i)switch(r){case a.Db.IMAGES:return t.photosSmartviewSearch;case a.Db.DOCUMENTS:return t.documentsSmartviewSearch;case a.Db.COUPON_CARDS:return t.couponsSmartview;case a.Db.GROCERY_STORES:return t.groceriesSmartview;case a.Db.TRAVEL_CARDS:return o===a.Eb.TRAVEL_VIEW_UPCOMING?t.travelUpcoming:t.travelPast;default:return l?t.travelEmails:t.messageSmartviewSearch}return c?t.searchPeople:t.searchKeyword},R=e=>{const t=Object(n.t)(e);return Object(n.G)(t)?r.b.SEARCH_PEOPLE:Object(n.K)(t)?r.b.SEARCH_SMARTVIEW:r.b.SEARCH_KEYWORD},D=e=>{const t=Object(n.t)(e);return Object(n.q)(t)===a.Db.TRAVEL_CARDS?C:h},f=(e,t=!1)=>{const{getAction:s,getRoute:l,getSetting:d,getFoldersSelectors:E}=Object(i.b)(e),_=s(),C=l(),O=Object(n.t)(C),f=d(a.id.SPACE_IDS),{getPrimaryFolderTypeByFolderId:N,doesFolderIdExist:M}=E(),L=Object(n.m)(O),y=M(L)?N(L):a.sb.INBOX;let P;switch(C.name){case a.Pc.PHOTO:case a.Pc.SEARCH:P={spaceId:b(C,f),activeViewType:h,activeFolderType:R(C)};break;case a.Pc.MESSAGE_FROM_SEARCH_LIST:case a.Pc.MESSAGE_FROM_LIST:P={spaceId:b(C,f),activeViewType:m,activeFolderType:R(C)};break;case a.Pc.LIST:P={spaceId:b(C,f),activeViewType:D(C),activeFolderType:R(C)};break;case a.Pc.BASE:case a.Pc.EDIT_FOLDER:case a.Pc.FOLDER:{const e={[a.sb.INBOX]:f.folderViewInbox,[a.sb.DRAFT]:f.folderViewDrafts,[a.sb.SENT]:f.folderViewSent,[a.sb.ARCHIVE]:f.folderViewArchive,[a.sb.TRASH]:f.folderViewTrash,[a.sb.BULK]:f.folderViewSpam,[a.sb.USER]:f.folderViewCustom};P={spaceId:t?f.launchFolder:e[y]||f.folderViewCustom,activeViewType:h,activeFolderType:r.b[y]||r.b.USER};break}case a.Pc.NEW_DRAFT:case a.Pc.EDIT_DRAFT:P={spaceId:t?f.launchCompose:f.composeNew,activeViewType:u,activeFolderType:r.b[y]||r.b.USER};break;case a.Pc.MESSAGE_FROM_FOLDER_LIST:{const e=C.params&&C.params.attachmentId?f.attachment:f.messageViewTabPane;P={spaceId:t?f.launchMessage:e,activeViewType:m,activeFolderType:r.b[y]||r.b.USER};break}case a.Pc.TUTORIAL:P={spaceId:f.tutorial,activeViewType:T,activeFolderType:r.b.INBOX};break;case a.Pc.SETTINGS:P={spaceId:f.settings,activeViewType:A[Object(o.a)(C,"params.settingsGroupId")]||I,activeFolderType:r.b.INBOX};break;case a.Pc.SIGNATURES_FROM_SETTINGS:case a.Pc.THEME_CHOOSER:case a.Pc.ACCOUNT_LIST_FROM_SETTINGS:case a.Pc.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case a.Pc.ADD_ACCOUNT_PROVIDER:case a.Pc.BLOCKED_SENDERS:P={spaceId:f.settings,activeViewType:g,activeFolderType:""};break;case a.Pc.CONTACTS:case a.Pc.CONTACT_DETAILS:case a.Pc.EDIT_CONTACT:case a.Pc.CREATE_CONTACT:P={spaceId:f.contacts,activeFolderType:"",activeViewType:S};break;case a.Pc.SPONSORED_MESSAGE:P={spaceId:f.root,activeFolderType:"",activeViewType:""}}switch(d(a.id.PREVIEW_PANE)===a.Bc.NO||C.name!==a.Pc.FOLDER&&C.name!==a.Pc.SEARCH&&C.name!==a.Pc.LIST||Object(n.q)(O)!==a.Db.MESSAGES||Object(n.K)(O)||(P.activeViewType=h,P.spaceId=f.messageViewReadingPane),_.type){case c.a.PREVIEW_MESSAGE_CLOSED:P.activeViewType=h;break;case c.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:P.activeViewType=p}return P},N=({activeViewType:e,activeFolderType:t},s)=>s?e:`${e}_${t||r.b.INBOX}`,M=()=>{let e={},t={},s=0;return(r,{browserLoggerParams:o})=>{const l=Object(i.b)(r),{getRoute:d,getAction:E,doesStreamExist:u,getCursorItem:p,getSetting:m,getSelectedMailboxId:h,getMainStreamListIds:S,isListUpdatedAndEmpty:g}=l,I=d(),C=E(),T=!S(d()).some(e=>{const t=Object(n.q)(e);return t!==a.Db.MESSAGES&&t!==a.Db.TRAVEL_CARDS||!g(e)}),A=Object(_.A)(I,t),b=-1!==[c.a.INITIAL_STATE,c.a.ITEM_LIST_PAGE_SCROLLED,c.a.PREVIEW_MESSAGE_CLOSED,c.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(C.type);let R;if(A||(s=0),C.streamId&&u(C.streamId)&&m(a.id.PREVIEW_PANE)!==a.Bc.NO&&(I.name===a.Pc.FOLDER||I.name===a.Pc.SEARCH||I.name===a.Pc.LIST)){const t=p(C.streamId);!t||t.id===e.id&&t.listId===e.listId||Object(n.q)(t.listId)!==a.Db.MESSAGES?t||(e={}):(e=t,R=f(r))}else if(h()&&!A){const e=!t.name;t=I,s=T?C.actionTimestamp:s,R=f(r,e)}else b?R=f(r):A&&T&&!s?(R=f(r),s=C.actionTimestamp):C.type===c.a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED&&C.name===a.kb.LANDSHARK_CUE?R={spaceId:a.wb}:C.type===c.a.FEATURE_CLOSED&&C.name===a.kb.LANDSHARK_CUE&&"download_button"!==C.i13nModel.mKey&&(R=f(r));return R?babelHelpers.extends({},R,{pageParams:Object.assign({},O(l,N(R,I.name===a.Pc.SETTINGS)),o)}):{}}}},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i});var a=s(1),n=s(9),r=s(0);const o=35e3;function i(e,{csid:t,listId:s,messageIds:o,messageGroupIds:i,permanent:c,streamId:l,streamItem:d,i13nModel:E}){e.dispatch(a.a.DELETE_ITEMS_REQUESTED,{i13nModel:E,listId:s,streamId:l,streamItem:d,isV2Action:!0,destinationFolderType:r.sb.TRASH,messageIds:o,fromMessageGroupView:!0,messageGroupIds:i,permanent:c,csid:t,triageActionType:r.Pd.DELETE_DRAFT});const{getState:_}=e.store,u=Object(n.b)(_()),{getFeaturesSelectors:p}=u;return p().isEnabled(r.kb.UPDATE_ITEMS_V3)?Promise.resolve():1===o.length?e.mailAPIClient.request("messages.delete",{messageIds:o}).then(()=>{e.dispatch(a.a.DELETE_DRAFT_SUCCEEDED,{messageIds:o})}).catch(t=>{e.dispatch(a.a.DELETE_DRAFT_FAILED,{messageIds:o,error:t})}):void 0}},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.GEO_LOCATION_UPDATE_REQUESTED},e),r=({latlong:e="",updateBusinessListingForEmail:t=""})=>({type:a.a.GEO_LOCATION_UPDATE_SUCCEEDED,latlong:e,updateBusinessListingForEmail:t}),o=e=>({type:a.a.GEO_LOCATION_UPDATE_FAILED,error:e})},function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return o});var a=s(1),n=s(0);const r=e=>e.triageActionType===n.Pd.UNDO_MOVE?babelHelpers.extends({},e,{type:a.a.UNDO_MOVE_SUCCEEDED}):babelHelpers.extends({},e,{type:a.a.UPDATE_ITEMS_SUCCEEDED}),o=e=>e.triageActionType===n.Pd.UNDO_MOVE?babelHelpers.extends({},e,{type:a.a.UNDO_MOVE_FAILED}):babelHelpers.extends({},e,{type:a.a.UPDATE_ITEMS_FAILED})},function(e,t,s){"use strict";e.exports={className:{default:{icon:"C_52qC en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F b_tw30f e_eo6",innerContainer:"D_F ab_CH ac_CH gl_C q_52qC j_1zwO34 o_h cZW7ROP_A e_dRA",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr C_Z281SGl o_h r_BN",close:"P_C04i4 ac_CI",link:"C_Z2aVTcY",actionLink:"C_Z2aVTcY A_6EWk"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-PENDING":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-ADVISORY":{icon:"I_Z1Bab0a aw_Z1vTr7U",container:"b4_Z1Kch8e"},"type-WARNING":{icon:"I_Z9gXar aw_TD3i8",container:"b4_Zij4iv"},"type-FOWARDING_WARNING":{icon:"I_Z9gXar aw_TD3i8",content:"i_6FIA A_6EqO P_Z23bkIA",container:"b_0 E_6Fd5"}},_key:"gQ6G9"}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(13),o=s(4),i=s(30),c=s(16),l=s(11),d=s.n(l),E=s(277),_=s.n(E),u=s(14),p=s(5);const m=d()(_.a);t.a=Object(r.b)(void 0,(e,{undoAction:t})=>({onClick:s=>e(babelHelpers.extends({},t,{i13nModel:babelHelpers.extends({mKey:p.e.UNDO_MOVE_ACTION,sec:p.g.MSG_LIST_NOTIFICATION,interactionType:Object(u.i)(s)},t.i13nModel||{})}))}))(class extends n.a.Component{constructor(...e){var t;return t=super(...e),this.undo=(e=>{this.props.onClose(),this.props.onClick(e)}),t}render(){return n.a.createElement(c.a,{"aria-hidden":!0,"data-test-id":"undo-button",kind:i.a.CHROMELESS,onClick:this.undo},n.a.createElement("span",{className:m.undo},n.a.createElement(o.c,{id:"notifications.undo",defaultMessage:"Undo"})))}})},function(e,t,s){"use strict";e.exports={className:{default:{alert:"p_f T_73HH L_0 R_0 Z_7GpC t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Zjpytw",undo:"C_Z2aVTcY A_6EWk r_P"},multiTask:{alert:"T_7sfl"},bottomAlert:{alert:"B_fq7"}},_key:"20c7Gr"}},function(e,t,s){"use strict";e.exports={className:{default:{suggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 ab_C",keywordSuggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRpVF",keywordSuggestionLabel:"J_x G_e o_h je_6DEy",keywordSuggestionIcon:"N_6DEy E_eTB je_eTB",deleteButton:"je_6DEy Q_A"}},_key:"2mAEkn"}},,function(e,t,s){"use strict";e.exports={className:{default:{module:"C_Z1VRpVF D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z2aVTcY J_x",children:"em_N D_F ab_C"},active:{module:"C_Z281SGl",label:"C_Z2aVTcY"}},_key:"ZPeGKV"}},function(e,t,s){"use strict";s.d(t,"b",function(){return O});s(6);var a=s(2),n=s.n(a),r=s(4),o=s(15),i=s(16),c=s(20),l=s(10),d=s(24),E=(s(8),s(69)),_=s(5),u=s(3),p=s(30),m=s(40),h=s(63),S=s(57),g=s(12),I=s(443),C=s.n(I),T=s(0);s(23);const A=Object(r.h)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"}});function O(e,t){e||(e=t);const{stationeryThemes:s,themeVersions:a,stationeryMobThmPath:n}=C.a.config,r=s[e];return r&&(r.themeName=e,r.themeVersion=a[e],r.mobstorPath=n,r.isDefaultTheme=e===t),r}class b extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={menuOpen:!1,hasShownStationeryPicker:!1},this._showStationeryPickerIfNeeded=(()=>{if(!this.state.hasShownStationeryPicker){const{showStationeryPicker:e,getToolbarBoundingRect:t}=this.props;e&&setTimeout(()=>{this.toolbarBoundingRect=t(),this.setState({menuOpen:!0,hasShownStationeryPicker:!0}),E.b.sendI13nModel({i13nModel:{mKey:_.e.COMPOSE_AUTO_OPEN_STATIONERY_POPUP,sec:_.g.RTE_TOOLBAR}})},300)}}),this._handlePopoverHide=(()=>{this.state.menuOpen&&this.setState({menuOpen:!1})}),this._toggleMenu=(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._stationeryPopoverContainer.hide(g.h.MOUNT),this.props.focusBackEditor()):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._stationeryPopoverContainer.show(g.h.MOUNT)),this.setState({menuOpen:!t}),E.b.sendI13nModel({i13nModel:{mKey:t?_.e.COMPOSE_CLOSE_STATIONERY_POPUP:_.e.COMPOSE_OPEN_STATIONERY_POPUP,sec:_.g.RTE_TOOLBAR,interactionType:_.d.click}})}),this.renderStationeryCue=(()=>this.props.showStationeryCue&&this.refs.button?n.a.createElement(m.b,{popoverAnchor:this.refs.button,align:g.a.CENTER,triggerOn:g.h.MOUNT,zAltitude:l.ZIndices.POPOVER.HIGH},n.a.createElement(c.a,{import:"../compose/atoms/stationery_cue",cueName:T.kb.STATIONERY_CUE,close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,636))},_moduleResolver:function(){return 636}})):null),this.renderStationeryPopup=(()=>n.a.createElement(m.b,{ref:e=>this._stationeryPopoverContent=e,permittedArrowDirections:[g.g.DOWN],triggerOn:g.h.MOUNT,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._handlePopoverHide},n.a.createElement(c.a,{import:"./stationery.jsx",getThemeConfig:O,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,selectedCategory:this.props.stationeryCategory,categoriesToShow:this.props.stationeryCategoriesToShow,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.toolbarBoundingRect.width,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:Math.max((Object(d.b)()&&window.innerHeight||0)-this.toolbarBoundingRect.top,this.toolbarBoundingRect.height),stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,showDefaultTheme:this.props.showStationeryDefaultTheme,showThemeCategories:this.props.showStationeryThemeCategories,rtl:this.props.rtl,toolbarKind:this.props.toolbarKind,showStationerySetDefault:this.props.showStationerySetDefault,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,639))},_moduleResolver:function(){return 639}}))),t}componentDidMount(){this._showStationeryPickerIfNeeded()}componentDidUpdate(){this._showStationeryPickerIfNeeded()}render(){const{formatMessage:e}=this.context.intl,{menuOpen:t}=this.state;return n.a.createElement("div",null,n.a.createElement("div",{onClick:this._toggleMenu},n.a.createElement(h.a,{ref:e=>this._stationeryPopoverContainer=e},n.a.createElement(S.a,{"data-test-id":"stationery-picker-anchor"},n.a.createElement(i.a,{ref:"button","data-test-id":"stationery-button",title:e(A.theme_picker),"aria-label":e(A.theme_picker),kind:t?p.a.ICON_HIGHLIGHTED:p.a.ICON},n.a.createElement(o.b,{kind:u.b.STATIONERY,size:u.d.XS,colorState:u.a.NORMAL}))),t?this.renderStationeryPopup():null)),this.renderStationeryCue())}}b.contextTypes={intl:r.i.isRequired},t.a=b},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAgNS a_3Mlf4",message:"P_0 J_x M_ZmsKgw D_Z1YJkyX",button:"C_Z2aVTcY M_3gJOe",buttonsContent:"D_Z1YJkyX ab_CI J_x",primaryButton:"r_P C_Z2aVTcY"}},_key:"Z2v5pWR"}},function(e,t,s){"use strict";e.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_52qC em_N X_fq7 N_6LEV ir3_Z1tiXR3 it3_689y",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4l8N p_R j_ZlOSbd"}},_key:"wnxvG"}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=(s(38),s(573)),o=s.n(r),i=s(11),c=s.n(i),l=s(48),d=s(4);const E=Object(d.h)({comma:{id:"mail_app.comma_with_space",defaultMessage:",\\u0020"},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:"\\u0020and\\u0020"}}),_=" .. ",u=".",p=10;class m extends n.a.Component{constructor(...e){var t;return t=super(...e),this.getSenderLabelText=(({name:e,email:t})=>{const{myAddresses:s}=this.props,{formatMessage:a}=this.context.intl;let n;return(n=s[t]?a(E.me):e?e.split(" ")[0]:t.split("@")[0]).length>p+u.length?n.slice(0,p)+u:n}),this.trimIndicesToVisible=((e,t)=>{const{visibleNum:s}=this.props;return e.length<=s-1?t:t.slice(0,e[0].recent?s-1:s)}),this.getLabel=((e,t)=>{return n.a.createElement(e?"span":"strong",0,t)}),this.getSenderLabels=(e=>{const{myAddresses:t,isRead:s}=this.props,{formatMessage:a}=this.context.intl;if(0===e.length)return null;if(1===e.length){const n=e[0],r=t[n.email]?a(E.me):null;return this.getLabel(s,r||n.name||n.email)}const n=[],r=Object(l.c)(e),o=Object(l.b)(r),i=r.map(e=>this.getSenderLabelText(e)),c=this.trimIndicesToVisible(r,o).sort();let d=0;return c.forEach((e,t)=>{const s=i[e];e>d+1?n.push(_):t>0&&n.push(a(E.comma)),n.push(s),d=e}),this.getLabel(s,n.join(""))}),this.getSenderTooltip=(e=>{const{formatMessage:t}=this.context.intl,s=Object(l.c)(e);let a="";if(s)if(1===(a=(a=s.map(e=>this.getSenderLabelText(e))).filter((e,t,s)=>s.indexOf(e)===t)).length)a=s[0].email;else{const e=a.pop();a=a.join(t(E.comma))+t(E.and)+e}return a}),t}render(){const e=c()(o.a,{transparent:this.props.transparent}),{senders:t,onClick:s}=this.props,a=this.getSenderTooltip(t);return n.a.createElement("span",{className:e.participants,onClick:s,role:"gridcell",title:a},this.getSenderLabels(t))}}m.defaultProps={visibleNum:3,myAddresses:{},transparent:!1},m.contextTypes={intl:d.i},t.a=m},function(e,t,s){"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x e_dRA I_T cn_dRA cg_FJ l_Z2aVTcY C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74JI X_eo6 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",imageContainer:"W_7iGr X_dRA D_F ab_C k_w en_0 i_0",previewVideo:"W_6NIX H_6NIX e_e5X o_h ab_C D_F gl_C p_R",previewVideoPlayer:"e_e5X W_6NIX H_6NIX im_BH",videoOverlay:"p_a T_0 W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_E8xte C_Z2drWk6 cdPFi_Z2drWk6",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_b D_B",message:"D_F ab_CI o_h H_6D6F E_72FG J_x em_N ek_BB gl_C i_CS k_w",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_h G_e J_x a_6D6F en_N u_b",snippetContainer:"D_F ab_C a_6D6F",snippet:"J_x o_h G_e C_Z1VRpVF a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6DEy ab_C D_F C_52qC E_eo6 P_3gIgH I_ZxFlP3 u_b gl_C H_6D6F b_0 r_P",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",openEmailIcon:"Q_Z1jxxvJ cdPFi_Z1VRpVF cdPFi4_Z2aVTcY",starRatingContainer:"s_7qGO",unclippedScissorsIcon:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z215mxU I_52qC cdPFi_Z287E9E",clippedScissorsIcon:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z215mxU I_Z287E9E C_52qC"},alignDollarIcon:{imageContainer:"W_7jcW",sponsoredIcon:"W_72FG Q_fq7 E_fq7 P_eo6",iconContainer:"W_72FG Q_fq7 E_fq7 P_eo6",message:"ek_EZ ab_C gl_FO",snippetContainer:"X_fq7 o_h J_x H_6D6F"},alignDollarIconCompact:{sponsoredIcon:"E_82XEY",iconContainer:"E_82XEY",message:"ek_BB gl_C N_eo6",snippetContainer:"X_82XEY H_A"},isCompactLayout:{link:"H_7rdk X_0",imageContainer:"W_74JI X_fq7",adHeadline:"Q_0 W_6D6F",snippet:"Q_0",spacer:"D_n",iconContainer:"gl_CH W_A",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n",subjectContainer:"W_6D6F",snippetContainer:"W_6D6F gl_FM H_dw4",message:"M_0 N_6LEV"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_2xr6Y e_0"},couponCompact:{subjectContainer:"ab_FO ek_BB U_dm5",snippet:"u_82XEY"},renderCouponOnPencilPosition:{actionButton:"E_fq7",link:"D_ZKxLmw ab_C X_eo6"},savedCoupon:{actionButton:"I_Z2aVTcY C_52qC"},adHoveredInCompact:{sponsoredContainer:"D_n",message:"N_dm5"},timechunkPencilAd:{link:"cm_0"},gradientltr:{link:"I_82XEY aw_Z1hbGih aw4_82XEY I4_ZpQYvz"},gradientrtl:{link:"I_82XEY aw_2o0LGp aw4_82XEY I4_ZpQYvz"},"backgroundId-1":{link:"I_1lAUBh I4_1iaBuV",sponsoredIcon:"C_Z22OMQj cdPFi_Z22OMQj",actionButton:"l_Z22OMQj C_Z22OMQj",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z22OMQj",filledActionButton:"I_Z25kRrz"},"backgroundId-2":{link:"I_VtmPm I4_Z1igfGE",sponsoredIcon:"C_Z25iliW cdPFi_Z25iliW",actionButton:"l_Z25iliW C_Z25iliW",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z25iliW",filledActionButton:"I_1MO3jO"},"backgroundId-3":{link:"I_Z1d6UKc I4_Z247OCM",sponsoredIcon:"C_Z2dxNDU cdPFi_Z2dxNDU",actionButton:"l_Z2dxNDU C_Z2dxNDU",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z2dxNDU",filledActionButton:"I_ZdD4ID"},"backgroundId-4":{link:"I_Z1dTgDQ I4_Z2sGrp7",sponsoredIcon:"C_Z2dyg2z cdPFi_Z2dyg2z",actionButton:"l_Z2dyg2z C_Z2dyg2z",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z2dyg2z",filledActionButton:"I_yno1B"},"backgroundId-5":{link:"I_Z8TpEO I4_y26bi",sponsoredIcon:"C_ZkhR3R cdPFi_ZkhR3R",actionButton:"l_ZkhR3R C_ZkhR3R",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_ZkhR3R",filledActionButton:"I_16TCC9"},"backgroundId-6":{link:"I_Z2cHJN6 I4_Z2lDoc8",sponsoredIcon:"C_Z27jPgO cdPFi_Z27jPgO",actionButton:"l_Z27jPgO C_Z27jPgO",openEmailIcon:"cdPFi_Z1TsNWR cdPFi4_Z27jPgO",filledActionButton:"I_1nby3G"},transparentLink:{link:"bn_dBP bm_FJ bj_2spJWC e_82XEY I_T I4_1I4yPF"},darkModeNonPhotoTheme:{link:"C_ZpQYvz cdPFi_52qC I_sgPuo aw_82XEY I4_sgPuT",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_1YEmYj",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_ROADTRIP:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},darkModePhotoTheme_LIGHTHOUSE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW",unclippedScissorsIcon:"I_T cdPFi_29F7yW l_29F7yW",clippedScissorsIcon:"I_29F7yW l_29F7yW",sponsored:"C_52qC"},iconHidden:{favicon:"D_n"},couponNonCompact:{subjectContainer:"en_pG o_h",snippetContainer:"o_82XEY"},isSlim:{unclippedScissorsIcon:"P_1zvs7l",clippedScissorsIcon:"P_1zvs7l"},heightOptimization:{message:"ek_EZ ab_C gl_FO",snippetContainer:"X_fq7 o_h J_x H_6D6F"},"msgListDensity-1":{link:"H_qg",imageContainer:"X_eo6",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6LEV H_6LEV",previewVideoPlayer:"W_6LEV H_6LEV",videoOverlay:"W_6LEV H_6LEV"},"msgListDensity-2":{link:"H_qJ"},"msgListDensity-3":{link:"H_rh"},"msgListDensity-compact_snippets_1":{link:"H_si",subjectContainer:"U_dRA",adHeadline:"U_dRA u_b"},"msgListDensity-compact_snippets_2":{link:"H_sL",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_snippets_3":{link:"H_tf",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_1":{link:"H_rl",subjectContainer:"U_dRA",snippet:"u_b C_82XEY"},"msgListDensity-compact_2":{link:"H_rO",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},"msgListDensity-compact_3":{link:"H_se",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},isFlashSaleAd:{adHeadline:"u_b"},compactFlashSaleAd:{subjectContainer:"U_dm5",snippetContainer:"H_dw4"}},_key:"Qbhvy"}},,function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"}},function(e,t,s){"use strict";e.exports={className:{default:{folderTree:"hd_n P_0 M_0",folderContainer:"H_6NIX D_F ab_C ir3_1JO2M7 it3_689y",toggleFolderTree:"N_fq7 A_6DUj C_Z1VRpVF r_P C4_Z1YRXYn J_x",collapseFolders:"H_6MWH X_6DEy A_6DUj C_Z1VRpVF r_P D_F ab_C C4_Z1YRXYn ir3_1JO2M7 it3_dBP"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},darkModeNonPhotoTheme:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbPK C4_2sqbRh",collapseFolders:"C_2sqbPK C4_2sqbRh ir3_Z1FS2Mn"},darkModePhotoTheme_NIGHT_LANDSCAPE:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"},darkModePhotoTheme_ROADTRIP:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"},darkModePhotoTheme_SUNSET_AUSSIE:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"},darkModePhotoTheme_LIGHTHOUSE:{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbRh C4_52qC",collapseFolders:"C_2sqbRh C4_52qC ir3_Z1FS2Mn"}},_key:"1znGyK"}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F W_A",property:"D_F U_0 r_P E_6EGz q_n b_n P_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1JO2M7",selectedProperty:"D_F U_0 r_P E_6EGz q_n b_n P_0 cdPFi_Z2aVTcY"},verticalLayout:{properties:"ek_BB Y_6EGz",property:"E_0 U_6EGz"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC"},"themeMode-DARK":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC"},"themeCombo-LIGHT_ATT":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_FRONTIER":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_ROGERS":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_BT":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_SKY":{selectedProperty:"cdPFi_Z1ryveK"},"themeCombo-LIGHT_SUNRISE":{selectedProperty:"cdPFi_ZmlXUP"},"themeCombo-LIGHT_AQUA_GREEN":{selectedProperty:"cdPFi_Z1UHURv"},"themeCombo-LIGHT_AQUA_BLUE":{selectedProperty:"cdPFi_Z280Xf5"},"themeCombo-LIGHT_DEEP_PURPLE":{selectedProperty:"cdPFi_Zwa5YI"},"themeCombo-LIGHT_BLUE_NIGHT":{selectedProperty:"cdPFi_Z21zYBA"},"themeCombo-LIGHT_NIGHT_LANDSCAPE":{selectedProperty:"cdPFi_Z1UEcsX"},"themeCombo-LIGHT_ROADTRIP":{selectedProperty:"cdPFi_ZrkPvI"},"themeCombo-LIGHT_SUNSET_AUSSIE":{selectedProperty:"cdPFi_ZmlXUP"},"themeCombo-LIGHT_LIGHTHOUSE":{selectedProperty:"cdPFi_Z1VDTK1"}},_key:"pHwI"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB",textInput:"A_6EqO M_27m5tQ p_R",titleLabel:"A_6EWk M_1Wjk7b u_dPo",label:"u_b A_6EqO M_3gIgH i_6Mbr",hintTop:"A_6DUj M_1IaimO C_Z281SGl",oAuthHint:"A_6EqO Y_6LEV U_6NIX i_6LEV C_Z281SGl",hint:"C_Z1TsNWR A_6DUj U_6Fd5",link:"C_Z2aVTcY Q_dRA u_e69 r_P",iconsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",backButton:"r_P P_1EudUu H_6TFj cn_dBP cg_FJ y_Z2uhb3X A_6EqO I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY M_1MYy0B e_dRA k_w en_0 V_M s_7yHc P_1EudUu cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl",cancelButton:"b_n r_P C_Z1YRXYn V_M D_X q_T A_6EqO H_6TFj P_1EudUu u_e69 I4_15sa3J C4_Z281SGl",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI",errorIcon:"E_fq7 D_F",errorHeader:"M_0 i_6LEV",errorInvalidReason:"C_ZkiIcp D_B A_6DUj M_fq7",tryAgain:"D_B C_Z2aVTcY u_e69 r_P",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x ir_0 G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",clearIconContainer:"p_a T_eTB R_0 P_3gJOe Z_N"},disabled:{primaryButton:"O_cMq r_A I4_Z2aVTcY l4_Z2aVTcY"}},_key:"YHXC2"}},function(e,t,s){"use strict";var a=s(1),n=s(35),r=s.n(n),o=s(61),i=s(84),c=s(0),l=s(9),d=s(47),E=s(8);var _=s(82);const u=(e,t,s)=>{const{getAdsSelectors:a}=Object(l.b)(e.getState()),n=a().getAdFeedbackBeacon(s).replace("$(AD_FEEDBACK)",t);Object(_.a)(n)};var p=s(146),m=s(97);var h=s(213);function S(e,t,s){const{isMobileRoute:a,getAccountSelectors:n,getFoldersSelectors:r}=e,{getFolderIdsByAccountId:o,hasChildren:i}=r();let l;switch(t){case c.id.INTERSTITIAL_FREQUENCY:l=c.Wb.INTERSTITIAL_FREQUENCY;break;case c.id.THEME:l=a()?c.Wb.MOBILE_THEME:c.Wb.THEME;break;case c.id.THEME_MODE:l=a()?c.Wb.MOBILE_THEME_MODE:c.Wb.THEME_MODE;break;case c.id.PREVIEW_PANE:l=c.Wb.PREVIEW_PANE;break;case c.id.MSG_LIST_DENSITY:l=c.Wb.MSG_LIST_DENSITY;break;case c.id.SNIPPETS:l=a()?c.Wb.MOBILE_SNIPPETS:c.Wb.SNIPPETS;break;case c.id.COMPOSE_FONT_FAMILY:l=c.Wb.COMPOSE_FONT_FAMILY;break;case c.id.COMPOSE_FONT_SIZE:l=c.Wb.COMPOSE_FONT_SIZE;break;case c.id.MOBILE_NOTIFICATION:l=c.Wb.MOBILE_NOTIFICATION;break;case c.id.DESKTOP_NOTIFICATION:l=c.Wb.DESKTOP_NOTIFICATION;break;case c.id.MARK_AS_READ_INTERVAL:l=c.Wb.MARK_AS_READ_INTERVAL;break;case c.id.SHOW_IMAGES:l=a()?c.Wb.MOBILE_SHOW_IMAGES:c.Wb.BLOCK_IMAGES;break;case c.id.LINK_ENHANCR:l=c.Wb.LINK_ENHANCER;break;case c.id.ACTION_AFTER_MSG_MOVE:l=c.Wb.ACTION_AFTER_MSG_MOVE;break;case c.id.SHOW_CUSTOM_FOLDERS:l=c.Wb.SHOW_CUSTOM_FOLDERS;break;case c.id.SUPPRESSED_UPSELLS:l=c.Wb.SUPPRESSED_UPSELLS;break;case c.id.MAIL_TABS:l=c.Wb.MAIL_TABS;break;case c.id.HIDE_AD:l=c.Wb.HIDE_AD;break;case c.id.SHOW_ALL_SYSTEM_FOLDERS:l=c.Wb.SHOW_ALL_SYSTEM_FOLDERS;break;case c.id.EXPANDED_FOLDERS:{l=c.Wb.EXPANDED_FOLDERS;const e=n().getAccountIds();let t=[];e.forEach(e=>{o(e).forEach(e=>{i(e)&&-1!==s.indexOf(e)&&(t=t.concat(e))})}),s=t;break}case c.id.STATIONERY_DEFAULT_THEME:l=c.Wb.STATIONERY_DEFAULT_THEME;break;case c.id.UNSUBSCRIBE_NOTIFICATION:l=c.Wb.UNSUBSCRIBE_NOTIFICATION;break;case c.id.UNSUBSCRIBE_TIMESTAMP:l=c.Wb.UNSUBSCRIBE_TIMESTAMP;break;case c.id.NUM_UNSUBSCRIBED_ITEMS:l=c.Wb.NUM_UNSUBSCRIBED_ITEMS;break;case c.id.RECENTLY_USED_EMOJIS:l=c.Wb.RECENTLY_USED_EMOJIS;break;case c.id.SCOUT_ONBOARDING:l=c.Wb.SCOUT_ONBOARDING;break;case c.id.SYSTEM_TABS:l=c.Wb.SYSTEM_TABS;break;case c.id.EMAIL_SUBSCRIPTIONS:l=c.Wb.EMAIL_SUBSCRIPTIONS;break;case c.id.AD_BLOCK_FEATURE_CUE_ID:l=c.Wb.AD_BLOCK_FEATURE_CUE_ID;break;case c.id.PREFERRED_AD_FORMAT:l=c.Wb.PREFERRED_AD_FORMAT}return l}var g=s(108),I=s(14),C=s(7);var T=s(95),A=s(50),O=s(155),b=s(156),R=s(55),D=s(131),f=s.n(D),N=s(196);const M=(e,t)=>{const s=Object(l.b)(e),{getSelectedMailboxId:a,getDraftFolderIdByAccountEmail:n,getAttachmentMessageReferenceByContentId:r,isReplyMessage:o,isReplyAllMessage:i,isForwardMessage:c,getReplyingToMessageId:d}=s,{to:E,cc:_,bcc:u,from:p,csid:m,subject:h,html:S,attachmentsInfo:g=[],captchaAnswer:I,rawFiles:C={},newContentIds:T=[],uiState:{useRichText:A}}=t,O=a(),R=n(p.email),D=d(m),N=o(m),M=i(m),L=c(m),y=f()(g,"contentId").filter(e=>{const t=T.some(t=>t===e.contentId),s=r(e.contentId);let a=s&&e.partId&&e.partId.indexOf(".")>0;if(a){const t=e.partId.split(".")[0];a=!!g.find(({partId:e})=>e===t)}return(t||s)&&!a}).map(e=>{const t=r(e.contentId);return t?babelHelpers.extends({},e,{messageReference:t,file:void 0}):e}),P=[{name:p.sendingName||p.email,email:p.email}],v=p.replyToAddress?[{name:p.sendingName||p.replyToAddress,email:p.replyToAddress}]:[],F={csid:m,mailboxId:encodeURIComponent(O),subject:h,captchaAnswer:I,from:P,replyTo:v,to:E,cc:_,bcc:u,html:A?Object(b.d)(S,s):null,text:A?null:Object(b.a)(S),folderId:R,attachments:y,files:(T||[]).map(e=>C[e]).filter(Boolean)};return D?(F.newMessage=!1,F.inReplyTo={messageReference:{id:D},replied:N||M,forwarded:!(N||M)&&L}):F.newMessage=!0,F},L=s.n(N)()((e,t)=>{e(Object(T.e)(t))},2e3);var y=s(119),P=s(114),v=s(109),F=s(5);const U=(e,t,s)=>{const{dispatch:a,getState:n}=e,{getEnvironmentSelectors:r}=Object(l.b)(n()),o=r().getIsXobnified();return null!==o?Promise.resolve(o):s.autoSuggestClient.isUserXobnified().then(e=>a(Object(y.b)({isXobnified:e}))).catch(e=>a(Object(y.a)(e)))};var H=s(46),k=s(334);var G=s(140);var w=(e,t,s)=>{const{getState:a,dispatch:n}=e,r=Object(l.b)(a()),{getFeaturesSelectors:o}=r,i=o().isEnabled(c.kb.UPDATE_ITEMS_V3);if(t.isV2Action||i)return Promise.resolve();const{getSelectedMailboxId:d,getFoldersSelectors:E,getMessageFolderId:_}=Object(l.b)(a()),{getAccountIdByFolderId:u,getFolderIdsFromFolderType:p}=E(),{itemsToUpdate:h,destinationFolderType:S,streamId:g}=t,I=h.filter(e=>e.isAffected);let C=null,T=null;if(!I.length)return Promise.resolve();const A=I.filter(e=>e.permanentDelete).map(({messageId:e})=>e),O=I.filter(e=>!e.permanentDelete).map(({messageId:e})=>e);if(O.length){const e=p(S,u(_(O[0])))[0];C=[{mailboxId:d(),destinationFolderId:e,messageIds:O,isAsync:!1}]}A.length&&(T={mailboxId:d(),messageIds:A,isAsync:!1});const b={trashPayload:C,deletePayload:T},R={};I.forEach(({groupId:e})=>{R[e]=!0});const D=Object.keys(R).length,f={undoAction:0===A.length?Object(m.a)({itemsToUpdate:h,i13nModel:{mKey:F.e.UNDO_DELETE_ACTION},streamId:g}):null,count:D,itemsToUpdate:h};return void 0!==t.conversations&&(f.conversations=t.conversations),s.mailAPIClient.request("messages.trashAndDelete",b).then(()=>n(Object(G.c)(f))).catch(()=>n(Object(G.b)({itemsToUpdate:h})))};const x=e=>babelHelpers.extends({type:a.a.DOCUMENT_FETCH_FAILED},e);var B=s(44);function j({type:e,subtype:t}){switch(Object(B.d)(e,t)){case c.u.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}var V=s(226);var W=s(103),q=s(123),K=s(19);const z=["inboxErnyCue","inboxErnyBrndCue","inboxErnyGrthCue","inboxErnyGrthBrndCue","inboxErnySvngsCue","msgReadErnyCue"],Y=e=>f()(e.filter(e=>z.indexOf(e.split(",")[0])<0).sort((e,t)=>(0|parseInt(t.split(",")[1],10))-(0|parseInt(e.split(",")[1],10))),e=>e.split(",")[0]),Z=({shouldWriteToDataSource:e,success:t,failure:s})=>(a,{name:n,userAction:r,userResponse:o},i)=>{const{dispatch:d,getState:E}=a,{getFeaturesSelectors:_,getFeatureCueSelectors:u,getSelectedMailboxId:p}=Object(l.b)(E()),{isPersistent:m,isKeySaved:h}=u();if(!h(n)&&e({userResponse:o,isPersistent:m(n)}))return(({feature:e,userResponse:t,apiClients:{mailAPIClient:s,udbClient:a},selectors:{getFeaturesSelectors:n,getFeatureCueSelectors:r,getSelectedMailboxId:o}})=>{const{isEnabled:i}=n(),l=i(c.kb.UDB_MIGRATION_COMPLETE),{getSubkey:d,isUdbOnly:E}=r(),_=d(e)||e,u=E(e),p=o();return Object(K.a)(z.indexOf(_)<0,`${_} is legacy, it shouldn't be rendered`),l&&!u?s.request("saveArrayAttributes",{mailboxId:p,items:[`${_},${Math.round(Date.now()/1e3)},${t||""}`],attribute:c.Wb.SCOUT_ONBOARDING,dedupFn:Y}):a.write({[q.a.YM_MAIL_SCOUT]:{[_]:t||Math.round(Date.now()/1e3)}})})({feature:n,userResponse:o,apiClients:i,selectors:{getFeaturesSelectors:_,getFeatureCueSelectors:u,getSelectedMailboxId:p}}).then(e=>d(t({feature:n,value:e,userAction:r}))).catch(e=>d(s({error:e,userAction:r})))},X=Z({shouldWriteToDataSource:({userResponse:e,isPersistent:t})=>e||t,success:e=>Object(W.c)(e),failure:e=>Object(W.b)(e)}),Q=Z({shouldWriteToDataSource:({isPersistent:e})=>!e,success:e=>Object(W.f)(e),failure:({error:e})=>Object(W.e)(e)});var $=s(147);var J=s(272);var ee=s(273),te=s(178);var se=s(107),ae=s(33);const ne=(e,t,s)=>{const{route:a,config:n,type:r}=t,o=((e,t)=>{switch(t.name){case c.Pc.FOLDER:return e.launchFolder;case c.Pc.MESSAGE_FROM_FOLDER_LIST:case c.Pc.MESSAGE_FROM_SEARCH_LIST:return e.launchMessage;default:return e.root}})(n.spaceids,a),i=n.geminiForceFilter,l=n.sectionIdsToPrefetch||[],d=n.geminiSectionIds||{},E=Object.keys(d).reduce((e,t)=>(-1!==l.indexOf(d[t])&&(e[t]=d[t]),e),{});if(!Object.keys(E).length)return Promise.resolve();const _={sectionId:E,publisherInfo:`||${o}|STRM|`,rotationActionType:r};return i&&(_.forceFilter=i),n.geminiSponsoredVideo&&(_.creativeCode="STRM,STRM_VIDEO",_.contentType="video/mp4,application/vnd.apple.mpegurl"),n.videoSponsoredMoment&&(_.videoMomentEnabled=!0),s.geminiAPIClient.request(_).then(e=>e)};var re=s(59),oe=s(81);var ie=({dispatch:e,getState:t},{action:{listId:s,count:n=c.Q,type:r=""}={}},{mailAPIClient:o})=>{const{getSelectedMailboxId:i,getListsSelectors:d,getSelectedAccountId:E,isFeatureEnabled:_,getRouteName:u}=Object(l.b)(t()),p=u()===c.Pc.SEARCH;if(_(c.kb.BOOTCAMP_COUPONS)||r!==a.a.MORE_COUPONS_REQUESTED||p&&_(c.kb.COUPONS_SMART_VIEW_SEARCH))return Promise.resolve();const{doesListExist:m,getListOffset:h,hasMoreItems:S}=d(),g=i(),I=E(),T=[],A=[],O=!!m(s)&&S(s),b=Object(C.r)(s);if(O){const e=m(s)?h(s):0;T.push(b),A.push(e)}const R=b===c.Eb.SAVED_COUPON_CARDS?c.Eb.ALL_COUPON_CARDS:c.Eb.SAVED_COUPON_CARDS,D=Object(C.Q)(s,{listFilter:R});if(m(D)&&S(D)){const e=m(D)?h(D):0;T.push(R),A.push(e)}const f={mailboxId:g,filter:T,count:n,offset:A,startCardDate:Object(H.q)(new Date),endCardDate:Math.round((new Date).getTime()/1e3)+30*H.a,sortOrder:c.Sc,accountId:I};return o.request("consolidatedCoupons.getList",f).then(t=>{t.messageGroupsResponses.forEach(t=>{e(Object(oe.c)({listId:Object(C.Q)(s,{listFilter:t.filter}),cardGroupList:t.cardGroupList,hasMoreItems:t.hasMoreItems,offset:t.offset}))})}).catch(t=>{e(Object(oe.b)({listId:s,error:t}))})},ce=s(24);var le=({dispatch:e,getState:t},{listId:s},{mailAPIClient:a})=>{const{getSelectedMailboxId:n,getListsSelectors:r,getFeaturesSelectors:o,getSelectedAccountId:i}=Object(l.b)(t()),d=n(),{getItemIdsSelectors:E}=r(),_=o().getSetting(c.id.CARD_GROUPS_FETCH_COUNT),u=E(s).getItemIds().length,p=Object(C.r)(s),m=Object(C.D)(s),h=i();return a.request("messageCards.getList",{mailboxId:d,filter:p,offset:u,count:_,sortOrder:m,accountId:h}).then(({cardGroupList:t,hasMoreItems:a})=>{e(Object(oe.k)({listId:s,cardGroupList:t,hasMoreItems:a}))}).catch(t=>{e(Object(oe.j)({listId:s,error:t}))})};var de=({dispatch:e,getState:t},{listId:s,count:a=c.Q},{mailAPIClient:n})=>{const{getSelectedMailboxId:r,getListsSelectors:o,getSelectedAccountId:i}=Object(l.b)(t()),{doesListExist:d,getListOffset:E,hasMoreItems:_}=o(),u=r(),p=i(),m=c.Eb.ALL_REFUND_CARDS;let h=0;return!!d(s)&&_(s)&&(h=d(s)?E(s):0),n.request("getMoreReceipts",{mailboxId:u,filter:m,count:a,offset:h,sortOrder:c.wd.CARD_DATE_DESC,accountId:p}).then(t=>{e(Object(oe.g)({listId:s,cardGroupList:t.messageGroupsResponses.cardGroupList,hasMoreItems:t.messageGroupsResponses.hasMoreItems,offset:t.messageGroupsResponses.offset,parentMessagesMap:t.parentMessagesMap}))}).catch(t=>{e(Object(oe.f)({listId:s,error:t}))})},Ee=s(105),_e=s(27);var ue=s(148);var pe=(e,t,s)=>{const{getState:a}=e,n=Object(l.b)(a()),{getFeaturesSelectors:r}=n,o=r().isEnabled(c.kb.UPDATE_ITEMS_V3);if(t.isV2Action||o)return Promise.resolve();const{dispatch:i}=e,{getSelectedMailboxId:d}=n,{destinationFolderType:E,destinationFolderId:_,itemsToUpdate:u,streamId:p}=t,h=u.filter(e=>e.isAffected);if(!h.length)return Promise.resolve();const S={mailboxId:d(),messageItems:h,isAsync:!1},g={};h.forEach(({groupId:e})=>{g[e]=!0});const I=Object.keys(g).length;return s.mailAPIClient.request("messages.updateV3",S).then(()=>i(Object(ue.d)({undoAction:Object(m.a)({itemsToUpdate:u,streamId:p}),destinationFolderType:E,destinationFolderId:_,count:I,itemsToUpdate:u}))).catch(()=>i(Object(ue.c)({itemsToUpdate:u})))},me=s(133);var he=(e,t,s)=>{const{getState:a}=e,n=Object(l.b)(a()),{getFeaturesSelectors:r}=n,o=r().isEnabled(c.kb.UPDATE_ITEMS_V3);if(t.isV2Action||o)return Promise.resolve();const{dispatch:i}=e,{isRead:d,itemsToUpdate:E}=t,{getSelectedMailboxId:_}=n,u=E.filter(e=>e.isAffected).map(e=>e.messageId),p={read:!d};if(!u.length)return Promise.resolve();const m={mailboxId:_(),messageIds:u,flags:p};return s.mailAPIClient.request("messages.update",[m]).then(()=>i(Object(me.e)({itemsToUpdate:E}))).catch(()=>i(Object(me.d)({itemsToUpdate:E})))};var Se=function(e,t,s){const{sectionIds:a,spaceId:n}=t;if(t.unsyncedDataType!==c.Td.GEMINI_AD||!a||!n)return Promise.resolve();const{dispatch:r,getState:o}=e,{getFeaturesSelectors:i,getAdsSelectors:d,getAction:E,getGroupId:_,getSenderEmailIdsFromMessageGroup:u}=Object(l.b)(o()),{isEnabled:p,getSetting:m}=i(),h=d().getGeminiCategories(),S=m(c.id.GEMINI_FORCE_FILTER),g=u([_()]),C=Object(I.k)(g[0]),T={adCount:1,sectionId:a,publisherInfo:`||${n}|STRM|`,rotationActionType:E().type};return p(c.kb.ROTATE_PENCIL_AD_ON_EXPIRE)||setTimeout(()=>r(Object(A.i)({sectionIds:a})),0),S&&(T.forceFilter=S),p(c.kb.GEMINI_SPONSORED_VIDEO)&&(T.creativeCode="STRM,STRM_VIDEO",T.contentType="video/mp4,application/vnd.apple.mpegurl"),(p(c.kb.SHOPPING_CART_AD)||p(c.kb.SUBSCRIPTION_ADS))&&C&&(T.domain=C),h&&h.length&&(T.adCategories=h.join(",")),p(c.kb.VIDEO_SPONSORED_MOMENT)&&(T.videoMomentEnabled=!0),s.geminiAPIClient.request(T).then(e=>r(Object(A.s)({geminiAd:e,sectionIds:a}))).catch(e=>r(Object(A.r)({error:e,sectionIds:a})))};var ge=function(e,t,s){if(t.unsyncedDataType!==c.Td.IMPORTANT_CONTACTS_FETCH)return Promise.resolve();const{dispatch:a}=e,{fromEmail:n,listId:r}=t;return s.autoSuggestClient.importantContacts(n).then(e=>{a(Object(P.g)({fromEmail:n,contacts:e,listId:r}))}).catch(()=>{a(Object(P.d)({fromEmail:n,listId:r}))})},Ie=s(335);var Ce=s(336),Te=s(189);var Ae=s(337);var Oe=s(120);var be=s(75);const Re=e=>({type:a.a.SR_RETAILERS_LIST_SUCCEEDED,retailers:e}),De=e=>({type:a.a.SR_RETAILERS_LIST_FAILED,error:e});var fe=s(179),Ne=s(174),Me=s(111),Le=s(34);var ye=s(227);var Pe=s(191);var ve=(e,t,s)=>{const{blockSenders:a=null,overWrite:n=!1,delta:r=1}=t,{dispatch:i}=e;return null===a?Promise.resolve():s.mailAPIClient.request("saveArrayAttributes",{items:a||[],overWrite:n,attribute:c.Wb.DELIVERY_BLOCKED_SENDERS}).then(()=>{i(Object(o.c)({name:c.id.DELIVERY_BLOCKED_SENDERS,senders:a,delta:r}))}).catch(e=>{i(Object(o.b)({name:c.id.DELIVERY_BLOCKED_SENDERS,error:e,delta:r}))})};var Fe=s(170),Ue=s.n(Fe);var He=s(79),ke=s(292);const Ge=(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getRoute:i,getSettingsSelectors:d,getAccountSelectors:E}=Object(l.b)(r()),{getSettingsApiCallStatus:_}=d(),u=i();if(u.name!==c.Pc.SETTINGS&&u.name!==c.Pc.BLOCKED_SENDERS)return Promise.resolve();if(_()===c.Mc.LOADED)return Promise.resolve();const p=o();return s.mailAPIClient.request("settings.get",{mailboxId:p,primaryAccountDisabled:E().isPrimaryAccountDisabled()}).then(e=>{n(babelHelpers.extends({type:a.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED},e))}).catch(function(e){n({type:a.a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED,payload:e})})};var we=s(338);var xe=s(192);var Be=s(134);var je=(e,t,s)=>{const{getState:a}=e,n=Object(l.b)(a()),{getFeaturesSelectors:r}=n,o=r().isEnabled(c.kb.UPDATE_ITEMS_V3);if(t.isV2Action||o)return Promise.resolve();const{dispatch:i}=e,{isStarred:d,itemsToUpdate:E}=t,{getSelectedMailboxId:_}=n,u=E.filter(e=>e.isAffected).map(e=>e.messageId),p={flagged:!d};if(!u.length)return Promise.resolve();const m={mailboxId:_(),messageIds:u,flags:p};return s.mailAPIClient.request("messages.update",[m]).then(()=>i(Object(Be.e)({itemsToUpdate:E}))).catch(()=>i(Object(Be.d)({itemsToUpdate:E})))},Ve=s(339),We=s(322);var qe=s(274);var Ke=(e,t,s)=>{const{dispatch:n,getState:r}=e,{getFeaturesSelectors:o,getSelectedMailboxId:i,getPendingUpdate:d}=Object(l.b)(r()),E=o(),_=E.getSetting("bulkActionDialogThreshold"),u=E.isEnabled(c.kb.UPDATE_ITEMS_V3),{unsyncedDataType:h,messageItemsToSync:S=[]}=t;if(!u||h!==c.Td.MESSAGE_ITEM_TO_UPDATE||!S.length)return Promise.resolve();const g=S.length>_||S.filter(e=>!!e.messageQuery).length>0,I=S.some(e=>e.permanentDelete),C=E.isEnabled(c.kb.CONVERSATIONS),{streamId:T,itemsToUpdate:A=[],triageActionType:O="",folderId:b="",destinationFolderId:R="",destinationFolderType:D="",count:f,conversations:N}=d();let M=Object.keys(A.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:!0}),{})).length;-1!==[c.Pd.READ_CHANGE_FOLDER_ITEMS,c.Pd.ARCHIVE_FOLDER_ITEMS,c.Pd.DELETE_FOLDER_ITEMS].indexOf(O)&&(M=f);let L=void 0;switch(O){case c.Pd.MOVE_SELECTED_ITEMS:case c.Pd.RESTORE_SELECTED_ITEMS:case c.Pd.SPAM_SELECTED_ITEMS:case c.Pd.NOT_SPAM_SELECTED_ITEMS:L=Object(m.a)({streamId:T,itemsToUpdate:A,i13nModel:{mKey:F.e.UNDO_MOVE_ACTION},triageActionType:c.Pd.UNDO_MOVE});break;case c.Pd.DELETE_SELECTED_ITEMS:L=I?void 0:Object(m.a)({streamId:T,itemsToUpdate:A,i13nModel:{mKey:F.e.UNDO_DELETE_ACTION},triageActionType:c.Pd.UNDO_MOVE});break;case c.Pd.ARCHIVE_SELECTED_ITEMS:L=Object(m.a)({streamId:T,itemsToUpdate:A,i13nModel:{mKey:F.e.UNDO_ARCHIVE_ACTION},triageActionType:c.Pd.UNDO_MOVE})}const y={mailboxId:i(),messageItemsToSync:S,isAsync:g},P={messageItemsToSync:S,itemsToUpdate:A,triageActionType:O,folderId:b,destinationFolderId:R,destinationFolderType:D,isAsync:g,count:M,permanent:I,conversations:C};void 0!==N&&(P.conversations=N);const v=babelHelpers.extends({successAction:babelHelpers.extends({type:a.a.UPDATE_ITEMS_SUCCEEDED},P,{undoAction:L}),failureAction:babelHelpers.extends({type:a.a.UPDATE_ITEMS_FAILED},P)},P);return s.mailAPIClient.request("messages.UnifiedUpdate",y).then(({tasks:e,successType:t})=>{n(t===c.cc.ASYNC?Object(p.c)({tasks:e,messageItemsToSync:S,actionPayload:v}):t===c.cc.FAILURE?Object(qe.a)(P):Object(qe.b)(babelHelpers.extends({},P,{undoAction:L})))}).catch(()=>{n(Object(qe.a)(P))})};const ze=(e={})=>{return babelHelpers.extends({type:a.a.CONTENT_PROVIDERS_SUCCEEDED},e,{i13nModel:e.contentProviders.earny?{mKey:F.e.EARNY_CONNECTED,sec:F.g.CONTENT_PROVIDERS}:void 0})},Ye=(e={})=>babelHelpers.extends({type:a.a.CONTENT_PROVIDERS_FAILED},e);var Ze=s(193);const Xe=e=>babelHelpers.extends({type:a.a.TOP_RETAILERS_REQUEST_SUCCEEDED},e),Qe=e=>babelHelpers.extends({type:a.a.TOP_RETAILERS_REQUEST_FAILED},e),$e=e=>babelHelpers.extends({type:a.a.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED},e),Je=e=>babelHelpers.extends({type:a.a.TOP_DEAL_CATEGORIES_REQUEST_FAILED},e);t.a={[a.a.SYNC_DATA]:[(e,t,s)=>{const{route:a,config:{allowUsernameAndPhoneReg:n}={}}=t,{dispatch:r}=e,{bizEmail:o}=s.mailAPIClient;return a&&t.unsyncedDataType===c.Td.LAUNCH&&(-1!==[c.Pc.SEARCH,c.Pc.SETTINGS,c.Pc.TUTORIAL,c.Pc.SIGNATURES_FROM_SETTINGS,c.Pc.THEME_CHOOSER,c.Pc.CONTACTS,c.Pc.CONTACT_DETAILS,c.Pc.EDIT_CONTACT,c.Pc.ACCOUNT_LIST_FROM_SETTINGS,c.Pc.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,c.Pc.BLOCKED_SENDERS].indexOf(a.name)||Object(C.F)(Object(C.t)(a))||Object(C.J)(a))?s.mailAPIClient.request("launch.skeleton",{allowUsernameAndPhoneReg:n}).then(e=>{r(Object(se.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes,bizEmail:o},e)))}).catch(e=>r(Object(se.b)({error:e}))):Promise.resolve()},(e,t,s)=>{const{route:a,config:n}=t;if(!a)return Promise.resolve();const r=Object(C.t)(a),o=Object(C.m)(r),i=Object(C.D)(r),l=Object(C.r)(r),{dispatch:d}=e,{bizEmail:E}=s.mailAPIClient;if(t.unsyncedDataType!==c.Td.LAUNCH||a.name!==c.Pc.FOLDER&&a.name!==c.Pc.EDIT_FOLDER&&a.name!==c.Pc.BASE&&a.name!==c.Pc.LIST||Object(C.E)(r))return Promise.resolve();const{pencilAd:_,conversations:u,launchFolderTimeout:p,messageFetchCountInitial:m,allowUsernameAndPhoneReg:h=!1}=n,S=re.a.feature("gemini_server_prefetch",{routeName:a.name});let g=null;return _&&ne(0,t,s).then(e=>{g=e}),s.mailAPIClient.request("launch.folder",{folderId:o,sortOrder:i,filter:l,count:m,offset:0,conversationsMode:u,allowUsernameAndPhoneReg:h},{timeout:p}).then(e=>{let{error:s,messageGroups:a}=e,n=babelHelpers.objectWithoutProperties(e,["error","messageGroups"]);d(Object(se.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes},n,{listId:r,geminiAd:g,bizEmail:E,messageGroupList:a},s&&{launchError:c.Ab.FOLDER_ACCESS_FAILED}))),_&&(g?S.logSuccess():S.logFailure())}).catch(e=>d(Object(se.b)({error:e})))},(e,t,s)=>{const{route:a,config:n={},mailboxAttributes:r,appId:o}=t;if(!a||t.unsyncedDataType!==c.Td.LAUNCH||-1===[c.Pc.MESSAGE_FROM_LIST,c.Pc.MESSAGE_FROM_FOLDER_LIST,c.Pc.MESSAGE_FROM_SEARCH_LIST].indexOf(a.name))return Promise.resolve();const i=a.params,l=Object(C.t)(a),d=decodeURIComponent(i.groupId),E=Object(C.m)(l),_=Object(C.D)(l),u=Object(C.r)(l),{pencilAd:p,conversations:m,messageFetchCountInitial:h,allowUsernameAndPhoneReg:S=!1}=n,{dispatch:g}=e,{bizEmail:I}=s.mailAPIClient,T=o===c.ee?!!r[c.Wb.MOBILE_SHOW_IMAGES]&&!r[c.Wb.MOBILE_SHOW_IMAGES].value:!!r[c.Wb.BLOCK_IMAGES]&&r[c.Wb.BLOCK_IMAGES].value&&!n.inlineImagesProxied;let A=null;return p&&ne(0,t,s).then(e=>{A=e}),s.mailAPIClient.request("launch.messageGroup",{isConversation:m,messageGroupId:d,folderId:E,sortOrder:_,filter:u,count:h,offset:0,secure:T,allowUsernameAndPhoneReg:S}).then(function(e){let{messageGroups:t,messageBodiesMap:s,messageMetadataMap:a,messageGroupList:n,hasMoreItems:o,folderId:i,error:d}=e,E=babelHelpers.objectWithoutProperties(e,["messageGroups","messageBodiesMap","messageMetadataMap","messageGroupList","hasMoreItems","folderId","error"]);g(Object(se.a)(babelHelpers.extends({initialMailboxAttributes:r},E,{bizEmail:I,geminiAd:A},d?{folderId:i,messageGroupList:n,hasMoreItems:o,launchError:c.Ab.MESSAGE_ACCESS_FAILED}:{listId:l,messageGroups:t,messageBodiesMap:s,messageMetadataMap:a})))}).catch(e=>g(Object(se.b)({error:e})))},(e,t,s)=>{const{route:a,config:{allowUsernameAndPhoneReg:n=!1}={},encryptedQueryParams:r}=t;if(!a||t.unsyncedDataType!==c.Td.LAUNCH||-1===[c.Pc.NEW_DRAFT,c.Pc.EDIT_DRAFT].indexOf(a.name))return Promise.resolve();const o=decodeURIComponent(a.params.csid),{dispatch:i}=e,{bizEmail:l}=s.mailAPIClient;return s.mailAPIClient.request("launch.compose",{csid:o,allowUsernameAndPhoneReg:n}).then(e=>{let s;Object(K.a)(o,"csid is required and should be in the url");const a={csid:o,initialTo:"",initialCc:"",initialBcc:"",initialSubject:"",initialBody:{}};if(e.message){const{id:n,headers:r,folder:{types:o,id:l}}=e.message;if(s=Object(C.s)(l),o[0]&&-1===o[0].indexOf(c.sb.DRAFT)){const{id:s}=Object(ae.e)(e.accounts,e.folders);return i(Object(se.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes},e,{folderId:s,launchError:c.Ab.COMPOSE_ACCESS_FAILED}))),Promise.resolve()}Object.assign(a,{initialFrom:r.from,initialTo:r.to,initialCc:r.cc,initialBcc:r.bcc,initialSubject:r.subject,initialBody:{content:e.messageBodiesMap[n].html}})}i(Object(se.a)(babelHelpers.extends({initialMailboxAttributes:t.mailboxAttributes},e,{listId:s,bizEmail:l,draftData:a,encryptedQueryParams:r})))}).catch(e=>i(Object(se.b)({error:e})))},(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getDraftFolderIdByAccountEmail:o,getFeaturesSelectors:i,getDraftMessageId:d,getGroupIdContainingMessageId:E,isSendRequested:_,doesComposeHaveFatalError:u}=Object(l.b)(r),{isEnabled:p}=i(),m=p(c.kb.COMPOSE_V3),h=p(c.kb.CONVERSATIONS),{from:S,csid:g,lastEditedTimeStamp:I,newContentIds:A=[],showNotification:b,unsyncedDataType:D,rawFiles:f={}}=t,N=b?"messages.saveV3":"messages.autoSaveV3";if(!g||!m||D!==c.Td.COMPOSE||_(g)||u(g)&&!b)return Promise.resolve();const y=M(r,t),P=o(S.email),v=Object(C.s)(P),F=A.filter(e=>f[e]),U=babelHelpers.extends({strategy:O.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0},y.files.length?{uploadProgressCallback(e){const{percent:t}=e;L(a,{newFileContentIds:F,percent:parseInt(t,10),csid:g})}}:{});return s.mailAPIClient.request(N,y,U,y.files).then(e=>{const{html:s,htmlAnnotations:n}=t,r=d(g);e.simpleBody={html:s,htmlAnnotations:n},a(Object(T.i)(babelHelpers.extends({},e,{lastEditedTimeStamp:I,csid:g,listId:v,conversationsMode:h,draftMessageId:r,draftFolderId:P,previousStreamItem:{listId:v,id:E(r)},streamId:Object(R.a)([v]),streamItem:{listId:v,id:h?e.message.conversationId:e.message.id}})))}).catch(e=>a(Object(T.g)({lastEditedTimeStamp:I,csid:g,listId:v,newContentIds:A,error:e,showNotification:b})))},(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getSendFolderIdByAccountEmail:o,getMessagesSelectors:i,getFeaturesSelectors:d,getDraftMessageId:_,getRoute:u,canSendDraft:p,getDraftErrors:m,getCaptcha:h,isSendRequested:S,isSent:g,didAttachmentUploadFail:I,getGroupIdContainingMessageId:C,getMainStreamListIds:b,getReplyingToMessageId:D}=Object(l.b)(r),{isEnabled:f,getSetting:N}=d(),L=f(c.kb.COMPOSE_V3),y=N(c.id.RIGHT_RAIL_UPSELL_VERSION),P=f("autoRightRailCollapsed"),v=("showOnSend"===y||"showOnSendWithAltMsg"===y)&&!P,{csid:F,from:U,lastEditedTimeStamp:H,attachmentsInfo:k=[],listId:G,unsyncedDataType:w}=t;if(!F||!L||w!==c.Td.COMPOSE||g(F)||!S(F))return Promise.resolve();const x=M(r,t);if(m(x))return Promise.reject();const B=u(),j=_(F),V=f(c.kb.CONVERSATIONS),W=o(U.email),q=D(F),K=b(B),z=K[0],Y=Object(R.a)(K),Z=C(q||j),X={strategy:O.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0};if(x.sentFolderId=W,x.secure=!d().isEnabled(c.id.SHOW_IMAGES),p({csid:F,lastEditedTimeStamp:H,attachmentsInfo:k})){let e;return V&&(e=i().getConversationId(j)),s.captchaClient.processCaptcha(Object(E.a)(h(j)||{},"captchaPayload.createResponse.Content",{})).then(e=>s.mailAPIClient.request("messages.send",babelHelpers.extends({},x,{messageId:j,captchaAnswer:e}),X,x.files)).then(t=>a(Object(T.l)(babelHelpers.extends({},t,{message:babelHelpers.extends({},t.message,{folder:{id:W},conversationId:e}),route:B,csid:F,listId:z,streamId:Y},Z?{streamItem:{id:Z,listId:z,messageIds:[j||t.message.id]}}:null,{destinationFolderId:W,lastEditedTimeStamp:H,sentFolderId:W,conversationsMode:V})))).then(()=>{if(v)return a(Object(A.m)({onMessageSend:!0}))}).catch(e=>a(Object(T.j)({csid:F,listId:G,groupId:Z,lastEditedTimeStamp:H,error:e})))}const Q=k.filter(e=>I(e.contentId));return Q.length?Promise.resolve().then(()=>{a(Object(T.j)({csid:F,lastEditedTimeStamp:H,listId:G,groupId:Z,error:{invalidAttachments:Q}}))}):s.mailAPIClient.request("messages.saveAndSend",x,X,x.files).then(e=>{const t=Object(E.a)(e,"message.captcha");return t?s.captchaClient.processCaptcha(Object(E.a)(t,"captchaPayload.createResponse.Content",{})).then(t=>s.mailAPIClient.request("messages.send",babelHelpers.extends({},x,{captchaAnswer:t,messageId:Object(E.a)(e,"message.id")}),X,x.files).then(()=>e)):Promise.resolve(e)}).then(e=>a(Object(T.f)(babelHelpers.extends({},e,{message:babelHelpers.extends({},e.message,{folder:{id:W}}),csid:F,listId:z,streamId:Y},Z?{streamItem:{id:Z,listId:z,messageIds:[j||e.message.id]}}:null,{destinationFolderId:W,lastEditedTimeStamp:H,sentFolderId:W,conversationsMode:V},t.unsubFromMessage?{unsubFromMessage:babelHelpers.extends({},t.unsubFromMessage,{unsubOption:{unsubscribed:!0}})}:null)))).then(()=>{if(v)return a(Object(A.m)({onMessageSend:!0}))}).catch(e=>a(Object(T.j)(babelHelpers.extends({csid:F,listId:G,groupId:Z,lastEditedTimeStamp:H,error:e},t.unsubFromMessage?{unsubFromMessage:babelHelpers.extends({},t.unsubFromMessage,{unsubOption:{unubscribed:!1}})}:null))))},function(e,t,s){const{dispatch:a,getState:n}=e,{getFeaturesSelectors:r,getSelectedMailboxId:o,getMessagesSelectors:i,isDraftMessage:d,getCurrentListId:E,getCardConversationIdsFromMessageGroupId:_}=Object(l.b)(n()),u=o(),p=r(),{isFallback:m=!1,messageIds:h=[],secure:S=!0,full:g=!1,messageGroupId:I,draftCsid:C,prefetchMode:T,retryCount:A=0}=t;if(t.unsyncedDataType!==c.Td.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const O=E(),b=p.isEnabled("fetchFullBody"),R=p.isEnabled(c.kb.CONVERSATIONS),D=p.isEnabled(c.kb.COUPON_CARD_EXTRACTIONS),f=p.isEnabled(c.kb.FLIGHT_CARD_EXTRACTIONS),N=p.isEnabled(c.kb.EARNY_CARD_EXTRACTIONS),M=p.isEnabled(c.kb.EBAY_WARRANTY_UPSELL),L=p.isEnabled(c.kb.PLA_ADS_FOR_RECOMMENDATION_EMAILS),{messageIds:y,draftMessageIds:P,cardConversationIds:v}=h.reduce(({messageIds:e,draftMessageIds:t,cardConversationIds:s},a)=>{const n=i().getDecos(a),r=i().getCardConversationId(a);return d(a)?t.push(a):e.push(a),r&&(D&&Object(_e.l)(n,c.Zb.CPN)||N&&Object(_e.l)(n,c.Zb.POE)&&Object(_e.l)(n,c.Zb.ORD)||f&&Object(_e.l)(n,c.Zb.FLR)||M&&Object(_e.l)(n,c.Zb.ORD)||L&&(Object(_e.l)(n,c.Zb.ORD)||Object(_e.l)(n,c.Zb.PKG)))&&s.push(r),{messageIds:e,draftMessageIds:t,cardConversationIds:s}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),F=Boolean(P.length)||!R||g||b,U=function({shouldFetchFullBody:e,cardConversationIds:t=[],messageGroupId:s,isFallback:a,draftCsid:n,prefetchMode:r}){let o;if(o=r?e?"messages.prefetchGetBodiesFull":"messages.prefetchGetBodies":e?"messages.getBodiesFull":"messages.getBodies",t.length>0)switch(o){case"messages.getBodies":o="messages.getExtractedBodies";break;case"messages.getBodiesFull":o="messages.getExtractedBodiesFull";break;case"messages.prefetchGetBodies":o="messages.prefetchGetExtractedBodies";break;case"messages.prefetchGetBodiesFull":o="messages.prefetchGetExtractedBodiesFull"}return s?o="messageGroups.get":n&&(o="messages.getCompose"),a?o+"Fallback":o}({shouldFetchFullBody:F,cardConversationIds:v,messageGroupId:I,isFallback:m,draftCsid:C,prefetchMode:T});return I||C?s.mailAPIClient.request(U,{mailboxId:u,isConversation:R,messageGroupId:I,csid:C,cardConversationIds:_(I),full:F,secure:S}).then(e=>{a(Object(Ee.f)({listId:O,secure:S,full:F,messageGroup:e.messageGroup,messageBodiesMap:e.messageBodiesMap,messageMetadataMap:e.messageMetadataMap,response:e.response||{}}))}).catch(e=>{a(Object(Ee.e)({listId:O,messageGroupId:I,csid:C,error:e}))}):s.mailAPIClient.request(U,{mailboxId:u,messageIds:y,draftMessageIds:P,cardConversationIds:v,full:F,secure:S,prefetchMode:T},{retryCount:A}).then(e=>{a(Object(Ee.d)({listId:O,full:F,secure:S,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap,errorMessageIds:e.error&&e.error.messageIds||[],response:e.result.response||{}}))}).catch(e=>{a(Object(Ee.c)({listId:O,messageIds:h,error:e}))})},function(e,t,{bootcampClient:s}){const{dispatch:a,getState:n}=e,{doesSelectedAccountExist:r,getRoute:o,getEmailOfSelectedAccount:i,getFeaturesSelectors:d,getListsSelectors:_}=Object(l.b)(n()),{doesListExist:u,getListStatus:p}=_(),{getSetting:m,isEnabled:h}=d(),S=o();let{listId:g}=t;const I=h(c.kb.PENSIEVE),T=h(c.kb.PLA_SEARCH_ADS),A=h(c.kb.SHOW_RECENT_SUGGESTIONS);if(t.unsyncedDataType!==c.Td.CONTACT_DETAILS&&(g=Object(C.t)(S)),(t.unsyncedDataType!==c.Td.LIST_TO_UPDATE||S.name!==c.Pc.SEARCH||t.listId!==g||u(g)&&p(g)!==c.Mc.DOES_NOT_EXIST&&!t.isStale)&&t.unsyncedDataType!==c.Td.CONTACT_DETAILS)return Promise.resolve();const O=r()?i():null;return O?new Promise((e,t)=>{let r={apiName:"searchStream"};const o=!Object(C.E)(g)&&A,i=babelHelpers.extends({},Object(C.h)(g,T),{limit:m(c.id.SEARCH_FIRST_PAGE_COUNT),threads:h("conversations"),accountemail:`smtp:${O}`,sourceTag:m(c.id.SEARCH_SOURCE_TAG),plaBucketId:h(c.kb.PLA_SEARCH_ADS)&&m(c.id.PLA_SEARCH_ADS_BUCKET_ID),ui:o?1:0});I&&(i.appid=c.de),h(c.kb.FILTER_COMMERCIAL_IMAGES)&&(i.fci=!0);const d=s.createStream("searchStream",i,e=>r=e);d.on("data",e=>{if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name)Ne.a.feature("bootcamp_client_stream_call",r).logFailure(e.error);else{const t={listId:g,response:e},s=Object(E.a)(e,"PLAADS.WITH_KEYWORD.items",[]).length,n=!!Object(E.a)(e,"ADS.WITH_KEYWORD.items",[]).length,r=Object(C.p)(g);if(s>0)Object.assign(t,{i13nModel:{mKey:F.e.SEARCH_PLA_AD_FETCHED,sec:F.g.RIGHT_RAIL_PLA_CARD,interactionType:F.d.nav,actionData:{searchKeyword:r,plaAdCount:s}}});else if(n){const s={mKey:F.e.SEARCH_AD_FETCHED,sec:F.g.MSG_LIST_AD,interactionType:F.d.nav,actionData:{searchKeyword:r,hasSearchAdImg:!!Object(E.a)(e,"ADS.WITH_KEYWORD.items.0.pencilAd.adImg")}};Object.assign(t,{i13nModel:s})}a(Object(fe.c)(t))}}),d.on("end",()=>{const{getListsSelectors:t}=Object(l.b)(n()),{doesListExist:s,isListEmpty:i,getListStatus:d}=t();if(s(g)&&d(g)!==c.Mc.LOADING){const t=i(g),s=Object(C.x)(g),n={listId:g,navigateFromToAll:t&&!s&&Object(C.r)(g)===c.Eb.FROM,streamId:g,addToRecentSearch:o};t&&!s&&Object(C.q)(g)===c.Db.MESSAGES&&(n.i13nModel={isBeaconEvent:!0,eventName:F.a.SEARCH_ZERO_RESULTS,etrg:F.c.CHANGE,outcome:F.b.SEARCH}),a(Object(fe.d)(n)),e()}else a(Object(fe.a)({listId:g})),Object(Me.a)(Ne.a,c.p.BootcampClient,r,new Le.a("BootcampApiClient.SearchChunkError",{errorCode:"SEARCH_CHUNK_ERROR"}))}),d.on("error",e=>{e=s.handleCommonError(e,"mailSearch"),a(Object(fe.a)({listId:g,error:e})),t(e)})}):Promise.resolve()},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:E,getFolderHighestModSeq:_,isAppVisible:u,getFolderIdsByFolderTypeForAccount:p,getStaleFolderIds:m,shouldUpdateFolders:h,getListsSelectors:S,getAccountSelectors:g}=Object(l.b)(r()),{getSetting:I,isEnabled:T}=i(),A=E(),O=Object(C.t)(A),{doesListExist:b,getListStatus:R}=S(),D=Object(C.m)(O),f=Object(C.J)(A),N=A.name===c.Pc.SEARCH,M=o(),{getPrimaryAccountId:L}=g();if(t.unsyncedDataType!==c.Td.LIST_TO_UPDATE||!D&&!f||Object(C.K)(O)||!M||N)return Promise.resolve();const y=Object(C.D)(O),P=Object(C.r)(O),v=Object(C.l)(O),F=d(),[U]=p(c.sb.ALERTSTORE,L()),H=I(c.id.MESSAGE_FETCH_COUNT),k=T(c.kb.CONVERSATIONS),G=T(c.kb.ROTATE_ADS_ON_CHECK_MAIL)&&(!T(c.kb.ROTATE_ADS_ON_MANUAL_CHECK_MAIL)||t.userInitiated),w={highestModSeq:t.isStale||f?0:_(D),resetUnseenCount:u(),alertStoreHighestModSeq:U?_(U):0,accountId:F,folderId:D,mailboxId:M,sortOrder:y,filter:P,count:H,offset:0,conversationsMode:k,excludeFolderTypes:v},x=b(O)&&R(O)!==c.Mc.DOES_NOT_EXIST;return s.mailAPIClient.request(x?"checkMail":"folderChange.getList",w).then(function({folders:e,accountAlerts:s,messageGroupList:r,hasMoreItems:o}){const i=e?m(e):[];if(!t.isStale&&x&&!i.length&&!h(e))return t.forceSync&&n({type:a.a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES,listId:O,rotateAds:G}),Promise.resolve();n({type:x?a.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:a.a.CHANGE_FOLDER_SUCCEEDED,folders:e,staleFolderIds:i,accountAlerts:s,listId:O,streamId:O,messageGroupList:r,hasMoreItems:o,conversationsMode:k,isAppVisible:u(),rotateAds:x&&G})}).catch(function(e){n({type:x?a.a.CHECK_MAIL_FAILED:a.a.CHANGE_FOLDER_FAILED,listId:O,error:e})})},(e,t,s)=>{const{dispatch:a,getState:n}=e,{getAdsSelectors:r}=Object(l.b)(n()),{getGeminiAdDataFromCreativeId:o}=r();if(t.dataType!==c.Td.GEMINI_AD_ASSET)return Promise.resolve();const{creativeId:i,url:d}=t;return s.geminiAPIClient.getSponsoredAsset({url:d}).then(e=>{let t=e.text||"";const{nativeAd:s={}}=o(i)||{},{embeddedLandingUrls:n={}}=s;Object.keys(n).forEach(e=>{const{url:s="",landingPage:a="",label:r}=n[e];if("fsubmit"!==r){const n=s.replace("$(AD_POSN)",encodeURIComponent("pp=n,pi=1,st=p"));t=t.replace(`${a}#$embeddedLandingUrl_${e}`,n)}}),a(Object(A.l)({creativeId:i,asset:t}))}).catch(e=>a(Object(A.k)({creativeId:i,error:e,url:d})))},(e,t,s)=>{const{dispatch:a}=e;return t.dataType!==c.Td.RELATED_SEARCHES_TO_FETCH?Promise.resolve():s.relatedSearchesAPIClient.request().then(e=>a(Object(Ae.c)({queries:Object(E.a)(e,"body.queriesPerDomain",{})}))).catch(e=>a(Object(Ae.b)(e)))},function({dispatch:e},{dataType:t="",senderEmail:s="",latlong:a=""},{bootcampClient:n}){return t===c.Td.BUSINESS_LISTING&&s?n.request("getLocalStores",{senderEmail:s,latlong:a}).then(({nearbyListing:t})=>e(Object(k.c)({senderEmail:s,nearbyListing:t}))).catch(()=>e(Object(k.b)({senderEmail:s}))):Promise.resolve()},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationId:a=""},{mailAPIClient:n}){if(s!==c.Td.PARENT_MESSAGE_TO_FETCH)return Promise.resolve();const{getSelectedMailboxId:r,getCurrentListId:o}=Object(l.b)(t()),i=r();return n.request("couponCards.getParentMessage",{mailboxId:i,cardConversationId:a}).then(([t])=>{e(Object(g.p)({listId:o(),hasMoreItems:!1,messageGroup:t}))}).catch(t=>e(Object(g.n)(t)))},function({dispatch:e,getState:t},s,a){const{wssid:n,accountId:r,unsyncedDataType:o,email:d,provider:E}=s;if(o!==c.Td.ACCOUNT_TO_REAUTH)return Promise.resolve();const{getAlertIdByAccountId:_}=Object(l.b)(t()),u=babelHelpers.extends({},n?{wssid:n}:{});return a.mailAPIClient.request("account.updateAlerts",{alertId:_(r)},u).then(({accountAlerts:t})=>{e(t&&t.length>0?Object(i.l)({accountAlerts:t,accountId:r}):Object(i.k)({accountId:r}))}).catch((t={})=>{e(Object(i.k)({error:t.statusCode,provider:E,email:d,accountId:r}))})},function({dispatch:e,getState:t},{unsyncedDataType:s="",updateBusinessListingForEmail:a=""}){const{getEnvironmentSelectors:n}=Object(l.b)(t());return s!==c.Td.GEO_LOCATION?Promise.resolve():new Promise((e,t)=>navigator.geolocation.getCurrentPosition(e,t,{timeout:1/0})).then(({coords:{latitude:t,longitude:s}})=>Object(I.b)(`${t},${s}`).checkIfNot(e=>e===n().getGeoLocation()).unbox(t=>e(Object(ee.c)({latlong:t,updateBusinessListingForEmail:a})),()=>e(Object(ee.a)("Location has not changed")))).catch(t=>e(Object(ee.a)(t)))},(e,t,s)=>{const{dispatch:n}=e;return t.dataType!==c.Td.PAYMENTS_CONTENT_TO_FETCH?Promise.resolve():s.paymentClient.request("retrieveSubscription").then(e=>{n({type:a.a.PAYMENTS_FETCH_RECEIVED,payload:e.body,status:e.status})}).catch(function(e){n({type:a.a.PAYMENTS_FETCH_FAILED,payload:e})})},Ke,(e,t,s)=>{if(t.unsyncedDataType!==c.Td.CONTACT_CARD)return Promise.resolve();const{dispatch:a,getState:n}=e,{email:r,isCompose:o}=t;return s.autoSuggestClient.contactDetails({email:r,isCompose:o}).then(e=>{const t=Object(l.b)(n()).isFeatureEnabled(c.kb.CONTACT_CARD_TRACKING),s={email:r,contactDetails:e};if(t&&e&&!e.website){const e=r.split("@")[1];Object.assign(s,{i13nModel:{mKey:F.e.CONTACT_CARD_LOAD_FAILED,sec:F.g.RIGHT_RAIL,actionData:{domain:e,email:r}}})}a(Object(P.c)(s))}).catch(()=>a(Object(P.a)({email:r})))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r}=t,{dispatch:o,getState:i}=e;if(a!==c.Td.CONTACTS_LIST)return Promise.resolve();if(Object(C.r)(n)!==c.Eb.TOP_CONTACTS)return Promise.resolve();const{getEmailOfSelectedAccount:d}=Object(l.b)(i()),E=d();return s.autoSuggestClient.topContacts({email:E,maxCount:r}).then(e=>o(Object(P.f)({listId:n,contacts:e,unsyncedDataType:a}))).catch(e=>o(Object(P.e)({err:e,listId:n,unsyncedDataType:a})))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r,characters:o}=t,{dispatch:i}=e;if([c.Td.CONTACTS_LIST,c.Td.CONTACTS_CATEGORY_LIST].indexOf(a)<0)return Promise.resolve();const l=Object(C.r)(n);return[c.Eb.PEOPLE,c.Eb.NOT_PEOPLE,c.Eb.USER_CREATED_CONTACTS].indexOf(l)<0?Promise.resolve():s.autoSuggestClient.alphabeticalContacts({count:r,characters:o,type:{[c.Eb.PEOPLE]:0,[c.Eb.NOT_PEOPLE]:1,[c.Eb.USER_CREATED_CONTACTS]:2}[l]}).then(e=>i(Object(P.f)({listId:n,contacts:e,characters:o,count:r,unsyncedDataType:a}))).catch(e=>i(Object(P.e)({err:e,listId:n,characters:o,count:r,unsyncedDataType:a})))},ge,(e,t,s)=>{const{unsyncedDataType:a,listId:n}=t,{dispatch:r,getState:o}=e;if(!Object(l.b)(o()).getEnvironmentSelectors().getIsXobnified()||a!==c.Td.CONTACTS_LIST)return Promise.resolve();const i=Object(C.p)(n);return i?s.autoSuggestClient.simpleSearch({query:i}).then(e=>r(Object(P.f)({listId:n,contacts:e,unsyncedDataType:a}))).catch(e=>r(Object(P.e)({err:e,listId:n,unsyncedDataType:a}))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,provider:n,spid:r,appRootPath:o,scope:i}=t,{dispatch:l}=e;return a!==c.Td.SOCIAL_ACCOUNT_AUTH_URL?Promise.resolve():(Object(ce.b)()||Object(K.a)("Credstore social account linking needs be called from the browser"),s.credstoreClient.link({provider:n,spid:r,redirectUrl:`https://${window.location.host}${o}/oAuth`,isCorpUser:window.AppBootstrapData.partner===c.B,scope:i}).then(({authorizeUrl:e,authorizeURL:t})=>l(Object(xe.b)({url:e||t,provider:n}))).catch(e=>l(Object(xe.a)({error:e,provider:n}))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n}=t,{dispatch:r}=e;return a!==c.Td.SOCIAL_ACCOUNT_IMPORT?Promise.resolve():s.autoSuggestClient.triggerProfileImport({provider:n}).then(()=>r(Object(xe.d)({provider:n}))).catch(e=>r(Object(xe.c)({provider:n,error:e})))},(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;return a!==c.Td.SOCIAL_ACCOUNT_STATUS?Promise.resolve():s.autoSuggestClient.formatted({appId:c.Zd},c.ud).then(e=>n(Object(xe.f)({response:e}))).catch(e=>n(Object(xe.e)({error:e})))},function({getState:e,dispatch:t},s,a){const{baseName:n,domain:r,unsyncedDataType:o}=s;if(o!==c.Td.BASENAME_TO_CREATE)return Promise.resolve();const{getFeaturesSelectors:i}=Object(l.b)(e()),d=i().isEnabled("deaSuggestionJWS");return a.mailAPIClient.request(d?"settings.setBaseNameJWS":"settings.setBaseName",{baseName:n,domain:r}).then(({suggestions:e})=>{t(e&&e.length?Object(He.b)(babelHelpers.extends({},s,{suggestions:e})):Object(He.i)(s))}).catch(e=>t(Object(He.h)(babelHelpers.extends({},s,{err:e}))))},(e,{unsyncedDataType:t,taskId:s,pollCount:a=0,progress:n,abort:r,actionPayload:o},i)=>{if(t!==c.Td.ASYNC_TASK_STATUS)return Promise.resolve();const{dispatch:d,getState:E}=e,{getFeaturesSelectors:_}=Object(l.b)(E()),u=_().getSetting("asyncTaskPollCount");if(!s)return Promise.resolve();const{successAction:h,failureAction:S,allSelected:g,streamId:I,itemsToUpdate:C,triageActionType:T,folderId:A,count:O,conversations:b}=o,R=I&&C?Object(m.a)({streamId:I,itemsToUpdate:C}):void 0;return r?i.mailAPIClient.request("task.abort",{taskId:s}).then(()=>d(babelHelpers.extends({},h,{undoAction:h.undoAction||R,progress:n}))).catch(()=>d(Object(p.a)({triageActionType:T,folderId:A,count:O,conversations:b,taskId:s,progress:n}))):a>=u?(d(Object(p.b)({taskId:s})),Promise.resolve()):i.mailAPIClient.request("task.status",{taskId:s}).then(({task:e})=>{switch(e.status){case c.y.PENDING:return d(Object(p.d)(babelHelpers.extends({},e,{pollCount:a+1})));case c.y.COMPLETED:return d(babelHelpers.extends({},h,{undoAction:h.undoAction||R,progress:e.progress}));case c.y.FAILED:default:return d(S)}}).catch(()=>d(n>0&&g?babelHelpers.extends({},h,{undoAction:h.undoAction||R,progress:n}):S))},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.FOLDER)return Promise.resolve();const{updateType:n}=t;return n===a.a.RENAME_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a,getState:n}=e,{folderId:r,folderName:o,filters:i,originalFolderName:c,newFolderName:d,subfolders:E}=t,_=Object(l.b)(n()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:_,folderId:r,folderName:o,filters:i,subfolders:E}).then(({folder:e,subfolders:t})=>{a(Object($.h)({folder:e,subfolders:t,folderId:r,originalFolderName:c,newFolderName:d}))}).catch(e=>{a(Object($.g)({folderId:r,newFolderName:d,originalFolderName:c,error:e}))})})(e,t,s):n===a.a.DELETE_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a}=e,{folderId:n,folderName:r,i13nModel:o={}}=t;return s.mailAPIClient.request("folders.delete",{folderId:n}).then(()=>{a(Object($.e)({folderId:n,folderName:r,i13nModel:o}))}).catch(e=>{a(Object($.d)({folderId:n,folderName:r,error:e}))})})(e,t,s):Promise.resolve()},function({dispatch:e,getState:t},{location:s,unsyncedDataType:a},n){if(a!==c.Td.LOCATION_TO_UPDATE)return Promise.resolve();const r=Ue.a.determine(),o=r&&r.name();Object(ce.b)()&&new ke.a({window:window}).determineClientTimeZone();const{getFeaturesSelectors:i}=Object(l.b)(t());let d;d=i().isEnabled(c.kb.UDB_MIGRATION_COMPLETE)?n.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:c.Wb.TIMEZONE,value:`${s.timezone.name}|${s.city||""}|${s.state||""}|${s.country||""}`},{id:c.Wb.LAST_OBSERVED_TIMEZONE,value:`${o||""}|${s.timezone.name||""}`}]}):n.udbClient.write({[q.a.YM_TZ]:JSON.stringify({city:s.city,state:s.state,country:s.country,timezone:{name:s.timezone.name}}),[q.a.YM_LAST_OBSERVED_TZ]:JSON.stringify({client:o,server:s.timezone.name})});return d.then(()=>{e(Object(He.E)({})),window.setTimeout(()=>window.location.reload(),1500)},t=>e(Object(He.D)({err:t})))},function({dispatch:e,getState:t},{value:s,unsyncedDataType:a},n){if(a!==c.Td.CONVERSATION_MODE_TO_UPDATE)return Promise.resolve();const{getFeaturesSelectors:r}=Object(l.b)(t()),o=r().getSetting(c.id.TOGGLE_CONV_RELOAD_DELAY);let i;return(i=r().isEnabled(c.kb.UDB_MIGRATION_COMPLETE)?n.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:c.Wb.CONVERSATIONS,value:s}]}):n.udbClient.write({[q.a.YM_MAIL_CONV]:s=s?q.b[q.a.YM_MAIL_CONV].ON:q.b[q.a.YM_MAIL_CONV].OFF})).then(()=>{e(Object(He.B)({value:s})),window.setTimeout(()=>window.location.reload(),o)}).catch(t=>e(Object(He.A)({err:t})))},Se,(e,t,s)=>{const{dispatch:a}=e,{messageId:n,params:r,unsyncedDataType:o}=t;return o!==c.Td.RSVP_FETCH?Promise.resolve():s.calendarClient.getInviteInfo(r).then(e=>{a(e.startTime&&e.endTime&&e.uid?Object(h.c)({messageId:n,inviteInfo:e}):Object(h.b)({messageId:n,error:new Error("Mandatory field missing")}))}).catch(e=>a(Object(h.b)({messageId:n,error:e})))},(e,t,s)=>{if(t.dataType!==c.Td.RAW_MESSAGE)return Promise.resolve();const{messageId:a}=t,{getState:n}=e,{getSelectedMailboxId:r}=Object(l.b)(n()),o=r(),{wssid:i,appId:d}=s.mailAPIClient,E=s.mailAPIClient.ymreqidGenerator.generate();return window.open(`https://apis.mail.yahoo.com/ws/v3/mailboxes/@.id==${o}/messages/@.id==${a}/content/rawplaintext?appId=${d}&ymreqid=${E}&wssid=${i}`,"_blank"),Promise.resolve()},function(e,t,s){if(t.unsyncedDataType!==c.Td.VACATION_RESPONSE_SETTINGS)return Promise.resolve();const{dispatch:a}=e,{value:n,actionType:r,requestTimestamp:i}=t,{mailAPIClient:l}=s;return l.request("settings.saveVacationPreferences",{payload:n}).then(()=>{a(Object(o.g)({actionType:r,requestTimestamp:i}))}).catch(()=>{a(Object(o.f)({requestTimestamp:i}))})},function({dispatch:e},{unsyncedDataType:t,listId:s,emailAddress:n},{bootcampClient:r}){return t!==c.Td.RELATED_COUPONS_TO_FETCH?Promise.resolve():r.request("getRelatedCoupons",{from:n,limit:4,decoId:["CPN"],start:1e3*Object(H.q)(new Date),end:Math.round((new Date).getTime())+3e4*H.a}).then(({cardGroupList:t=[],hasMoreItems:n=!1})=>{e({type:a.a.COUPONS_LIST_SUCCEEDED,listId:s,cardGroupList:t,hasMoreItems:n})}).catch(t=>{e({type:a.a.COUPONS_LIST_FAILED,listId:s,error:t})})},function({dispatch:e},{unsyncedDataType:t,cardMessageId:s=""},{bootcampClient:n}){const r=Object(C.e)({referrer:c.Fb.COUPON_RECOMMENDATIONS,keyword:s});if(t!==c.Td.COUPON_RECOMMENDATIONS_TO_FETCH||""===s)return Promise.resolve();return n.request("getCouponRecommendations",{mid:s}).then(t=>{e({type:a.a.COUPONS_LIST_SUCCEEDED,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:a.a.COUPONS_LIST_FAILED,listId:r,error:t})})},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountId:i,getRoute:d,isFeatureEnabled:E,getSetting:_}=Object(l.b)(r()),u=d(),p=Object(C.t)(u),m=u.name===c.Pc.SEARCH;if(E(c.kb.BOOTCAMP_COUPONS)||t.unsyncedDataType!==c.Td.LIST_TO_UPDATE||Object(C.q)(p)!==c.Db.COUPON_CARDS||m&&E(c.kb.COUPONS_SMART_VIEW_SEARCH))return Promise.resolve();const h=o(),S=i(),g=c.Sc,I=_(c.id.COUPON_CARDS_FETCH_COUNT),T=Object(H.q)(new Date),A=Math.round((new Date).getTime()/1e3)+30*H.a,O=Object(C.r)(p),b=Object(C.Q)(p,{listFilter:O===c.Eb.ALL_COUPON_CARDS?c.Eb.SAVED_COUPON_CARDS:c.Eb.ALL_COUPON_CARDS}),R=[Object(C.r)(p),Object(C.r)(b)],D=Object(C.l)(p);return s.mailAPIClient.request("consolidatedCoupons.getList",{mailboxId:h,filter:R,count:I,offset:[0,0],startCardDate:T,endCardDate:A,sortOrder:g,accountId:S,excludeFolderTypes:D}).then(e=>{e.messageGroupsResponses.forEach(e=>{const t=Object(C.Q)(p,{listFilter:e.filter});n({type:a.a.COUPONS_LIST_SUCCEEDED,listId:t,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems,offset:e.offset})})}).catch(e=>{n({type:a.a.COUPONS_LIST_FAILED,listId:p,error:e})})},function(e,{unsyncedDataType:t,decoId:s=[],listId:n,isSearch:r,keyword:o,emailAddress:i},{bootcampClient:d}){const{dispatch:E,getState:_}=e,{getSelectedMailboxId:u,getSelectedAccountId:p,getSetting:m,getListsSelectors:h,doesListExist:S}=Object(l.b)(_()),{getListNextItemsUrl:g,getListOffset:I}=h();if(t!==c.Td.COUPONS_TO_FETCH)return Promise.resolve();const C=S(n),T={nextItemsUrl:C?g(n):"",mailboxId:u(),accountIds:[p()],order:c.Tc,limit:m(c.id.COUPON_CARDS_FETCH_COUNT),start:Math.min(Object(H.r)({offset:0}),Date.now()),end:1e3*(Math.round((new Date).getTime()/1e3)+30*H.a),offset:C?I(n):0,decoId:s,query:o,from:i},A=-1===s.indexOf("TAG")?"getAllCouponsForSmartViewSearch":"getSavedCouponsForSmartViewSearch",O=-1===s.indexOf("TAG")?"getAllCouponsForSmartView":"getSavedCouponsForSmartView";return d.request(r?A:O,T).then(({cardGroupList:e=[],nextItemsUrl:t="",offset:s=0,totalHits:o=0,hasMoreItems:i=!1})=>E({type:a.a.COUPONS_LIST_SUCCEEDED,listId:n,cardGroupList:e,hasMoreItems:i,offset:s,totalHits:o,nextItemsUrl:t,addToRecentSearch:r})).catch(e=>E({type:a.a.COUPONS_LIST_FAILED,listId:n,error:e}))},ie,({dispatch:e,getState:t},{unsyncedDataType:s=""},{bootcampClient:a})=>{if(s!==c.Td.RETAILERS)return Promise.resolve();const{getSelectedAccountId:n,getSetting:r}=Object(l.b)(t()),o=n(),i=r(c.id.QUOTIENT_DEBUG_FLAG),d=[];return d.push(Object(C.Q)("{}",{listContentType:c.Db.GROCERY_STORES,listFilter:c.Eb.LINKED_GROCERY_STORES,accountIds:[o],referrer:c.Fb[c.td.GROCERIES]})),d.push(Object(C.Q)("{}",{listContentType:c.Db.GROCERY_STORES,listFilter:c.Eb.UNLINKED_GROCERY_STORES,accountIds:[o],referrer:c.Fb[c.td.GROCERIES]})),a.request("getRetailers",{quotientDebugFlag:i}).then(({errorDescription:t="",retailers:s=[],statusCode:a})=>e(200===a?Object(be.s)({retailers:s,listIds:d,hasMoreItems:!1}):Object(be.r)(d,t))).catch(t=>e(Object(be.r)(d,t)))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==c.Td.SR_RETAILERS?Promise.resolve():s.request("getSRRetailers").then(({retailers:t})=>e(Re(t))).then(({errorDescription:t="",retailers:s=[],statusCode:a})=>e(200===a?Re({retailers:s}):De(t))).catch(t=>e(De(t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",loyaltyId:n="",parentName:r=""},{bootcampClient:o})=>{if(s!==c.Td.RETAILER_LINK)return Promise.resolve();const{getSelectedAccountId:i,getRetailersSelectors:d}=Object(l.b)(t()),{getDisplayNameFromRetailerId:E}=d(),_=E(a),u=i(),p=[],m={mKey:F.e.QTNT_ONBOARD_COMPLETE,sec:F.g.QUOTIENT,actionData:{reason:{featurefamily:c.ib.IC,featurename:c.kb.QUOTIENT,upselltype:r,retailername:_}}};return p.push(Object(C.Q)("{}",{listContentType:c.Db.GROCERY_STORES,listFilter:c.Eb.LINKED_GROCERY_STORES,accountIds:[u],referrer:c.Fb[c.td.GROCERIES]})),p.push(Object(C.Q)("{}",{listContentType:c.Db.GROCERY_STORES,listFilter:c.Eb.UNLINKED_GROCERY_STORES,accountIds:[u],referrer:c.Fb[c.td.GROCERIES]})),o.request("linkRetailer",{retailerId:a,loyaltyId:n}).then(({errorDescription:t="",errorHint:s="",status:r=!1,statusCode:o})=>e(200===o?Object(be.f)({retailers:[{id:a,loyaltyId:n,linked:r}],listIds:p,i13nModel:m}):Object(be.d)(a,t,s,babelHelpers.extends({},m,{mKey:F.e.QTNT_ONBOARD_FAILURE})))).catch(t=>e(Object(be.d)(a,t,void 0,babelHelpers.extends({},m,{mKey:F.e.QTNT_ONBOARD_FAILURE}))))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a=""},{bootcampClient:n})=>{if(s!==c.Td.RETAILER_UNLINK)return Promise.resolve();const{getSelectedAccountId:r}=Object(l.b)(t()),o=r(),i=[];return i.push(Object(C.Q)("{}",{listContentType:c.Db.GROCERY_STORES,listFilter:c.Eb.LINKED_GROCERY_STORES,accountIds:[o],referrer:c.Fb[c.td.GROCERIES]})),i.push(Object(C.Q)("{}",{listContentType:c.Db.GROCERY_STORES,listFilter:c.Eb.UNLINKED_GROCERY_STORES,accountIds:[o],referrer:c.Fb[c.td.GROCERIES]})),n.request("unlinkRetailer",{retailerId:a}).then(({errorDescription:t="",statusCode:s})=>e(200===s?Object(be.x)({retailers:[{id:a,linked:!1}],listIds:i}):Object(be.v)(a,t))).catch(t=>e(Object(be.v)(a,t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",listId:n=""},{bootcampClient:r})=>{if(s!==c.Td.OFFERS&&s!==c.Td.MORE_OFFERS)return Promise.resolve();const{doesListExist:o,doesListHasMoreItems:i,getListsSelectors:d}=Object(l.b)(t()),{getListOffset:E,getListOfferType:_}=d();let u=0,p="";s===c.Td.MORE_OFFERS&&o(n)&&i(n)&&(u=E(n),p=_(n));const m=(t,s)=>r.request("getOffers",{retailerId:a,limit:c.qc,offset:u,offerType:p}).then(({statusCode:a,offers:r=[],hasMoreItems:o=!1,offset:i=0,offerType:c="",errorDescription:l=""})=>e(200===a?t({listId:n,offers:r,hasMoreItems:o,offset:i,offerType:c}):s(n,l))).catch(t=>e(s(n,t)));return 0===u?m(be.q,be.p):m(be.o,be.n)},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",listId:n=""},{bootcampClient:r})=>{if(s!==c.Td.ACTIVATED_OFFERS&&s!==c.Td.MORE_ACTIVATED_OFFERS)return Promise.resolve();const{doesListExist:o,doesListHasMoreItems:i,getListsSelectors:d}=Object(l.b)(t()),{getListOffset:E}=d();let _=0;s===c.Td.MORE_ACTIVATED_OFFERS&&o(n)&&i(n)&&(_=E(n));const u=(t,s)=>r.request("getActivatedOffers",{retailerId:a,limit:c.qc,offset:_}).then(({offers:a=[],hasMoreItems:r=!1,offset:o=0,numActivatedOffers:i=0,statusCode:c,errorDescription:l=""})=>e(200===c?t({listId:n,offers:a,hasMoreItems:r,offset:o,numActivatedOffers:i}):s(n,l))).catch(t=>e(s(n,t)));return 0===_?u(be.k,be.j):u(be.m,be.l)},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",offer:n={},listId:r=""},{bootcampClient:o})=>{if(s!==c.Td.ACTIVATE_OFFER)return Promise.resolve();const{getRetailersSelectors:i}=Object(l.b)(t()),{getDisplayNameFromRetailerId:d}=i(),E=d(a),_={mKey:F.e.QTNT_SMARTVIEW_ACTION,sec:F.g.QUOTIENT,actionData:{reason:{featurefamily:c.ib.IC,featurename:c.kb.QUOTIENT,viewtype:"grocerysinglestore",actiontype:"activateoffer",offerid:n.offerId,offerdesc:n.description,offerbrandname:n.brandName,retailer:E}}};return o.request("activateOffer",{retailerId:a,offerId:n.offerId}).then(({errorDescription:t="",status:s=!1,statusCode:a})=>e(200===a?Object(be.c)([babelHelpers.extends({},n,{activated:s})],r,_):Object(be.a)(t))).catch(t=>e(Object(be.a)(t)))},({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{bootcampClient:a})=>t!==c.Td.SAVINGS?Promise.resolve():a.request("getSavings",{retailerId:s}).then(({totalSavings:t=0,totalRecords:a=0,statusCode:n,errorDescription:r=""}={})=>e(200===n?Object(be.u)({retailerId:s,totalSavings:t,offersUsed:a}):Object(be.t)(r))).catch(t=>e(Object(be.t)(t))),(e,{unsyncedDataType:t},s)=>{if(t!==c.Td.SAVED_SEARCH)return Promise.resolve();const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,isMobileRoute:o}=Object(l.b)(n());if(o())return Promise.resolve();const i={mailboxId:r()};return s.mailAPIClient.request("savedSearches.get",i).then(({savedSearches:e})=>a(Object(Pe.h)(e))).catch(e=>a(Object(Pe.g)(e)))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:E}=Object(l.b)(r()),{getSetting:_}=i(),u=E(),p=Object(C.t)(u);if(t.unsyncedDataType!==c.Td.LIST_TO_UPDATE||Object(C.q)(p)!==c.Db.TRAVEL_CARDS)return Promise.resolve();const m=o(),h=d(),S=Object(C.D)(p),g=_(c.id.CARD_GROUPS_FETCH_COUNT),I=Object(C.r)(p),T=Object(C.l)(p);return s.mailAPIClient.request("messageCards.getList",{mailboxId:m,filter:I,count:g,offset:0,sortOrder:S,accountId:h,excludeFolderTypes:T}).then(e=>{n({type:a.a.TRAVEL_LIST_SUCCEEDED,listId:p,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})}).catch(e=>{n({type:a.a.TRAVEL_LIST_FAILED,listId:p,error:e})})},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountId:i,getRouterSelectors:d}=Object(l.b)(r()),{getRoute:E}=d(),_=E(),u=Object(C.t)(_);if(t.unsyncedDataType!==c.Td.LIST_TO_UPDATE||Object(C.q)(u)!==c.Db.REFUND_CARDS)return Promise.resolve();const p=o(),m=i(),h=c.wd.CARD_DATE_DESC,S={mailboxId:p,filter:Object(C.r)(u),count:100,offset:0,sortOrder:h,accountId:m,excludeFolderTypes:Object(C.l)(u)};return s.mailAPIClient.request("getReceipts",S).then(e=>{n({type:a.a.RECEIPTS_LIST_SUCCEEDED,listId:u,cardGroupList:e.messageGroupsResponses.cardGroupList,parentMessagesMap:e.parentMessagesMap,hasMoreItems:e.messageGroupsResponses.hasMoreItems,offset:e.messageGroupsResponses.offset})}).catch(e=>{n({type:a.a.RECEIPTS_LIST_FAILED,listId:u,error:e})})},function(e,t,s){if(t.unsyncedDataType!==c.Td.VIDEO_CHANNELS_METADATA_FETCH)return Promise.resolve();const{dispatch:a,getState:n}=e,r=n(),{getSetting:o}=Object(l.b)(r),i=o(c.id.EMPTY_FOLDER_VIDEO_CHANNELS),d=i?Object.keys(i).join(","):"";return s.videoAPIClient.request({type:"channels_meta_data",channel_alias:d}).then(e=>{a(Object(V.e)({payload:e.body}))}).catch(e=>{a(Object(V.d)({error:e}))})},function(e,t,s){if(t.unsyncedDataType!==c.Td.VIDEO_CHANNEL_FETCH)return Promise.resolve();const{dispatch:a}=e,{channelAlias:n}=t;return s.videoAPIClient.request({type:"channel_video_data",channel_alias:n}).then(e=>{a(Object(V.c)({payload:e.body,channel:n}))}).catch(e=>{a(Object(V.b)({error:e,channel:n}))})},function({dispatch:e},t,s){const{attachment:n,unsyncedDataType:r}=t;return r!==c.Td.PENSIEVE_ITEM_TO_DELETE?Promise.resolve():s.bootcampClient.request("deletePensieveImages",{itemIds:n.id}).then(()=>e(Object(G.f)({type:a.a.PENSIEVE_DELETE_SUCCESS,attachId:n.id}))).catch(t=>e(Object(G.e)({type:a.a.PENSIEVE_DELETE_FAILED,error:t,attachId:n.id})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.SETTINGS_TO_CHANGE)return Promise.resolve();const{updatedSettingAttributes:a}=t;return((e,{updatedSettingAttributes:t=[],action:s},a)=>{const{dispatch:n,getState:r}=e,i=Object(l.b)(r()),{getSelectedMailboxId:d}=i;let E=[];const _=t.map(({name:e,value:t})=>{const s=S(i,e,t);return{id:s,value:s===c.Wb.BLOCK_IMAGES?!t:t}});return E=E.concat(a.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:d(),attributes:_}).then(()=>n(Object(o.c)({requestActionPayload:s}))).catch(()=>n(Object(o.b)({requestActionPayload:s})))),Promise.all(E)})(e,{updatedSettingAttributes:a,action:t,runV3:!0},s)},function(e,t,s){if(t.unsyncedDataType!==c.Td.SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const{dispatch:a}=e,n=t.query||"",r=Object.assign({query:n},{textualSuggest:1},""===n?{enableEmptyQuery:!0}:null),o=t.i13nModel;return s.bootcampClient.request("searchSuggestions",r).then(e=>{a(Object(ye.c)({query:n,suggestions:e,i13nModel:o}))}).catch(e=>a(Object(ye.b)({err:e,query:n})))},function(e,t,s){if(t.unsyncedDataType!==c.Td.ACCOUNT_TO_UPDATE)return Promise.resolve();const{dispatch:a}=e,{accountId:n,updatedProperties:i,requestTimestamp:d}=t,{mailAPIClient:E}=s;return function({store:e,accountId:t,updatedProperties:s,mailAPIClient:a}){const n=r()(s,["id","email","type"]),{getState:o}=e,{getAliasAccounts:i,getAccountById:c}=Object(l.b)(o()),d=c(t)||i().find(e=>e.id===t);return a.request("settings.updateAccount",{account:d,data:n})}({store:e,accountId:n,updatedProperties:i,mailAPIClient:E}).then(e=>a(Object(o.k)({accountId:n,requestTimestamp:d,updatedProperties:i,updatedAccount:e}))).catch(e=>a(Object(o.j)({error:e,accountId:n,requestTimestamp:d,updatedProperties:i})))},(e,t,s)=>{const{query:a,unsyncedDataType:n}=t,{dispatch:r}=e;return n!==c.Td.COMPOSE_SUGGESTIONS_FETCH?Promise.resolve():s.autoSuggestClient.search(t).then(e=>r(Object(y.f)({query:a,recipientList:t.recipientList,contextFrom:t.contextFrom,contacts:e.contacts}))).catch(e=>r(Object(y.d)({err:e,query:a,recipientList:t.recipientList,contextFrom:t.contextFrom})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.DOCUMENT_FETCH)return Promise.resolve();const{dispatch:n,getState:r}=e,{getRoute:o,getRouteParams:i,getAttachmentById:d,getMimetypeByAttachmentId:_,getSizeByAttachmentId:u}=Object(l.b)(r()),p=o(),{attachmentId:m}=i()||{},h=d(m),{documentId:S,startPage:g,endPage:I,type:C="",subtype:T="",retryCount:A}=t;if(!Object(B.k)(h))return Promise.resolve().then(()=>n(x({route:p,documentId:S,startPage:g,endPage:I,error:{data:{info:{documentError:j({type:C,subtype:T})}}}})));const b=_(m),R=u(m);return s.mailAPIClient.request("document.fetch",{documentId:S,startPage:g,endPage:I,mimeType:b,size:R,retryCount:A},{strategy:O.a.STRATEGIES.BROWSER_TO_JEDI,timeout:6e4}).then(e=>{if(815===Object(E.a)(e,"data.info.documentError.code",null))return n(x({error:e,documentId:S,startPage:g,endPage:I}));n((e=>babelHelpers.extends({type:a.a.DOCUMENT_FETCH_SUCCEEDED},e))({response:e,documentId:S,startPage:g,endPage:I}))}).catch(e=>{n(x({error:e,documentId:S,startPage:g,endPage:I}))})},function({dispatch:e},{unsyncedDataType:t,listId:s},{bootcampClient:n}){return t!==c.Td.COUPON_SEARCH?Promise.resolve():n.request("searchCoupons",{query:Object(C.z)(s),limit:4,start:1e3*Object(H.q)(new Date),end:Math.round((new Date).getTime())+3e4*H.a}).then(t=>{e({type:a.a.COUPON_SEARCH_SUCCEEDED,listId:s,response:t})}).catch(t=>{e({type:a.a.COUPON_SEARCH_FAILED,listId:s,error:t})})},(e,t,s)=>{const{dispatch:a,getState:n}=e,r=Object(l.b)(n()),{getSetting:o}=r,{bucketId:i,sourceTag:d}=o(c.id.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION);if(t.unsyncedDataType!==c.Td.PLA_ADS_TO_FETCH)return Promise.resolve();const{keyword:E,couponsRetailer:_,mkey:u}=t;let{keyword:p}=t;return p=Object(Te.b)(r,p,_),s.bootcampClient.request("getPlaAdsByKeyword",{keyword:p,sourceTag:d,bucketid:i}).then(e=>a(Object(Ce.d)({plaAds:e.plaAds,keyword:p,originalKeyword:E,i13nModel:{mKey:u,sec:F.g.RIGHT_RAIL_PLA_CARD,actionData:{keyword:p,plaAdsDataCount:e.plaAds.length,retry:e.retry}}}))).catch(e=>a(Object(Ce.c)({error:e,keyword:p,originalKeyword:E,i13nModel:{mKey:F.e.PLA_ADS_BY_KEYWORD_FETCH_FAILED,sec:F.g.RIGHT_RAIL_PLA_CARD,actionData:{keyword:p}}})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.ACCOUNT_DELETE)return Promise.resolve();const{dispatch:a,getState:n}=e,{accountId:r}=t,{getAccountById:o,getAliasAccounts:E}=Object(l.b)(n()),_=o(r)||E().find(e=>e.id===r),u=Object.assign({},_,{status:c.f.DELETE_IN_PROGRESS});return s.mailAPIClient.request("settings.deleteAccount",{accountId:r}).then(()=>{a(Object(i.h)({updatedAccount:u}))}).then(()=>{if(u.type===c.g.IMAPIN)return function(e,t,s){const a=Object(d.f)(s),n=c.vb[a];if(n){const a=n.oauthDomain;return e.removeOAuthToken({domain:a,email:s}).then(e=>{t(Object(i.n)({response:e}))}).catch(e=>{t(Object(i.m)({error:e}))})}return Promise.reject(new Error(`No provider found for ${s}`))}(s.credstoreClient,a,u.email)}).catch(e=>{a(Object(i.g)({err:e}))})},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.ACCOUNT_ADD)return Promise.resolve();const{dispatch:a,getState:n}=e,{newAccount:r,emailOrPhoneRegAccount:o=!1}=t,{email:d,type:E}=r,{hasAccountWithEmail:_,getDefaultFolderIdForSelectedAccount:u,getFeaturesSelectors:p}=Object(l.b)(n()),{disposableAddressDeleteOnly:m}=p();if(E===c.g.DEA&&m)return Promise.reject().catch(()=>a(Object(i.b)({err:"Disposable Email Address is delete only. User cannot add new DEA"})));const h=u();return _(d)?Promise.reject().catch(()=>a(Object(i.b)({updatedAccount:r}))):s.mailAPIClient.request("settings.addAccount",{account:r,allowUsernameAndPhoneReg:o}).then(e=>{if(o)return void window.setTimeout(()=>window.location.reload(),300);const t=e.find(e=>e.email===d);return a(t?Object(i.c)({accounts:e,updatedAccount:t,inboxFID:h,newAccount:t}):Object(i.b)({err:"New account was not found in the accounts object!",newAccount:t}))}).catch(e=>a(Object(i.b)({err:e,newAccount:r})))},(e,t,s)=>{const{unsyncedDataType:n,groupId:r,messageId:o}=t;if(n!==c.Td.SHOPLIFT_AD_TO_FETCH||!Object(ce.b)())return Promise.resolve();const{dispatch:i,getState:d}=e,{getMessageBodiesSelectors:E}=Object(l.b)(d()),{get:_}=E(),{html:u}=_(o),p=document.createElement("div"),m=[];p.innerHTML=u,p.querySelectorAll("img").forEach(e=>{let t=e.parentElement;for(;t&&t.hostname;){const s=t.hostname.split(".").slice(-2).join(".");if(c.md[s]&&e.width>80){m.push(e);break}t=t.parentElement}});const h=m.sort((e,t)=>t.width-e.width).map(e=>e.src).slice(0,6);return s.tripodAPIClient.request({images:h}).then(({items:e})=>i({type:a.a.SHOPLIFT_AD_FETCH_SUCCEEDED,items:e,groupId:r})).catch(e=>i({type:a.a.SHOPLIFT_AD_FETCH_FAILED,err:e,groupId:r}))},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.MORE_ITEMS_TO_FETCH)return Promise.resolve();const a=Object(l.b)(e.getState()),{getRouteName:n}=a,r=n(),{listId:o}=t;return r===c.Pc.SEARCH?(({dispatch:e,getState:t},{listId:s},{bootcampClient:a})=>{const{getListsSelectors:n,getFeaturesSelectors:r}=Object(l.b)(t()),{getItemIdsSelectors:o,getListNextItemsUrl:i}=n(),{getSetting:d}=r(),E=o(s).getItemIds().length,_=Object(C.q)(s);let u=i(s);return _===c.Db.MESSAGES&&(u=Object(ce.c)(u,{cursor:E,limit:d(c.id.SEARCH_FETCH_COUNT)})),a.request("searchItems",{url:u,listContentType:_}).then(t=>{e(Object(oe.i)({listId:s,listContentBlock:t}))}).catch(t=>e(Object(oe.h)({listId:s,error:t})))})(e,t,s):r===c.Pc.LIST&&Object(C.q)(o)===c.Db.TRAVEL_CARDS?le(e,t,s):(({dispatch:e,getState:t},{listId:s,count:a=c.Q},{mailAPIClient:n})=>{const{getFeaturesSelectors:r,getSelectedMailboxId:o,getListsSelectors:i}=Object(l.b)(t()),d=o(),E=r().isEnabled(c.kb.CONVERSATIONS),{getItemIdsSelectors:_}=i(),u=_(s).getItemIds().length,p={folderId:Object(C.m)(s),mailboxId:d,sortOrder:Object(C.D)(s),filter:Object(C.r)(s),count:a,offset:u,conversationsMode:E};return n.request("messageGroups.getList",p).then(({messageGroupList:t,hasMoreItems:a})=>e(Object(oe.e)({listId:s,messageGroupList:t,hasMoreItems:a}))).catch(t=>{e(Object(oe.d)({listId:s,error:t}))})})(e,t,s)},function(e,t,s){if(t.unsyncedDataType!==c.Td.GIFS_TO_FETCH)return Promise.resolve();const{dispatch:a}=e,{listId:n,query:r,id:o}=t,{getListsSelectors:i,getSelectedMailboxId:d}=Object(l.b)(e.getState()),{doesListExist:E,getListNextItemsUrl:_}=i(),u=E(n)?_(n):"";return s.bootcampClient.request("searchGifs",{mailboxId:d(),query:r,nextItemsUrl:u}).then(e=>a(Object(te.f)({altListId:n,query:r,id:o},e))).catch(e=>a(Object(te.e)({altListId:n,query:r,id:o},e)))},function({dispatch:e},t,s){return t.unsyncedDataType!==c.Td.GIF_CATEGORY_TO_FETCH?Promise.resolve():s.bootcampClient.request("getGifCategories").then(({categories:t})=>e(Object(te.c)({categories:t}))).catch(t=>e(Object(te.a)({error:t})))},function({dispatch:e},{unsyncedDataType:t,email:s=""},{bootcampClient:n}){if(t!==c.Td.TOP_COUPONS_TO_FETCH||""===s)return Promise.resolve();const r=Object(C.e)({referrer:c.Fb.TOP_COUPONS});return n.request("getCouponRecommendations",{mailboxemail:s,limit:10}).then(t=>{e({type:a.a.COUPONS_LIST_SUCCEEDED,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:a.a.COUPONS_LIST_FAILED,listId:r,error:t})})},function({dispatch:e},{email:t,unsyncedDataType:s},a){return s!==c.Td.ALIAS_EMAIL_TO_CREATE?Promise.resolve():a.mailAPIClient.request("settings.createAlias",{email:t}).then(({suggestions:s,newAccount:a})=>{e(s&&s.length?Object(He.e)({email:t,suggestions:s}):s||a?Object(He.f)({newAccount:a}):Object(He.e)({email:t}))}).catch(()=>e(Object(He.e)({email:t})))},function({dispatch:e},{account:t,unsyncedDataType:s},a){return s!==c.Td.CONFIRM_EMAIL_TO_RESEND?Promise.resolve():a.mailAPIClient.request("settings.resendConfirmEmail",{account:t}).then(s=>{e(Object(He.w)({account:s,email:t.email}))}).catch(s=>{e(Object(He.v)({err:s,email:t.email}))})},(e,t,s)=>{const{unsyncedDataType:a,originalContact:n,newContact:r}=t,{dispatch:o}=e;return a!==c.Td.CONTACT_SAVE?Promise.resolve():s.autoSuggestClient.contactDetailsEdit({originalContact:n,newContact:r}).then(e=>o(Object(v.f)({contact:e}))).catch(e=>o(Object(v.d)({err:e,contact:n})))},(e,t,s)=>{const{unsyncedDataType:a,editToken:n,file:r,id:o}=t,{dispatch:i}=e;return a!==c.Td.CONTACT_PHOTO_UPLOAD?Promise.resolve():s.autoSuggestClient.contactUploadPhoto({editToken:n,file:r}).then(e=>i(Object(v.h)({contact:e}))).catch(e=>i(Object(v.g)({err:e,contact:{file:r,id:o}})))},(e,t,s)=>{if(t.unsyncedDataType!==c.Td.BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSettingsSelectors:i}=Object(l.b)(r()),{getBlockedSendersApiCallStatus:d}=i();if(d()===c.Mc.LOADED)return Promise.resolve();const E=o();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:E,attributes:[c.Wb.DELIVERY_BLOCKED_SENDERS]}).then(e=>{n(babelHelpers.extends({type:a.a.SETTINGS_BLOCKED_SENDERS_RECEIVED},e))}).catch(e=>{n({type:a.a.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED,payload:e})})},({dispatch:e},{listId:t,unsyncedDataType:s},n)=>s!==c.Td.YAHOO_DEALS_TO_FETCH?Promise.resolve():n.taiwanCommerceClient.getAllCategories().then((s={})=>{const{body:n}=s;e({type:a.a.TAIWAN_COMMERCE_DEALS_SUCCEEDED,listId:t,recommendedProducts:n.recommendedProducts,rushBuyActivities:n.rushBuyActivities})}).catch(s=>{e({type:a.a.TAIWAN_COMMERCE_DEALS_FAILED,listId:t,error:s})}),(e,t,s)=>{const{unsyncedDataType:a,newContact:n,file:r,timestamp:o}=t,{dispatch:i}=e;return a!==c.Td.CONTACT_CREATE?Promise.resolve():s.autoSuggestClient.createContact({newContact:n,file:r}).then(e=>i(Object(v.j)({contact:e,timestamp:o}))).catch(e=>i(Object(v.i)({err:e,contact:n,timestamp:o})))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o}=Object(l.b)(r()),i=o();return i&&t.unsyncedDataType===c.Td.COMPOSE_ATTRIBUTES_TO_FETCH?s.mailAPIClient.request("postLaunch.getComposeAttributes",{mailboxId:i,attributes:c.J}).then(e=>n(function(e){return babelHelpers.extends({type:a.a.COMPOSE_ATTRIBUTES_RECEIVED},e)}({mailboxAttributes:e.responses}))).catch(e=>n(function(e){return babelHelpers.extends({type:a.a.COMPOSE_ATTRIBUTES_FETCH_FAILED},e)}({error:e}))):Promise.resolve()},function(e,t,s){const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountIdByRoute:i,getRoute:d}=Object(l.b)(r()),E=o();if(!Object(ce.b)()||t.unsyncedDataType!==c.Td.POST_LUNCH_TO_SYNC)return Promise.resolve();const _=i(d()),u=[];return u.push(s.mailAPIClient.request("postLaunch.postSync",{mailboxId:E,accountId:_})),u.push(U(e,t,s)),u.push(function(e,t,s){const{dispatch:a,getState:n}=e,{getFeaturesSelectors:r}=Object(l.b)(n()),{isEnabled:o}=r();return o(c.kb.EARNY_CARD_EXTRACTIONS)?s.bootcampClient.request("getContentProviders").then(e=>{a(ze({contentProviders:e}))}).catch(e=>a(Ye(e))):Promise.resolve()}(e,0,s)),u.push(function(e,t,s){const{dispatch:a,getState:n}=e,{isFeatureEnabled:r}=Object(l.b)(n()),o={query:t.query||""};return!1===r(c.kb.SHOW_RECENT_SUGGESTIONS)?new Promise(e=>e()):s.bootcampClient.request("recentSearches",o).then(e=>{a(Object(Ze.d)({recentSearches:e}))}).catch(()=>{a(Object(Ze.c)())})}(e,t,s)),Promise.all(u).then(([e])=>n(function(e){return babelHelpers.extends({type:a.a.POST_LAUNCH_SYNC_SUCCEEDED},e)}(e))).catch(e=>n(function(e){return babelHelpers.extends({type:a.a.POST_LAUNCH_SYNC_FAILED},e)}({error:e})))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==c.Td.TOP_RETAILERS_TO_FETCH?Promise.resolve():s.request("getTopRetailers").then(t=>e(Xe({topRetailers:t}))).catch(t=>e(Qe({error:t})))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==c.Td.TOP_DEAL_CATEGORIES_TO_FETCH?Promise.resolve():s.request("getTopDealCategories").then(t=>e($e({topDealCategories:t}))).catch(t=>e(Je({error:t})))},function(e,t,s){const{query:a,unsyncedDataType:n}=t;if(n!==c.Td.RECENT_SEARCH_DELETE)return Promise.resolve();const{dispatch:r,getState:o}=e,{getMailboxesSelectors:i}=Object(l.b)(o()),d={query:a,mailboxid:i().getSelectedMailboxId()};return s.bootcampClient.request("deleteRecentSearch",d).then(()=>r(Object(Ze.b)({query:a}))).catch(()=>r(Object(Ze.a)()))},function(e,t,s){if(t.unsyncedDataType!==c.Td.LINK_ENHANCER_TO_FETCH)return Promise.resolve();const{dispatch:a}=e,{cardUrl:n}=t;return s.linkEnhancerClient.get(n).then(({body:{linkInfo:e}})=>a(Object(Oe.c)({id:n,cardUrl:n,linkInfo:e}))).catch(e=>a(Object(Oe.b)({id:n,cardUrl:n,error:e})))}],[a.a.CREATE_FOLDER_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getSelectedMailboxId:o,isMobileRoute:i}=Object(l.b)(r);if(!i())return Promise.resolve();const{folderName:c,accountId:d}=t,E=o();return s.mailAPIClient.request("folders.create",{mailboxId:E,folderName:c,accountId:d}).then(e=>{a(Object($.b)({folder:e.folder}))}).catch(e=>a(Object($.a)({folderName:c,error:e})))},[a.a.MOVE_ITEMS_REQUESTED]:[pe],[a.a.UNDO_MOVE_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,getFeaturesSelectors:o}=Object(l.b)(n()),{itemsToUpdate:i,streamId:d}=t,E=i.filter(e=>e.isAffected),_=o().isEnabled(c.kb.UPDATE_ITEMS_V3);return!E.length||_?Promise.resolve():s.mailAPIClient.request("messages.updateV3",{mailboxId:r(),messageItems:E}).then(()=>a(Object(m.c)({streamId:d,itemsToUpdate:i}))).catch(e=>a(Object(m.b)({itemsToUpdate:i,error:e})))},[a.a.MORE_RECEIPTS_REQUESTED]:de,[a.a.CREATE_SAVED_SEARCH_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{name:r,query:o,decorations:i,priority:c}=t,{getSelectedMailboxId:d}=Object(l.b)(n()),E={mailboxId:d(),name:r,query:o,decorations:i,priority:c};return s.mailAPIClient.request("savedSearches.create",E).then(({savedSearches:e})=>a(Object(Pe.c)(e))).catch(e=>a(Object(Pe.b)(e)))},[a.a.DELETE_SAVED_SEARCH_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{savedSearchId:r}=t,{getSelectedMailboxId:o}=Object(l.b)(n()),i={mailboxId:o(),savedSearchId:r};return s.mailAPIClient.request("savedSearches.delete",i).then(()=>a(Object(Pe.f)(r))).catch(e=>a(Object(Pe.e)(e)))},[a.a.STAR_CHANGE_REQUESTED]:[je],[a.a.READ_CHANGE_REQUESTED]:[he],[a.a.LOCATION_SUGGEST_REQUESTED]:function(e,t,s){const{dispatch:a}=e,{query:n,i13nModel:r,partner:o}=t;return Promise.resolve(s.locationAutoSuggestClient.getLocationSuggestion(n,o)).then(e=>{a(Object(Ie.b)(babelHelpers.extends({},n,e,{i13nModel:r})))}).catch(e=>a(Object(Ie.a)(e)))},[a.a.RESPOND_TO_INVITE]:(e,t,s)=>{const{messageId:a,uid:n,response:r,oldResponse:o,email:i}=t,{dispatch:c}=e;return s.calendarClient.sendReply(n,{numGuests:0,partStat:r,email:i,comment:""}).then(()=>c(Object(h.g)({uid:n,response:r,messageId:a}))).catch(()=>c(Object(h.f)({uid:n,response:o,messageId:a})))},[a.a.OPEN_PAGE_REQUESTED]:[Ge],[a.a.COUPONS_ADD_TAG_DECO_REQUESTED]:[function({dispatch:e,getState:t},{messageId:s,accountId:a,recommendations:n=!1,parentMessageId:r=""},{mailAPIClient:o}){const{getSelectedMailboxId:i}=Object(l.b)(t()),d=i();o.request("messages.updateDecos",{mailboxId:d,messageDecosPayloads:[{messageId:s,decos:[{id:c.Zb.TAG}]}]}).then(()=>{e(Object(g.c)({messageId:s,accountId:a,recommendations:n,parentMessageId:r}))}).catch(t=>{e(Object(g.a)(t))})}],[a.a.COUPONS_REMOVE_TAG_DECO_REQUESTED]:function({dispatch:e,getState:t},{messageId:s,accountId:a},{mailAPIClient:n}){const{getSelectedMailboxId:r}=Object(l.b)(t()),o=r();n.request("messages.updateDecos",{mailboxId:o,messageDecosPayloads:[{messageId:s,decos:[{id:"-"+c.Zb.TAG}]}]}).then(()=>e(Object(g.w)({messageId:s,accountId:a}))).catch(t=>e(Object(g.u)(t)))},[a.a.EXTRACT_COUPON_REQUESTED]:function({dispatch:e,getState:t},{messageId:s,description:a,expiryDate:n},{mailAPIClient:r}){const{getSelectedMailboxId:o,getFoldersSelectors:i,getMessagesSelectors:d,getMessageFolderId:E}=Object(l.b)(t()),{getUserCardFolderIds:_,getAccountIdByFolderId:u}=i(),{getFromAddresses:p,getReplyToAddresses:m}=d(),h=o(),S=u(E(s)),T=_(S),A=[{id:c.Zb.CRD,type:c.X.NORMAL},{id:c.Zb.CPN,type:c.X.NORMAL},{id:c.Zb.TAG,type:c.X.NORMAL}],O={from:p(s),replyTo:m(s),subject:a},b=[{schema:{"@id":Object(I.e)({min:10,max:40}),"@type":c.Zc.Coupon,validThrough:n,description:a,identifier:[{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"searchTerms",value:a},{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"cardDate",value:"$.validThrough"}]}}];if(!(s&&T&&a&&n))return Promise.resolve();r.request("cards.create",{mailboxId:h,messageId:s,destinationFolderId:T,headers:O,decos:A,schemaOrg:b}).then(t=>{e(Object(g.m)(babelHelpers.extends({messageId:s,listId:Object(C.Q)("{}",{listContentType:c.Db.COUPON_CARDS,listFilter:c.Eb.SAVED_COUPON_CARDS,accountIds:[S],referrer:c.Fb[c.td.COUPONS]})},t)))}).catch(t=>{e(Object(g.k)(t))})},[a.a.LAUNCH_COMPLETED]:[Ge],[a.a.DELETE_CONTACT_SUGGESTIONS_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{getEnvironmentSelectors:r}=Object(l.b)(n());return r().getIsXobnified()?s.autoSuggestClient.blackList(t).then(()=>a(Object(y.i)({contactInfo:t.contactInfo}))).catch(e=>a(Object(y.g)(e))):Promise.resolve()},[a.a.FEATURE_CLOSED]:X,[a.a.HOMEPAGE_EXTENSION_CLOSED]:({dispatch:e,getState:t},s,{mailAPIClient:a})=>{const{getSelectedMailboxId:n}=Object(l.b)(t()),{subKey:r}=s,o=n();return a.request("saveArrayAttributes",{mailboxId:o,items:[`${r},${Math.round(Date.now()/1e3)}`],attribute:c.Wb.SUPPRESSED_UPSELLS,dedupFn:Y}).then(t=>{e(Object(we.e)({name:c.id.SUPPRESSED_UPSELLS,value:t}))}).catch(t=>{e(Object(we.d)({error:t}))})},[a.a.FEATURE_TRY_NOW_REQUESTED]:X,[a.a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED]:Q,[a.a.DELETE_ITEMS_REQUESTED]:w,[a.a.BLOCK_SENDERS_REQUESTED]:ve,[a.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:[ve,(e,t,s)=>{const{getState:a,dispatch:n}=e,r=Object(l.b)(a()),{getSelectedAccountId:o,getFolderIdsForSelectedAccount:i,getFeaturesSelectors:d}=r,E=o(),{deleteItemsFromSenders:_}=t,u=d().isEnabled(c.kb.UPDATE_ITEMS_V3);let m=_.join(" fromEmail:");if(u)return Promise.resolve();if(!m)return Promise.resolve();m="fromEmail:"+m+" acctId:"+E;const h=i(c.sb.TRASH).map(e=>({destinationFolderId:e,isAsync:!0,query:m,accountId:E}));return s.mailAPIClient.request("messages.update",h).then(({results:e})=>{n(e?Object(p.c)({tasks:e.map(e=>e.task),actionPayload:{triageActionType:t.triageActionType,successAction:t.successAction,failureAction:t.failureAction}}):t.successAction)}).catch(()=>n(t.failureAction))}],[a.a.SETTINGS_CHANGE_REQUESTED]:(e,{name:t,value:s,action:a},n)=>{const{dispatch:r,getState:i}=e,d=Object(l.b)(i()),{getSelectedMailboxId:E}=d;let _=[];const u=S(d,t,s);return _=_.concat(n.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:E(),attributes:[{id:u,value:u===c.Wb.BLOCK_IMAGES?!s:s}]}).then(()=>{r(Object(o.c)({requestActionPayload:a})),u===c.Wb.BLOCK_IMAGES&&window.setTimeout(()=>window.location.reload(),300)}).catch(()=>r(Object(o.b)({requestActionPayload:a})))),Promise.all(_)},[a.a.SETTINGS_SAVE_FILTERS_REQUESTED]:function(e,t,s){const{dispatch:a}=e,{name:n,value:r}=t;return s.mailAPIClient.request("settings.saveMessageFilters",{payload:r}).then(()=>a(Object(o.c)({name:n,value:r}))).catch(e=>a(Object(o.b)({error:e,name:n,value:r})))},[a.a.AD_FEEDBACK_STARTED]:(e,{sectionId:t})=>{u(e,"(type$fdb_start)",t)},[a.a.AD_FEEDBACK_SUBMITTED]:(e,{reason:t,comment:s,sectionId:a})=>{u(e,`type$fdb_submit,subo${t},cmnt${s}`,a)},[a.a.SPONSORED_SAVE_TO_INBOX_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{getAccountSelectors:r,getSelectedMailboxId:o,getRoute:i,getAccountIdByFolderId:c,getInboxFolderIdByAccountId:d}=Object(l.b)(n()),{getAccountById:E}=r(),_=o(),u=i(),p=Object(C.t)(u),m=c(Object(C.m)(p)),h=E(m),S=d(m),g={csid:Object(I.f)(),mailboxId:_,subject:t.subject,html:t.asset,from:[h],folderId:S};return s.mailAPIClient.request("sponsoredMessages.save",g,{strategy:O.a.STRATEGIES.BROWSER_TO_JEDI,timeout:J.a}).then(({message:e})=>{a(Object(A.y)({message:e,simpleBody:{html:g.html,htmlAnnotations:[]}}))}).catch(()=>a(Object(A.x)()))},[a.a.SUBSCRIPTION_SELECTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e;return s.subscriptionAPIClient.subscribe(t.provider,t.options).then(()=>{const e=[...Object(l.b)(n()).getFeaturesSelectors().getSetting(c.id.EMAIL_SUBSCRIPTIONS),t.id];a(Object(Ve.c)(t.id)),a(Object(o.a)({name:c.id.EMAIL_SUBSCRIPTIONS,value:e,runV3:!0}))}).catch(()=>a(Object(Ve.b)(t.id)))},[a.a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{spid:r,key:o}=t;return s.credstoreClient.unlink({spid:r,provider:o}).then(()=>{a(Object(i.q)({key:o}))}).then(()=>{const{getSocialAccountsStatus:e}=Object(l.b)(n()),t=e();Object(E.b)(t)&&a(Object(i.i)())}).catch(e=>{a(Object(i.p)({error:e}))})},[a.a.CHECK_UNSUBSCRIBE_MAIL_REQUESTED]:(e,t,s)=>{const{dispatch:a}=e,{mailTo:n,subject:r,messageId:o}=t;return s.mailAPIClient.request("messageGroups.getList",{count:1,offset:0,query:{toEmail:n,subject:r,folderType:c.sb.SENT}}).then(e=>{const{messageGroupList:t}=e,s={messages:t.length>0?[{id:o,unsubOption:{unsubscribed:!0}}]:[{id:o,unsubOption:{unsubscribed:!1}}]};a(Object(We.c)(s))}).catch(()=>a(Object(We.b)()))}}},function(e,t,s){"use strict";class a{constructor(e={},t,{TTL:s=180,path:a="/d"}={}){const n=new Date;n.setTime(n.getTime()+1e3*s),this.cookieName=t,this.io={req:e.req,res:e.res,window:e.window,cookieName:t,expires:n,path:a},e.res&&e.req&&e.req.cookies&&e.res.cookie?(this._set=this._serverSet,this._get=this._serverGet):e.window&&e.window.document&&"string"==typeof e.window.document.cookie?(this._set=this._browserSet,this._get=this._browserGet):(this._set=(()=>null),this._get=(()=>null))}_serverSet(e){const{req:t,res:s,cookieName:a,expires:n,path:r}=this.io,o=Object.assign(t.cookies[a]||{},e);s.headersSent||s.cookie(a,o,{path:r,expires:n})}_serverGet(){const{req:e,cookieName:t}=this.io;return e.cookies[t]}_browserSet(e){const{cookieName:t,expires:s,path:a,window:n}=this.io,r=this._browserGet({window:n,cookieName:t}),o=Object.assign(r,e),i=`j:${JSON.stringify(o)}`;n.document.cookie=t+"="+encodeURIComponent(i)+`;path=${a};expires=${s.toGMTString()}`}_browserGet(){const{window:e,cookieName:t}=this.io,s=e.document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)"),a=decodeURIComponent(s?s[2]:"j:{}");if(0===a.indexOf("j:"))try{return JSON.parse(a.substr(2))}catch(e){return{}}return{}}get(){return this._get()||{}}set(e){return this._set(e)}}var n=s(170),r=s.n(n);s.d(t,"a",function(){return i});const o="tz";class i extends a{constructor(e,t=86400,s){super(e,"YM.TZ",{TTL:t,path:s})}determineClientTimeZone(){const e=r.a.determine(),t=e&&e.name();t&&this.set({[o]:t})}getClientTimeZone(){const e=this.get();return e&&e[o]?String(e[o]):""}}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(13),c=s(4),l=(s(38),s(114)),d=s(5),E=s(14),_=s(17),u=s(29),p=s(542),m=s.n(p),h=s(9),S=s(43),g=s(437),I=s(544),C=s.n(I),T=s(11);const A=s.n(T)()(C.a),O=e=>{const{isBusiness:t}=e;return t?o.a.createElement("span",{className:A.footer}):o.a.createElement("div",{"data-test-id":"contact-card-footer",className:A.containerFooter},o.a.createElement("div",{className:A.footerText},o.a.createElement(c.c,{id:"contact_card.footer",defaultMessage:"Auto generated card visible only to you"})))};O.defaultProps={isBusiness:!1};var b=O,R=s(438),D=s(439),f=s(440),N=s(441),M=s(442),L=s(363),y=s(0);class P extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.stopPropagation()}),this.openComposeView=(e=>{e.stopPropagation();const{isCompose:t,dispatchActionToNewRoute:s,email:a}=this.props;t||s({route:Object(_.e)(Object(E.f)()),mailtoAttr:`mailto:${a}`,i13nModel:{mKey:d.e.CONTACT_CARD_EMAIL_CLICKED,sec:d.g.CONTACT_CARD,interactionType:Object(E.i)(e)}})}),t}componentDidMount(){this._getContactDetailsTimer=setTimeout(()=>{this.props.getContactDetails()},0)}componentDidUpdate(){const{notifyPopoverChanged:e}=this.context;e&&e()}componentWillUnmount(){this._getContactDetailsTimer&&clearTimeout(this._getContactDetailsTimer)}render(){const{email:e,isInRightRail:t,contact:s,name:a,isCompose:n,relationshipHistory:r,hasCoupons:i,showVigLink:c}=this.props;if(!s)return null;const{isBusiness:l=!1,phonesWithType:d=[],name:E,position:_,website:p,xobniId:h}=s||{},S=t?Object(u.i)(this.context,!0):{},I=Object(u.k)({context:this.context,includeMedium:!0}),C=t&&(i||c),T=this.context.getCss(m.a,babelHelpers.extends({isInRightRail:t,isCompose:n},S,{partnerIconEnabled:C})),A=d[0];return o.a.createElement("div",{"data-test-id":"contact-card",className:T.container,onClick:this.handleClick,key:e},o.a.createElement("div",null,C&&o.a.createElement(L.a,{isOnDarkBackground:I}),o.a.createElement("div",{className:T.contactFlexContainer},o.a.createElement(D.a,{email:e,id:h,website:p,isBusiness:l}),o.a.createElement("div",{className:T.rightColElement},o.a.createElement("div",{className:T.header},o.a.createElement(f.a,{name:E||a,email:e,isInRightRail:t}),o.a.createElement(N.a,{position:_,isInRightRail:t})),l&&o.a.createElement(M.a,{website:p,isBusiness:!0}),o.a.createElement("a",{"data-test-id":"contact-card-email",className:T.email,title:e,onClick:this.openComposeView},e),A&&o.a.createElement("div",{"data-test-id":"contact-card-phone",className:T.phone,title:A.number},A.number),o.a.createElement(g.a,{contact:s,isInRightRail:t}))),o.a.createElement(R.a,{relationshipHistory:r,isBusiness:l})),!t&&o.a.createElement(b,{isBusiness:l}))}}P.contextTypes={executeAction:n.a.func.isRequired,notifyPopoverChanged:n.a.func,intl:c.i,getCss:n.a.func,getThemeMode:n.a.func,getTheme:n.a.func,config:n.a.object},P.defaultProps={isInRightRail:!1};t.a=Object(i.b)((e,t)=>{const{email:s}=t,{doesContactIdExist:a,getContactById:n,doesPeopleContactExistByXobniId:r,getCouponsSelectors:o,isFeatureEnabled:i,getSetting:c,getRelationshipHistoryByXobniId:l}=Object(h.b)(e),d=a(s)?n(s):void 0,E=d&&t.showContactSummary,_=o().emailHasCoupons(),u=c(y.id.VIGLINK_BLACKLIST),p=i(y.kb.VIGLINK)&&d&&d.isBusiness&&d.website&&!u.some(e=>-1!==d.website.toLowerCase().indexOf(e));return{contact:d,hasCoupons:_,showVigLink:p,relationshipHistory:E&&r(d.xobniId)?l(d.xobniId):void 0}},(e,t)=>{const{email:s,isCompose:a,contact:n}=t;return{dispatchActionToNewRoute:t=>e(Object(S.i)(t)),getContactDetails:()=>{n||e(Object(l.b)({email:s,isCompose:a}))}}})(P)},,function(e,t,s){"use strict";e.exports={className:{default:{pillContent:"C_Z281SGl k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_52qC Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_3gIgH M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R",editInput:"s_3qWeB b_dm5 A_6EqO"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2fAfSG"},isSelected:{pillContent:"l_Z2aVTcY I_ZoExDJ"},hasError:{pillContent:"b_Z1222NH I_Zkgkoa",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_52qC I_2sqbPK b_efTvb"},isFolderPill:{pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_GAbAU",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_GAbAU",dragHoverLeft:"em_0"}},_key:"CLv4H"}},function(e,t,s){"use strict";e.exports={className:{default:{surveyContainer:"W_3zBDu I_52qC",headerSection:"D_F gl_C ek_BB p_R",imageWrapper:"D_F gl_C je_6MGW",optOutBackground:"D_F W_3vqYW gl_C aw_1hc10n H_7kKt",titleText:"t_C A_6FsP u_e69 Y_6LEV",closeButton:"p_a T_6Eb4 R_6Eb4",bodySection:"P_4dtF7",optionsContainer:"hd_n P_0 M_0",textArea:"H_7rdk W_3v3uk V_GM e_dRA b_2w4l8N Y_6MGW y_Z2uhb3X A_6EqO jw_n N_eo6 X_eo6 I_ZnkeaL",buttonWrapper:"Y_6Eb4 P_1DfIQP D_F",messageCounter:"C_Z1VRpVF t_r H_6Eb4",submitMessage:"C_Z1YRXYn t_C je_6Fd5 jb_6MGW",sadFace:"H_7yHc W_7yHc",chick:"H_7yHc W_7yHc D_n"},isPanelFocus:{textArea:"I_52qC l_Z2aVTcY"},submit:{sadFace:"D_n",chick:"D_B"}},_key:"2q9hzL"}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(161),o=s(626),i=s.n(o),c=s(11),l=s.n(c),d=s(99),E=s.n(d),_=s(369),u=(s(8),s(15));class p extends n.a.Component{constructor(...e){var t;return t=super(...e),this.handleChange=(e=>{const{onChange:t}=this.props;t&&t(e.target.value)}),this.handleFocus=(e=>{const{onFocus:t}=this.props;t&&t(e.target.value)}),this.handleBlur=(e=>{const{onBlur:t}=this.props;t&&t(e.target.value)}),this.handleClear=(()=>{const{onChange:e}=this.props;e&&e("")}),t}render(){const e=this.props,{hint:t,error:s,kind:a,fujiIconProps:o,className:c}=e,d=babelHelpers.objectWithoutProperties(e,["hint","error","kind","fujiIconProps","className"]),_=Boolean(t),p=Boolean(s),m=Boolean(o),h=l()(i.a,{kind:a});return n.a.createElement("div",{className:h.inputContainer},n.a.createElement(r.a,babelHelpers.extends({},d,{className:E()(h.inputField,c),onFocus:this.handleFocus,onChange:this.handleChange,onClear:this.handleClear,onBlur:this.handleBlur})),m&&n.a.createElement("div",{className:h.inputIcon},n.a.createElement(u.b,o)),_&&!p&&n.a.createElement("div",{className:h.hint},t),p&&n.a.createElement("span",{"data-test-id":"input-error",className:h.error},s))}}p.defaultProps={hint:"",error:"",focusOnMount:!1,kind:_.a.DEFAULT,className:""},t.a=p},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(11),c=s.n(i),l=s(615),d=s.n(l),E=s(32),_=s(0);class u extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleMouseDown=(()=>{const{value:e}=this.props;this.props.onSelect&&this.props.onSelect(e)}),this.handleClick=(e=>{e.preventDefault()}),this.handleKeyDown=(e=>{switch(e.key){case _.zb.ENTER:e.preventDefault(),e.stopPropagation(),this.handleMouseDown();break;case _.zb.TAB:e.preventDefault(),e.stopPropagation()}}),t}render(){const{isSelected:e,children:t,value:s,hoverStyle:a,title:n}=this.props,r=c()(d.a,{isSelected:e&&!a,hoverStyle:a+(e?"_SELECTED":"")}),i=n||t;return o.a.createElement(E.a,{title:i,ariaLabel:i,"data-test-id":s,onClick:this.handleMouseDown,onKeyDown:this.handleKeyDown},o.a.createElement("a",{href:"#",onClick:this.handleClick,className:r.optionItem},t))}}u.defaultProps={isSelected:!1},t.a=u},function(e,t){const s=1,a=1024,n=1048576,r=1073741824,o={[s]:"B",[a]:"kB",[n]:"MB",[r]:"GB"};e.exports={toNBits:(e,t)=>e.length>t?e.substr(0,t):e.length<t?new Array(t-e.length+1).join("0")+e:e,binToHex(e){var t,s,a=e.length,n="";for(t=0;t<a;t+=4)s=e.substr(t,4),s=s+=new Array(4-s.length+1).join("0"),n+=parseInt(s,2).toString(16);return n},hexToBin(e){var t,s,a=e.length,n="";for(t=0;t<a;t++)s=parseInt(e[t],16).toString(2),n+=s=new Array(4-s.length+1).join("0")+s;return n},prettyPrintBytes(e,t=0){if("number"!=typeof e||e<=0)return"";const i=[r,n,a,s].find(t=>e>=t),c=Math.pow(10,t);return`${Math.round(e/i*c)/c}${o[i]}`}}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"g",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return E}),s.d(t,"h",function(){return _}),s.d(t,"a",function(){return u}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return m});var a=s(14),n=s(9),r=s(0),o=s(65),i=s(1);const c=e=>(t,s)=>{const c=Object(a.f)(),{getAccountSelectors:l,getSelectedAccountIdByRoute:d,getRoute:E,getAccountById:_}=Object(n.b)(s()),u=l().getAllAccounts(),p=`<html><head></head><body>${e.body}</body></html>`,m=_(d(E()))||{};return t({type:i.a.UNSUBSCRIBE_EMAIL_REQUESTED,csid:c,composeMode:r.I.Modes.NEW,payload:{csid:c,id:c,userInputtedValues:{csid:c,bcc:[],cc:[],html:p,to:e.toAddresses,subject:e.subject,uiState:{useRichText:!0},lastEditedTimeStamp:Date.now(),from:o.getFromAddress(u,m.email),unsubFromMessage:e.unsubFromMessage}}})},l=e=>babelHelpers.extends({type:i.a.UNSUBSCRIBE_DISPLAY_LIST},e),d=e=>babelHelpers.extends({type:i.a.UNSUBSCRIBE_ACTION_TAKEN},e),E=e=>babelHelpers.extends({type:i.a.UNSUBSCRIBE_ACTION_TAKEN},e),_=e=>babelHelpers.extends({type:i.a.UNSUBSCRIBE_ACTION_TAKEN},e),u=e=>babelHelpers.extends({type:i.a.CHECK_UNSUBSCRIBE_MAIL_REQUESTED},e),p=e=>babelHelpers.extends({type:i.a.CHECK_UNSUBSCRIBE_MAIL_SUCCEEDED},e),m=e=>babelHelpers.extends({type:i.a.CHECK_UNSUBSCRIBE_MAIL_FAILED},e)},,function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"c",function(){return n}),s.d(t,"a",function(){return r});const a=20,n=100,r="allContacts"},,,,function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var a=s(1),n=s(61),r=s(0);function o({i13nModel:e}){return{type:a.a.ADBLOCK_UPSELL_OPTION_CLICKED,i13nModel:e}}function i({i13nModel:e}){return{type:a.a.ADBLOCK_DETECTED,i13nModel:e}}const c=({uiId:e,i13nModel:t={}})=>s=>s(Object(n.a)({name:r.id.AD_BLOCK_FEATURE_CUE_ID,value:e,runV3:!0,i13nModel:t}))},,,,,,function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c}),s.d(t,"d",function(){return l});var a=s(1),n=s(0),r=s(5);const o=({senderEmail:e,nearbyListing:t})=>({type:a.a.UPDATE_BUSINESS_LISTING_SUCCEEDED,senderEmail:e,nearbyListing:t}),i=({senderEmail:e=""})=>({type:a.a.UPDATE_BUSINESS_LISTING_FAILED,senderEmail:e}),c=e=>({type:a.a.COUPON_STORE_LOCATOR_SHOWN,email:e,i13nModel:{mKey:r.e.COUPON_STORE_LOCATOR_SHOWN,sec:r.g.CPN_STORE_LOCATOR,actionData:{email:e}}}),l=e=>({type:a.a.SETTINGS_CHANGE_REQUESTED,name:n.id.COUPON_STORE_LOCATOR_COLLAPSED,value:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return c});var a=s(1),n=s(9),r=s(0);const o=e=>(t,s)=>{const{getLocationSuggestionSelectors:o}=Object(n.b)(s()),{keyword:i,product:c}=e.query;if(o().getLocationSuggestionStatus(i,c)===r.Mc.DOES_NOT_EXIST)return t(babelHelpers.extends({type:a.a.LOCATION_SUGGEST_REQUESTED},e))},i=e=>babelHelpers.extends({type:a.a.LOCATION_SUGGEST_SUCCEEDED},e),c=e=>babelHelpers.extends({type:a.a.LOCATION_SUGGEST_FAILED},e)},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return i});var a=s(1);const n=({i13nModel:e})=>({type:a.a.SEARCH_PLA_AD_CLICKED,i13nModel:e}),r=({i13nModel:e,keyword:t})=>({type:a.a.FETCH_PLA_ADS_BY_KEYWORD,i13nModel:e,keyword:t}),o=({plaAds:e,keyword:t,originalKeyword:s,i13nModel:n})=>({type:a.a.FETCH_PLA_ADS_BY_KEYWORD_RECEIVED,plaAds:e,keyword:t,originalKeyword:s,i13nModel:n}),i=({error:e,keyword:t,originalKeyword:s,i13nModel:n})=>({type:a.a.PLA_ADS_BY_KEYWORD_FETCH_FAILED,error:e,keyword:t,originalKeyword:s,i13nModel:n})},function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"a",function(){return o});var a=s(1);const n=e=>babelHelpers.extends({type:a.a.RELATED_SEARCHES_FETCH_SUCCEEDED},e),r=e=>babelHelpers.extends({type:a.a.RELATED_SEARCHES_FETCH_FAILED},e),o=({i13nModel:e})=>({type:a.a.RELATED_SEARCHES_CARD_CLICKED,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return c});var a=s(1);const n=({i13nModel:e})=>({type:a.a.FEEDBACK_PANEL_GIVE_FEEDBACK,i13nModel:e}),r=({i13nModel:e})=>({type:a.a.HOMEPAGE_EXTENSION_PANEL,i13nModel:e}),o=e=>babelHelpers.extends({type:a.a.HOMEPAGE_EXTENSION_CLOSED},e),i=e=>babelHelpers.extends({type:a.a.SUPPRESSED_UPSELL_SAVE_SUCCEEDED},e),c=({error:e})=>({type:a.a.SUPPRESSED_UPSELL_SAVE_FAILED,error:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"b",function(){return o});var a=s(1);function n(e){return babelHelpers.extends({type:a.a.SUBSCRIPTION_SELECTED},e)}function r(e){return{type:a.a.SUBSCRIPTION_SUCCESS,id:e}}function o(e){return{type:a.a.SUBSCRIPTION_FAILURE,id:e}}},,function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return r});const a=/\.\w*$/;function n(e){if("string"!=typeof e)return"";const t=e.match(a);return t?t[0]:""}function r(e,t){void 0===e?e="undefined":"string"!=typeof e&&(e=e.toString());let s=e.split("/").pop();return t&&s.substr(-t.length)===t&&(s=s.substr(0,s.length-t.length)),s}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(585),c=s.n(i),l=s(16),d=s(15),E=s(3),_=s(4);const u=Object(_.h)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),p=(e,t)=>{const s=t.getCss(c.a,{isDarkThemeMode:e.isDarkThemeMode}),{formatMessage:a}=t.intl;return e.isHovered?o.a.createElement(l.a,{"data-test-id":"icon-btn-trash",title:a(u.deleteMsg),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?s.trashIconCompact:s.trashIcon},o.a.createElement("span",{className:s.trashCenter},o.a.createElement(d.b,{kind:E.b.DELETE,size:E.d.XS,colorState:E.a.INHERITED,"aria-label":a(u.deleteMsg)}))):o.a.createElement(l.a,{className:s.trashIconAccessible,onClick:e.onClick},o.a.createElement("span",{className:s.accessible,"aria-label":a(u.deleteMsg)}))};p.defaultProps={isHovered:!1,isCompact:!1},p.contextTypes={intl:_.i,getCss:n.a.func},t.a=p},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z"}},_key:"oeyld"}},,,,,,function(e,t,s){"use strict";e.exports={className:{default:{categoriesContainer:"W_A",topSection:"D_F",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_ZmUeFv D_F ab_C m8_n",categorySelected:"P_fq7 m_ZmUeFv D_F ab_C m8_n q_2ieeaE"},isMenuMode:{categoriesContainer:"W_3rBgu",category:"P_Z1E2XDm"},isCueMode:{category:"P_fq7"}},_key:"2317hS"}},function(e,t,s){"use strict";e.exports={className:{default:{titleWrapper:"W_6D6F D_Z1YJkyX ab_C",fullWidth:"W_6D6F",rowItemsContainer:"D_F aa_C ab_C i_6EWk",iconWrapper:"E_fq7",hint:"A_6DUj C_Z1TsNWR D_X je_eo6",title:"M_0 D_F A_6FsP u_N F_N",titleCheckboxContainer:"E_fq7 H_6LEV",rightAlign:"Q_A",settingState:"Q_6DEy Y_689y U_68F4",warningInfoIcon:"Q_fq7 K_6FIA p_R r_P",warningPopover:"T_6NIX A_6DUj u_dPo i_6EWk Z_N W_3nV5V P_Z1wkQrI p_a e_dRA I_52qC j_ZlOSbd",toggleButtonState:"A_6DUj C_Z1TsNWR Q_eo6",toggleButtonContainer:"D_Z1YJkyX ab_C"},subHeader:{title:"u_b A_6EqO"},warning:{header:"O_cMq D_X",rightAlign:"O_cMq"},"toggleType-CHECKBOX":{title:"i_6LEV"},"toggleType-SWITCH":{titleWrapper:"gl_FM"}},_key:"Z1TQH7F"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C H_7He5 a_1Ie4E3 M_1EAG48 W_6D6F",brandSideContainer:"D_F ab_C em_N ej_1LWoB0",searchCenterContainer:"em_N en_0 ej_1LWoB0 s_3z5BY p_R",accountToolsSideContainer:"D_F ab_C em_N ej_1LWoB0 gl_CH",logo:"en_0 W_3o4BO H_q k_w D_F ab_C gl_C",logoImage:"H_72FG",mailApps:"D_n en_0 ab_C hd_n em_N P_0 M_Z1fegk0 c26zcWk_F",mailAppsCompact:"D_X c26zcWk_n",popoverListWrapper:"P_3Y3Gk",mailAppsPopoverLink:"P_ZlO2l1 D_F ab_C em_N q4_1I4yPF q3_1I4yPF ir3_1JO2M7",mailAppsPopoverItemLabel:"A_6EqO X_eo6",iconWrapper:"E_6LEV",iconNavLink:"i_0 W_6LEV H_6LEV D_X ir3_Z1HO9zT it3_eo6",avatar:"M_1Eu6qC D_F",settingsLink:"D_F E_6LEV"},tabsVisible:{header:"H_7zJd"}},_key:"1YLLeX"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3n93F p_R",content:"I_2iedTo k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_52qC A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_52qC j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRpVF Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRpVF Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",progressBar:"W_0 H_dRA I_Z2aVTcY p_a B_0 L_0 lv_1tzisg",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F r_P",downloadIconOnPreview:"p_a e_dRA i_dBP r_P b_1Ea0ib R_eo6 B_eo6 M_0",noPreviewWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",noPreviewWrapperMsgList:"I_ZnIF8Y D_F ek_BB gl_C em_N W_6D6F b_Z14vXdP P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",previewButtonMsgList:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6EqO",previewButton:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6Eb4 Y_6LEV",noPreviewText:"u_e69 C_Z2aVTcY r_BN A_6Eb4 P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"u_e69 C_Z2aVTcY r_BN A_6EqO D_F gl_C t_C i_6EWk y_12BoOJ",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},unsupportedFileType:{content:"b_Z1222NH"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z2aVTcY",content:"b_2fAfSG",filenameContainer:"C_Z2aVTcY"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2fAfSG",mediaContent:"O_cMp"},isCompact:{mediaContent:"O_N"},"type-image":{mask:"I_ioJaP"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_2iedTo P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Znn46r"}},_key:"Z1lBRM1"}},function(e,t,s){"use strict";e.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z2aVTcY A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Znn46r",learnMore:"I_T b_0 C_Z2aVTcY r_P Q_fq7",item:"E_6Fd5 Y_6LEV",compactItem:"M_1VQXDU",spamAttachmentWarning:"Y_6LEV C_Znn46r",attachmentWarning:"Y_6LEV C_Znn46r A_6Eb4",attachmentWarningLearnMore:"I_T b_0 C_Z2aVTcY r_P Q_eo6 A_6Eb4"},isCompact:{item:"M_1VQXDU",ul:"M_Z9saPG"}},_key:"Z17lKfs"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 C4_Z2aVTcY",fromEmail:"u_N C_Z1VRpVF",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0",avatar:"en_0 Q_fq7 i_0",date:"D_F en_0 M_3gJOe A_6Eb4 C_Z1VRpVF",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI Y_689y en_0",attachment:"D_F en_0 s_6LEV H_6LEV M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z281SGl O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_2ieea9 D_X P_3zDxc"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",star:"ab_C",date:"ab_C",attachment:"ab_C"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB em_0"},"starEnhancedExpanded-true":{star:"Y_68F4 cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},"starEnhancedExpanded-false":{star:"Y_e8l cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"}},_key:"66yX6"}},function(e,t,s){"use strict";e.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_52qC ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N i_3mCHE",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h M_Z2q6hl",messageGroupDestinationContainer:"D_F t_r A_6EqO C_Z1TsNWR cZ1RzsTJ_Z2uhb3X",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0",star:"H_6LEV W_6LEV"},compactGroupHeader:{messageGroupDestinationRow:"M_Z2qsJW"},starredMailEnhanced:{star:"cdPFi_ZpQYvz H_6MGW W_6MGW Y_689y lv_2gnJCA h_Z13pql2 h4_2d9T5e"}},_key:"14vgOA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_1I4yPF A_6EqO X_dRA H_7Ig6 D_F ek_BB gl_C e_dRA",header:"X_fq7 o_h D_F d_6EWk",title:"u_b C_Z281SGl o_h em_N i_6EWk",close:"N_eTB r_P",columns:"D_F ab_CH P_3gIMd",optionContainer:"jb6_fq7 D_F ab_C",radio:"c37wHw10_Z1gAvbx D_X H_6Fd5 s_6Fd5 e_6Fd5 I_52qC M_E8xte",column:"em_N ej_0 D_F ek_BB",freeText:"A_6EqO y_Z2uhb3X Q_fq7 o_h I_T cn_ZmdUJf m_2w4l8N em_N W_7yHc",buttonGroup:"t_r em_N a_3n93F"},freeTextFocused:{freeText:"m_2ivgpk"},isCompactLayout:{container:"H_3rmhK gl_FL",header:"D_F N_eTB gl_FM",columns:"D_X N_6DEy",radio:"M_E8xte",close:"N_0",optionContainer:"jb_fq7",buttonGroup:"t_l"},"themeMode-DARK":{title:"C_52qC",container:"C_52qC",freeText:"m_6i9dl"}},_key:"1Epn9p"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",filterItem:"I_T b_n W_6D6F i_6DEy D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_2iGizO M_0 m_Z14vXdP D_F",categoryFilterContainer:"D_F p_a T_6Eb4 R_6LEV P_fQq0A I_ZnIF8Y e_dRA",categoryFilterAnchor:"D_F ab_C",categoryFilterAnchorLabel:"A_6EqO r_P",categoryFilterCheckIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",categoryFilterLabel:"Q_6Eb4"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",tabs:"m_Z6DFj8",categoryFilterContainer:"I_sgPuT"}},_key:"19EB7F"}},function(e,t,s){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C ir3_1JO2M7 it3_dRA p3_R I4_2tvNsT",text:"em_N A_6EWk X_6DEy o_h G_e C_Z1YRXYn J_x",activeText:"em_N A_6EWk X_6DEy o_h G_e C_ZamTeg J_x u_b",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Zjpyu2 cdPFi4_Z281SGl",statusIcon:"E_fq7",expiredIcon:"E_eDQ",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg "},"themeMode-MEDIUM":{text:"C_ak5m8",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"},"themeMode-DARK":{text:"C_ak5m8",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"}},_key:"ZGanPR"}},,function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(26),o=s(11),i=s.n(o),c=s(350),l=s.n(c),d=s(4),E=s(367),_=s(232),u=s(15),p=s(16),m=s(3),h=s(30),S=s(0),g=(s(8),s(56)),I=s(166);const C=Object(d.h)({timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},timezoneValidationTip:{id:"timezone_validation_tip",defaultMessage:"Your timezone is now consistent with your computer's timezone"},toggleButtonStateOn:{id:"settings.section_title.toggleOn",defaultMessage:"On"},toggleButtonStateOff:{id:"settings.section_title.toggleOff",defaultMessage:"Off"},tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"}});class T extends n.a.Component{constructor(e){super(e),this.state={hoverWarningIcon:!1},this.element=null}componentWillUpdate(){!this.element&&this.refs.warningHeader&&(this.element=function(e){if(e){const t=Object(r.findDOMNode)(e).getBoundingClientRect(),{width:s,height:a}=t;return{height:Math.ceil(a),width:Math.ceil(s)}}return{height:0,width:0}}(this.refs.warningHeader))}renderIcon(){const{settingError:e}=this.props,{formatMessage:t}=this.context.intl;return e===S.hd.ERROR?n.a.createElement("div",{title:t(C.timezoneUpdateTip)},n.a.createElement(u.b,{kind:m.b.EXCLAMATION_ALT,size:m.d.XS,colorState:m.a.WARNING_GRAD_RED})):e===S.hd.VALIDATING?n.a.createElement("div",null,n.a.createElement(g.b,{size:g.a.S})):e===S.hd.RESOLVED?n.a.createElement("div",{title:t(C.timezoneValidationTip)},n.a.createElement(u.b,{kind:m.b.CAL_ACCEPT,size:m.d.XS,colorState:m.a.SUCCESS})):null}handleHoverIcon(e){this.setState({hoverWarningIcon:e})}renderWarningPopover(){const{subHeader:e,warning:t}=this.props,{hoverWarningIcon:s}=this.state,a=i()(l.a,{subHeader:e,warning:!!t}),r=s?m.a.SELECTED:m.a.FIRST_LEVEL_GRAY,o=this.element&&this.element.width>123?-(this.element.width-123):-32;return n.a.createElement("div",{className:a.warningInfoIcon},n.a.createElement(u.b,{onMouseEnter:this.handleHoverIcon.bind(this,!0),onMouseLeave:this.handleHoverIcon.bind(this,!1),kind:m.b.INFO,size:m.d.XS,colorState:r,allowPointerEvents:!0}),s?n.a.createElement("div",{style:{left:o},className:a.warningPopover},n.a.createElement("div",{className:a.warningText,"data-test-id":"warning-popover"},this.props.warning)):null)}render(){const{header:e,hint:t,warning:s,canToggle:a,toggleType:r,subHeader:o,toggleEnabled:c,onToggle:d,toggleAriaLabel:S=this.props.header,showToggleState:g,useCalloutButton:T,iconDescription:A}=this.props,{formatMessage:O}=this.context.intl,b=i()(l.a,{subHeader:o,warning:!!s,toggleType:r});return n.a.createElement("header",{className:b.titleWrapper},a&&r===I.d.CHECKBOX?n.a.createElement("div",{className:b.titleCheckboxContainer},n.a.createElement(_.a,{isChecked:c,onClick:d,disabled:!!s,paddingLess:!0})):null,n.a.createElement("div",{className:b.fullWidth},n.a.createElement("div",{className:b.rowItemsContainer},A&&n.a.createElement("span",{className:b.iconWrapper},n.a.createElement(u.b,{kind:A.kind,size:m.d.S,colorState:A.colorState}))," ",n.a.createElement("h4",{className:b.title},n.a.createElement("span",{className:b.header,ref:"warningHeader"},e),s?this.renderWarningPopover():null,n.a.createElement("span",{className:b.settingState},this.renderIcon())),a&&r===I.d.SWITCH?n.a.createElement("div",{className:b.toggleButtonContainer},n.a.createElement("span",{className:b.rightAlign,"data-test-id":"toggle-header-button"},n.a.createElement(E.a,{onClick:d,isEnabled:c,ariaLabel:S,title:S,isClickable:!s})),g&&n.a.createElement("span",{className:b.toggleButtonState,"data-test-id":"toggle-button-state"},O(c?C.toggleButtonStateOn:C.toggleButtonStateOff))):null,T&&n.a.createElement(p.a,{onClick:d,marginLess:!0,kind:h.a.THEMED_LIKE_COMPSOE_BUTTON},O(C.tryNow))),n.a.createElement("div",{className:b.rowItemsContainer},A&&t&&n.a.createElement("span",{className:b.iconWrapper},n.a.createElement(u.b,{kind:A.kind,size:m.d.S,colorState:m.a.TRANSPARENT})),t?n.a.createElement("span",{className:b.hint,dangerouslySetInnerHTML:{__html:t}}):null)))}}T.contextTypes={intl:d.i.isRequired},T.defaultProps={canToggle:!1,toggleType:I.d.SWITCH,subHeader:!1,onToggle:()=>{},toggleEnabled:!0,settingError:S.hd.NONE,showToggleState:!1,useCalloutButton:!1},t.a=T},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(15),c=s(21),l=s(4),d=s(3),E=s(11),_=s.n(E),u=s(614),p=s.n(u),m=s(62),h=s(86),S=s(100),g=s(0),I=s(101),C=(s(298),s(459));const T=Object(l.h)({emptyItems:{id:"option",defaultMessage:"No items"},close:{id:"close",defaultMessage:"Close"}}),A=()=>{};class O extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={isOpen:!1},this.focus=(()=>{this.refs.input.focus()}),this.setSelected=(e=>{this.closeOptions(),this.props.onChange&&this.props.onChange(e)}),this.clearValue=(()=>{this.props.onChange&&this.props.onChange(null)}),this.openOptions=(()=>{this.props.disabled||this.setState({isOpen:!this.state.isOpen})}),this.closeOptions=(()=>{this.setState({isOpen:!1},this.focus)}),this.handleFocus=(()=>{this.setState({isFocused:!0},this.props.onFocus)}),this.handleBlur=(()=>{this.setState({isFocused:!1},this.props.onBlur)}),this.handleKeyDown=(e=>{const{isOpen:t}=this.state;switch(e.key){case g.zb.ENTER:e.preventDefault(),e.stopPropagation();break;case g.zb.ARROW_DOWN:t||this.openOptions()}}),this.getSelectedIndex=(()=>{const{selected:e,children:t}=this.props,s=o.a.Children.toArray(t);return Object(I.b)(s,t=>t.props.value===e)}),this.renderLabel=(e=>{const{isOpen:t,isFocused:s}=this.state,a=this.props.classNames,{formatMessage:n}=this.context.intl,{selected:r,showClear:l,disabled:E,children:_,title:u,placeholder:p,inputFormatter:m}=this.props,h=o.a.Children.toArray(_),S=this.getSelectedIndex(),{children:g}=S>-1?h[S].props:{};let I=(t||s)&&!E?d.a.SELECTED:d.a.SECOND_LEVEL_GRAY,C=g,A=g;if(this.props.arrowDownColor&&(I=this.props.arrowDownColor),m){const e=m(r);A=e.optionLabel||g,C=e.optionTitle||g}return o.a.createElement("div",{onClick:this.openOptions,"data-test-id":"selectbox-input",className:e.selectBox},o.a.createElement("input",{readOnly:!0,type:"text",ref:"input",disabled:E,value:r||"",onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:e.selectInput}),o.a.createElement("div",{className:a.selectLabel||e.selectLabel},r||"number"==typeof r&&0===r?o.a.createElement("div",{className:e.inputWrapper},o.a.createElement("span",{title:C,className:a.selectedValue||e.selectedValue},A),l&&!E?o.a.createElement("span",{className:e.closeBtn},o.a.createElement(c.a,{paddingLess:!0,size:d.d.XXS,onClick:this.clearValue,kind:d.b.CAL_DECLINE,colorState:d.a.FAINT,title:n(T.close),"aria-label":n(T.close)})):null):o.a.createElement("span",{className:e.selectPlaceholder,title:u},p),o.a.createElement("span",{className:e.arrowDown},o.a.createElement(i.b,{size:d.d.XS,kind:d.b.INPUT_ARROW_DOWN,colorState:I}))))}),this.renderOptions=(e=>{let t=null;const{children:s,maxWidth:a}=this.props,n=this.getSelectedIndex();return t=o.a.Children.count(s)>0?o.a.Children.map(s,(e,t)=>o.a.cloneElement(e,{key:t,isSelected:t===n,onSelect:this.setSelected})):o.a.createElement("div",{className:e.emptyItem},o.a.createElement(l.c,{id:"option",defaultMessage:"No items"})),o.a.createElement("div",{className:e.optionsContainer,"data-test-id":"options",style:this.props.dropdownType===C.a.FITCONTENT?{maxWidth:a}:{}},o.a.createElement(m.a,{focusOnMount:!0,circularNavigation:!1,onHide:this.closeOptions,onEscape:this.closeOptions,layout:S.a.VERTICAL,kind:h.a.MENU,isRestrictedHeight:!0},t))}),t}render(){const{disabled:e,onClick:t,coloredPlaceholder:s,inline:a}=this.props,{isOpen:n,isFocused:r}=this.state,i=(n||r)&&!e,c=_()(p.a,{isOpen:n,disabled:e,isFocused:i,type:this.props.dropdownType,coloredPlaceholder:s,inline:a});return o.a.createElement("div",{className:c.selectWrapper,"data-test-id":"selectbox",onClick:t},this.renderLabel(c),n?this.renderOptions(c):null)}}O.contextTypes={intl:l.i},O.defaultProps={disabled:!1,showClear:!1,onFocus:A,onBlur:A,onClick:A,classNames:{},coloredPlaceholder:!1},t.a=O},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["LIGHT","DARK"])},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(550),o=s.n(r),i=s(11),c=s.n(i),l=s(15),d=s(3),E=s(0),_=s(13),u=s(9);function p({isOnDarkBackground:e,redirectUrl:t,noVigLinkCheck:s,vigLinkEnabled:a,size:r}){const i=c()(o.a,{isOnDarkBackground:e});return s||a?n.a.createElement("a",{rel:"noreferrer",href:t,target:"_blank",className:i.infoIconContainer},n.a.createElement(l.b,{kind:d.b.INFO,size:r,colorState:d.a.INHERITED})):null}p.defaultProps={isOnDarkBackground:!1,noVigLinkCheck:!1,size:d.d.S},t.a=Object(_.b)(e=>{const{getSetting:t,isFeatureEnabled:s}=Object(u.b)(e);return{redirectUrl:t(E.id.PARTNER_ATTRIBUTION_URL),vigLinkEnabled:s(E.kb.VIGLINK)}})(p)},function(e,t,s){"use strict";e.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO u_elT i_6Fd5 y_12BoOJ X_6LEV C_Z281SGl",categoryTitle:"k_w H_6Nds A_6EqO y_12BoOJ P_Z14hUor C_Z1TsNWR",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w p_a B_0 j_nWwhY I_52qC",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q ir3_1JO2M7",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q ir3_1JO2M7 O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",emojiPopUp:"W_3vX1s p_a Z_d48",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_28w24u D_F P_Z1SeCye aw_ZnLdEY az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w p_a B_0 j_nWwhY I_52qC H_3vxXj D_F ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rBM0",emojiMessage:"y_rBP3E C_Z1TsNWR",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO"},withoutRecentlyUsedEmoji:{emojiPage:"W_3v3uk",emojiPopUp:"W_3vpWV"}},_key:"1LiGMP"}},function(e,t,s){"use strict";s.d(t,"a",function(){return l}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return E}),s.d(t,"d",function(){return _}),s.d(t,"e",function(){return u});var a=s(46),n=s(269),r=s.n(n),o=s(170),i=s.n(o);const c=new r.a({max:500,maxAge:3e5});function l(e){let t=c.get(e);return void 0===t&&(t=Object(a.s)(new Date,e),c.set(e,t)),t}function d(e,t,s){const a=e<0?"-":"+",n=Math.floor(Math.abs(e/60)),r=Math.abs(e%60),o=new Intl.NumberFormat(s,{minimumIntegerDigits:t?1:2}).format(n);let i=new Intl.NumberFormat(s,{minimumIntegerDigits:2}).format(r);return 0===e?"":(t&&0===r&&(i=""),a+o+(i?":":"")+i)}function E(e){if(Intl.DateTimeFormat){const t=new Intl.DateTimeFormat(e||"en",{timeZoneName:"long"});if(t.formatToParts)try{return t.formatToParts()[6].value||""}catch(e){return""}else if(t.format)try{return(t.format(new Date).split(",")[1]||"").trim()}catch(e){return""}}return""}function _(){const e=i.a.determine();let t=e&&e.name();if(Intl&&Intl.DateTimeFormat&&(t=t||new Intl.DateTimeFormat("en").resolvedOptions().timeZone),t)try{return l(t)}catch(e){return-1*(new Date).getTimezoneOffset()}return-1*(new Date).getTimezoneOffset()}function u(e){try{return _()!==l(e)}catch(e){return!1}}},function(e,t,s){"use strict";s.d(t,"e",function(){return r}),s.d(t,"f",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"j",function(){return c}),s.d(t,"i",function(){return l}),s.d(t,"o",function(){return d}),s.d(t,"m",function(){return E}),s.d(t,"p",function(){return _}),s.d(t,"n",function(){return u}),s.d(t,"l",function(){return p}),s.d(t,"h",function(){return m}),s.d(t,"g",function(){return h}),s.d(t,"b",function(){return S}),s.d(t,"d",function(){return g}),s.d(t,"c",function(){return I}),s.d(t,"k",function(){return C});var a=s(8),n=s(214);const r=864e5,o="https://www.hipmunk.com/search/yahoomail/hotels?",i=`https://www.booking.com/searchresults.html?aid=${n.a}`,c="https://seatgeek.com",l=12952,d=c+"/mlb-tickets",E=c+"/concert-tickets",_=c+"/broadway-tickets",u=c+"/search",p=c+"/cities/",m=Object(a.c)(["HIPMUNK","BOOKING"]),h="/img/logo_hipmunk.png",S="/img/logo_bookingcom.png",g="pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-travelview",I="pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-inboxview",C=[{name:"Atlanta",value:"atlanta"},{name:"Columbus",value:"columbus"},{name:"Indianapolis",value:"indianapolis"},{name:"New York",value:"nyc"},{name:"Tampa",value:"tampa"},{name:"Austin",value:"austin"},{name:"Dallas",value:"dallas"},{name:"Jacksonville",value:"jacksonville"},{name:"Portland",value:"portland"},{name:"Washington",value:"washington"},{name:"Boston",value:"boston"},{name:"Denver",value:"denver"},{name:"Las Vegas",value:"vegas"},{name:"San Diego",value:"san-diego"},{name:"Charlotte",value:"charlotte"},{name:"Detroit",value:"detroit"},{name:"Los Angeles",value:"la"},{name:"San Francisco",value:"sf"},{name:"Chicago",value:"chicago"},{name:"Houston",value:"houston"},{name:"Miami",value:"miami"},{name:"Seattle",value:"seattle"}]},function(e,t,s){"use strict";s.d(t,"a",function(){return d});s(6);var a=s(2),n=s.n(a),r=s(16),o=s(504),i=s.n(o),c=s(11),l=s.n(c);function d({isEnabled:e,size:t="M",ariaLabel:s,ariaHidden:a,title:o,onClick:c,isClickable:d=!0}){const E=l()(i.a,{isEnabled:e,size:t,isClickable:d,isEnabledAndLarge:e&&"L"===t});return n.a.createElement(r.a,{className:E.background,role:"checkbox","aria-checked":e,onClick:e=>d?c(e):null,"aria-label":s,"aria-hidden":!!a,title:o},n.a.createElement("span",{className:E.handle}))}},,function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"])},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var a=s(9),n=s(7),r=s(0),o=s(83);const i=1e3;function c(e,t,s){const{getCouponsSelectors:c,getListsSelectors:l,isFeatureEnabled:d,getMainContentWidth:E,getRouteName:_}=Object(a.b)(e),u=E(),{getCouponCardStreamItems:p}=c(),{doesListExist:m,isListExpanded:h}=l(),S=d(r.kb.DEALS_VIEW_V2),g=_();if(s!==r.Mc.DOES_NOT_EXIST){const e=t.filter(e=>Object(n.q)(e)===r.Db.COUPON_CARDS&&m(e)).map(e=>{if(e===Object(n.e)({referrer:r.Fb.TOP_COUPONS})){const s=Object(n.e)({referrer:r.Fb.TOP_COUPONS}),a=p(s),c=u>i?3:2,l=Object(o.c)(a,u/c,u);return(h(t[0])?l:l.slice(0,2)).map(t=>({listId:e,id:t[0].id,items:t}))}return p(e)});e.forEach(e=>{const t=e.length-1;e[t]&&(e[t].isLastItemInGroup=!0)});let s=0;const a=e[1]&&e[1].length;if(e[0]&&(a||S)&&(e[0].length||S||e[0].unshift({listId:Object(n.Q)(t[0],{listContentType:r.Db.ZERO_SAVED_COUPONS}),id:r.Db.ZERO_SAVED_COUPONS}),e[0].length||!S)){const a=S&&g!==r.Pc.SEARCH?r.Db.TOP_DEALS_HEADER:r.Db.COUPON_SEPARATOR;e[0].unshift({listId:Object(n.Q)(t[0],{listContentType:a}),id:s++})}return a&&e[1].unshift({listId:Object(n.Q)(t[0],{listContentType:r.Db.COUPON_SEPARATOR}),id:s}),e.reduce((e,t)=>e.concat(t),[])}return[]}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(11),i=s.n(o),c=s(349),l=s.n(c),d=s(0),E=s(360),_=s(91),u=s(3),p=s(94),m=s(5),h=s(13),S=s(61),g=s(9);class I extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={selectedIndex:-1},this.getRapidSectionValue=(()=>{const{isMenuMode:e,isCueMode:t}=this.props;let s=m.g.SETTINGS_CATEGORIZATION_TAB;return e?s=m.g.TABS_MENU:t&&(s=m.g.FEATURE_CUE),s}),this.onChange=((e,t)=>{const{smartViews:s,isCueMode:a,onTryNow:n}=this.props,r=s.map((t,s)=>s===e?babelHelpers.extends({},t,{status:t.status?0:1}):t),o={mKey:m.e.SETTINGS_CATEGORIZATION_CHANGE,sec:this.getRapidSectionValue(),interactionType:m.d.click,actionData:{smartView:r[e].name,status:r[e].status}};a&&n(t),this.saveSmartViews(r,o)}),this.saveSmartViews=((e,t)=>{this.props.changeSettings({name:d.id.SYSTEM_TABS,value:e.filter(({name:e})=>!!d.W[e]).map(({name:e,status:t})=>d.W[e]+":"+t),i13nModel:t})}),this.moveSmartViews=((e,t)=>{const{smartViews:s}=this.props,a=s.slice(),n=Object.assign({},a[t]),r=t+(e?-1:1),o={mKey:m.e.SETTINGS_CATEGORIZATION_ORDER,sec:this.getRapidSectionValue(),interactionType:m.d.click,actionData:{direction:e?"up":"down"}};r>=0&&r<a.length&&(a[t]=Object.assign({},a[r]),a[r]=n,this.setState({selectedIndex:r},()=>{this.saveSmartViews(a,o)}))}),this.renderReorderControls=(()=>{const e=i()(l.a),{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,a=s<=-1;return n.a.createElement("div",{className:e.categoriesReorderContainer},n.a.createElement("div",{className:e.categoriesReorderTitle},n.a.createElement(r.c,{id:"categories_list_header_text",defaultMessage:"Priority list"})),n.a.createElement("div",{className:e.categoriesReorderBtnsContainer},n.a.createElement(_.a,{"data-test-id":"move-category-up",size:u.d.XS,kind:u.b.ARROW_UP,title:t(p.a.moveCategoryUp),"aria-label":t(p.a.moveCategoryUp),onClick:()=>{this.moveSmartViews(!0,s)},colorStates:{normal:a?u.a.DISABLED:u.a.NORMAL,hovered:a?u.a.DISABLED:u.a.SELECTED},disabled:a}),n.a.createElement(_.a,{"data-test-id":"move-category-down",size:u.d.XS,kind:u.b.ARROW_UP,rotate:u.c.D180,title:t(p.a.moveCategoryDown),"aria-label":t(p.a.moveCategoryDown),onClick:()=>{this.moveSmartViews(!1,s)},colorStates:{normal:a?u.a.DISABLED:u.a.NORMAL,hovered:a?u.a.DISABLED:u.a.SELECTED},disabled:a})))}),this.setSelectedIndex=(e=>{this.setState({selectedIndex:e})}),this.handleClick=((e,t)=>{const{isMenuMode:s,isCueMode:a}=this.props;t.stopPropagation(),a||s||this.setSelectedIndex(e)}),this.renderCategories=(e=>{const{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,{useCalloutButton:a,smartViews:r,isMenuMode:o,isCueMode:i,showHint:c,showToggleState:l}=this.props,_=o||i,m={[d.td.PEOPLE]:{kind:u.b.PEOPLE,colorState:u.a.SMARTVIEW_PEOPLE},[d.td.COUPONS]:{kind:u.b.SHOPPING,colorState:u.a.SMARTVIEW_SHOPPING}},h=r.length>1;return n.a.createElement("ol",{className:e.categoriesList},r.map(({name:r,status:o},i)=>{const u=h&&s===i,S=m[r],g=r===d.td.COUPONS?d.td.SHOPPING:r;let I="";return c&&(I=t(_?p.a[`smart_view_${g}_SHORT_HINT`]:p.a[`smart_view_${g}_HINT`])),n.a.createElement("li",{className:u?e.categorySelected:e.category,onClick:this.handleClick.bind(this,i),key:`category-${i}`},n.a.createElement(E.a,{key:r,canToggle:!a,subHeader:!0,toggleEnabled:!!o,header:t(p.a[`smart_view_${g}`]),hint:I,onToggle:this.onChange.bind(this,i),showToggleState:l,useCalloutButton:a,iconDescription:S}))}))}),t}render(){const{isMenuMode:e,isCueMode:t,smartViews:s}=this.props,a=!t&&!e&&s.length>1,r=i()(l.a,{isMenuMode:e,isCueMode:t});return n.a.createElement("div",{className:r.categoriesContainer},a&&this.renderReorderControls(),this.renderCategories(r))}}I.contextTypes={intl:r.i.isRequired},I.defaultProps={isMenuMode:!1,isCueMode:!1,showHint:!1,showToggleState:!1,onTryNow:()=>{}};t.a=Object(h.b)(e=>{const{getSetting:t}=Object(g.b)(e);return{smartViews:t(d.id.SYSTEM_TABS)}},e=>({changeSettings:t=>e(Object(S.a)(t))}))(I)},function(e,t,s){"use strict";s.d(t,"a",function(){return o});var a=s(45),n=s.n(a),r=s(14);function o(e){0===e.indexOf("mailto:")&&(e=e.substring(7));const t=function(e){if(e&&e.length){const t=e.indexOf("?");if(t>-1&&(e=e.substring(0,t)),e.length){if(0===(e=e.toLowerCase()).indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return"";if(Object(r.m)(e))return e}}return""}(e),s=e.indexOf("?");s>-1&&(e=e.substring(s+1));const a=n.a.parse(e);return t&&Object.assign(a,{to:t}),["to","cc","bcc"].forEach(e=>{const t=a[e];t&&"string"==typeof t&&(a[e]=[].concat(t))}),["subject","body"].forEach(e=>{const t=a[e];t&&Array.isArray(t)&&(a[e]=t.pop())}),a}},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",photosHeaderContainer:"W_6D6F H_6D6F cZ1RN91d_GG o_h p_R",photosTabs:"P_Z1fenNR",photosListHeading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",hamSpam:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",archiveRestore:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",deletePerm:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",move:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",more:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_Z2uhb3X X_eo6 A_6EqO cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrev:"cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nextPrevDisabled:"cdPFi_sgPuo r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",listFilterMenu:"D_F ab_C y_Z2uhb3X X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",tabs:"P_ZuD6o1 M_1EueWv m_Z14vXdP"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",nextPrev:"cdPFi_ZpQYvz cdPFi4_52qC",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"},fullMessageView:{container:"gl_FM"},closeWrapperMargin:{closeWrapper:"Q_fq7"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"}},_key:"baPfV"}},function(e,t,s){"use strict";s.d(t,"a",function(){return h});s(6);var a=s(2),n=s.n(a),r=s(4),o=s(3),i=s(21),c=s(587),l=s.n(c),d=s(11),E=s.n(d),_=s(8),u=(s(23),s(588)),p=s.n(u);const m=Object(r.h)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),h=Object(_.c)(["NEXT","PREV"]);class S extends n.a.Component{constructor(e){super(e),this._getChildrenTotalWidth=(()=>this.props.itemWidth*n.a.Children.count(this.props.children)),this._navHandlePrev=(()=>{this.navHandle(h.PREV)}),this._navHandleNext=(()=>{this.navHandle(h.NEXT)}),this.setAnimation=((e=!0)=>{this.animated=e}),this.setOffset=((e=0)=>{this.setState({offset:e})}),this.navHandle=((e,t=null)=>{const{offset:s}=this.state,{isRTL:a}=this.props,n=this._getChildrenTotalWidth(),r=this.carousel.clientWidth;let o=s;if(null===t){const t=this.props.defaultTransitionAmount||r;let a=0;if(e===h.NEXT){const e=n-r-s;a=t>e?-e:-t}else a=s>t?t:s;o=s-a,0!==a&&(this.animated=!0,this.setState({offset:o}))}else if(!a&&e===h.NEXT||a&&e===h.PREV){o=s+t;const e=a?t-s:o-n+r;e>0&&(o-=e),this.animated=!0,this.setState({offset:o})}else o=s-t>=0?s-t:0,this.animated=!0,this.setState({offset:o});o!==s&&this.props.onCarouselNav(e===h.NEXT)}),this.renderCarousel=(()=>{const{intl:e}=this.context,{offset:t}=this.state,{toolbarKind:s,isRTL:a}=this.props,r=t<=0,c=this._getChildrenTotalWidth(),d=c&&this.carousel&&this.carousel.clientWidth+t>=c,_=E()(l.a,{prevDisabled:r,nextDisabled:d,toolbarKind:s,animationDisabled:!this.animated}),u=a?{right:-t}:{left:-t};return n.a.createElement("div",{className:_.carouselContainer},n.a.createElement("div",{className:_.prevNavHandleContainer+" "+_.rtlRawScaleX},n.a.createElement(i.a,{kind:o.b.ARROW_RIGHT_DOC,rotate:o.c.D180,size:o.d.XS,colorState:r?o.a.FAINT:o.a.SELECTED,onClick:this._navHandlePrev,title:e.formatMessage(m.prev),"aria-label":e.formatMessage(m.prev),className:_.prevNavHandle})),n.a.createElement("div",{className:_.carousel,ref:e=>{e&&!this.carousel&&(this.carousel=e)}},n.a.createElement("div",{className:_.list,style:u,"data-test-id":"carousel-container"},this.props.children)),n.a.createElement("div",{className:_.nextNavHandleContainer+" "+_.rtlRawScaleX},n.a.createElement(i.a,{kind:o.b.ARROW_RIGHT_DOC,rotate:o.c.D0,size:o.d.XS,colorState:d?o.a.FAINT:o.a.SELECTED,onClick:this._navHandleNext,title:e.formatMessage(m.next),"aria-label":e.formatMessage(m.next),className:_.nextNavHandle})))}),this.renderSwipeableCarousel=(()=>n.a.createElement(p.a,{onSwiped:(e,t)=>this.navHandle(t>0?h.NEXT:h.PREV),style:{width:"100%",display:"flex"}},this.renderCarousel())),this.animated=e.initialAnimation,this.state={offset:0}}componentDidMount(){this.props.didMount()}componentWillReceiveProps(e){if(e.isWindowResizingDone){const{offset:e}=this.state,t=this._getChildrenTotalWidth(),s=this.carousel.clientWidth+e-t,a=s>e?e:s;this.setState({offset:s>=0?e-a:e})}}render(){return this.props.isSwipeable?this.renderSwipeableCarousel():this.renderCarousel()}}S.contextTypes={intl:r.i.isRequired},S.defaultProps={initialAnimation:!0,didMount:()=>{},defaultTransitionAmount:null,onCarouselNav:()=>{}},t.b=S},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(13),c=s(96),l=s.n(c),d=s(104),E=s(4),_=s(26),u=s(14),p=s(5),m=s(0),h=s(110),S=s(451),g=s(49);const I=["meta+up","meta+down","meta+a","ctrl+a","up","down",",",".","enter","space","shift+up","shift+down","pageup","pagedown"];Object(d.b)({group:h.d,keys:{select:{key:"SPACE",description:o.a.createElement(E.c,{id:"shortcut.select",defaultMessage:"{one} email",values:{one:o.a.createElement("strong",null,o.a.createElement(E.c,{id:"shortcut.select_strong_one",defaultMessage:"One"}))}})},selectAll:{key:"META+A,CTRL+A",description:o.a.createElement(E.c,{id:"shortcut.select_all",defaultMessage:"{allEmails} in view",values:{allEmails:o.a.createElement("strong",null,o.a.createElement(E.c,{id:"shortcut.select_all_strong_mails",defaultMessage:"All emails"}))}})},selectUp:{key:"SHIFT+UP",description:o.a.createElement(E.c,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:o.a.createElement("strong",null,o.a.createElement(E.c,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})},selectDown:{key:"SHIFT+DOWN",description:o.a.createElement(E.c,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:o.a.createElement("strong",null,o.a.createElement(E.c,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})}}}),Object(d.b)({group:h.c,keys:{open:{key:"ENTER",description:o.a.createElement(E.c,{id:"shortcut.open",defaultMessage:"{open} an email",values:{open:o.a.createElement("strong",null,o.a.createElement(E.c,{id:"shortcut.open_strong",defaultMessage:"Open"}))}})}}});class C extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleShortcuts=(e=>{const t=Object(_.findDOMNode)(this);if(!t.contains(e.target)&&!e.target.contains(t))return;const s=e.which||e.keyCode,a=String.fromCharCode(s).toLowerCase();if(e.preventDefault(),e.stopPropagation(),"a"===a)return this._onSelectAll(e);if(e.metaKey)switch(s){case g.a.UP:this._onNavigate(m.O.FIRST,e);break;case g.a.DOWN:this._onNavigate(m.O.LAST,e)}else if(e.shiftKey)switch(s){case g.a.UP:this._onShiftNavigate(m.O.UP,e);break;case g.a.DOWN:this._onShiftNavigate(m.O.DOWN,e)}else{if("Period"===e.code)return this._onNavigate(m.O.DOWN,e);switch(s){case g.a.UP:case g.a.COMMA:this._onNavigate(m.O.UP,e);break;case g.a.DOWN:case g.a.PERIOD:this._onNavigate(m.O.DOWN,e);break;case g.a.PAGE_UP:this._onPageUpScroll();break;case g.a.PAGE_DOWN:this._onPageDownScroll();break;case g.a.SPACE:this._onSelect(e);break;case g.a.ENTER:this._onOpen(e)}}}),this._onOpen=(e=>{this.props.onOpen(e)}),this._onSelect=(e=>{e.preventDefault(),this.props.onSelect()}),this._onSelectAll=(e=>{e.preventDefault(),this.props.onSelectAll()}),this._onScrollRef=(e=>{this.scrollContainer=e,this.props.scrollRef&&this.props.scrollRef(e)}),this._onPageUpScroll=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=Math.max(this.scrollContainer.scrollTop-this.scrollContainer.clientHeight,0))}),this._onPageDownScroll=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop+=this.scrollContainer.clientHeight)}),this._onNavigate=((e,t)=>{t.preventDefault(),this.props.onCursorMove(e,{interactionType:Object(u.i)(t)})}),this._onShiftNavigate=((e,t)=>{t.preventDefault(),this.props.onShiftNavigate(e)}),this._selectFirstItem=(()=>{this.props.onCursorMove(m.O.DOWN,{interactionType:p.d.nav})}),t}componentDidMount(){this.context.bindShortcut(I,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(I)}render(){const{infiniteScrollProps:e}=this.props;return o.a.createElement(S.a,babelHelpers.extends({},e,{selectFirstItem:this._selectFirstItem,scrollRef:this._onScrollRef}))}}C.contextTypes={bindShortcut:n.a.func,unbindShortcut:n.a.func},C.defaultProps={onSelect:()=>{}};var T=C,A=s(38),O=s(10),b=s(67),R=s(8),D=s(580),f=s.n(D);const N=Object(E.h)({timechunk_today:{id:"timechunk_today",defaultMessage:"Today"},timechunk_yesterday:{id:"timechunk_yesterday",defaultMessage:"Yesterday"},timechunk_earlier_this_week:{id:"timechunk_earlier_this_week",defaultMessage:"Earlier this week"},timechunk_this_week:{id:"timechunk_this_week",defaultMessage:"This week"},timechunk_last_week:{id:"timechunk_last_week",defaultMessage:"Last week"},timechunk_earlier_in_month:{id:"timechunk_earlier_in_month",defaultMessage:"Earlier in {message}"},timechunk_earlier_in_year:{id:"timechunk_earlier_in_year",defaultMessage:"Earlier in {message}"},timechunk_days:{id:"timechunk_days",defaultMessage:"{weekday, select,\n            0 {Sunday}\n            1 {Monday}\n            2 {Tuesday}\n            3 {Wednesday}\n            4 {Thursday}\n            5 {Friday}\n            6 {Saturday}\n        }"},timechunk_months:{id:"timechunk_months",defaultMessage:"{month, select,\n            0 {January}\n            1 {February}\n            2 {March}\n            3 {April}\n            4 {May}\n            5 {June}\n            6 {July}\n            7 {August}\n            8 {September}\n            9 {October}\n            10 {November}\n            11 {December}\n        }"}});class M extends o.a.Component{constructor(...e){var t;return t=super(...e),this.getTimeChunkMessage=(e=>{const{separatorData:t}=this.props,{formatMessage:s,formatDate:a}=this.context.intl;let n=null;switch(t.type){case b.d.Types.DAY:n=s(N.timechunk_days,{weekday:t.value});break;case b.d.Types.MONTH:case b.d.Types.EARLIER_IN_MONTH:n=s(N.timechunk_months,{month:t.value});break;case b.d.Types.EARLIER_IN_YEAR:case b.d.Types.YEAR:n=a(new Date(t.value,1,1).getTime(),{year:"numeric"})}const r=t.type?N["timechunk_"+t.type.toLowerCase()]:null;let i=null;return r?i=o.a.createElement(E.c,babelHelpers.extends({},r,{className:e.label,values:{message:n}})):n&&(i=o.a.createElement("span",{className:e.label},n)),i}),t}shouldComponentUpdate(e){return this.props.separatorType!==e.separatorType||this.props.separatorData.type!==e.separatorData.type||this.props.separatorData.value!==e.separatorData.value}render(){const e=this.context.getCss(f.a),{separatorType:t}=this.props,{separatorEnhancement:s}=this.props,a=s?e.enhancedContainer:e.container;let n=null;switch(t){case b.b.TIMECHUNK:n=this.getTimeChunkMessage(e)}return n?o.a.createElement("div",{className:a},n):null}}M.contextTypes={intl:E.i.isRequired,getCss:n.a.func},M.defaultProps={separatorType:b.b.TIMECHUNK};var L=M,y=s(144),P=s(231),v=s(452),F=s(56),U=s(11),H=s.n(U),k=s(212),G=s.n(k);const w=H()(G.a),x=1e3;var B=class extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={takesLong:!1},t}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),x)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return o.a.createElement("div",{className:w.loadingContainer},this.state.takesLong&&o.a.createElement(F.b,null))}},j=s(128),V=s(102),W=s(46);const q=864e5;function K({items:e,isDescending:t,getTimeStampFromItem:s,dateFormattingOption:a={offset:0},firstDay:n}){const r=Object(W.r)(a),o=(Object(W.y)(r,a).getUTCDay()-n+7)%7,i=r-o*q,c=function(e){const t=new Array(e);for(;e--;)t[e]=0;return t}(o+1);return(t?e:e.slice().reverse()).some(e=>{const t=s(e);if(!(t>=i))return!0;{const e=Y(t,a,n);c[(e.value-n+7)%7]++}}),c}function z({items:e,isDescending:t,showAd:s,getTimeStampFromItem:a,dateFormattingOption:n={offset:0},firstDay:r,insertPencilAds:o}){const i=[],c=function(e){const t=e.length-1,s=e.map((e,s)=>{switch(s){case t:return b.d.Types.TODAY;case t-1:return b.d.Types.YESTERDAY;default:return b.d.Types.DAY}});let a=0,n=-1,r=-1;e.forEach((e,s)=>{e>0&&(t!==s&&e<4&&a>0&&(n=s),r=s,a+=e)});const o=n===r?b.d.Types.THIS_WEEK:b.d.Types.EARLIER_THIS_WEEK;for(let e=0;e<=n;e++)s[e]=o;return s}(K({items:e,isDescending:t,getTimeStampFromItem:a,dateFormattingOption:n,firstDay:r}));let l={type:null};return e.forEach(e=>{const t=function(e,t,s){const{type:a,value:n}=e;if(a===b.d.Types.DAY){const e=(n-s+7)%7;return t[e]!==b.d.Types.DAY?{type:t[e],value:-1}:{type:t[e],value:n}}return e}(Y(a(e),n,r,l),c,r);l.type===t.type&&l.value===t.value||i.push({listSeparator:{separatorType:b.b.TIMECHUNK,separatorData:t}}),i.push(e),l=t}),s?o(i):i}function Y(e,t,s,a={}){const n=Object(W.r)(t),r=Object(W.y)(n,t),o=r.getUTCMonth(),i=r.getUTCFullYear(),c=r.getUTCDay(),l=Object(W.y)(e,t),d=l.getUTCFullYear(),E=l.getUTCMonth(),_=l.getUTCDay(),u=(c-s+7)%7,p=r.getTime()-u*q,m=p-7*q;return l.getTime()>=p?{type:b.d.Types.DAY,value:_,month:E}:l.getTime()>m?{type:b.d.Types.LAST_WEEK,month:E}:d===i?a.month===E||a.type===b.d.Types.EARLIER_IN_MONTH&&a.value===E?{type:b.d.Types.EARLIER_IN_MONTH,value:E}:o-E<6?{type:b.d.Types.MONTH,value:E}:{type:b.d.Types.EARLIER_IN_YEAR,value:d}:{type:b.d.Types.YEAR,value:d}}var Z=s(7),X=s(1);function Q(e,{listId:t}){e.dispatch(X.a.ITEM_LIST_PAGE_SCROLLED,{listId:t})}var $=s(81);const J=()=>{},ee=12,te=200,se=Object(E.h)({empty_list_alt:{id:"item_list.empty_list_alt",defaultMessage:"No items"}});class ae extends o.a.Component{constructor(...e){var t;return t=super(...e),this.onLoadMore=(()=>{const{listId:e,items:t,itemsToFetch:s,allItemsSelected:a}=this.props;this.debounceLoadmore({listId:e,offset:t.length,count:s,allItemsSelected:a})}),this.organizeItemList=(()=>{const{items:e,listId:t,hasTimeChunking:s,getTimeStampFromItem:a,dateFormattingOption:n,pencilAd:r}=this.props,{firstDay:o}=this.context.locale;return 0===e.length||!r&&!s?e:r&&!s?this.insertPencilAds(e):z({items:e,isDescending:Object(Z.D)(t)===m.wd.DATE_DESC,showAd:r,getTimeStampFromItem:a,dateFormattingOption:n,firstDay:o,insertPencilAds:this.insertPencilAds})}),this.insertPencilAds=(e=>{const{messageListContainerNode:t,geminiSectionIds:s,secondPencilAd:a,route:n,adFeedbackStatus:r,timechunkPencilAd:o,messageListHeight:i}=this.props,c=t?t.clientHeight:i,l={listAd:!0,sectionId:s[m.tb.MESSAGE_LIST]},d={listAd:!0,sectionId:s[m.tb.MESSAGE_LIST_2]},E=r[d.sectionId],_=[...e];let u=0,p=0;if(_[0].listSeparator?_.splice(1,0,l):_.unshift(l),a&&n.name!==m.Pc.SEARCH&&E!==m.k.ENDED)for(let e=0;e<_.length;e++){const t=!o||Object(R.a)(_,`${e-1}.listSeparator`,null);if(c&&u>c&&p>=10&&t){_.splice(e,0,d);break}p+=_[e].messages?1:0,u+=this.getHeightForIndex(_,e)}return _}),this.translateCursorIndex=(e=>{const{cursorIndex:t,hasTimeChunking:s,items:a,pencilAd:n}=this.props;return t<0?t:this.props.translateCursorIndex(s||n?e.findIndex(e=>e===a[t]):t,e)}),this.getHeightForIndex=((e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listSeparator?O.ITEM_LIST_SEPARATOR_HEIGHT:this.props.getHeightForIndex(e,t)}),this.getItemsForIndex=((e,t)=>this.props.getItemsForIndex(e,t)),this.getIdForIndex=((e,t)=>{if(t<0)return"empty";const s=e[t]||{},{id:a,listAd:n,listSeparator:r}=s;if(n)return"gemini";if(r){const{type:e,value:t}=r;return`separator_${e}_${t}`}return a||t}),this.isSectionHeader=((e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listSeparator}),this.isPencilAd=((e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listAd}),this.renderItem=((e,t)=>{const s=this.getItemsForIndex(e,t),{listSeparator:a}=s;if(a){const{separatorData:e}=a;return o.a.createElement(L,babelHelpers.extends({},a,{key:`${e.type}-${e.value}`}))}return this.props.renderItem(s,t)}),this.renderEmptyList=(e=>{const{formatMessage:t}=this.context.intl;return o.a.createElement("div",{className:e.emptyListContainer,"data-test-id":"message-list-empty"},o.a.createElement(y.a,null),o.a.createElement("div",{className:e.emptyListText,"data-test-id":"empty-list-message"},o.a.createElement(E.c,{id:"message_list.empty_folder",defaultMessage:"Nothing to see here!"})),o.a.createElement("div",{className:e.emptyListImage},o.a.createElement(P.a,{kind:j.a.EMPTY_FOLDER,width:160,height:160,altText:t(se.empty_list_alt)})),o.a.createElement(y.a,null))}),this.handleCursorMove=((e,t)=>{const{actions:s,listId:a,cursorIndex:n,streamId:r}=this.props,o={listId:a,streamId:r,movement:e,unit:this.props.getCursorMoveUnit(e),cursorIndex:n,i13nModel:Object.assign({mKey:p.e.OPEN_MSG,sec:p.g.MSG_LIST_MSG,mKeyGroup:p.f.open_msg},t)};this.context.executeAction(s.moveCursor,o),clearTimeout(this._syncTimer),this._syncTimer=setTimeout(()=>{this.context.executeAction(V.h)},m.Ob+1)}),this.handleShiftNavigate=(e=>{const{props:t}=this,{actions:s,listId:a,streamId:n}=t;this.context.executeAction(s.selectMove,{listId:a,movement:e,streamId:n})}),this.onScrollTop=(e=>{const{listId:t,itemListPageThreshold:s}=this.props;Math.abs(e-this.lastPageScrollTop)>s&&(this.context.executeAction(Q,{listId:t}),this.lastPageScrollTop=e)}),this.handleScrollTopChange=(e=>{this.props.onScrollTopChange(e),this.debouncedScrollTop(e)}),t}componentDidMount(){this.lastPageScrollTop=0,this.debouncedScrollTop=l()(this.onScrollTop,te),this.debounceLoadmore=l()(this.props.loadMoreItems,1e3)}componentWillUnmount(){clearTimeout(this._syncTimer)}render(){const e=this.props,{hasMoreItems:t,state:s,hasTimeChunking:a,items:n,height:r,scrollRef:i,isInvalidItem:c}=e,l=this.context.getCss(G.a);if(s===m.Mc.DOES_NOT_EXIST||s===m.Mc.LOADING)return o.a.createElement(B,null);if(s===m.Mc.ERROR)return o.a.createElement(v.a,null);if(!n.length&&!t)return this.renderEmptyList(l);const d=this.organizeItemList();return o.a.createElement("div",{className:l.container},o.a.createElement(T,{onSelect:e.onSelect,onSelectAll:e.onSelectAll,onOpen:e.onOpen,onShiftNavigate:this.handleShiftNavigate,onCursorMove:this.handleCursorMove,scrollRef:i,infiniteScrollProps:{initialRenderCount:e.initialRenderCount,loadThreshold:e.loadThreshold,contentInsetTop:a?0:ee,initialIndexForTab:d.findIndex(e=>!e.listAd&&!e.listSeparator),size:e.getItemListSize(d),getHeightForIndex:e=>this.getHeightForIndex(d,e),getElementForIndex:e=>this.renderItem(d,e),getIdForIndex:e=>this.getIdForIndex(d,e),isSectionHeader:e=>this.isSectionHeader(d,e),isPencilAd:e=>this.isPencilAd(d,e),cursorIndex:this.translateCursorIndex(d),groupTabIndex:O.TabIndices.MESSAGE_LIST_MAIN,hasMoreItems:t,onLoadMore:this.onLoadMore,onScroll:this.props.onScroll,onScrollTopChange:this.handleScrollTopChange,layoutKey:this.props.layoutKey+r,bufferSize:this.props.bufferSize,hasAds:this.props.pencilAd,initialScrollTop:this.props.initialScrollTop,isInvalidItem:c}}))}}ae.contextTypes={executeAction:n.a.func,intl:E.i,config:n.a.object,locale:A.d,getCss:n.a.func},ae.defaultProps={onSelect:J,onSelectAll:J,getCursorMoveUnit:()=>1,translateCursorIndex:e=>e,onScrollTopChange:J,getPropsForMask:J,items:[],height:0,isInvalidItem:()=>!1};t.a=Object(i.b)(void 0,e=>({loadMoreItems:t=>e(Object($.a)(t))}))(ae)},function(e,t,s){"use strict";var a=s(4),n=(s(6),s(2)),r=s.n(n),o=s(11),i=s.n(o),c=s(278),l=s.n(c),d=(s(38),s(0)),E=s(15),_=s(91),u=s(3),p=s(73),m=s(254);var h=({suggestion:e,inputValue:t=""})=>{const{name:s}=e;return r.a.createElement(m.a,{haystack:s,title:s,needle:t,formatter:e=>r.a.createElement("strong",null,e)})};const S=i()(l.a),g=Object(a.h)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),I=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{return r.a.createElement("div",{className:S.suggestionOption},r.a.createElement("span",{className:S.suggestionAvatar},r.a.createElement(p.c,{contact:{id:e.serviceId},size:p.b.M})),r.a.createElement("div",{className:S.personSuggestionLabel},r.a.createElement("div",{className:S.suggestionLabel},r.a.createElement(h,{suggestion:e,inputValue:t})),(()=>{const a=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[a]=e;return s>0?t(g.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:e.emailIds,formatMessage:s});return r.a.createElement("div",{className:S.emailAddressLabel,"data-test-id":"person-item-email-list"},r.a.createElement(m.a,{haystack:a,title:a,needle:t,formatter:e=>r.a.createElement("strong",null,e)}))})()))};I.contextTypes={intl:a.i.isRequired};var C=I;const T=Object(a.h)({remove_history:{id:"btn_remove_history",defaultMessage:"Remove"}}),A=i()(l.a);class O extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleDeleteRecent=(e=>{e.stopPropagation(),this.props.deleteRecent(this.props.suggestion)}),t}renderSuggestionWithIcon(e){const{formatMessage:t}=this.context.intl,{suggestion:s}=this.props;return r.a.createElement("div",{className:A.keywordSuggestionOption},r.a.createElement("span",{className:A.keywordSuggestionIcon},r.a.createElement(E.b,{kind:e,size:u.d.S,colorState:u.a.FIRST_LEVEL_GRAY})),r.a.createElement("div",{className:A.keywordSuggestionLabel},r.a.createElement(h,this.props)),s.type===d.Bd.RECENT&&r.a.createElement("span",{className:A.deleteButton},r.a.createElement(_.a,{"data-iskeynav":!0,"data-test-id":"delete-recent-search",kind:u.b.CLOSE,size:u.d.XXS,title:t(T.remove_history),colorStates:{normal:u.a.NORMAL,hovered:u.a.SELECTED},onMouseDown:this.handleDeleteRecent})))}render(){const{suggestion:e}=this.props;switch(e.type){case d.Bd.PERSON:return r.a.createElement(C,this.props);case d.Bd.RECENT:return this.renderSuggestionWithIcon(u.b.CLOCK_OUTLINE);case d.Bd.KEYWORD:return this.renderSuggestionWithIcon(u.b.SEARCH);default:return null}}}O.contextTypes={intl:a.i.isRequired},O.defaultProps={inputValue:""};t.a=O},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(26),o=s.n(r),i=s(11),c=s.n(i),l=s(525),d=s.n(l),E=s(121),_=s(77);const u=()=>{},p=c()(d.a);class m extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={overlayDimensionStyles:null},this.handleShimClick=(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!1})}),this.handleOverlayClick=(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!0})}),this.renderOverlayContent=(e=>n.a.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:e,className:p.overlay,onClick:this.handleOverlayClick},this.props.children)),this.renderOverlay=(e=>{const{useShim:t}=this.props;return t?n.a.createElement("div",{className:p.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim"},this.renderOverlayContent(e)):this.renderOverlayContent(e)}),t}componentDidMount(){if(!this.refs.boundingBox)return;const{alignmentPoints:e,alignTo:t,onShow:s}=this.props;let{overlayDimensionStyles:a}=this.state;if(t){a=function(e,t,s){const[a,n]=s;var r=0,o=0,i=0,c=0;switch(a){case _.a.BottomRight:i=-t.width,c=-t.height;break;case _.a.TopLeft:i=0,c=0;break;case _.a.TopRight:i=-t.width,c=0;break;case _.a.BottomLeft:i=0,c=-t.height;break;case _.a.CenterRight:i=-t.width,c=-t.height/2;break;case _.a.CenterLeft:i=0,c=-t.height/2;break;case _.a.TopCenter:i=-t.width/2,c=0;break;case _.a.BottomCenter:i=-t.width/2,c=-t.height;break;default:i=0,c=0}switch(n){case _.a.BottomRight:r=e.left+e.width,o=e.top+e.height;break;case _.a.TopLeft:r=e.left,o=e.top;break;case _.a.TopRight:r=e.left+e.width,o=e.top;break;case _.a.BottomLeft:r=e.left,o=e.top+e.height;break;case _.a.CenterRight:r=e.left+e.width,o=e.top+e.height/2;break;case _.a.CenterLeft:r=e.left,o=e.top+e.height/2;break;case _.a.TopCenter:r=e.left+e.width/2,o=e.top;break;case _.a.BottomCenter:r=e.left+e.width/2,o=e.top+e.height;break;default:r=e.left,o=e.top}return{left:r+i+window.pageXOffset,top:o+c+window.pageYOffset}}(o.a.findDOMNode(t).getBoundingClientRect(),o.a.findDOMNode(this.refs.boundingBox).getBoundingClientRect(),e),this.setState({overlayDimensionStyles:a},s),window.addEventListener("keydown",this.props.onKeyDown)}}componentWillUnmount(){window.removeEventListener("keydown",this.props.onKeyDown)}render(){const{left:e,top:t,offsetTop:s,offsetLeft:a,alignTo:r}=this.props;let o=null,i=null,c=null;const{overlayDimensionStyles:l}=this.state;return null!==e&&null!==t?(i=e,c=t):l?(i=l.left,c=l.top):r&&(i=-1e4,c=-1e4),null!==i&&null!==c&&(o={left:i+=a,top:c+=s,position:"absolute"}),n.a.createElement(E.a,null,this.renderOverlay(o))}}m.defaultProps={alignmentPoints:[_.a.TopLeft,_.a.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:u,onClick:u,onKeyDown:u,useShim:!1};t.a=m},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(11),i=s.n(o),c=s(621),l=s.n(c),d=s(622),E=s.n(d);var _=function({step:e,active:t,onClick:s}){const a=i()(E.a,{active:t});return n.a.createElement("li",{className:a.step,onClick:s},e)},u=s(16),p=s(30),m=s(101),h=s(10);const S={height:`${7.5*h.GRID_UNIT}px`,padding:`0 ${5*h.GRID_UNIT}px`},g=i()(l.a);class I extends n.a.Component{constructor(...e){var t;return t=super(...e),this.state={currentStep:this.props.startStep},this.getMaxStep=(()=>n.a.Children.count(this.props.children)),this.handleSetStep=(e=>{const t=this.getMaxStep();e>-1&&e<t&&this.setState({currentStep:e})}),this._isCurrentStepValid=(()=>{const{step:e}=this.refs;return!e||"function"!=typeof e.isStepValid||e.isStepValid()}),this._beginNavigateToIndex=(e=>{const{currentStep:t}=this.state;(e<t||this._isCurrentStepValid())&&this.handleSetStep(e)}),this.handleGotoNext=(()=>{this._beginNavigateToIndex(this.state.currentStep+1)}),this.handleGoToPrevious=(()=>{this._beginNavigateToIndex(this.state.currentStep-1)}),this.renderStep=(e=>{const{showNavigation:t,onCancel:s}=this.props,a=!!(e.type&&e.type.prototype&&e.type.prototype.render);return n.a.cloneElement(e,t?a?{ref:"step"}:{}:babelHelpers.extends({},a?{ref:"step"}:{},{onPrevious:this.handleGoToPrevious,onNext:this.handleGotoNext,onCancel:s}))}),this.renderNavButtons=(()=>{const{onCancel:e}=this.props,t=this.getMaxStep(),{currentStep:s}=this.state;return s!==t-1?n.a.createElement("div",{className:g.viewActions},n.a.createElement("span",{className:g.btnPrimary},n.a.createElement(u.a,{style:S,"data-test-id":"next",kind:p.a.SECONDARY,onClick:this.handleGotoNext},n.a.createElement(r.c,{id:"wizard_next_btn_text",defaultMessage:"Next"}))),n.a.createElement("span",null,n.a.createElement(u.a,{className:g.btnLink,"data-test-id":"cancel",kind:p.a.ICON,onClick:e},n.a.createElement(r.c,{id:"wizard_cancel_btn_text",defaultMessage:"Cancel"})))):null}),t}render(){const e=this.getMaxStep(),{currentStep:t}=this.state,{children:s,showNavigation:a,showSteps:o}=this.props;return n.a.createElement("div",{className:g.wizardContainer},o?n.a.createElement("div",{className:g.stepsContainer},n.a.createElement(r.c,{id:"step_label_text",defaultMessage:"Step"}),n.a.createElement("ol",{className:g.steps},Object(m.d)(e).map(e=>n.a.createElement(_,{key:e,step:e+1,active:e===t,onClick:this._beginNavigateToIndex.bind(this,e)})))):null,n.a.createElement("article",null,this.renderStep(s[t])),a?this.renderNavButtons():null)}}I.defaultProps={startStep:0,onCancel:function(){},showSteps:!1,showNavigation:!1};t.a=I},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return a});const a=(e={},t="")=>{const s=t.split("@")[1],a=Object.keys(e);if(!t)return null;for(const t of a){if(new RegExp(t).test(s))return e[t]}return null}},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c});var a=s(9),n=s(83),r=s(0),o=s(7);const i=e=>e<1024?2:e<1600?3:4,c=(e,t,s)=>{if(s===r.Mc.DOES_NOT_EXIST)return[];const{getMainContentWidth:c,getYahooDealsSelectors:l,getListsSelectors:d}=Object(a.b)(e),{getActivities:E,getRecommendedProducts:_}=l(),{isListExpanded:u}=d(),p=c(),m=_(),h=Object(n.c)(m,p/i(p),p),S=u(t)?h:h.slice(0,2),g=[];let I=0;return m.length&&(g.push({id:I++,listId:Object(o.Q)(t,{listContentType:r.Db.YAHOO_DEAL_HEADER}),yahooDealListId:t}),S.forEach((e,s)=>{g.push({products:e,id:I++,listId:t,hasBorder:!0,lastItem:s===S.length-1})})),E().filter(e=>new Date(e.endTime)>Date.now()).forEach(e=>{g.push({id:`${I++}_${e.id}`,listId:Object(o.Q)(t,{listContentType:r.Db.YAHOO_DEAL_ACTIVITY_HEADER}),endTime:e.endTime,startTime:e.startTime,activityId:e.id}),Object(n.c)(e.products,p/i(p),p).forEach(e=>{g.push({products:e,id:I++,listId:t,hasBorder:!1})})}),g}},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return n});const a="rrUpsellVideoAdTimestamp",n=5e3},,,function(e,t,s){"use strict";s.d(t,"a",function(){return l});var a=s(2),n=s.n(a),r=s(10),o=s(3),i=s(15);const c=[{id:"fuji-blue",viewBox:20,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorBlue10a},{id:"fuji-red",viewBox:20,startColor:r.PALETTE.ycolorOrange4a,stopColor:r.PALETTE.ycolorPink1a},{id:o.a.ATTACH_EXCEL,viewBox:48,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorGreen6a},{id:o.a.ATTACH_SLIDE,viewBox:48,startColor:r.PALETTE.ycolorOrange4a,stopColor:r.PALETTE.ycolorPink1a},{id:o.a.ATTACH_GENERIC,viewBox:48,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorBlue10a},{id:o.a.ATTACH_DOC,viewBox:48,startColor:r.PALETTE.ycolorBlue10a,stopColor:r.PALETTE.ycolorPurple14a},{id:o.a.ATTACH_MEDIA,viewBox:48,startColor:r.PALETTE.ycolorPink1a,stopColor:r.PALETTE.ycolorPurple14a},{id:o.a.WARNING_GRAD_RED,viewBox:48,startColor:r.PALETTE.ycolorSalmon3b,stopColor:r.PALETTE.ycolorFuchsia18a}].map(({id:e,viewBox:t,startColor:s,stopColor:a})=>n.a.createElement("linearGradient",{key:e,id:e,x1:"0",x2:t,y1:t,y2:"0",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{offset:"40%",stopColor:s}),n.a.createElement("stop",{offset:"60%",stopColor:a})));function l(){return n.a.createElement("svg",{height:"0"},n.a.createElement("defs",null,c,n.a.createElement("clipPath",{id:"clip-orb"},i.a.ORB)))}},,,,function(e,t,s){"use strict";e.exports={className:{default:{settingsGearIcon:"D_F",label:"D_n N_fq7 u_b A_6EqO",settingsLabelIconContainer:"D_F ab_C cdPFi_ZamTeg C_ZamTeg r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Zjpysv m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWMI4 i_6FIA C_Zjpysv z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_1Eu7sD z_Z12nDQf D_F H_7ceA gl_FM",moreSettingsLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6FIA H_6UbO",feedbackLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3n37k",optOutLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3nyS5 N_6Fd5",mailProButton:"M_1Urh0k",badgeContainer:"h_Zc8u05",menuLabel:"D_F Q_6Eb4"},"themeMode-MEDIUM":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"themeMode-DARK":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"theme-DEFAULT":{settingsLabelIconContainer:"C4_Z29WjXl cdPFi4_Z29WjXl"},verticalLayout:{settingsLabelIconContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"},hideFeedbackLink:{feedbackLink:"D_n",optOutLink:"a_3rmNg"}},_key:"Z1233dA"}},,,,,,function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(6),o=s(13),i=s(3),c=s(543),l=s.n(c),d=s(4),E=s(15),_=s(29);const u=Object(d.h)({backyard:{id:"contact_card.backyard",defaultMessage:"backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"twitter profile"}}),p=(e,t)=>{const{formatMessage:s}=t.intl,{backyardLink:a,facebookLink:r,twitterLink:o,linkedinLink:c,flickrLink:d,isInRightRail:p}=e,m=Object(_.k)({context:t,includeMedium:!0}),h=p&&m,S=t.getCss(l.a,{darkVariations:h}),g=S.socialIcon,I=[{href:a&&`https://thestreet.ouroath.com/people/${a}@oath.com`,iconType:i.b.HOME,iconClassName:S.backyardIcon,title:s(u.backyard)},{href:r,iconType:i.b.FACEBOOK,colorState:h?i.a.INHERITED:i.a.FACEBOOK_ENABLED,iconClassName:g,title:s(u.facebook)},{href:o,iconType:i.b.TWITTER,colorState:h?i.a.INHERITED:i.a.TWITTER_ENABLED,iconClassName:g,title:s(u.twitter)},{href:c,iconType:i.b.LINKEDIN,colorState:h?i.a.INHERITED:i.a.LINKEDIN_ENABLED,iconClassName:g,title:s(u.linkedin)},{href:d,iconType:h?i.b.FLICKR_MONOCHROME:i.b.FLICKR,iconClassName:g,title:s(u.flickr)}].filter(({href:e})=>e);return I&&0!==I.length?n.a.createElement("div",{className:S.social},I.map(e=>(e=>{const{iconType:t,href:s,title:a,iconClassName:r,colorState:o}=e;return n.a.createElement("a",{"data-test-id":"contact-card-social",key:t,className:r,href:s,target:"_blank",title:a,rel:"noreferrer"},n.a.createElement(E.b,{kind:t,size:i.d.XS,colorState:o||i.a.INHERITED}))})(e))):null};p.defaultProps={isInRightRail:!1},p.contextTypes={intl:d.i,getCss:r.func,getThemeMode:r.func,getTheme:r.func};t.a=Object(o.b)((e,{contact:t={}})=>({backyardLink:t.backyard,facebookLink:t.facebook,twitterLink:t.twitter,linkedinLink:t.linkedin,flickrLink:t.flickr}))(p)},function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(6),o=s(545),i=s.n(o),c=s(13),l=s(9),d=s(0),E=s(4),_=s(109);const u=({relationshipHistory:e,isBusiness:t,isEnabled:s,onContactClick:a},r)=>{if(!s||t||!e)return null;const{prose:o}=e;if(!o||0===o.length)return null;const c=r.getCss(i.a);return n.a.createElement("div",{className:c.contactSummary,"data-test-id":"contact-card-summary"},o.map((e,t)=>{const s={},{type:r,name:o=""}=e;return"contact"===r&&"you"!==o&&(s.className=c.contact,s.onClick=a.bind(void 0,e)),n.a.createElement("span",babelHelpers.extends({"data-test-id":`summary-part-${t}`,key:t},s),o||e||"")}))};u.defaultProps={isBusiness:!1},u.contextTypes={intl:E.i,getCss:r.func,getThemeMode:r.func,getTheme:r.func};t.a=Object(c.b)(e=>{const{isFeatureEnabled:t}=Object(l.b)(e);return{isEnabled:t(d.kb.CONTACT_SUMMARY)}},e=>({onContactClick:({name:t,smtp:s})=>e(Object(_.m)({smtp:s,name:t}))}))(u)},function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(6),o=s.n(r),i=s(546),c=s.n(i),l=s(73),d=s(78),E=s(0),_=s(50),u=s(4),p=s(9),m=s(5),h=s(13);const S=(e,t)=>{const{showVigLink:s,email:a,id:r,openVigLink:o,website:i,sectionValue:_}=e,u=t.getCss(c.a,{websiteLinked:s}),p=s?{href:Object(d.c)(i,E.A),title:i.split("://").pop(),target:"_blank",rel:"noreferrer"}:null;return n.a.createElement("div",{className:u.leftColElement},n.a.createElement("a",babelHelpers.extends({className:u.avatarContainer},p,{onClick:()=>{s&&o({i13nModel:{mKey:m.e.CONTACT_CARD_AVATAR_CLICKED,sec:_||m.g.RIGHT_RAIL,actionData:{url:i}}})},"data-test-id":"contact-card-avatar"}),n.a.createElement(l.c,{contact:{email:a,id:r},size:l.b.L})))};S.contextTypes={intl:u.i,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func};t.a=Object(h.b)((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:a,getSetting:n}=Object(p.b)(e),r=n(E.id.VIGLINK_BLACKLIST);return{showVigLink:a(E.kb.VIGLINK)&&s&&t&&!r.some(e=>-1!==t.toLowerCase().indexOf(e))}},e=>({openVigLink:t=>e(Object(_.C)(t))}))(S)},function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(6),o=s.n(r),i=s(547),c=s.n(i),l=s(4),d=s(3),E=s(21),_=s(109),u=s(13),p=s(29);const m=Object(l.h)({search:{id:"contact_card.search",defaultMessage:"Search for emails from {name}"}}),h=({name:e,handleNameClick:t,email:s,isInRightRail:a,isMobile:r,sectionValue:o},i)=>{if(!e&&!s)return null;const l=i.getCss(c.a,{darkVariations:Object(p.k)({context:i,includeMedium:!0})&&a,isMobile:r}),_=e||s;return n.a.createElement("div",{className:l.searchSection,"data-test-id":"contact-card-search",onClick:()=>{t(e,s,o)}},n.a.createElement("div",{"data-test-id":"contact-card-name",className:l.name,title:_},_),n.a.createElement("span",{className:l.iconsSection},n.a.createElement(E.a,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:l.searchIcon,title:i.intl.formatMessage(m.search,{name:_}),kind:r?d.b.SEARCH:d.b.SEARCH_MINI,size:r?d.d.S:d.d.XS,colorState:d.a.INHERITED})))};h.contextTypes={intl:l.i,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func},h.defaultProps={isInRightRail:!1};t.a=Object(u.b)(null,e=>({handleNameClick:(t,s,a)=>e(Object(_.m)({smtp:s,name:t,sectionValue:a}))}))(h)},function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(6),o=s.n(r),i=s(548),c=s.n(i),l=s(29);const d=({position:e,isInRightRail:t,isMobile:s},a)=>{if(!e)return null;const r=a.getCss(c.a,{darkVariations:Object(l.k)({context:a,includeMedium:!0})&&t,isMobile:s});return n.a.createElement("div",{"data-test-id":"contact-card-position",className:r.position,title:e},e)};d.contextTypes={getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func},d.defaultProps={isInRightRail:!1},t.a=d},function(e,t,s){"use strict";var a=s(2),n=s.n(a),r=s(6),o=s.n(r),i=s(549),c=s.n(i),l=s(78),d=s(0),E=s(50),_=s(4),u=s(9),p=s(5),m=s(13);const h=(e,t)=>{const{showVigLink:s,openVigLink:a,website:r,sectionValue:o}=e;if(!r)return null;const i=t.getCss(c.a,{websiteLinked:s}),E=s?{href:Object(l.c)(r,d.A),title:r.split("://").pop(),target:"_blank",rel:"noreferrer"}:null;return n.a.createElement("a",babelHelpers.extends({},E,{className:i.website,onClick:()=>{s&&a({i13nModel:{mKey:p.e.CONTACT_CARD_URL_CLICKED,sec:o||p.g.RIGHT_RAIL,actionData:{url:r}}})}}),r.split("://").pop())};h.contextTypes={intl:_.i,getCss:o.a.func,getThemeMode:o.a.func,getTheme:o.a.func};t.a=Object(m.b)((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:a,getSetting:n}=Object(u.b)(e),r=n(d.id.VIGLINK_BLACKLIST);return{showVigLink:a(d.kb.VIGLINK)&&s&&t&&!r.some(e=>-1!==t.toLowerCase().indexOf(e))}},e=>({openVigLink:t=>e(Object(E.C)(t))}))(h)},,function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return o});var a=s(1);function n(e,t){e.dispatch(a.a.EMOJI_PICKER_CLOSED,t)}function r(e,t){e.dispatch(a.a.EMOJI_PICKER_OPENED,t)}function o(e,t){e.dispatch(a.a.EMOJI_CATEGORY_CHANGED,t)}},,function(e,t,s){"use strict";s.d(t,"a",function(){return o});var a=s(69),n=s(23),r=s(5);function o({type:e,eventData:t}){switch(e){case n.EDITOR_EVENTS.emoji_inserted:a.b.sendI13nModel({i13nModel:{mKey:r.e.EMOJI_ADD,sec:r.g.RTE_TOOLBAR,interactionType:r.d.click,actionData:{emoji:t.emoji.source}}});break;case n.EDITOR_EVENTS.gif_inserted:if(a.b.sendI13nModel({i13nModel:{mKey:r.e.GIF_ADD,sec:r.g.RTE_TOOLBAR,interactionType:r.d.click}}),t.gif.feedbackUrl){const e=new Image;e.crossorigin="anonymous",e.src=t.gif.feedbackUrl}break;case n.EDITOR_EVENTS.gif_removed:a.b.sendI13nModel({i13nModel:{mKey:r.e.GIF_REMOVE,sec:r.g.COMPOSE_MSG,interactionType:r.d.click}});break;case n.EDITOR_EVENTS.gif_resized:a.b.sendI13nModel({setTo:t.size,i13nModel:{mKey:r.e.GIF_CHANGE_SIZE,sec:r.g.COMPOSE_MSG,interactionType:r.d.click}});break;case n.EDITOR_EVENTS.stationery_cleared:a.b.sendI13nModel({i13nModel:{mKey:r.e.COMPOSE_CLEAR_STATIONERY,sec:t.sec,interactionType:r.d.click}});break;case n.EDITOR_EVENTS.default_stationery_cleared:a.b.sendI13nModel({i13nModel:{mKey:r.e.COMPOSE_CLEAR_DEFAULT_STATIONERY,sec:t.sec,interactionType:r.d.click}})}}},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"Z1dF06J"}},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=s(21),l=s(29),d=s(3);const E=Object(i.h)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected messages"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected messages"}});class _ extends o.a.Component{render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:s,onClick:a,showLabel:n,isCompact:r,size:_}=this.props,u=e(t?E.perm_delete_msgs:E.delete_msgs),p=t?"perm-delete":"delete",m=this.context.getThemeMode()===l.f.DARK;return o.a.createElement(c.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${p}`,"aria-label":u,title:u,kind:d.b.DELETE,disabled:s,onClick:a,size:_,colorState:d.a.INHERITED,isOnDarkBackground:m,isCompact:r},n?o.a.createElement(i.c,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}}_.defaultProps={size:d.d.XS,showLabel:!0,onClick:function(){}},_.contextTypes={intl:i.i.isRequired,getThemeMode:n.a.func},t.a=_},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"Zu2Dt5"}},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(4),o=s(3),i=s(21),c=s(576),l=s.n(c),d=s(11);const E=s.n(d)()(l.a),_=Object(r.h)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),u=(e,{intl:{formatMessage:t}})=>{let{showText:s=!0,onClick:a}=e,r=babelHelpers.objectWithoutProperties(e,["showText","onClick"]);const c=t(_.search_back);return n.a.createElement(i.a,babelHelpers.extends({"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":c,title:c,kind:o.b.ARROW_UP,size:o.d.XS,rotate:o.c.D270,onClick:a,colorState:o.a.INHERITED,className:E.backToListButton},r),s&&c)};u.contextTypes={intl:r.i.isRequired},t.a=u},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(96),c=s.n(i),l=s(579),d=s.n(l),E=s(0),_=s(10),u=s(4),p=s(21),m=s(3),h=s(29),S=s(56),g=s(9),I=s(13);const C={SECTION:"SECTION",ROW:"ROW",AD:"PENCIL"},T=Object(u.h)({infinite_scroll_messages:{id:"infinite_scroll.messages",defaultMessage:"Messages"},infinite_scroll_scroll_to_top:{id:"infinite_scroll.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),A=5;function O(e=0,t=0,s=0){return{transform:`translate3d(${e}px, ${t}px, ${s}px)`}}class b extends o.a.Component{constructor(...e){super(...e),this.setScrollContainer=(e=>{this.scrollContainer=e}),this._getMeta=(({size:e,getHeightForIndex:t,isSectionHeader:s,hasMoreItems:a,contentInsetTop:n,isInvalidItem:r,getIdForIndex:o})=>{const i=Array(e+(a?1:0)+1);let c=n;const l=[],d=[];let E,_=0;for(let n=0;n<e+(a?1:0);n++){const e=o(n),a=s(n);r(e)||(i[_]=c,a&&(_-E==1&&(d.pop(),l.pop(),_--),E=_,d.push(_)),0===_&&a||(c+=t(n)),_++),a&&l.push(n)}return i[_]=c,{sectionIndices:l,sectionPositionIndices:d,positions:i,containerHeight:c}}),this._getStartItemForScrollTop=(e=>{const t=this.props,{positions:s}=this._getMeta(t);let a=0;for(let n=0;n<t.size;n++)if(s[n]>e){a=n-1;break}return a}),this._getItemsFitToView=(({bufferSize:e,size:t},{positions:s},a)=>{const n=this._rectBox.height;let r=0,o=t;for(let e=0;e<t;e++)if(s[e]>a){r=e-1;break}for(let e=r;e<t;e++){if(s[Math.min(e+1,t-1)]>=a+n){o=e+1;break}}return r=Math.max(r-e,0),o=Math.min(o+e,t),this._maxSpread<o-r&&(this._maxSpread=o-r),{start:r,end:o=r+this._maxSpread}}),this._scrollToFitCursor=(()=>{const{positions:e}=this.state;this.scroller.scrollTop=Math.max(e[this.props.cursorIndex]-this._rectBox.height/2,1)}),this._handleResize=(()=>{this._maxSpread=0,this._onBoundingRectChange()}),this._onBoundingRectChange=(()=>{const e=this._rectBox.height;if(this.scrollContainer)if(this._rectBox=this.scrollContainer.getBoundingClientRect(),this.scroller.style.height=`${this._rectBox.height-this._getPinnedSectionHeight()}px`,this._rectBox.height!==e){const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.setState(e,this._loadMoreIfNeeded)}else this._loadMoreIfNeeded()}),this._loadMoreIfNeeded=(()=>{const{size:e,loadThreshold:t}=this.props;(this.state.positions[e-t]||this.state.positions[e])<this._lastScrollTop+this._rectBox.height&&this._loadMore()}),this.focusItem=(e=>{if(!this.content||!this.content.children)return!1;const t=this.content.children[e-this.state.start];return!!t&&(this.animationFrameIDs.focusItem=requestAnimationFrame(()=>{t.children[0].focus(),t.children[0].setAttribute("tabindex",this.props.groupTabIndex)}),!0)}),this._handleFocusPass=(e=>{let t;e.preventDefault(),this.props.cursorIndex<0?(this.scroller.scrollTop=0,t=this.props.initialIndexForTab,this.props.selectFirstItem()):(this._scrollToFitCursor(),t=this.props.cursorIndex,this.animationFrameIDs.focusPass=window.requestAnimationFrame(()=>this.focusItem(t)))}),this._handleScroll=(e=>{e.stopPropagation(),this.animationRequested||this.scroller&&(this._lastScrollTop=this.scroller.scrollTop,this.animationRequested=!0,this.props.onScroll(),this.animationFrameIDs.scroll=window.requestAnimationFrame(()=>{this.animationRequested=!1;const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);e.pinnedSectionIndex=this._getPinnedSectionIndex(this.state.sectionPositionIndices),this.state.start===e.start&&this.state.end===e.end&&this.state.pinnedSectionIndex===e.pinnedSectionIndex||this.setState(e),this._loadMoreIfNeeded(),this._styleItems(),this.props.onScrollTopChange(this._lastScrollTop),clearTimeout(this.scrollTopTimeout),this.scrollTopTimeout=setTimeout(()=>{const e=this._scrollPercent();(e<A&&this.goToTop||e>A&&!this.goToTop)&&this.forceUpdate()},100)}))}),this._getPinnedSectionIndex=(e=>{const t=this._getSectionIndexStatus(e);return t?t.findIndex(e=>e===E.fd.PINNED):0}),this._styleStickyHeader=(()=>{if(this._lastScrollTop&&!this._stickyHeaderStyled){const e=Object(h.m)(this.context.getTheme())&&this.context.getThemeMode()===h.f.DARK;this.stickyheader.style.boxShadow=e?_.Shadows.BLACK_MED:_.Shadows.MED,this._stickyHeaderStyled=!0}else this._lastScrollTop||(this.stickyheader.style.boxShadow="none",this._stickyHeaderStyled=!1)}),this._styleItems=(()=>{const{start:e,sectionPositionIndices:t}=this.state,s=this._stylesForSections(t);this.content&&Array.prototype.forEach.call(this.content.children,(t,s)=>{const a=this._translateForIndex(s+e);Object.assign(t.style,a)}),this.header&&Array.prototype.forEach.call(this.header.children,(e,a)=>{Object.assign(e.style,s[t[a]])}),this.stickyheader&&this._styleStickyHeader()}),this._loadMore=(()=>{const{size:e,hasMoreItems:t,loadThreshold:s,onLoadMore:a}=this.props,{end:n,loading:r}=this.state;!a||r||!t||e-n>s||this.setState({loading:!0},a)}),this._translateForIndex=(e=>O(0,this.state.positions[e])),this._getSectionIndexStatus=(e=>{const t=Math.floor(E.ed*this._getPinnedSectionHeight());let s=0;for(let a=e.length-1;a>=0;a--){if(this.state.positions[e[a]]<=this._lastScrollTop-t){s=a;break}}return e.map((e,t)=>s===t?E.fd.PINNED:E.fd.FLOW)}),this._stylesForSections=(e=>{const t=this._getSectionIndexStatus(e),{positions:s}=this.state,a={};return e.forEach((e,n)=>{let r;switch(t[n]){case E.fd.FLOW:r=O(0,s[e]);break;case E.fd.PINNED:r={display:"none"}}a[e]=Object.assign({zIndex:1},r)}),a}),this.getRowClass=(e=>e.item),this.renderRow=((e,t,{type:s,translation:a})=>{const{getElementForIndex:n,cursorIndex:r,initialIndexForTab:i,groupTabIndex:c}=this.props,l=t===r||r<0&&i===t?c:-1,d=n(t);if(d)return o.a.createElement("li",{key:t,role:"rowgroup","data-test-id":`infinite-scroll-${s}`,className:e.item,style:a},o.a.cloneElement(d,{tabIndex:l}))}),this._getPinnedSectionHeight=(()=>{const{sectionIndices:e,pinnedSectionIndex:t}=this.state,{getHeightForIndex:s}=this.props;return t>=0&&t<e.length?s(e[t]):0}),this._scrollPercent=(()=>this.scroller?Math.floor(this.scroller.scrollTop/this.scroller.scrollHeight*100):0),this._scrolToTop=(()=>{this.scroller&&(this.scroller.scrollTop=0)}),this.state=Object.assign(this._getMeta(this.props),{loading:!1,pinnedSectionIndex:0,prevSize:0}),this._handleResizeDebounced=c()(this._handleResize.bind(this),200)}componentWillReceiveProps(e){const t={};Object.assign(t,this._getMeta(e)),Object.assign(t,this._getItemsFitToView(e,t,this._lastScrollTop)),t.pinnedSectionIndex=this._getPinnedSectionIndex(t.sectionPositionIndices),t.loading=this.state.loading&&this.props.size===e.size&&Array.apply(null,{length:this.props.size}).every((t,s)=>this.props.getIdForIndex(s)===e.getIdForIndex(s)),t.prevSize=this.props.size,this.setState(t)}componentWillMount(){let e=0;const{cursorIndex:t,initialScrollTop:s,initialRenderCount:a,size:n}=this.props;this._maxSpread=0,this._rectBox={height:0,top:0},this._lastScrollTop=0,this._stickyHeaderStyled=!1,this.animationFrameIDs={},s>0?(this._lastScrollTop=s,e=this._getStartItemForScrollTop(this._lastScrollTop)):t>a&&(e=Math.max(t-(Math.ceil(a/2)-1),0),this._lastScrollTop=this.state.positions[e]),this.setState({start:e,end:Math.min(e+a,n)})}componentDidMount(){const{cursorIndex:e,initialRenderCount:t,initialScrollTop:s}=this.props;if(this._onBoundingRectChange(),s>0)this.scroller.scrollTop=s;else if(e>t)this._scrollToFitCursor();else{const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.state.start===e.start&&this.state.end===e.end||this.setState(e,()=>{this._styleItems(),this._loadMoreIfNeeded()})}setTimeout(()=>this.focusItem(this.props.cursorIndex)),window.addEventListener("resize",this._handleResizeDebounced),this.scroller.addEventListener("scroll",this._handleScroll)}componentWillUnmount(){clearTimeout(this.scrollTopTimeout),Object.keys(this.animationFrameIDs).forEach(e=>{window.cancelAnimationFrame(this.animationFrameIDs[e])}),this._handleResizeDebounced.cancel(),window.removeEventListener("resize",this._handleResizeDebounced),this.scroller.removeEventListener("scroll",this._handleScroll)}componentDidUpdate(e){const t=this.props;this.props.layoutKey!==e.layoutKey?this._handleResizeDebounced():this._loadMoreIfNeeded(),(!document.activeElement||document.activeElement===document.body||!function(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)>=0||"true"===e.getAttribute("contentEditable"))}(document.activeElement)&&document.activeElement.tabIndex!==_.TabIndices.MESSAGE_LIST_MAIN)&&(function({cursorIndex:e,size:t,bufferSize:s},{start:a,end:n}){return n=n===t-1?n:n-s-1,(a=0===a?a:a+s)<e&&e<n}(this.props,this.state)&&t.cursorIndex!==e.cursorIndex||t.getIdForIndex(t.cursorIndex)!==e.getIdForIndex(e.cursorIndex))&&this.focusItem(t.cursorIndex)}render(){const e=this.context.getTheme(),t=this.context.getCss(d.a,{[`theme-${e}`]:!0}),{formatMessage:s}=this.context.intl,{hasMoreItems:a,getElementForIndex:n,size:r,cursorIndex:i,groupTabIndex:c,isSectionHeader:l,isPencilAd:E,getHeightForIndex:_,dir:u}=this.props,{loading:h,start:g,end:I,sectionIndices:O,pinnedSectionIndex:b,sectionPositionIndices:R}=this.state,D=[];let f=0,N=null,M=null,L=g;const y=this._stylesForSections(R);for(let e=g;e<I;e++)if(e<r){let s,a;if(l(e)?(s=C.SECTION,a=O.indexOf(e)):s=E(e)?C.AD:C.ROW,a<0)continue;const n=this.renderRow(t,a>=0?O[a]:e,{type:s,translation:a>=0?y[R[a]]:this._translateForIndex(L)});n&&(D.push(n),L++)}else D.push(null);const P=R.map((e,s)=>this.renderRow(t,O[s],{type:C.SECTION,translation:y[e]}));return b>-1&&O.length>0&&(f=_(O[b]),N=o.a.createElement("div",{ref:e=>this.stickyheader=e,className:t.stickyHeader,style:{height:f},"data-test-id":"infinite-scroll-header"},n(O[b]))),this._scrollPercent()>A&&(M=o.a.createElement("div",{ref:e=>this.goToTop=e,className:this.props.insideIframe?"btn-top":t.scrollToTop,onClick:this._scrolToTop},o.a.createElement(p.a,{kind:m.b.TAP_TO_TOP,size:m.d.XS,colorState:m.a.INVERTED,paddingLess:!0,title:s(T.infinite_scroll_scroll_to_top)}))),o.a.createElement("div",{"data-test-id":"infinite-scroll-container",className:t.main,dir:u,ref:this.setScrollContainer},N,o.a.createElement("div",{role:"navigation",className:t.scroll,"data-name":"scroll-area","data-test-id":"infinite-scroll-area",ref:e=>{this.scroller=e,this.props.scrollRef(e)},style:{marginTop:f},"aria-label":s(T.infinite_scroll_messages)},o.a.createElement("div",{"data-test-id":"infinite-scroll-focus-passer",className:t.focusStealer,tabIndex:g>i||I<i?c:-1,onFocus:this._handleFocusPass}),o.a.createElement("div",{className:t.container,"data-name":"infinite-scroll-content","data-test-id":"infinite-scroll-content",style:{height:this.state.containerHeight}},o.a.createElement("ul",{ref:e=>this.content=e,className:t.container,role:"grid","data-test-id":"infinite-scroll-rows","aria-readonly":"true"},D),o.a.createElement("ul",{ref:e=>this.header=e,className:t.container,"aria-hidden":!0},P),h&&a&&o.a.createElement("div",{className:t.loading},o.a.createElement(S.b,null)))),M)}}b.contextTypes={getCss:n.a.func,intl:u.i.isRequired,getTheme:n.a.func,getThemeMode:n.a.func},b.defaultProps={contentInsetTop:0,initialRenderCount:15,bufferSize:1,isSectionHeader:()=>!1,isPencilAd:()=>!1,initialIndexForTab:0,cursorIndex:-1,hasMoreItems:!1,loadThreshold:10,selectFirstItem:()=>null,onScrollTopChange:()=>{},onScroll:()=>{},layoutKey:"@DEFAULT",scrollRef:()=>{},isInvalidItem:()=>!1};t.a=Object(I.b)(e=>{const{getEnvironmentSelectors:t}=Object(g.b)(e);return{dir:t().getPageDirection()}})(b)},function(e,t,s){"use strict";var a=s(13),n=s(6),r=s.n(n),o=s(2),i=s.n(o),c=s(4),l=s(212),d=s.n(l),E=s(9),_=s(43);function u({onRetry:e,route:t},s){const a=s.getCss(d.a);return i.a.createElement("div",{"data-test-id":"message-group-list-error",className:a.errorContainer},i.a.createElement("p",null,i.a.createElement(c.c,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),i.a.createElement("a",{"data-test-id":"list-loading-error-retry",className:a.listLoadingRetry,onClick:()=>e({route:t})},i.a.createElement(c.c,{id:"list_loading_error_retry",defaultMessage:"Retry"})))}u.contextTypes={getCss:r.a.func};t.a=Object(a.b)(e=>{const{getRoute:t,normalizeRoute:s}=Object(E.b)(e);return{route:s(t())}},e=>({onRetry:t=>e(Object(_.i)(babelHelpers.extends({},t,{retry:!0})))}))(u)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(593),c=s.n(i);const l=5;class d extends o.a.Component{getActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.activeFullStar},""),o.a.createElement("span",{className:e.activeEmptyStar},""))}getHalfActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.halfActiveEmptyStar},""),o.a.createElement("span",{className:e.halfActiveFullStar},""),o.a.createElement("span",{className:e.halfBorderStar},""))}getInActiveStar(e){return o.a.createElement("div",null,o.a.createElement("span",{className:e.inActiveEmptyStar},""))}getStarElement(e){const{value:t}=this.props,s={};e<=t-1?s.activeStar=!0:t%1<.5||Math.floor(t)!==e?s.inActiveStar=!0:s.halfStarFormatting=!0;const a=this.context.getCss(c.a,s);return o.a.createElement("span",{className:a.starElement,key:e},s.activeStar&&this.getActiveStar(a),s.halfStarFormatting&&this.getHalfActiveStar(a),s.inActiveStar&&this.getInActiveStar(a))}render(){const e=[];for(let t=0;t<l;t++){const s=this.getStarElement(t);e.push(s)}return o.a.createElement("div",null,e)}}d.defaultProps={value:0},d.contextTypes={getCss:n.a.func},t.a=d},function(e,t,s){"use strict";s(6);var a=s(2),n=s.n(a),r=s(13),o=s(82),i=s(8),c=s(0),l=s(9);const d={},E={};class _ extends a.Component{componentDidMount(){d[this.props.sectionId]=d[this.props.sectionId]||[],this.handleNewAd()}componentDidUpdate(e){this.props.adTimestamp===e.adTimestamp&&this.props.rootMargin===e.rootMargin||this.handleNewAd()}createObserver(e){if(void 0!==window.IntersectionObserver){const{rootNode:t,rootMargin:s}=this.props,a={root:t,rootMargin:s,threshold:[.1,e/100,.95]};this.impressionBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{this.handleVisibilityChange(100*e.intersectionRatio)})},a),this.viewabilityObserver.observe(this.targetNode)}}fireImpressionBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{beacon:a,rules:n}=t,{viewabilityDefStatic:r}=n,o="number"==typeof Object(i.a)(r,"d",null)?1e3*r.d:null,c=d[s].indexOf(a)>-1;if(a&&!c&&null!==o)if(e>=this.impressionBeaconThreshold&&!this.impressionBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression","impressionBeaconTimer");this.impressionBeaconTimer=setTimeout(e,o)}else e<this.impressionBeaconThreshold&&(clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null)}fireImpression3PBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:a={}}=t,n=Object(i.a)(a,"STATIC_VIEW_3P.0",null),r=d[s].indexOf(n)>-1;if(n&&!r&&null!==this.impression3PVisTimeRemaining)if(e>95&&!this.impression3PBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression3P","impression3PBeaconTimer");this.impression3PBeaconVisTime=Date.now(),this.impression3PVisTimeRemaining<=0?e():this.impression3PBeaconTimer=setTimeout(e,this.impression3PVisTimeRemaining)}else e<100&&this.impression3PBeaconTimer&&(this.impression3PVisTimeRemaining-=Date.now()-this.impression3PBeaconVisTime,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null)}firePartialBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:a={}}=t,n=Object(i.a)(a,"PARTIAL_VIEW.0",null),r=d[s].indexOf(n)>-1;e>0&&!r&&n&&this.fireAndUpdateBeacon("partial")}handleVisibilityChange(e){const t=Object(i.a)(this.props.pencilAdData,"rules",{});Object.keys(t).length&&(this.fireImpressionBeacon(e),this.fireImpression3PBeacon(e),this.firePartialBeacon(e))}fireAndUpdateBeacon(e,t){const{pencilAdData:s,isAppVisible:a,isCurrentAdPosition:n,sectionId:r}=this.props;if(this[t]=null,a&&n){const{actionUrls:t,beacon:a,impressionTrackingUrls:n=[]}=s;let c;"impression"===e?(Object(o.a)(a,!1),n.forEach(e=>{e&&Object(o.a)(e,!1)}),c=a):"impression3P"===e&&Object(i.a)(t,"STATIC_VIEW_3P.0",null)?(Object(o.a)(t.STATIC_VIEW_3P[0],!1),c=t.STATIC_VIEW_3P[0]):"partial"===e&&Object(i.a)(t,"PARTIAL_VIEW.0",null)&&(Object(o.a)(t.PARTIAL_VIEW[0],!1),c=t.PARTIAL_VIEW[0]),d[r].push(c)}}handleNewAd(){const{pencilAdData:e,geminiViewability:t,isCurrentAdPosition:s,adTimestamp:a,sectionId:n}=this.props;if(t&&this.targetNode&&s){const{rules:t}=e;if(E[n]!==a&&(E[n]=a,d[n]=[]),t&&Object.keys(t).length){const{viewabilityDefStatic:e={},viewabilityDefStatic3P:s=[]}=t;this.createObserver(e.p),this.impression3PVisTimeRemaining="number"==typeof Object(i.a)(s,"0.d",null)?1e3*s[0].d:null}}}render(){return n.a.createElement("div",{ref:e=>this.targetNode=e,"data-test-id":"ad-viewability-tracker",style:this.props.styles,className:this.props.className},this.props.children)}}_.defaultProps={rootNode:null,rootMargin:"0px",styles:{}};t.a=Object(r.b)((e,t)=>{const{getSetting:s,isFeatureEnabled:a,getEnvironmentSelectors:n,getAdSectionIds:r,getAdsSelectors:o}=Object(l.b)(e),{getGeminiAdTimestamp:d}=o(),E=d(t.sectionId),{isAppVisible:_}=n(),u=r(),p=Object(i.e)(u).some(e=>e===t.sectionId),m=s(c.id.GEMINI_SECTION_IDS)[c.tb.SHOPPING_CART];return{isAppVisible:_(),geminiViewability:a(c.kb.GEMINI_VIEWABILITY)||t.sectionId===m||a(c.kb.AD_VIEWABILITY_TRACKER),isCurrentAdPosition:p,adTimestamp:E}})(_)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(231),c=s(128),l=s(4),d=s(595),E=s.n(d),_=s(9),u=s(13);const p=({selectionCount:e},{intl:t,getCss:s})=>{const a=s(E.a);return o.a.createElement("div",{className:a.container,"data-test-id":"selection-count","data-test-count":e},o.a.createElement("div",{className:a.wrapper},o.a.createElement("div",{className:a.svgWrapper},o.a.createElement(i.a,{kind:c.a.SELECTED_MESSAGES,width:c.b,height:c.b,altText:" "})),e>0&&o.a.createElement("div",{className:a.countWrapper},o.a.createElement("span",{className:a.count,"data-test-id":"selection-count-node"},t.formatNumber(e)))))};p.contextTypes={intl:l.i,getCss:n.a.func};t.a=Object(u.b)((e,{listId:t,streamId:s})=>{const{getFeaturesSelectors:a,getAllItemsCountForListId:n,doesListExist:r,getListItemIds:o,doesStreamExist:i,getSelectedStreamItems:c}=Object(_.b)(e),l=a().isEnabled("selectAll"),d=r(t)?o(t):[],E=i(s)?c(s):[],u=d.length>0&&d.length===E.length,p=t?n(t):0;return{selectionCount:l&&u&&p>0?p:E.length}})(p)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(599),c=s.n(i),l=s(16),d=s(168),E=s(5),_=s(10),u=s(14),p=s(17),m=s(4),h=s(0),S=s(7);const g=Object(m.h)({heading:{id:"travel_header.heading",defaultMessage:"Travel"},upcoming:{id:"travel_header.upcoming",defaultMessage:"Upcoming"},upcoming_selected:{id:"travel_header.upcoming_selected",defaultMessage:"Upcoming, selected"},past:{id:"travel_header.past",defaultMessage:"Past"},past_selected:{id:"travel_header.past_selected",defaultMessage:"Past, selected"},emails:{id:"travel.emails",defaultMessage:"Emails"},emails_selected:{id:"travel.emails_selected",defaultMessage:"Emails, selected"}});class I extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleTabChange=((e,{mKeyType:t,smartViewType:s})=>{const a=E.e["FILTER_"+t],n=Object(p.t)(s,{accountIds:Object(S.g)(this.props.listId)});this.context.navigateTo({route:n,i13nModel:{mKey:a,sec:E.g.TRAVEL_LIST,interactionType:Object(u.i)(e)}})}),t}render(){const e=Object(S.r)(this.props.listId),t=Object(S.q)(this.props.listId);let s;s=t===h.Db.MESSAGES?2:e===h.Eb.TRAVEL_VIEW_UPCOMING?0:1;const{formatMessage:a}=this.context.intl,n=this.context.getCss(c.a);return o.a.createElement("div",{className:n.container,"data-test-id":"travel-header"},o.a.createElement("div",{className:n.heading,"data-test-id":"travel-heading"},a(g.heading)),o.a.createElement("div",{className:n.tabs},o.a.createElement(d.a,{activeIndex:s},o.a.createElement(l.a,{className:n.filterItem,"data-iskeynav":!0,tabIndex:_.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e===h.Eb.TRAVEL_VIEW_UPCOMING?a(g.upcoming_selected):null,title:a(g.upcoming),onClick:e=>this.handleTabChange(e,{mKeyType:h.Eb.TRAVEL_VIEW_UPCOMING,smartViewType:h.td.TRAVEL}),"data-test-id":"btn-upcoming-tab"},a(g.upcoming)),o.a.createElement(l.a,{className:n.filterItem,"data-iskeynav":!0,tabIndex:_.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e===h.Eb.TRAVEL_VIEW_UPCOMING?a(g.past_selected):null,title:a(g.past),onClick:e=>this.handleTabChange(e,{mKeyType:h.Eb.TRAVEL_VIEW_PAST,smartViewType:h.td.TRAVEL_PAST}),ref:"imagesHeader","data-test-id":"btn-past-tab"},a(g.past)),o.a.createElement(l.a,{className:n.filterItem,"data-iskeynav":!0,tabIndex:_.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":t===h.Db.MESSAGES?a(g.emails_selected):null,title:a(g.emails),onClick:e=>this.handleTabChange(e,{mKeyType:h.Db.MESSAGES,smartViewType:h.td.TRAVEL_EMAILS}),ref:"imagesHeader","data-test-id":"btn-emails-tab"},a(g.emails)))))}}I.contextTypes={getCss:n.a.func,intl:m.i.isRequired,navigateTo:n.a.func},t.a=I},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(357),c=s.n(i),l=s(4),d=s(11),E=s.n(d),_=s(168),u=s(0),p=s(10),m=s(16),h=s(7),S=s(5),g=s(14),I=s(17),C=s(13),T=s(9),A=s(43),O=s(62),b=s(32),R=s(30),D=s(15),f=s(21),N=s(3),M=s(63),L=s(57),y=s(40),P=s(12),v=s(70);const F=Object(l.h)({heading:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},coupons:{id:"Coupons_header.coupons",defaultMessage:"Deals"},emails:{id:"Coupons_header.emails",defaultMessage:"Emails"},yahooDeals:{id:"Coupons_header.yahoo_deals",defaultMessage:"Yahoo Shopping Deals"},categories:{id:"Coupons_header.categories",defaultMessage:"Categories"}}),U="All";class H extends o.a.Component{constructor(...e){var t;return t=super(...e),this.handleTabChange=((e,{mKey:t,smartViewType:s})=>{const a=Object(I.t)(s,{accountIds:Object(h.g)(this.props.listId)});this.props.onTabChange({route:a,i13nModel:{mKey:t,sec:S.g.SHOPPING_VIEW,interactionType:Object(g.i)(e)}})}),this.getActiveIndex=(()=>{switch(Object(h.q)(this.props.listId)){case u.Db.COUPON_CARDS:return 0;case u.Db.YAHOO_DEAL_CARDS:return 1;default:return this.props.taiwanShoppingView?2:1}}),this.handleCategoryClick=(e=>{let t;if(e===U)t=Object(I.t)(u.td.COUPONS,{accountIds:this.props.activeAccountId});else{const s=Object(h.d)(Object(v.b)(u.td.COUPONS,{keyword:e,accountIds:this.props.activeAccountId})),a=Object(h.S)(s);t={name:u.Pc.SEARCH,params:{query:a}}}this.context.navigateTo({route:t,i13nModel:{mKey:S.e.CATEGORY_FILTER_CLICKED,sec:S.g.SHOPPING_VIEW,actionData:{category:e}}})}),this.renderCategoryFilter=(()=>{const{categories:e,listId:t}=this.props,s=this.context.getThemeMode(),{formatMessage:a}=this.context.intl,n=E()(c.a,{themeMode:s}),r=Object(h.p)(t);if(0!==this.getActiveIndex()||!e||!e.length)return null;const i=[U].concat(e).map(e=>o.a.createElement(b.a,{key:e,name:e},o.a.createElement(m.a,{kind:R.a.MENUITEM,onClick:()=>this.handleCategoryClick(e)},r===e||!r&&e===U?o.a.createElement("span",{className:n.categoryFilterCheckIcon},o.a.createElement(D.b,{kind:N.b.CHECKMARK,size:N.d.XS,colorState:N.a.NORMAL})):null,o.a.createElement("span",{className:n.categoryFilterLabel},e))));return o.a.createElement("div",{className:n.categoryFilterContainer},o.a.createElement(M.a,null,o.a.createElement(L.a,null,o.a.createElement("div",{className:n.categoryFilterAnchor},o.a.createElement("span",{className:n.categoryFilterAnchorLabel},a(F.categories)),o.a.createElement(f.a,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"category-filter-dropdown-button",kind:N.b.CHEVRON_UP,colorState:N.a.INHERITED,size:N.d.XS,rotate:N.c.D180,className:n.categoryFilterAnchorButton}))),o.a.createElement(y.b,{triggerOn:P.h.CLICK,isArrowVisible:!0},o.a.createElement("div",null,o.a.createElement(O.a,{focusOnMount:!0,"data-test-id":"category-filter"},[i])))))}),t}render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=E()(c.a,{themeMode:t}),a=e(F.heading),n=this.getActiveIndex();return o.a.createElement("div",{className:s.container},this.props.showShoppingHeader?o.a.createElement("div",{className:s.tabs},o.a.createElement(_.a,{activeIndex:n},o.a.createElement(m.a,{className:s.filterItem,"data-iskeynav":!0,tabIndex:p.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e(F.coupons),title:e(F.coupons),onClick:e=>this.handleTabChange(e,{mKey:S.e.SHOPPING_COUPONS_VIEW_CLICKED,smartViewType:u.td.COUPONS}),"data-test-id":"coupons-tab"},e(F.coupons)),this.props.taiwanShoppingView?o.a.createElement(m.a,{className:s.filterItem,"data-iskeynav":!0,tabIndex:p.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e(F.yahooDeals),title:e(F.yahooDeals),onClick:e=>this.handleTabChange(e,{mKey:S.e.SHOPPING_YAHOO_DEALS_VIEW_CLICKED,smartViewType:u.td.SHOPPING_YAHOO_DEALS}),"data-test-id":"shopping-deals-tab"},e(F.yahooDeals)):null,o.a.createElement(m.a,{className:s.filterItem,"data-iskeynav":!0,tabIndex:p.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e(F.emails),title:e(F.emails),onClick:e=>this.handleTabChange(e,{mKey:S.e.SHOPPING_EMAILS_VIEW_CLICKED,smartViewType:u.td.SHOPPING_EMAILS}),"data-test-id":"shopping-emails-tab"},e(F.emails))),this.renderCategoryFilter()):o.a.createElement("div",{className:s.heading,"data-test-id":"coupons-heading","aria-label":a,title:a},a,this.renderCategoryFilter()))}}H.contextTypes={intl:l.i.isRequired,getThemeMode:n.a.func,getTheme:n.a.func,navigateTo:n.a.func};t.a=Object(C.b)(e=>{const{getSmartViewTypeFromRoute:t,getRoute:s,getSmartViewPosition:a,isFeatureEnabled:n,getDealsSelectors:r,getSelectedAccountId:o}=Object(T.b)(e),i=s(),c=t(i),l=Object(h.t)(i),d=n(u.kb.TAIWAN_SHOPPING_VIEW),E=r().getTopDealCategories();return{listId:l,taiwanShoppingView:d,showShoppingHeader:c===u.td.COUPONS&&(a(c)===u.sd.TAB_BAR||d),categories:E,activeAccountId:o()}},e=>({onTabChange:t=>e(Object(A.i)(t))}))(H)},function(e,t,s){"use strict";s.d(t,"a",function(){return _});s(6);var a=s(2),n=s.n(a),r=s(8),o=s(610),i=s.n(o),c=s(11),l=s.n(c),d=s(15),E=s(3);Object(r.c)([E.d.XS,E.d.S]),Object(r.c)([E.a.SUCCESS,E.a.INVERTED]);function _({size:e,title:t,colorState:s}){const a=l()(i.a,{size:e});return n.a.createElement("div",{className:a.wrapper},n.a.createElement("div",{className:a.container,title:t,"aria-label":t},n.a.createElement(d.b,{kind:E.b.REFRESH,size:e,colorState:s})))}_.defaultProps={size:E.d.S,colorState:E.a.SUCCESS}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(8);const n=Object(a.c)(["FITCONTENT"])},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=s(160),l=s(619),d=s.n(l);const E=Object(i.h)({label:{id:"contacts_list.loading_indicator",defaultMessage:"Loading"}}),_=({includeHeaders:e},{getCss:t,intl:s})=>{const a=t(d.a,{includeHeaders:e}),n=[a.wrapper];return e&&n.push(a.withBackground),o.a.createElement("div",{className:n.join(" "),"aria-label":s.formatMessage(E.label)},e&&o.a.createElement("div",{className:a.search,"aria-hidden":!0}),e&&o.a.createElement("div",{className:a.tabs,"aria-hidden":!0}),!e&&o.a.createElement("div",{className:a.separator,"aria-hidden":!0},o.a.createElement("span",{className:a.separatorText})),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null),!e&&o.a.createElement("div",{className:a.separator,"aria-hidden":!0},o.a.createElement("span",{className:a.separatorText})),o.a.createElement(c.a,null),o.a.createElement(c.a,null),o.a.createElement(c.a,null))};_.contextTypes={intl:i.i,getCss:n.a.func},t.a=_},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=s(11),l=s.n(c),d=s(290),E=s.n(d),_=s(38),u=s(0),p=s(15),m=s(3),h=s(16),S=s(47);const g=Object(i.h)({back_button_title:{id:"oauth_back_button_title",defaultMessage:"Back"},relaunch_button_title:{id:"oauth_relaunch_button_title",defaultMessage:"Relaunch"},cancel_button_title:{id:"oauth_cancel_button_title",defaultMessage:"Cancel"}}),I=l()(E.a);class C extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={errorState:null,accountSyncFailed:this.props.accountSyncFailed},this._getPopupwindow=((e,t,s,a)=>{const n=screen.width/2-s/2,r=screen.height/2-a/2;return window.open(e,t,`width=${s}, height=${a}, top=${r}, left=${n}`)}),this._openOAuthWindow=(()=>{const{partner:e}=this.context,{provider:t,email:s,appRootPath:a}=this.props,n=t===u.fb.GOOGLE?600:700,r=`https://${window.location.hostname}${a}/oAuth`,o="ycorp"===e;return window[u.sc]=this._handleOAuthResponse,this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,n),this.context.credstoreClient.getAuthorizationURL({provider:t,email:s,redirectUrl:r,isCorpUser:o}).then(({authorizeUrl:e,authorizeURL:a})=>{this.oAuthWindow.location.replace(`${e||a}&${t===u.fb.AOL?"login_id":"login_hint"}=${s}`)})}),this._handleOAuthResponse=(({status:e,wssid:t,crumb:s})=>{const{onAuthorize:a,email:n,provider:r,onNext:o}=this.props;window[u.sc]=void 0,200===(e=parseInt(e,10))?(this.state.accountSyncFailed&&this.setState({accountSyncFailed:!1}),a({email:n,provider:r,type:u.g.IMAPIN,wssid:t,crumb:s}),o()):this.setState({errorState:e})}),this.handleRelaunchClick=(e=>{e.preventDefault(),this._openOAuthWindow()}),this.handleRetry=(()=>{const{email:e,provider:t,onAuthorize:s,onNext:a}=this.props;this.setState({accountSyncFailed:!1}),s({email:e,provider:t,type:u.g.IMAPIN}),a()}),this.getErrorMessageBody=(e=>{const{provider:t}=this.props,{yahooBrandNameString:s}=this.context;switch(e){case 412:return o.a.createElement(i.c,{id:"oauth_error_cancel_permession",defaultMessage:"Account connection cancelled."});case 403:return o.a.createElement(i.c,{id:"oauth_error_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(S.h)(t),nextLine:o.a.createElement("br",null),sign_out:o.a.createElement("a",{className:I.link,target:"_blank",href:u.vb[t].providerUrl},o.a.createElement(i.c,{id:"oauth_sign_out",defaultMessage:"sign out"}))}});case 503:return o.a.createElement(i.c,{id:"oauth_error_provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please\n                        try to connect your account later.",values:{yahooBrandNameString:s,provider:Object(S.h)(t)}});case 409:return o.a.createElement(i.c,{id:"oauth_error_account_confilict",defaultMessage:"This account is already connected"});default:return o.a.createElement(i.c,{id:"oauth_error_default",defaultMessage:"Unable to add mailbox. Please try again later."})}}),this.getErrorMessageHeader=(e=>{const{email:t,provider:s}=this.props;switch(e){case 412:return null;case 403:return o.a.createElement(i.c,{id:"oauth_error_different_id_header",defaultMessage:"{email} could not be added",values:{email:t}});case 503:return o.a.createElement(i.c,{id:"oauth_error_provider_not_available_header",defaultMessage:"{provider} not available",values:{provider:Object(S.h)(s)}});case 409:default:return null}}),this.renderErrorMessage=(e=>{const t=this.getErrorMessageHeader(e),s=this.getErrorMessageBody(e);return o.a.createElement("span",null,null===t?null:o.a.createElement("h4",{className:I.errorHeader},t),s)}),t}componentDidMount(){this.props.accountSyncFailed||this._openOAuthWindow()}componentWillUnmount(){window[u.sc]=void 0,this.state.accountSyncFailed&&this.props.handleAddSuccess()}render(){const{provider:e,onPrevious:t,onCancel:s,email:a,hideCancelButton:n,renderTitleComponent:r,renderNavComponent:c}=this.props,{formatMessage:l}=this.context.intl,{errorState:d,accountSyncFailed:E}=this.state,_=d||E,u=o.a.createElement(i.c,{id:"relaunch_window_test",defaultMessage:"Relaunch window"}),C=o.a.createElement("a",{className:I.tryAgain,onClick:this.handleRetry},o.a.createElement(i.c,{id:"oauth_try_again",defaultMessage:"Try again"}));return o.a.createElement("div",{className:I.container},r?r():o.a.createElement("h5",{className:I.titleLabel},o.a.createElement(i.c,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"})),_?o.a.createElement("div",{className:I.errorWrapper},o.a.createElement("div",{className:I.errorIcon},o.a.createElement(p.b,{kind:m.b.EXCLAMATION_ALT,size:m.d.XS,colorState:m.a.WARNING_GRAD_RED})),E?o.a.createElement("span",null,o.a.createElement(i.c,{id:"oauth_error_account_add_failed",defaultMessage:"{email} cannot be added",values:{email:a}}),C):this.renderErrorMessage(d)):null,o.a.createElement("div",{className:I.oAuthHint},o.a.createElement(i.c,{id:"oAuth_signIn_hint",defaultMessage:"A new window should show the {providerName} sign in page.\n                        If you do not see it, check your browser for pop-up blockers.",values:{providerName:Object(S.h)(e)}})),o.a.createElement(i.c,{id:"oAuth_signIn_help",defaultMessage:"Don't see the pop-up window? {link}",values:{link:o.a.createElement("a",{href:"#",className:I.link,onClick:this.handleRelaunchClick},u)}}),c?c({onPrevious:t,onNext:this.handleRelaunchClick}):o.a.createElement("div",{className:I.iconsWrapper},o.a.createElement(h.a,{"data-test-id":"oauth-back-button",className:I.backButton,onClick:t,title:l(g.back_button_title)},o.a.createElement(i.c,{id:"oauth_back_button_label",defaultMessage:"Back"})),o.a.createElement(h.a,{"data-test-id":"oauth-relaunch-button",className:I.primaryButton,onClick:this.handleRelaunchClick,title:l(g.relaunch_button_title)},o.a.createElement(i.c,{id:"oauth_relaunch_button_label",defaultMessage:"Relaunch window"})),n?null:o.a.createElement(h.a,{"data-test-id":"oauth-cancel-button",className:I.cancelButton,onClick:s,title:l(g.cancel_button_title)},o.a.createElement(i.c,{id:"oauth_cancel_button_label",defaultMessage:"Cancel"}))))}}C.contextTypes={intl:i.i.isRequired,config:n.a.object,credstoreClient:_.a,partner:n.a.string,yahooBrandNameString:n.a.string},t.a=C},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=s(11),l=s.n(c),d=s(290),E=s.n(d),_=s(16),u=(s(38),s(15)),p=s(3),m=s(0),h=s(47),S=s(14),g=s(129),I=s.n(g),C=s(21),T=s(13),A=s(84),O=s(5);const b=Object(i.h)({default_email_placeholder:{id:"imapin_email_placeholder",defaultMessage:"Email Address"},yahoo_email_placeholder:{id:"imapin_yahoo_email_placeholder",defaultMessage:"name@yahoo.com"},gmail_email_placeholder:{id:"imapin_gmail_email_placeholder",defaultMessage:"name@gmail.com"},outlook_email_placeholder:{id:"imapin_outlook_email_placeholder",defaultMessage:"name@outlook.com"},aol_email_placeholder:{id:"imapin_aol_email_placeholder",defaultMessage:"name@aol.com"},back_button_title:{id:"imapin_back_button_title",defaultMessage:"Back"},next_button_title:{id:"imapin_next_button_title",defaultMessage:"Next"},cancel_button_title:{id:"imapin_cancel_button_title",defaultMessage:"Cancel"},invalid_email_error:{id:"imapin_invalid_email",defaultMessage:"Invalid email address"},invalid_email_domain:{id:"imapin_invalid_domain",defaultMessage:"Not a valid {providerName} address"},clear_input_icon:{id:"imapin_email_input_clear",defaultMessage:"Clear"}});class R extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={accountExist:!1,invalidReason:null,inputText:this.props.email,showClearInputIcon:!!this.props.email},this.isStepValid=(()=>!!this.props.email),this.handleGoNext=(()=>{const{formatMessage:e}=this.context.intl,{partner:t}=this.context,{email:s,accounts:a,onNext:n,provider:r}=this.props,o="ycorp"===t;Object(S.m)(s)?o||Object(h.j)(m.vb[r],s)?Object(h.b)(a,s)?this.setState({accountExist:!0}):(this.props.authorizeNewAccount({email:this.props.email}),n()):this.setState({invalidReason:e(b.invalid_email_domain,{providerName:Object(h.h)(r)})}):this.setState({invalidReason:e(b.invalid_email_error)})}),this.handleChange=(e=>{const{accountExist:t,invalidReason:s}=this.state,{onChange:a}=this.props;t&&this.setState({accountExist:!1}),null!==s&&this.setState({invalidReason:null}),a("email",e)}),this.handleInputChange=(e=>{const t=e.length>0;this.handleChange(e),this.setState({inputText:e,showClearInputIcon:t})}),this.handleKeydown=(e=>{switch(e.key){case m.zb.ENTER:this.handleGoNext();break;case m.zb.ARROW_RIGHT:if(this.isCursorEndOfInput(e)){const e=this.getEmailHint(this.state.inputText);e&&(this.setState({inputText:e}),this.handleChange(e))}}}),this.handleClearInput=(()=>{this.setState({inputText:"",showClearInputIcon:!1}),this.handleChange("")}),this.isCursorEndOfInput=(e=>{const t=e.target.selectionEnd,{inputText:s}=this.state;return t===s.length}),this.getEmailPlaceHolder=(()=>{const{provider:e}=this.props,{formatMessage:t}=this.context.intl;switch(e){case m.fb.YAHOO:return t(b.yahoo_email_placeholder);case m.fb.GOOGLE:return t(b.gmail_email_placeholder);case m.fb.OUTLOOK:return t(b.outlook_email_placeholder);case m.fb.AOL:return t(b.aol_email_placeholder);default:return t(b.default_email_placeholder)}}),this.getEmailHint=(e=>{let t=[];const s=e.indexOf("@"),a=e.length;if(-1===s||a-s<2)return"";Object.keys(m.vb||{}).forEach(e=>{const s=m.vb[e].domainCheck;s&&(t=t.concat(s))});const n=e.substr(s+1).toLowerCase(),r=t.find(e=>("@"+e).indexOf("@"+n)>-1);return e+(r?r.substr(a-s-1)+".com":"")}),t}componentDidMount(){this.refs.selector&&this.refs.selector.focus()}render(){const{formatMessage:e}=this.context.intl,{partner:t,yahooBrandNameString:s}=this.context,{termsUrl:a,privacyUrl:n}=this.context.config,r=l()(E.a,{disabled:!this.isStepValid()}),{email:c,provider:d,onCancel:m,onPrevious:S,renderNavComponent:g,renderTitleComponent:T}=this.props,{accountExist:A,invalidReason:O}=this.state,{inputText:R,showClearInputIcon:D}=this.state,f="ycorp"===t;return o.a.createElement("div",{className:r.container},T?T():o.a.createElement("h5",{className:r.titleLabel},o.a.createElement(i.c,{id:"impain_address_text",defaultMessage:"Add mailbox"})),A?o.a.createElement("div",{className:r.errorWrapper},o.a.createElement("div",{className:r.errorIcon},o.a.createElement(u.b,{kind:p.b.EXCLAMATION_ALT,size:p.d.XS,colorState:p.a.WARNING_GRAD_RED})),o.a.createElement(i.c,{id:"imapin_account_exsit_error",defaultMessage:"Your email {email} already exists.\n                              If you deleted the mailbox recently, please wait for a few minutes until the process is complete and try again.",values:{email:o.a.createElement("strong",null,c)}})):null,o.a.createElement("label",{className:r.label,htmlFor:"accountAddress"},o.a.createElement(i.c,{id:"email_address_text",defaultMessage:"Enter your {provider} mail address",values:{provider:d}})),o.a.createElement("div",{className:r.textInput},o.a.createElement(I.a,{"data-test-id":"typeahead-email-input",ref:"selector",maxVisible:10,placeholder:this.getEmailPlaceHolder(),inputValue:R,hintValue:this.getEmailHint(R),onInputChange:this.handleInputChange,onInputKeyDown:this.handleKeydown,inputContainerClassName:r.typeaheadInputContainer,inputClassName:r.typeaheadInput,inputHintClassName:r.typeaheadInputHint,dropDownClassName:r.typeaheadDropDown}),D&&R.length>0?o.a.createElement("div",null,o.a.createElement("span",{className:r.clearIconContainer},o.a.createElement(C.a,{"data-test-id":"clear-button",kind:p.b.CLEAR,size:p.d.XXS,colorState:p.a.FAINT,onClick:this.handleClearInput,title:e(b.clear_input_icon)})),O?o.a.createElement("span",{"data-test-id":"type-ahead-input-error",className:r.errorInvalidReason},O):null):null),o.a.createElement("div",{className:r.hintTop},o.a.createElement(i.c,{id:"imapin_terms_and_policy_hint",defaultMessage:"Sign in to your {providerName} account and give {yahooBrandNameString} permission\n                        to sync your email, calendar, and contacts and treat them in accordance\n                        with the {terms} and {policy}.",values:{providerName:Object(h.h)(d),yahooBrandNameString:s,terms:o.a.createElement("a",{className:r.link,target:"_blank",href:a,rel:"noopener"},o.a.createElement(i.c,{id:"imapin_terms",defaultMessage:"{yahooBrandNameString} Terms",values:{yahooBrandNameString:s}})),policy:o.a.createElement("a",{className:r.link,target:"_blank",href:n,rel:"noopener"},o.a.createElement(i.c,{id:"imapin_policy",defaultMessage:"Privacy Policy"}))}})),o.a.createElement("div",{className:r.hint},o.a.createElement(i.c,{id:"imapin_signout_accounts_hint",defaultMessage:"Note: If you are signed into a different {providerName} account.\n                        Please sign out of all the accounts before adding this mailbox",values:{providerName:d}})),g?g({onCancel:m,onPrevious:S,onNext:this.handleGoNext,isStepValid:this.isStepValid}):o.a.createElement("div",{className:r.iconsWrapper},f?null:o.a.createElement(_.a,{"data-test-id":"imapin-back-button",className:r.backButton,onClick:S,title:e(b.back_button_title)},o.a.createElement(i.c,{id:"imapin_back_button_label",defaultMessage:"Back"})),o.a.createElement(_.a,{"data-test-id":"imapin-next-button",className:r.primaryButton,onClick:this.handleGoNext,disabled:!this.isStepValid(),title:e(b.next_button_title)},o.a.createElement(i.c,{id:"imapin_next_button_label",defaultMessage:"Next"})),o.a.createElement(_.a,{"data-test-id":"imapin-cancel-button",className:r.cancelButton,onClick:m,title:e(b.cancel_button_title)},o.a.createElement(i.c,{id:"imapin_cancel_button_label",defaultMessage:"Cancel"}))))}}R.contextTypes={intl:i.i.isRequired,config:n.a.object,partner:n.a.string,yahooBrandNameString:n.a.string},t.a=Object(T.b)(void 0,e=>({authorizeNewAccount:t=>e(Object(A.d)(babelHelpers.extends({i13nModel:{mKey:O.e.AUTHORIZE_IMAP_ACCOUNT,sec:O.g.SETTINGS_ACCOUNTS_TAB,interactionType:O.d.click}},t)))}))(R)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(4),c=s(11),l=s.n(c),d=s(625),E=s.n(d),_=s(15),u=s(3),p=s(297),m=s(16),h=s(56);const S=Object(i.h)({accountNameHint:{id:"confirm_account_name_hint",defaultMessage:"The name shown in emails you send."},accountName:{id:"confirm_account_name_placeholder",defaultMessage:"Your Name"},accountDescriptionHint:{id:"confirm_account_description_hint",defaultMessage:"Name this mailbox."},accountDescription:{id:"confirm_account_description_placeholder",defaultMessage:"Description"},add_confirm:{id:"account_confirm_done",defaultMessage:"Done"}}),g=()=>{};class I extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={sendingName:"",description:""},this.handleChange=((e,t)=>{this.setState({[e]:t})}),this.handleConfirm=(()=>{const{account:e,onCancel:t,onSubmit:s}=this.props,{sendingName:a,description:n}=this.state;s(e.id,{sendingName:a,description:n}),t()}),t}componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}componentWillUnmount(){this.props.isSyncing||this.props.onCancel()}render(){const{sendingName:e,description:t}=this.state,{isSyncing:s}=this.props,{formatMessage:a}=this.context.intl,n=l()(E.a,{isSyncing:s}),{mailBrandNameString:r}=this.context;return o.a.createElement("div",{className:n.addConfirmWrapper},o.a.createElement("div",{className:n.addConfirmSection},o.a.createElement("h5",{className:n.titleLabel},s?o.a.createElement(h.b,{size:"S"}):o.a.createElement(_.b,{kind:u.b.CAL_ACCEPT,size:u.d.XS,colorState:u.a.SUCCESS}),o.a.createElement("span",{className:n.titleTextWrapper},o.a.createElement(i.c,s?{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}:{id:"add_confirm_title",defaultMessage:"Your mailbox has been added"}))),o.a.createElement("div",{className:n.hint},o.a.createElement(i.c,{id:"add_confirm_hint",defaultMessage:"Changes made in {mailBrandNameString} will reflect in other email clients, including mobile apps.",values:{mailBrandNameString:r}})),o.a.createElement("label",{className:n.label,htmlFor:"accountName"},o.a.createElement(i.c,{id:"name_text",defaultMessage:"Your Name"})),o.a.createElement("div",{className:n.textInput},o.a.createElement(p.a,{isClearable:!0,name:"accountName",value:e,hint:a(S.accountNameHint),"aria-label":a(S.accountName),placeholder:a(S.accountName),onChange:e=>this.handleChange("sendingName",e),disabled:s})),o.a.createElement("label",{className:n.label,htmlFor:"description"},o.a.createElement(i.c,{id:"description_text",defaultMessage:"Description"})),o.a.createElement("div",{className:n.textInput},o.a.createElement(p.a,{isClearable:!0,name:"accountName",value:t,hint:a(S.accountDescriptionHint),"aria-label":a(S.accountDescription),placeholder:a(S.accountDescription),onChange:e=>this.handleChange("description",e),disabled:s})),o.a.createElement(m.a,{className:n.confirmButton,onClick:this.handleConfirm,title:a(S.add_confirm)},o.a.createElement("span",null,a(S.add_confirm)))))}}I.contextTypes={intl:i.i.isRequired,mailBrandNameString:n.a.string},I.defaultProps={account:null,onCancel:g,onSubmit:g,handleAddSuccess:g,isSyncing:!1},t.a=I},,,function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(257);const n=(e=[])=>{let t=null;for(const s of e){const{category:e=[]}=s;for(const s of e){const{name:e=""}=s,n=e.split(">")[0]||"",r=a.f.find(e=>e===n.toLowerCase());if(t&&r&&t!==r)return null;t=r||t}}return t}},,,,function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(13),c=s(4),l=s(96),d=s.n(l),E=s(53),_=(s(8),s(14)),u=s(38),p=s(0),m=s(41),h=s(16),S=s(15),g=s(3),I=s(232),C=s(234),T=s(284),A=s(581),O=s.n(A),b=s(48),R=s(74),D=s(141),f=s(29),N=s(72),M=s(33),L=s(582),y=s.n(L);const P=Object(c.h)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"},msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"},msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),v=(e,t)=>{const s=e.isDarkThemeMode,a=t.getCss(y.a,{isDarkThemeMode:s}),{formatMessage:n}=t.intl,{isRead:r,isHovered:i,isReplied:c,isForwarded:l}=e;let d=null;return d=r?i?o.a.createElement("span",{className:a.iconContainer},o.a.createElement(S.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:g.b.CIRCLE,size:g.d.XS,colorState:g.a.INHERITED}),o.a.createElement("span",{className:a.accessible,"aria-label":n(r?P.msgIsRead:P.msgIsNotRead)})):c?o.a.createElement("span",{className:a.indicator},o.a.createElement(S.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:g.b.REPLY,size:g.d.XXXS,colorState:s?g.a.INHERITED:g.a.SECOND_LEVEL_GRAY}),o.a.createElement("span",{className:a.accessible,"aria-label":n(P.msgIsReplied)})):l?o.a.createElement("span",{className:a.indicator},o.a.createElement(S.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:g.b.FORWARD,size:g.d.XXXS,colorState:s?g.a.INHERITED:g.a.SECOND_LEVEL_GRAY}),o.a.createElement("span",{className:a.accessible,"aria-label":n(P.msgIsForwarded)})):o.a.createElement("span",{className:a.accessible,"aria-label":n(P.msgIsRead)}):o.a.createElement("span",{className:a.iconContainer},o.a.createElement(S.b,{"data-test-read":r,"data-test-isreplied":c,"data-test-isforwarded":l,kind:g.b.CIRCLE,size:g.d.XS,colorState:s?g.a.SELECTED_DARK_THEME_MODE:g.a.SELECTED}),o.a.createElement("span",{className:a.accessible,"aria-label":n(P.msgIsNotRead)})),o.a.createElement(h.a,{"data-test-id":"icon-btn-read",title:n(e.isRead?P.markAsUnread:P.markAsRead),onClick:e.onClick,onDoubleClick:e.onClick,className:a.readIcon},d)};v.defaultProps={isHovered:!1,isCompact:!1},v.contextTypes={intl:c.i,getCss:n.a.func};var F=v,U=s(583),H=s.n(U),k=s(60),G=s(24);const w=(()=>{let e=1;return()=>(e+=1,e%=3)})(),x=Object(c.h)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}});class B extends o.a.Component{constructor(e){super(e),this.state={shouldBurst:!1,hasAnimation:e.starredMailEnhanced&&e.starAnimation.timeout>0,messageSize:e.isCompactLayout?null:this.getMessageSize(e.msgListDensity),starSize:e.isCompactLayout?g.d.XS:this.getStarSize(e.msgListDensity),isStarred:this.props.isStarred},this.burstURL={dark:Object(k.a)(e.starAnimation.darkGifURL),light:Object(k.a)(e.starAnimation.lightGifURL)},this.preload(this.burstURL),this.burstOnClick=this.burstOnClick.bind(this)}componentWillReceiveProps(e){this.setState({hasAnimation:e.starredMailEnhanced&&e.starAnimation.timeout>0,messageSize:e.isCompactLayout?null:this.getMessageSize(e.msgListDensity),starSize:e.isCompactLayout?g.d.XS:this.getStarSize(e.msgListDensity)}),!this.state.isStarred&&e.isStarred&&e.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout)),this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}preload(e){Object(G.d)(Object(k.a)(e.light)),Object(G.d)(Object(k.a)(e.dark))}renderStarGif(e,t){const s=t.isDarkThemeMode?this.burstURL.dark:this.burstURL.light;let a=20,n=20,r=0;const i=w();switch(e){case"S":a=24,n=24,r=2;break;case"M":a=32,n=32,r=6}return o.a.createElement("img",{src:s,style:{transform:`translateZ(${i}px)`,height:`${a}px`,width:`${n}px`,paddingTop:`${r}px`}})}getStarSize(e){if(this.props.starredMailEnhanced)switch(e){case 1:return g.d.XS;case 2:case 3:return g.d.S;default:return g.d.XS}return g.d.XS}getMessageSize(e){if(this.props.starredMailEnhanced)switch(e){case 1:return"XS";case 2:case 3:return"S";default:return""}return""}burstOnClick(e){this.props.onClick(e),!this.state.isStarred&&this.state.hasAnimation?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}render(){const e=this.props.isDarkThemeMode,t=this.props.starredMailEnhanced,s=this.context.getCss(H.a,{isDarkThemeMode:e,starredMailEnhanced:t,darkStarredMailEnhanced:e&&t,messageSize:this.state.messageSize}),{formatMessage:a}=this.context.intl;let n=null;if(this.state.shouldBurst&&this.state.hasAnimation)n=this.renderStarGif(this.state.messageSize,this.props);else if(this.props.isStarred)n=o.a.createElement("span",{className:s.iconContainer},o.a.createElement(S.b,{"data-test-starred":this.props.isStarred,kind:g.b.STAR,size:t?this.state.starSize:g.d.XS,colorState:e?g.a.STARRED_DARK:g.a.STARRED}),o.a.createElement("span",{className:s.accessible,"aria-label":a(x.msgIsStarred)}));else if(t){const t=e?g.a.INVERTED_MORE_DIM:g.a.FAINT,r=e?g.a.SMARTVIEW_DARK:g.a.COOL_FAINT;n=o.a.createElement("span",{className:s.iconContainer},o.a.createElement(S.b,{kind:g.b.STAR,size:this.state.starSize,allowPointerEvents:!0,colorState:this.props.isHovered?r:t}),o.a.createElement("span",{className:s.accessible,"aria-label":a(this.state.isStarred?x.msgIsStarred:x.msgIsNotStarred)}))}else n=this.props.isHovered?o.a.createElement("span",{className:s.iconContainer},o.a.createElement(S.b,{kind:g.b.STAR,size:g.d.XS,colorState:g.a.INHERITED}),o.a.createElement("span",{className:s.accessible,"aria-label":a(this.props.isStarred?x.msgIsStarred:x.msgIsNotStarred)})):o.a.createElement("span",{className:s.accessible,"aria-label":a(x.msgIsNotStarred)});return o.a.createElement(h.a,{"data-test-id":"icon-btn-star",title:a(this.props.isStarred?x.markAsUnstarred:x.markAsStarred),onClick:t?this.burstOnClick:this.props.onClick,onDoubleClick:t?this.burstOnClick:this.props.onClick,className:s.starIcon},n)}}B.defaultProps={isHovered:!1},B.contextTypes={intl:c.i,getCss:n.a.func};var j=B,V=s(584),W=s.n(V);const q=Object(c.h)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),K=(e,t)=>{const s=e.searchType===p.cd.SUBJECT,a=t.getCss(W.a,{isDarkThemeMode:e.isDarkThemeMode}),{formatMessage:n}=t.intl;return e.showSearch&&e.isHovered?o.a.createElement(h.a,{"data-test-id":"icon-btn-search",title:n(s?q.searchBySubject:q.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?a.contactSearchIconCompact:a.searchIcon},o.a.createElement("span",{className:a.iconContainer},o.a.createElement(S.b,{kind:g.b.SEARCH_MINI,size:g.d.XS,colorState:g.a.INHERITED}))):null};K.defaultProps={isHovered:!1,isCompact:!1},K.contextTypes={intl:c.i,getCss:n.a.func};var z=K,Y=s(342),Z=s(586),X=s.n(Z),Q=s(92),$=s(12),J=s(44),ee=s(262),te=s(5),se=s(374),ae=s(10),ne=s(20),re=s(9);const oe=(e,t)=>{const{attachmentTraySize:a,previewableInlineAttachmentSize:n,attachments:r,showAttachmentClip:i,rsvpEnabled:l,doesAttachmentExistById:d,getAttachmentById:_}=e,u=t.getCss(X.a),m=Object(J.e)(r,n).map(e=>e.id&&d(e.id)?_(e.id):e);function h(t,s){const{messageGroup:a}=e,n=a.id,r=Object.assign({mKey:te.e.ATTACHMENT_LIGHTBOX_OPEN,sec:te.g.MSG_LIST_MSG,interactionType:s});e.onAttachmentPreviewClick({attachmentId:t,messageGroupId:n,i13nModel:r})}const I=function(){if(l&&m.length&&Object(J.d)(m[0].type,m[0].subtype)===p.u.SimplifiedTypes.CAL)return m[0]}(),C=I?o.a.createElement(ne.a,{import:"../../rsvp_view/index.jsx",eventAttachment:I,folder:Object(E.e)(e.messageGroup),messageId:I.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,638))},_moduleResolver:function(){return 638}}):m.map((t,s)=>o.a.createElement("span",{className:u.attachmentItem,key:t.id,"data-test-id":"attachment-item-"+s},o.a.createElement(ee.a,{attachment:t,readOnly:!0,allowDownload:!1,onRemove:()=>{},onClick:h.bind(null,t.id),isPreviewEnabled:!e.isSpam,previewWithoutDownload:!0,smallPreview:!0})));return!i&&!r.length||e.isHovered?m.length?null:o.a.createElement("span",{className:u.accessible,"data-test-id":"accessible-no-attachment"},o.a.createElement(c.c,{id:"msg_no_attachment",defaultMessage:"No attachment"})):o.a.createElement(Q.c,{arrowSize:$.b.M,permittedArrowDirections:[$.g.UP,$.g.DOWN],triggerOn:Q.b.HOVER_DELAYED,triggerDelayTime:200,triggerOff:Q.a.HOVER_OUT,align:$.a.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:ae.ZIndices.POPOVER.MEDIUM},o.a.createElement("span",{"data-test-id":"attachment-icon",className:u.attachmentIcon},o.a.createElement(S.b,{kind:m.length?Object(J.g)(m):g.b.ATTACHMENT,size:g.d.XS,colorState:e.isDarkThemeMode?g.a.FAINT:g.a.DISABLED}),o.a.createElement("span",{className:u.accessible},o.a.createElement(c.c,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),o.a.createElement("div",{"data-test-id":"attachment-popover",className:u.attachmentsPopover},!l&&m.length>a?o.a.createElement("div",{style:{width:60+100*a},className:u.attachmentsCarouselContainer},o.a.createElement(se.b,{itemWidth:100},C)):o.a.createElement("div",{className:I?null:u.attachmentsPopoverContainer},C)))};oe.defaultProps={isHovered:!1,attachmentTraySize:3},oe.contextTypes={getCss:n.a.func,config:n.a.object};var ie=Object(i.b)(e=>{const{getAttachmentById:t,doesAttachmentExistById:s}=Object(re.b)(e).getAttachmentsSelectors();return{doesAttachmentExistById:s,getAttachmentById:t}})(oe),ce=s(11),le=s.n(ce),de=s(589),Ee=s.n(de);class _e extends o.a.Component{render(){const{isDarkThemeMode:e,isHovered:t,couponIconClicked:s}=this.props,a=le()(Ee.a);return t?null:o.a.createElement("span",{"data-test-id":"coupon-icon-msg-list",className:a.couponIcon,onClick:s},o.a.createElement(S.b,{kind:g.b.SCISSORS,size:g.d.XXS,colorState:e?g.a.FAINT:g.a.DISABLED}),o.a.createElement("span",{className:a.accessible},o.a.createElement(c.c,{id:"message_has_coupon",defaultMessage:"Message has deals"})))}}_e.defaultProps={isHovered:!1};var ue=s(40),pe=s(55),me=s(263),he=s(63),Se=s(57),ge=s(1),Ie=s(31),Ce=s.n(Ie);const Te=()=>{},Ae={},Oe=Object(c.h)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),be=d()(()=>{let e;try{e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window})}catch(t){(e=document.createEvent("MouseEvent")).initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}document.activeElement.dispatchEvent(e),setTimeout(()=>document.activeElement.dispatchEvent(e),0)},100,{leading:!0});class Re extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={hover:!1},this.handleCheckboxClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),e.shiftKey?this.props.onShiftClick(t):e.metaKey||e.ctrlKey?this.props.onCtrlClick(t,{interactionType:Object(_.i)(e)}):this.props.onCheckboxClick(t,{interactionType:Object(_.i)(e)})}),this.handleReadIconClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onReadClick(t,{interactionType:Object(_.i)(e)})}),this.handleStarIconClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onStarClick(t,{interactionType:Object(_.i)(e)})}),this.handleDeleteIconClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onDeleteClick(t,{interactionType:Object(_.i)(e)}),be()}),this.handleContactSearchClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onContactSearchClick(t,{interactionType:Object(_.i)(e)})}),this.handleSubjectSearchClicked=(e=>{const{messageGroup:t}=this.props;e.preventDefault(),e.stopPropagation(),this.props.onSubjectSearchClick(t,{interactionType:Object(_.i)(e)})}),this.handleOnClick=(e=>{const{onClick:t,messageGroup:s}=this.props;e.stopPropagation(),e.preventDefault(),e.metaKey||e.ctrlKey?this.handleCheckboxClicked(e):e.shiftKey?this.props.onShiftClick(s):t(s,{interactionType:Object(_.i)(e)})}),this.handleAccessibilityOnClick=(e=>{this.handleOnClick(e)}),this.handleOnDoubleClick=(e=>{const{onDoubleClick:t,messageGroup:s}=this.props;e.stopPropagation(),e.preventDefault(),e.shiftKey?this.props.onShiftClick(s):t(s,{interactionType:Object(_.i)(e)})}),this.renderMessageCount=((e,t,s)=>o.a.createElement("span",{"data-test-id":"message-count",className:e>1?t:s,role:"gridcell"},o.a.createElement("span",{className:s,"data-test-id":"accessible-message-count"},o.a.createElement(c.c,{id:"msg_count",values:{messageCount:e},defaultMessage:"{messageCount, plural,\n                                            one {# message}\n                                            other {# messages}\n                                        }"})),e>1?o.a.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},e):null)),this.renderDraftLabel=((e,t,s)=>o.a.createElement("span",{"data-test-id":"draft-indicator",className:e?t:s},e?o.a.createElement(c.c,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)),this.renderSubject=((e,t,s)=>o.a.createElement("span",{"data-test-id":"message-subject",className:s.subject,onClick:this.handleAccessibilityOnClick,role:"gridcell",title:Object(D.c)(e)},e?Object(D.b)(e,t,s.highlightedTerm):o.a.createElement("span",null,o.a.createElement("span",null,"("),o.a.createElement("span",{className:s.noSubject},o.a.createElement(c.c,{id:"message.no_subject",defaultMessage:"No Subject"})),o.a.createElement("span",null,")")))),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.selectCueToRender=((e,t,s)=>o.a.createElement("div",null,this.props.showInboxCouponsCue?this.renderCue({align:$.a.START,subject:e,highlightSearchTerm:t,classNames:s,cueName:p.kb.INBOX_COUPONS_CUE}):null)),this.renderCue=(({align:e=$.a.CENTER,subject:t,highlightSearchTerm:a,classNames:n,cueName:r,bgValue:i=$.d.DEFAULT,useBrandName:c=!1,props:l={}})=>{let d;const E=babelHelpers.extends({},l,{cueName:r,fromName:c?this.props.fromName:"",cardConversationId:this.props.cardConversationId,onShow:this.updateContent});switch(r){case p.kb.INBOX_COUPONS_CUE:d=o.a.createElement(ne.a,babelHelpers.extends({import:"../../inbox_coupons_cue"},E,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,946))},_moduleResolver:function(){return 946}}))}return o.a.createElement(he.a,null,o.a.createElement(Se.a,null,this.renderSubject(t,a,n)),o.a.createElement(ue.a,{align:e,overflowScroll:!1,triggerOn:$.h.MOUNT,permittedArrowDirections:[$.g.UP],zAltitude:ae.ZIndices.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},bg:i,persistent:!0},d))}),this.renderMessageDestinationLabel=(e=>{const{messageDestinationLabel:t}=this.props;switch(t){case m.l.ACCOUNT:return this.renderAccountLabel(e);case m.l.FOLDER:return this.renderFolderLabel(e);case m.l.NONE:return null}}),this.renderAccountLabel=(e=>{const{accountDescription:t,folderName:s,accountProvider:a}=this.props,{formatMessage:n,locale:r}=this.context.intl;let i,c=Ae[r];return c||(c=Ae[r]={[p.fb.YAHOO]:n(N.a.yahoo_account_description),[p.fb.YAHOO_SB]:n(N.a.yahoo_account_description),[p.fb.OUTLOOK]:n(N.a.outlook_account_description),[p.fb.AOL]:n(N.a.aol_account_description),[p.fb.GOOGLE]:n(N.a.gmail_account_description),[p.fb.GOOGLE_APP]:n(N.a.gmail_account_description)}),o.a.createElement("div",{className:e.messageDestinationLabel,"data-test-id":"account"},o.a.createElement("span",{title:(i=t||c[a])+"/"+s},i))}),this.renderFolderLabel=(e=>{const{messageGroup:t}=this.props,{formatMessage:s}=this.context.intl,a=Object(E.e)(t),n=this.props.getFolderDisplayTypeByFolderId(a.id),r=Object(M.m)(s,n)||a.name;return o.a.createElement("div",{className:e.messageDestinationLabel,title:r,"data-test-id":"folder"},o.a.createElement(R.a,{folderId:a.id}))}),this.renderEmailTypeIcon=(()=>{const{messageGroup:e,attachmentTraySize:t,previewableInlineAttachmentSize:s,isSpam:a,showCouponIcon:n,rsvpEnabled:r,isCompactLayout:i,couponIconClicked:c}=this.props,l=Object(E.a)(e),d=!(!Object(E.b)(e)||Object(E.h)(e)&&!(Object(E.h)(e)&&l.length>0)),_=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging()&&i,u=this.context.getThemeMode()===f.f.DARK;return d?o.a.createElement(ie,{previewableInlineAttachmentSize:s,attachments:l,isHovered:_,isDarkThemeMode:u,onAttachmentPreviewClick:this.props.onAttachmentPreviewClick,messageGroup:e,isSpam:a,attachmentTraySize:t,showAttachmentClip:d,rsvpEnabled:r}):n?o.a.createElement(_e,{isDarkThemeMode:u,isHovered:_,couponIconClicked:c}):void 0}),t}shouldComponentUpdate(e,t){const{props:s}=this;return!(Ce()(s.messageGroup,e.messageGroup)&&s.isRead===e.isRead&&s.isStarred===e.isStarred&&s.isReplied===e.isReplied&&s.isForwarded===e.isForwarded&&s.tabIndex===e.tabIndex&&s.snippetsEnabled===e.snippetsEnabled&&s.layout===e.layout&&s.msgListDensity===e.msgListDensity&&s.selected===e.selected&&s.active===e.active&&s.showInboxCouponsCue===e.showInboxCouponsCue&&this.state.hover===t.hover)}render(){const{messageGroup:e,messageGroupId:t,selected:s,active:a,messageURL:n,myAddresses:r,highlightSearchTerm:i,listId:c,layout:l,isBriefView:d,isCompactLayout:_,isConversationMode:u,snippetsEnabled:m,onDragStart:A,onDragEnd:R,hideSearchIcon:N,starRef:M,readRef:L,senders:y,isRead:P,isStarred:v,isReplied:U,isForwarded:H,showCouponIcon:k,starredMailEnhanced:G,starAnimation:w,msgListDensity:x}=this.props,B=m&&!d,{formatMessage:V}=this.context.intl,W=Object(E.f)(e,{listId:c}),q=W.hasVerifiedMessage,K=l===p.bc.COMPACT_SLIM||l===p.bc.COMPACT_SNIPPET_SLIM,Z=l===p.bc.COMPACT_NORMAL||l===p.bc.COMPACT_SNIPPET_NORMAL,X=l===p.bc.COMPACT_RELAXED||l===p.bc.COMPACT_SNIPPET_RELAXED,Q=l===p.bc.SLIM&&!K,{hasDraft:$}=W,J=Object(D.a)(W.snippetWithMatchDelimiter,i),ee=1===e.messages.length,te=this.context.getThemeMode(),se=te===f.f.DARK||!!d&&te===f.f.MEDIUM,ae=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging(),ne=ae&&_,re=y.map(e=>e.name).join(", "),oe=y&&y.length&&Object(b.c)(y),ie=oe&&1===oe.length&&(!_||1===e.messages.length)&&r&&!N,ce=!u&&!_&&!d,le=ae&&ce,de=Object(E.a)(e),Ee=this.context.getCss(O.a,{isStarred:v,isRead:P,highlightPosition:J,isCompactLayout:_,layout:l,hasJustOneMessage:ee,isCompactSlimLayout:K,isCompactNormalLayout:Z,isCompactRelaxedLayout:X,isNonCompactSlimLayout:Q,borderless:d,showSubjectSearchAndHovered:le,isCompactHovered:ne,isCompactHasEmailTypeIcon:(de.length>0||k)&&!d&&!ae&&_,darkThemeMode:se}),_e=Ee.container+(a?" "+Ee.active:"")+(s?" "+Ee.selected:"");return o.a.createElement("a",{role:"row","data-test-id":"message-list-item","data-test-active":s,"data-test-starred":v,"data-test-read":P,tabIndex:this.props.tabIndex,"aria-label":V(Oe.email_aria_label,{senderNames:re}),href:n,onClick:this.handleOnClick,onDoubleClick:this.handleOnDoubleClick,onMouseOver:()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})},onMouseLeave:()=>this.setState({hover:!1}),className:_e+" message-list-item",onDragStart:A.bind(null,e),onDragEnd:R,rel:"noopener"},d?null:o.a.createElement("div",{className:Ee.gridB1,draggable:"true"},o.a.createElement("div",{"data-test-id":"icon-btn-checkbox-container",className:Ee.check,role:"gridcell",onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked},o.a.createElement(I.a,{"data-test-id":"icon-btn-checkbox","aria-label":V(s?Oe.deselectionAriaLabel:Oe.selectionAriaLabel),isChecked:!!s,onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked,isInverted:se,className:Ee.checkbox})),q?o.a.createElement(h.a,{"data-test-id":"icon-btn-ybadge",className:Ee.ybadgeIcon},o.a.createElement(S.b,{kind:g.b.YBADGE,size:g.d.XS,colorState:g.a.YBADGE})):o.a.createElement("div",{className:Ee.readIcon,role:"gridcell",ref:L.bind(null,t)},o.a.createElement(F,{isHovered:ae,isRead:P,isReplied:U,isForwarded:H,isDarkThemeMode:se,onClick:this.handleReadIconClicked})),o.a.createElement("div",{className:Ee.senders,"data-test-id":"senders"},o.a.createElement(T.a,{isRead:P,senders:y,myAddresses:r,onClick:this.handleAccessibilityOnClick}),ne?o.a.createElement(z,{isHovered:ae,showSearch:ie,isCompact:_,isDarkThemeMode:se,onClick:this.handleContactSearchClicked}):null,_?this.renderMessageCount(e.messages.length,Ee.messageCount,Ee.accessible):null,_?this.renderDraftLabel($,Ee.draftIndicator,Ee.accessible):null),_?null:o.a.createElement(z,{isHovered:ae,showSearch:ie,searchType:p.cd.CONTACT,isCompact:_,isDarkThemeMode:se,onClick:this.handleContactSearchClicked})),d?null:o.a.createElement("div",{className:Ee.starIcon,role:"gridcell",draggable:"true",ref:M.bind(null,t)},o.a.createElement(j,{isHovered:ae,isStarred:v,isDarkThemeMode:se,onClick:this.handleStarIconClicked,starredMailEnhanced:G,starAnimation:w,msgListDensity:x,isCompactLayout:_})),o.a.createElement("div",{className:Ee.gridB2,draggable:"true"},o.a.createElement("div",{className:Ee.message},o.a.createElement("div",{className:Ee.subjectContainer},this.props.showInboxCouponsCue&&this.props.cardConversationId?this.selectCueToRender(W.subjectWithMatchDelimiter,i,Ee):this.renderSubject(W.subjectWithMatchDelimiter,i,Ee),_?null:this.renderMessageCount(e.messages.length,Ee.messageCount,Ee.accessible),_?null:this.renderDraftLabel($,Ee.draftIndicator,Ee.accessible)),o.a.createElement("span",{className:Ee.subjectSearchIcon},o.a.createElement(z,{isHovered:ae,showSearch:ce,searchType:p.cd.SUBJECT,isCompact:_,isDarkThemeMode:se,onClick:this.handleSubjectSearchClicked})),B?o.a.createElement("div",{className:Ee.snippetContainer,"data-test-id":"snippet"},o.a.createElement("div",{className:Ee.snippet,onClick:this.handleAccessibilityOnClick,role:"gridcell"},Object(D.b)(W.snippetWithMatchDelimiter,i,Ee.highlightedTerm))):null),this.renderMessageDestinationLabel(Ee),o.a.createElement("div",{className:Ee.emailTypeIcon,"data-test-id":"email-type-icon-wrapper",role:"gridcell"},d?null:this.renderEmailTypeIcon()),o.a.createElement("span",{className:Ee.dateWrapper+" date",style:ae?{display:"none"}:{},role:"gridcell"},o.a.createElement(C.a,{"data-test-id":"date-time-label",date:new Date(1e3*W.date),timezone:this.context.timezone.name})),!d&&!_&&o.a.createElement("div",{className:Ee.iconB2,role:"gridcell"},o.a.createElement(Y.a,{isHovered:ae,isCompact:_,isDarkThemeMode:se,onClick:this.handleDeleteIconClicked}))),!d&&_&&o.a.createElement("div",{className:Ee.iconB2,role:"gridcell"},o.a.createElement(Y.a,{isHovered:ae,isCompact:_,isDarkThemeMode:se,onClick:this.handleDeleteIconClicked})))}}Re.contextTypes={intl:c.i.isRequired,getCss:n.a.func,getThemeMode:n.a.func,config:n.a.object,timezone:u.e},Re.defaultProps={isScrolling:Te,isDragging:Te,onDragStart:Te,readRef:Te,starRef:Te};t.a=Object(i.b)((e,t)=>{const{getRelevantMessageIdFromMessageGroupId:s,getMessagesSelectors:a,isFeatureEnabled:n,getSetting:r,doesMessageGroupIdExist:o,getMessageIdsFromMessageGroupId:i,getFoldersSelectors:c,getCardConversationIdByMessageId:l,__patchV2MessageGroupItem__:d}=Object(re.b)(e),{getFolderDisplayTypeByFolderId:E}=c(),{listId:_,messageGroupId:u,messageGroupListId:m}=t,h=Object(pe.a)([_]),S=s(u,_),{isCoupon:g}=a(),I=n(p.kb.RSVP),C=n(p.kb.CPN_ICON_MSG_LIST),T=o(u)?i(u):[],A=C&&T.some(g),O=r(p.id.PREVIEWABLE_INLINE_ATTACHMENT_SIZE),b=n(p.kb.STARRED_MAIL_ENHANCED),R=r(p.id.STAR_ANIMATION),{isRead:D,isStarred:f,isReplied:N,isForwarded:M,getParticipantsInfo:L,isSpam:y,folderName:P,accountProvider:v,accountDescription:F}=Object(me.b)(e,{streamId:h,groupId:u,listId:_,relevantMessageId:S}),{senders:U=[]}=L(),H=U.length>0?U[0].name:"",k=l(S),{getEnvironmentSelectors:G}=Object(re.b)(e),w=G();return{messageGroup:d({id:u},m||_),cardConversationId:k,fromName:H,rsvpEnabled:I,previewableInlineAttachmentSize:O,isRead:D,isStarred:f,isReplied:N,isForwarded:M,accountProvider:v,accountDescription:F,folderName:P,senders:U,isSpam:y,showCouponIcon:A,getFolderDisplayTypeByFolderId:E,starredMailEnhanced:b,starAnimation:R,isRTL:"rtl"===w.getPageDirection()}},e=>({couponIconClicked:()=>e({type:ge.a.COUPON_ICON_MSG_LIST_CLICKED,i13nModel:{mKey:te.e.COUPON_ICON_CLICKED,sec:te.g.MSG_LIST}})}))(Re)},function(e,t,s){"use strict";var a=s(6),n=s.n(a),r=s(2),o=s.n(r),i=s(26),c=s(209),l=s.n(c),d=s(11),E=s.n(d),_=s(553),u=s.n(_),p=s(4),m=s(38),h=s(15),S=s(65),g=s(0),I=s(3),C=s(187),T=(s(8),s(20)),A=s(121),O=s(16),b=s(21),R=s(142),D=s(554),f=s.n(D),N=s(150),M=s(190);const L=/^(?:https?|ftp|mailto):(?:\/\/)?/i;const y=Object(p.h)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),P="app",v=/^(?:https?|ftp|mailto):(?:\/\/)?/i;class F extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1},this.saveLink=(()=>{let e=this.linkInput.value.trim();const t=this.textInput.value.trim()||e.replace(v,"");v.test(e)||(e="http://"+e),this.props.onSave(t,e)}),this.handleClose=(()=>{this.props.onClose()}),this.handleKeyDown=(e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),this.saveLink()):"Escape"===e.key&&(e.preventDefault(),this.handleClose())}),this.toggleTestLink=(e=>{this.setState({focusOnLinkInput:e})}),this.openTestLink=(()=>{const e=this.linkInput.value.trim(),t=v.test(e);e.replace(v,"")&&(function(e){let t=!1;if(!L.test(e))return t;const s=window.open();if(s){s.opener=null;try{s.location=e,t=!0}catch(e){}}return t}(t?e:`http://${e}`)||this.setState({showTestAlert:!0}))}),this.handleLinkInput=(()=>{const e=this.linkInput.value.trim();this.setState(""===e||"http://"===e?{saveBtnEnabled:!1}:{saveBtnEnabled:!0})}),this.hideTestAlertDialog=(()=>{this.setState({showTestAlert:!1})}),t}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=Object(M.a)(e,this.dropdown);(s>document.getElementById(P).clientHeight||s<0)&&e.parentNode.scrollIntoView(),Object.assign(this.dropdown.style,{left:t+"px",top:Object(M.a)(e,this.dropdown).top+"px"}),this.timeout=setTimeout(()=>{const e=this.linkInput.value,t=e&&e.trim().length||0;this.linkInput.focus(),this.linkInput.setSelectionRange(t,t)},0)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const{textInput:e,linkInput:t}=this.props,{saveBtnEnabled:s,focusOnLinkInput:a}=this.state,n=!(t||s),r=this.context.intl.formatMessage,i=r(y.link_text_placeholder),c=E()(f.a,{saveBtnEnabled:!n,focusOnLinkInput:a}),l=Object(R.getTextDirection)(e||i);return o.a.createElement(A.a,null,o.a.createElement("div",{ref:e=>this.dropdown=e,className:c.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?o.a.createElement(N.a,{title:r(y.error_title),message:r(y.open_link_alert),onAccept:this.hideTestAlertDialog}):null,o.a.createElement("div",{className:c.close},o.a.createElement(b.a,{onClick:this.handleClose,kind:I.b.CLOSE,size:I.d.XXS,title:r(y.close),"aria-label":r(y.close)})),o.a.createElement("div",{className:c.item},o.a.createElement("input",babelHelpers.extends({ref:e=>this.textInput=e,className:c.textInput,placeholder:r(y.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:e},l&&{dir:l}))),o.a.createElement("div",{className:c.item},o.a.createElement("input",{ref:e=>this.linkInput=e,className:c.linkInput,placeholder:"http://www.yahoo.com",onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:t}),o.a.createElement("span",{"data-test-id":"testLinkInput",className:c.testLink,onMouseDown:this.openTestLink},o.a.createElement(p.c,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),o.a.createElement("div",{className:c.item},o.a.createElement(O.a,{onClick:this.saveLink,className:c.button,disabled:n},o.a.createElement(p.c,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}}F.contextTypes={intl:p.i.isRequired};var U=F,H=s(556),k=s.n(H);const G=/^(?:https?|ftp|mailto):/i,w=E()(k.a);var x=class extends o.a.Component{constructor(...e){var t;return t=super(...e),this.editLink=(()=>{this.props.onEdit()}),this.removeLink=(()=>{this.props.onRemove()}),t}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=Object(M.a)(e,this.container);Object.assign(this.container.style,{left:t+"px",top:s+"px"})}render(){const e=this.props.goToLinkValue.trim(),t=G.test(e);return o.a.createElement(A.a,null,o.a.createElement("div",{className:w.container,ref:e=>this.container=e},o.a.createElement("div",{className:w.linkWrapper},o.a.createElement(p.c,{id:"compose.link_go_to",defaultMessage:"Go to"}),"",o.a.createElement("span",null,t?o.a.createElement("a",{className:w.link,href:e,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},e):e)),o.a.createElement("div",{"data-test-id":"editControl",className:w.control,onClick:this.editLink},o.a.createElement(p.c,{id:"compose.link_edit",defaultMessage:"Edit"})),o.a.createElement("div",{"data-test-id":"removeControl",className:w.control,onClick:this.removeLink},o.a.createElement(p.c,{id:"compose.link_remove",defaultMessage:"Remove"}))))}},B=s(557),j=s.n(B),V=s(19),W=s(23);const q=E()(j.a);var K=class extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""},this.handleClick=(e=>{"A"===e.target.nodeName&&-1===e.target.className.indexOf(W.HYPERLINK_PLUGIN_IGNORE_CLASS)?this.props.editor.pushButton("clicklink",e.target):this.hideGoToLink()}),this._getFirstCurrentLinkNodes=(()=>this._currentLinkNodes[0]),this._setCurrentLinkNodes=(e=>{this._currentLinkNodes=Array.isArray(e)?e:NodeList.prototype.isPrototypeOf(e)?Array.prototype.slice.call(e):[e]}),this.createNewLink=(e=>{let t=e;const s=t.parentNode;"A"===s.nodeName?t=s:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),t=s.querySelector("[data-tmp]")),t&&(this._setCurrentLinkNodes(t),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:t,textInput:t.textContent||"",linkInput:t.hasAttribute("href")?t.getAttribute("href").trim():"http://"}))}),this.createLinkFromSelection=(e=>{let t=e;t.nodeType===Node.TEXT_NODE?"A"!==t.parentNode.nodeName?(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')):t=t.parentNode:"A"!==t.nodeName&&(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')),Object(V.a)(t,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(t),this.showHyperLinkDropdown()}),this.showHyperLinkDropdown=(()=>{if(!this._currentLinkNodes&&this._currentLinkNodes.length<1)return;let e="";this._getFirstCurrentLinkNodes().hasAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()&&(e=this._getFirstCurrentLinkNodes().getAttribute("href")),this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:e})}),this.hideHyperLinkDropdown=(()=>{this.setState({renderHyperlinkDropdown:!1})}),this.updateLink=((e,t)=>{const{editor:s}=this.props;if(this.hideHyperLinkDropdown(),!this._currentLinkNodes)return;this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();const a=window.getSelection(),n=document.createRange();let r;const o=this._currentLinkNodes.length;this._currentLinkNodes.forEach((s,a)=>{(r=document.createElement("a")).textContent=a===o-1?e||s.innerText:s.innerText||e,r.href=t,s.parentElement.replaceChild(r,s)}),this._currentLinkNodes=null,n.setStartAfter(r),n.setEndAfter(r),a.removeAllRanges(),a.addRange(n),n.collapse(),a.collapseToEnd(),s.contentChanged({type:"link",node:r}),document.execCommand("unlink",!1,!1)}),this.cancelCreateOrEditLink=(()=>{this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()}),this.removeCurrentLinkNodes=(()=>{let e,t;this._currentLinkNodes.filter(e=>this.props.editor.element.contains(e)).forEach(s=>{e=s.parentElement,!(t=s.firstChild)||t.nodeType===Node.TEXT_NODE&&""===t.textContent.trim()||e.insertBefore(t,s),e.removeChild(s),e.normalize(),window.getSelection().removeAllRanges();const a=document.createRange();a.setStartAfter(e),a.setEndAfter(e),window.getSelection().addRange(a),window.getSelection().collapseToEnd()}),this._currentLinkNodes=null}),this.showGoToLink=(e=>{this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:e,goToLinkValue:e.getAttribute("href")}),this._setCurrentLinkNodes(e)}),this.hideGoToLink=(()=>{this.setState({renderGoToLink:!1})}),this.editHyperLink=(()=>{this.showHyperLinkDropdown()}),this.removeHyperLink=(()=>{this.hideGoToLink(),this.removeCurrentLinkNodes()}),t}componentWillMount(){this.commands={createlink:{action:()=>{const e=window.getSelection();e.isCollapsed?this.createNewLink(e.anchorNode):this.createLinkFromSelection(e.anchorNode)}},clicklink:{action:(e,t)=>{this.showGoToLink(t)}}}}componentDidUpdate(e){this.props.editor!==e.editor&&this.props.editor.addPlugin({commands:this.commands})}render(){return o.a.createElement("div",{onClick:this.handleClick,className:q.container},this.props.children,this.state.renderHyperlinkDropdown?o.a.createElement(U,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?o.a.createElement(x,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}},z=s(151),Y=s(156);const Z=g.u.Dispositions,X=()=>{};class Q extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={rtePlaceholderVisible:!0,hiddenQuotedText:"",showSendAsAttachmentBtn:!0,hoveredImage:null,imageSize:W.CURRENT_IMAGE_SIZE_STATUS.SMALL},this.editorSetup=(e=>{const t=this.refs.rte,{content:s,htmlAnnotations:a,undoStack:n,redoStack:r,initialFocus:o}=e;if(this.rte||(this.rte=new l.a({element:t,isRich:!0,shouldTabIndent:!0,whitelistedAttributes:["style","size","href","src","face","color"],skippedFromMutationObserver:["data-inlineimagemanipulating"]}),this.rte.undoStack=n,this.rte.redoStack=r,this.rte.undoStack.length&&(this.rte.firstUndoSave=!1),this.rte.addPlugin({commands:{add_attachment:{action:()=>{e.onAttachmentShortcut(e.csid)}}},keydownCommands:{[W.RTEKeyModifier.SPECIAL|W.RTEKeyModifier.SHIFT]:{85:"add_attachment"},[W.RTEKeyModifier.SPECIAL]:{75:"createlink"}}})),s){const{quote:e,nonQuote:t}=Object(C.c)(s,a);this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:e},()=>{this.props.autoExpandQuotedText&&this.state.hiddenQuotedText&&this.expandQuote()}),this.rte.setHTML(t)}else this.isListeningForChanges=!0;this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,e),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),o&&this.rte.focus(),this.rte.addPlugin({onContentMutated:e=>{this.isListeningForChanges?this.onContentChange("content_mutation",e):this.isListeningForChanges=!0},contentChanged:e=>{e&&e.type&&W.EDITOR_EVENTS[e.type]&&this.onContentChange(e)}})}),this.onContentChange=(e=>{if(this.isListeningForChanges){const t=e=>"string"==typeof e?e:e&&e.type;this.props.onContentChange({format:{richTextMode:this.rte.isRich},caret:this.rte.getCaretCoordinates(),type:t(e),eventData:e&&e.eventData}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}}),this.handleSendAsAttachment=(e=>{if(!e)return;const t=e.getAttribute("data-id");t?this.props.onSendAsAttachment(!0,t,null):this.props.onSendAsAttachment(!1,null,Object(S.extractPidFromString)(e.src))}),this.resizeHoverImage=(e=>{this._inlineImagePlugin.resizeHoverImage(e)}),this._resizeLinkEnhancerCard=(e=>{this._linkEnhancerPlugin.handleResizeCard({newSize:e})}),this._removeLinkEnhancerCard=(()=>{this._linkEnhancerPlugin.handleRemoveCard()}),this._moveLinkEnhancerCard=(()=>{this._linkEnhancerPlugin.handleMoveCardToBottom()}),this.getInnerHtml=(()=>this.rte.getRawHTML()),this.getPlainText=(()=>this.rte.getText()),this.getUndoStack=(()=>this.rte.undoStack),this.getRedoStack=(()=>this.rte.redoStack),this.getRawMessageContent=(()=>this.rte.getRawHTML()+this.state.hiddenQuotedText),this.containsStationery=(()=>!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed()),this.handleMouseDown=(()=>{this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}),this.handleKeyDown=(e=>{this.props.onKeyDown&&this.props.onKeyDown(e)}),this.handleQuoteExpand=(e=>{e.preventDefault(),e.stopPropagation(),this.expandQuote()}),this.expandQuote=(()=>{const{hiddenQuotedText:e}=this.state;let t="";if(this.props.cepForward){const s=e.indexOf("<div fwdid");if(-1===s)t=e;else{const a=e.indexOf(">",s);t=e.substring(0,s)+e.substring(a+1)}this.props.onExpandQuotedText({csid:this.props.csid})}else t=e;this.isListeningForChanges=!t,this.rte.setHTML(t,{isAppend:!0,skipContentChanged:!0}),this.setState({hiddenQuotedText:""}),this.rte.undoStack.concat(this.rte.redoStack).forEach(e=>{const s=Object(z.getInertElement)(e.html);Object(z.setPurifiedHTML)(s,t,!0),e.html=s.innerHTML}),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()}),this.updateImgHoverOverlayProps=(e=>{this.setState(babelHelpers.extends({showSendAsAttachmentBtn:!1,imageSize:W.CURRENT_IMAGE_SIZE_STATUS.SMALL},e))}),this.updateCurrentCardState=(({newCardSize:e,hoveredCard:t})=>{this.setState({cardSize:e,hoveredCard:t})}),this.handlePluginsLoaded=(e=>{this._lazyLoadedPlugins=e,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)}),this._initializeLazyLoadedPlugins=((e,t)=>{const{InlineImagePlugin:s,StationeryPlugin:a,LinkEnhancerPlugin:n,TableFormatterPlugin:r}=e;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new n({rte:this.rte,overlay:Object(i.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,blacklist:this.props.linkEnhancerUrlBlacklist,enhancedLinks:this.props.enhancedLinks,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){const{htmlAnnotations:e=[],initialFocus:s}=t||this.props,{onStationeryThemeChange:n,onStationeryDefaultThemeChange:r,rtl:o}=this.props;this._stationeryPlugin=new a({rte:this.rte,htmlAnnotations:e,onThemeChange:n,onDefaultThemeChange:r,context:this.context,fontFamily:this.props.composeFontFamily,rtl:o}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft(),!this.containsStationery()&&this.props.canApplyDefaultStationery&&this._stationeryPlugin.update(this.props.getThemeConfig()),s&&this.rte.focus()}this.props.inlineAttachment&&!this._inlineImagePlugin&&(this._inlineImagePlugin=new s({rte:this.rte,getAttachmentInfo:()=>this.props.getAttachments().filter(({disposition:e})=>e===Z.INLINE),onImageRemove:this.props.onImageRemove,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,_overlay:Object(i.findDOMNode)(this.refs.imageOverlay)}),this._inlineImagePlugin.setScrollableArea(this.props.scrollableAreaRef),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new r,this.rte.addPlugin(this._tableFormatterPlugin))}),this.formatMessage=((e,t={})=>this.context.intl.formatMessage(e,t)),this._notifyPlugins=(()=>{const{linkEnhancer:e,inlineAttachment:t}=this.props;t&&this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode(Object(i.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),e&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode(Object(i.findDOMNode)(this.refs.linkEnhancerOverlay)),this._linkEnhancerPlugin.contentChanged("sethtml"))}),t}componentWillMount(){this.isListeningForChanges=!1}componentDidMount(){document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props)}componentWillReceiveProps(e){if(e.csid!==this.props.csid&&this.editorSetup(e),(e.composeFontSize!==this.props.composeFontSize||e.composeFontFamily!==this.props.composeFontFamily)&&this.rte){const t=this.rte.element.style,s=Object(S.getFontSizeStyle)(e.composeFontSize),a=e.composeFontFamily.replace(/"/g,""),n=Object(Y.b)(this.rte.element),r=Object(Y.c)(n);if(t.fontSize=s,t.fontFamily=a,n&&!r){const e=n.style;e.fontSize=s,e.fontFamily=a}}this._inlineImagePlugin&&this._inlineImagePlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin.setEnhancedLinks(e.enhancedLinks))}shouldComponentUpdate(e,t){const{props:s,state:a}=this;return e.csid!==s.csid||e.content!==s.content||t.hiddenQuotedText!==a.hiddenQuotedText||t.rtePlaceholderVisible!==a.rtePlaceholderVisible||t.showSendAsAttachmentBtn!==a.showSendAsAttachmentBtn||t.hoveredImage!==a.hoveredImage||t.hoveredCard!==a.hoveredCard||t.imageSize!==a.imageSize||t.cardSize!==a.cardSize||e.contentEditable!==s.contentEditable}componentWillUnmount(){this.rte&&this.rte.destroy()}render(){const{ariaLabel:e,kind:t,contentEditable:a,inlineAttachment:n,scrollableAreaRef:r,onImageRemove:i}=this.props,c=E()(u.a,{kind:t}),{hiddenQuotedText:l,showSendAsAttachmentBtn:d,imageSize:_,cardSize:m}=this.state,g={fontFamily:this.props.composeFontFamily,fontSize:Object(S.getFontSizeStyle)(this.props.composeFontSize)};return o.a.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:c.editorWrapper,ref:e=>this.editorWrapper=e},o.a.createElement("div",{className:c.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?o.a.createElement(p.c,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),o.a.createElement(K,{editor:this.rte},o.a.createElement(T.a,{import:"./editor_plugin_loader.jsx",onLoad:this.handlePluginsLoaded,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,931))},_moduleResolver:function(){return 931}}),o.a.createElement("div",{className:c.editorContainer,id:"editor-container",ref:"editorContainer"},o.a.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:"off","aria-multiline":!0,contentEditable:a,"aria-label":e,className:"rte "+c.rte,ref:"rte",style:g,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),n?o.a.createElement(T.a,{import:"./img_hover_overlay.jsx",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:W.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,showSendAsAttachmentBtn:d,hoveredElement:this.state.hoveredImage,onImageRemove:i,imageSize:_,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,635))},_moduleResolver:function(){return 635}}):null,this.props.linkEnhancer?o.a.createElement(T.a,{import:"./img_hover_overlay.jsx",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:W.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,hoveredElement:this.state.hoveredCard,cardSize:m,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,635))},_moduleResolver:function(){return 635}}):null)),l?o.a.createElement("div",null,o.a.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:c.button},o.a.createElement("span",{className:c.buttonInner},o.a.createElement(h.b,{kind:I.b.CHEVRON_UP,size:I.d.XXS,rotate:I.c.D90,colorState:I.a.DISABLED}),o.a.createElement(p.c,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}}Q.contextTypes={config:n.a.object,intl:p.i.isRequired,executeAction:n.a.func,linkEnhancerClient:m.b},Q.defaultProps={kind:W.EditorTypes.COMPOSE,onStationeryThemeChange:X,onStationeryDefaultThemeChange:X,autoExpandQuotedText:!1,onExpandQuotedText:X,contentEditable:!0,undoStack:[],redoStack:[],getThemeConfig:X,getAttachments:()=>[],canApplyDefaultStationery:!1};t.a=Q},function(e,t,s){"use strict";s(2);var a=s(13),n=s(25),r=s(31),o=s.n(r),i=s(9),c=s(7),l=s(0),d=s(81),E=s(43),_=s(1);var u=s(148),p=s(140);const m=e=>babelHelpers.extends({type:_.a.STREAM_ITEM_TOGGLED},e),h=e=>babelHelpers.extends({type:_.a.STREAM_ITEMS_SELECTION_CHANGED},e);var S=s(134),g=s(133),I=s(17),C=s(5);const T=()=>({[l.wd.DATE_DESC]:C.e.TOOLBAR_SORT_NEW,[l.wd.DATE_ASC]:C.e.TOOLBAR_SORT_OLD,[l.wd.UNREAD]:C.e.TOOLBAR_SORT_UNREAD,[l.wd.STARRED]:C.e.TOOLBAR_SORT_STARRED});var A=s(55);s.d(t,"b",function(){return b});const O=["shift+up","shift+down","up","down","enter","space","k","l","del","backspace","e","ctrl+e","meta+e"],b=(e,t)=>{const{getListsSelectors:s,getRouteName:a,getRoute:n,doesStreamExist:r,getMainStreamListIds:o,getMainStreamItems:d,getSetting:E,isFeatureEnabled:_,getCursorItem:u,getEnvironmentSelectors:p}=Object(i.b)(e),m=o(n()),h=Object(A.a)(m),S=d(n()),{hasMoreItems:g,getListStatus:I,doesListExist:C}=s(),T=m.reduce((e,t)=>C(t)?e===l.Mc.LOADING||e===l.Mc.ERROR?e:I(t):l.Mc.LOADING,l.Mc.DOES_NOT_EXIST),b=_(l.kb.CONVERSATIONS),R=r(h)?u(h):void 0,D=Object(c.q)(t.listId),f=-1!==[l.Db.TRAVEL_CARDS,l.Db.COUPON_CARDS,l.Db.REFUND_CARDS,l.Db.GROCERY_STORES,l.Db.OFFER_CARDS,l.Db.YAHOO_DEAL_CARDS].indexOf(D),N=m.some(e=>C(e)&&g(e));return{status:T,listId:t.listId,streamId:h,cursorItem:R,items:S,hasMoreItems:N,listenKeys:O,previewpane:E(l.id.PREVIEW_PANE),previewpaneResizable:_(l.kb.RESIZABLE_PREVIEW_PANE),highlightSearchTerm:a()===l.Pc.SEARCH&&Object(c.h)(Object(c.t)(n())).keyword,hideToolbar:f,isConversationMode:b,isRTL:"rtl"===p().getPageDirection(),dealsViewV2:_(l.kb.DEALS_VIEW_V2)}};t.a=Object(n.d)(Object(a.b)(b,void 0,void 0,{areStatePropsEqual:(e,t)=>e.streamId===t.streamId&&o()(e.items,t.items)&&e.status===t.status}),Object(a.b)(void 0,(e,{listId:t,streamId:s,cursorItem:a})=>{return{actions:{[l.Db.MESSAGES]:{onSelectionChange:(t=a)=>e(m({streamId:s,streamItem:t})),onRangeSelected:t=>e((e=>babelHelpers.extends({type:_.a.STREAM_ITEMS_RANGE_SELECTED},e))({streamId:s,streamItem:t})),onDelete:(t=a)=>e(Object(p.a)({streamId:s,streamItem:t})),onStarChange:(t=a)=>e(Object(S.a)({streamId:s,streamItem:t})),onReadChange:(t=a)=>e(Object(g.a)({streamId:s,streamItem:t}))},[l.Db.TRAVEL_CARDS]:{},[l.Db.COUPON_CARDS]:{},TOOLBAR:{onSortOrderChange:t=>e((e=>{const{listId:t,sortOrder:s,i13nModel:a}=e,n=Object(I.v)(t,{sortOrder:s});return Object(E.i)({route:n,i13nModel:babelHelpers.extends({mKey:T()[s],sec:C.g.MSG_LIST_SORT},a)})})(t)),onMove:t=>e(Object(u.b)({streamId:s,destinationFolderId:t})),onArchive:()=>e(Object(u.a)({streamId:s})),moveToInbox:()=>e(Object(u.e)({streamId:s})),onDelete:()=>e(Object(p.a)({streamId:s})),onSpam:()=>e(Object(u.f)({streamId:s})),moreMenuActions:{onRead:t=>e(Object(g.b)(babelHelpers.extends({},t,{streamId:s}))),onUnread:t=>e(Object(g.c)(babelHelpers.extends({},t,{streamId:s}))),onStar:t=>e(Object(S.b)(babelHelpers.extends({},t,{streamId:s}))),onUnstar:t=>e(Object(S.c)(babelHelpers.extends({},t,{streamId:s}))),viewRawMessage:t=>e(Object(E.m)(t))},selectionActions:{onSelectAll:()=>e((e=>babelHelpers.extends({type:_.a.ALL_STREAM_ITEMS_SELECTED},e))({streamId:s})),onSelectNone:()=>e((e=>babelHelpers.extends({type:_.a.STREAM_ITEMS_SELECTION_CLEARED},e))({streamId:s})),onSelectAllRead:()=>e(h({streamId:s,selectionType:l.gd.READ})),onSelectAllUnread:()=>e(h({streamId:s,selectionType:l.gd.UNREAD})),onSelectAllStarred:()=>e(h({streamId:s,selectionType:l.gd.STARRED})),onSelectAllUnstarred:()=>e(h({streamId:s,selectionType:l.gd.UNSTARRED}))}}},checkMail:()=>e(Object(E.l)({forceSync:!0,i13nModel:{mKey:C.e.CHECK_MAIL,sec:C.g.MSG_LIST}})),loadMoreItems:()=>e(Object(d.a)({listId:t,streamId:s})),onKeyDown:t=>{switch(t.code){case"KeyK":e(Object(S.a)({streamId:s,streamItem:a}));break;case"KeyL":e(Object(g.a)({streamId:s,streamItem:a}));break;case"KeyE":e(t.ctrlKey||t.metaKey?Object(u.e)({streamId:s}):Object(u.a)({streamId:s}));break;case"ArrowUp":e((e=>babelHelpers.extends({type:_.a.STREAM_CURSOR_MOVED},e,{movement:"UP"}))({streamId:s}));break;case"ArrowDown":e((e=>babelHelpers.extends({type:_.a.STREAM_CURSOR_MOVED},e,{movement:"DOWN"}))({streamId:s}));break;case"Space":e(m({streamId:s,streamItem:a}));break;case"Delete":case"Backspace":e(Object(p.a)({streamId:s,streamItem:a}))}}}}))},function(e,t){e.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},ParseError:{description:"Parser is unable to parse the response.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."},ConnectionReset:{description:"Connection reset by peer."}},BaseClient:{RequestBlocked:{description:"Request is blocked"}},RequestQueue:{Rejected:{description:"A write request was issued. Therefore, the RequestQueue is dropping the call"},Timeout:{description:"Request timed out in queue"}},BootcampApiClient:{SearchError:{description:"The BootcampApiClient returned an error for the search"},SearchChunkError:{description:"The BootcampApiClient returned a chunk error"},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads"},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions"},LocalStoresError:{description:"The BootcampApiClient returned an error for fetching local stores"},RetailerOffersError:{description:"The BootcampApiClient returned an error for fetching offers for a retailer"},RetailerActivatedOffersError:{description:"The BootcampApiClient returned an error for fetching activated offers for a retailer"},TopRetailersError:{description:"The BootcampApiClient returned an error for fetching top retailers"},TopDealCategoriesError:{description:"The BootcampApiClient returned an error for fetching top deal categories"}},LinkEnhancerClient:{InvalidRequestUrl:{description:"Request URL is invalid."},EmptyResponseBody:{description:"Response Body is empty"},NoRootType:{description:"No Root Type"},NoWebSnippet:{description:"No Web Snippet"}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Request payload is empty"}},UDBClient:{EmptyKey:{description:"Cannot write empty list of keys to UDB"},LoadTestMode:{description:"Cannot write to UDB in load testing mode"},DevBox:{description:"Cannot write to UDB on MAC devbox"},InvalidYca:{description:"Invalid YCA header"},Forbidden:{description:"Role does not have a permission or cookie is invalid"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},WrongMailboxState:{description:"Mailbox is deleted/disabled or maintainence"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},PageNotFound:{description:"Page not found"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode","errorCode","refresh"]},MissingCrumb:{description:"Crumb not passed as query parameter.",requiredData:["statusCode","errorCode"]},InvalidCrumb:{description:"No valid crumb found for the given user.",requiredData:["statusCode","errorCode"]},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["statusCode","errorCode","wssid"]}},GenericError:{description:"A generic error has occurred.",code:"FE-100"},UnknownError:{description:"An unkown error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}},ClassicABClient:{CategoryDataError:{description:"Classic addressbook returned error for categories."},ContactsDataError:{description:"Classic addressbook returned error for contacts list."},ContactsSyncDataError:{description:"Classic addressbook returned error for contacts sync."}}}},function(e,t){},,,,,,,,function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return g});var a=s(22),n=s(158),r=s(483),o=s(112),i=s.n(o),c=s(45),l=s(34),d=s(36),E=s(76),_=s(35),u=s.n(_),p=s(42),m=s(0),h=s(8);const S={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};class g{constructor({bootcampHost:e,cookie:t,headers:s,httpRetry:a}){this.cookie=t,this.bootcampHost=e,this.headers=s,this.httpRetry=a}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}searchStream(t,s){const o=new a.b("GET",this.bootcampHost+"/v3/srp?",{timeout:p.f,httpRetry:this.httpRetry}),c=u()(t,["keyword","buckets","plaBucketId"]);o.setHeader("Accept","multipart/form-data"),o.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),o.setCookieHeader(this.cookie),this._setCustomHeaders(o,this.headers),o.withCredentials=!0,c.query=t.keyword,c.bucketid=(t.buckets||[]).join(","),t.plaBucketId&&(c.bucketid=t.plaBucketId);const{sortOrder:_=m.wd.DATE_DESC}=t;c.order=S[_];const g=o.createStream(c),I=g.pipe(Object(n.a)({boundary:p.d})).pipe(function(t){return i()(function(s){try{const{status:a,response:n}=JSON.parse(s);if(401===a)throw new l.a(d.b,{statusCode:a,errorCode:"AUTH",refresh:!0});if(!n||200!==a)throw new l.a("BootcampApiClient.SearchError");if(n.verticals){const e=Object(E.a)(n.verticals,t);t.searchStreamLogger.logLatency(e,n.requestTS,n.responseTS),Object(h.b)(e)||this.emit("data",JSON.stringify(e))}else if(n.ads){const s=new e(n.ads,"base64").toString("utf8");t.parseXML(s,(e,s)=>{if(e)throw new l.a("BootcampApiClient.SearchAdsError");const a=Object(E.b)(s);t.searchStreamLogger.logLatency(a,n.requestTS,n.responseTS),this.emit("data",JSON.stringify(a))})}}catch(e){return this.emit("data",JSON.stringify({status:500,error:l.a.errorify(e)}))}})}({timezone:t.timezone,formatDateUsingUTC:"false"!==t.formatDateUsingUTC,parseXML:t.parseXML,searchStreamLogger:s})).pipe(Object(r.a)({boundary:p.d,headers:{"Content-Type":"application/json"}}));return g.on("error",e=>I.emit("error",e)),I}itemsApi(e){const t=e.url+"&wssid="+e.wssid+"&bucketid="+(e.buckets||[]).join(","),s=new a.b("GET",t,{httpRetry:this.httpRetry}),{ymreqid:n,listContentType:r,timezone:o}=e;return s.setHeader("Accept","application/json"),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0,s.send({ymreqid:n}).then(e=>JSON.stringify(Object(E.i)(JSON.parse(e.text),{listContentType:r},{timezone:o})))}deletePensieveApi(e){const t={itemIds:[e.itemIds]},s=`${this.bootcampHost}`+"/v3/items/hide?"+Object(c.stringify)(e),n=new a.b("POST",s,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.setCookieHeader(this.cookie),this._setCustomHeaders(n,this.headers),n.withCredentials=!0,n.send(t).then(e=>JSON.stringify(JSON.parse(e.text)))}gifsApi(e){const{ymreqid:t,timezone:s}=e,n=this.bootcampHost+function({query:e,mailboxId:t,wssid:s,offset:a,source:n=m.w.TUMBLR}){const r=Object.assign({vertical:"WEB",mimeTypes:"image/gif",source:n,limit:20,appid:"norrin",order:"desc",mailboxId:t,wssid:s,cursor:a},e||n===m.w.TENOR?{query:e}:{});return"/v3/items?"+Object(c.stringify)(r)}(e),r=new a.b("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),this._setCustomHeaders(r,this.headers),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>JSON.stringify(Object(E.i)(JSON.parse(e.text),{listContentType:m.Db.GIFS},{timezone:s})))}suggestionsApi(e){const t=new a.b("GET",this.bootcampHost+"/v3/suggestions?",{httpRetry:this.httpRetry});return t.setHeader("Accept","multipart/form-data"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0,new Promise((s,a)=>{t.createStream(Object.assign({multipart:!0},e)).on("error",a).pipe(Object(n.a)({boundary:p.d})).once("data",t=>{let n;try{n=Object(E.o)(JSON.parse(t),{timezone:e.timezone})}catch(e){return a(e)}s(JSON.stringify(n))})})}recentSearchesApi(e){const t=this.bootcampHost+"/v3/recentSearches?",{ymreqid:s,wssid:n}=e,r=new a.b("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),r.withCredentials=!0,r.send({ymreqid:s,wssid:n}).then(e=>JSON.parse(e.text))}linkContentProviderApi(e){const{redirectUrl:t,errorUrl:s,q:{appid:n,wssid:r}}=e,o=`${this.bootcampHost}/v3/contentProviders/${e.provider}${e.unlink?"/remove":""}?${Object(c.stringify)({appid:n,wssid:r})}`,i=new a.b("POST",o,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.setCookieHeader(this.cookie),this._setCustomHeaders(i,this.headers),i.withCredentials=!0,i.send({redirectUrl:t,errorUrl:s}).then(e=>e.text)}}}).call(this,s(323).Buffer)},function(e,t,s){"use strict";var a=s(112),n=s.n(a);t.a=function({boundary:e,headers:t}){const s=Object.keys(t).reduce((e,s)=>`${e}${s}: ${t[s]}\n`,"");return n()(function(t){this.queue(`--${e}\n${s}\n${t}\n\n`)},function(){this.queue(`--${e}--`),this.queue(null)})}},function(e,t,s){"use strict";(function(e){var a=s(45),n=s.n(a),r=s(22),o=s(19),i=s(485),c=s(8),l=s(51),d=s(487);const E=r.a.GET,_={Transport:r.b,request:e=>{const t=e.sectionId,s=Object.keys(t).map(s=>_._sendRequest(e,t[s]).then(e=>(Object(c.a)(e,"body.error")&&d.a.feature("gemini_no_ads",babelHelpers.extends({},e.body,{sectionId:t[s]})).logFailure(),e)));return Promise.all(s).then(t=>_._constructAdResponses(t,e))},_sendRequest:(e,t)=>{Object(o.a)(e.ymreqid,"ymreqid is required for making requests to Gemini ssi"),Object(o.a)(e.userAgent,"userAgent is required for making requests to Gemini ssi");const{logRequest:s=(()=>{}),ymreqid:a,rotationActionType:n,region:r}=e,i=new _.Transport(E,l.b+l.i);i.setHeader("Accept","application/json"),i.setHeader("X-Forwarded-For",e.remoteAddress),i.setHeader("User-Agent",e.userAgent),e.cookie&&!e.forceFilter&&i.setHeader("Cookie",e.cookie);const c={apiName:"geminiAd.get",sectionId:t,rotationActionType:n,ymreqid:a,intl:r},d=_._getQueryParams(e,t),u=i.send(d);return s(u,c),u},getForceFilter:t=>{const s=n.a.stringify({useForceFilter:!0,forceFilter:"creative_id:"+t,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new e(s).toString("base64")},_getQueryParams:(e,t)=>{const{locale:s,region:a,ymreqid:n}=e,r="zh-Hant-HK"===s||"zh-Hant-TW"===s?"zh_TW":s.substr(0,2),o=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:l.f,creativeCode:"STRM",propertyName:"mail_norrin",siteLanguage:r,countryCode:a,requestId:`${n}-${t}`,publisherInfo:"||159600001|STRM|",contentInHttps:1},e);o.sectionId=t||l.f,o.adCount=l.a[+t]||1,e.buckets&&e.buckets.length&&(o.bucket=e.buckets.join(",")),+t!==l.h||e.videoMomentEnabled||(o.creativeCode="STRM"),"devbox"===e.environment&&(o.nonRevenue=1),o.forceFilter&&(o.forceFilter=_.getForceFilter(o.forceFilter),o.nonRevenue=2);const i={};for(const e in o)l.d[e]&&(i[l.d[e]]=o[e]);return i},_constructAdResponses:(e,t)=>{const s={};return e.forEach(e=>{if(Object(c.a)(e,"body.ads",null)){const a=Object(c.a)(e,"body.section.id",l.f),n=Object(i.a)(e.body.ads,a,t);s[a]=-1!==[l.c,l.j,l.g].indexOf(a)?[n]:n}}),s}};t.a=_}).call(this,s(323).Buffer)},function(e,t,s){"use strict";s.d(t,"a",function(){return c});var a=s(59),n=s(51),r=s(486),o=s.n(r),i=s(8);function c(e,t="",s={}){return Array.isArray(e)?e.map((e,r)=>{const c=function(e){let t;try{t=JSON.parse(e)}catch(e){a.a.error("Gemini ad tag is not valid JSON")}return t}(e.tag);if(!c)return;const l=function(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};const t=e.assets.map(function(e){return e.mediaInfo.map(function(t){const s=e.embeddedLandingUrls||[];return t.usageType=e.usageType,t.embeddedLandingUrls=s.reduce(function(e,t){return e[t.index.toString()]=t,e},{}),t}).reduce(function(e,t){return t.usageType===n.k.ImagePortrait&&t.contentLabel!==n.e?e:t.url?t:e},{})});return o()(t,function(e){return e.usageType})}(c),d=function(e){let t;return Array.isArray(e.assets)&&e.assets.length>0?(e.assets.forEach(e=>{e.usageType===n.k.VideoPrimary&&(t=e.mediaInfo.map(e=>e))}),t):null}(c),E=function(e,t,s){return Array.isArray(s)&&s?{videoMediaAssets:s,clickUrl:t.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:t.callToAction,thumbnail:t.thumbnailImage||t.hqImage||""}:null}(e,c,d),_=function(e,t,s={}){if(!t)return;const{actionUrls:a,ccCode:n}=e,{url:r,contentType:o,usageType:i,embeddedLandingUrls:c}=s,l=new RegExp("(.png|.gif|.jpg|.jpeg)$","i");let d="";return r&&r.match(l)&&(d=[`<a target="_blank" href="${t.landingUrl}" rel="noreferrer">`,`<img src="${r}" style="display: block; margin: auto; max-width: 100%;"/>`,"</a>"].join("")),{contentType:o||"",url:r||"",usageType:i||"",geminiSponsoredAsset:d,actionUrls:"STRM_VIDEO"===n?"":a,embeddedLandingUrls:c}}(e,c,l[n.k.HtmlPrimary]),u=function(e,t,s={}){if(!t)return;const a=s[n.k.VideoPreview]||{},r=s[n.k.ImagePortrait]||{},o="image/jpeg"===r.contentType?r.url:"";return t.secThumbnailImage=/^https:\/\//.test(t.secThumbnailImage)?t.secThumbnailImage:"",{adHeadline:t.headline||"",adSummary:t.summary||"",adImg:t.secThumbnailImage||t.secImage||"",adSource:t.source||"",clickUrl:t.clickUrl||"",landingUrl:t.landingUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:t.imprTrackingUrls?t.imprTrackingUrls:[t.imprTrackingUrl],adFeedbackBeacon:t.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:a.contentType||"",previewVideoUrl:a.url||"",callToAction:t.callToAction||"",flashSaleEndTime:Object(i.a)(t,"passThroughFields.flashSaleCountdownMilliSec",null),imagePortrait:o||t.secOrigImg||t.origImg||"",origImg:t.secOrigImg||t.origImg||"",brand:Object(i.a)(t,"passThroughFields.brand"),productAdActivity:Object(i.a)(t,"passThroughFields.productAdActivity"),productAdActivityMessage:Object(i.a)(t,"passThroughFields.productAdActivityMessage"),salePrice:Object(i.a)(t,"passThroughFields.salePrice"),fullPrice:Object(i.a)(t,"passThroughFields.fullPrice")}}(e,c,l);return u.actionUrls&&u.actionUrls.STATIC_VIEW_3P&&(u.actionUrls.STATIC_VIEW_3P[0]=u.actionUrls.STATIC_VIEW_3P[0].replace("$(S_VIEW_TYPE)",u.rules.viewabilityDefStatic3P[0].t)),u.sectionId=t,u.beacon=e.beacon.replace("$(AD_POSN)",r+1)||"",u.type=function(e,t,s,a){return a.productAdActivity?n.k.ShoppingCartAdType:"STRM_VIDEO"===e&&t?n.k.VideoAdType:s.usageType===n.k.HtmlPrimary&&s.url?n.k.NativeAdType:a.flashSaleEndTime?n.k.FlashSaleAdType:n.k.PencilAdType}(e.ccCode,E,_,u),u.domain=s.domain,function(e){const{adFeedbackBeacon:t,adImg:s,beacon:n,clickUrl:r,impressionTrackingUrls:o}=e;![t,s,n,r,...o].every(e=>!e||/^https:\/\//.test(e))&&a.a.feature("gemini_non_https_url",e).logFailure()}(u),{creativeId:e.creativeId.toString(),nativeAd:_,pencilAd:u,videoAd:E}}).filter(Boolean):[]}},,function(e,t,s){"use strict";var a=s(58);t.a=s.n(a).a.create("norrin/gemini_client")},,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z281SGl cZW7ROP_n en_0 cvhIH6_T"},allowPointerEvents:{icon:"cZW7ROP_A"},flipRTL:{rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRpVF"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Z26U5qH"},"colorState-DARK":{icon:"cdPFi_Z281SGl"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1Xxgu0"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_52qC"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-INVERTED_MORE_DIM":{icon:"cdPFi_ak5jA"},"colorState-SELECTED":{icon:"cdPFi_Z2aVTcY"},"colorState-PRIMARY_HOVER":{icon:"cdPFi_Z29WjXl"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z21zYBA"},"colorState-STARRED":{icon:"cdPFi_ZkhR3R"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcEUn"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNWR"},"colorState-ADVISORY":{icon:"cdPFi_ZkcEUn"},"colorState-FIRST_LEVEL_ORANGE":{icon:"cdPFi_ZkhR3R"},"colorState-WARNING":{icon:"cdPFi_Znn46r"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_2sqbQg"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNWR"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-SUCCESS":{icon:"cdPFi_Z287E9E"},"colorState-WHITE":{icon:"cdPFi_52qC"},"colorState-ICON_HOVER_BGCOLOR":{icon:"cdPFi_2ieea9"},"colorState-GRAD_BLUE":{icon:"cdPFi_Z2aVTcY"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-SMARTVIEW_PEOPLE":{icon:"cdPFi_ZkcEUn"},"colorState-SMARTVIEW_SHOPPING":{icon:"cdPFi_Z1tEW3v"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z2aVTcY"},"colorState-FACEBOOK_ENABLED":{icon:"cdPFi_Z269xr6"},"colorState-LINKEDIN_ENABLED":{icon:"cdPFi_Z2dxU8K"},"colorState-TWITTER_ENABLED":{icon:"cdPFi_Z2a87Op"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"size-XXXL":{icon:"W_3n93F H_3n93F"},"size-40":{icon:"W_72FG H_72FG"},"rotate-D45":{icon:"h_1RtVxM"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"qo84p"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"P_0 C_Z281SGl r_P y_Z2uhb3X A_6EqO cvhIH6_T ir3_1JO2M7 cZ11XJIl_0"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC l_Z2aVTcY I3_Z2bdAhD l3_Z2bdIi1 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z2aVTcY C_52qC b_0 P_ZGAgNS E_fq7 i_6FIA u_e69 I3_Z2bdAhD I0_Z2aVTcY I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z2aVTcY l4_Z2aVTcY"},"kind-SECONDARY":{button:"I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_52qC b_0 C_Z2aVTcY H_q P_1EudUu M_0 I4_2iedUU C4_Z29WjXl"},"kind-DANGER":{button:"I_52qC C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_2ieea9"},"kind-PILL":{button:"b_Z14vXdP P_1Eu6qC H_6NIX W_A e_6Fd5 C_q q_T I4_2ieea9"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1VRpVF u_e69 b_0 C4_Z2dyg2z C3_Z2aVTcY"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF I3_1I4yPF it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF C4_Z2aVTcY I3_1I4yPF it3_689y"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},marginLess:{button:"M_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},THEMED_LIKE_COMPSOE_BUTTON_ATT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_FRONTIER:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_ROGERS:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_BT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SKY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DEFAULT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SUNRISE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_AQUA_GREEN:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_AQUA_BLUE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DEEP_PURPLE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_BLUE_NIGHT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_NIGHT_LANDSCAPE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_ROADTRIP:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SUNSET_AUSSIE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_LIGHTHOUSE:{button:"I_ZamTeg C_52qC l_T"}},_key:"ZNSCb8"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q cvhIH6_T ir3_1JO2M7",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N o_h X_eo6 G_e t_l i_N"},"size-XXXS":{button:"P_dBP"},"size-XXS":{button:"P_dRA"},"size-XS":{button:"P_eo6"},"size-S":{button:"P_fq7"},"size-M":{button:"P_fq7"},"size-L":{button:"P_6Eb4"},"size-XL":{button:"P_6Fd5"},"size-XXL":{button:"P_6Fd5"},paddingLess:{button:"P_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj X_0"},disabled:{button:"r_BN"}},_key:"Z1UAQih"}},function(e,t,s){"use strict";e.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemefalse:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemetrue:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",textSvg:"em_N H_6FIA",text:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O4_N P_2gqvDS",checkmailIcon:"en_0 O4_N P_2gqvDS",decorator:"D_F en_0 Q_eo6 E_eo6"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z281SGl I_52qC I4_Z1owzy4 N4_6Eb4",text:"C_Z281SGl G_e"},"kind-BAR":{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_1MYwXA",darkMode_photoThemefalse:"P_1MYwXA",darkMode_photoThemetrue:"P_1MYwXA"},decoratedSettings:{decorator:"P_eo6"},activeHover:{tab:"r_BN",darkMode_photoThemefalse:"r_BN",darkMode_photoThemetrue:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"},animate:{tab:"ah_2wpkLb",darkMode_photoThemefalse:"ah_2wpkLb",darkMode_photoThemetrue:"ah_2wpkLb"},extraIconPadding:{decorator:"X_eo6"},darkModePhotoTheme_NIGHT_LANDSCAPE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_cOYC3 I4_cOYCy",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_ROADTRIP_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_1iaDpX I4_1iaDqt",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_SUNSET_AUSSIE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_2woiXE I4_2woiYa",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_LIGHTHOUSE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_t5YJT I4_t5YKp",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_NIGHT_LANDSCAPE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_1qHGaS I4_1qHGaS cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zrb5Gc I4_Zrb5Gc cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_2bmuGB I4_2bmuGB cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zsxwsy I4_Zsxwsy cdPFi4_52qC"}},_key:"ZklX7d"}},function(e,t,s){"use strict";e.exports={className:{default:{popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_52qC j_ZlOSbd"},"bg-DARK":{popoverContent:"C_52qC I_Z281SGl j_n"},"zAltitude-500":{popover:"Z_e69",popoverContent:"j_nWwhY"},"zAltitude-900":{popover:"Z_f8a",popoverContent:"j_ZqTdtW"},"zAltitude-9000":{popover:"Z_7G9R",popoverContent:"j_ZqTdtW"},"zAltitude-10000":{popover:"Z_3mRud",popoverContent:"j_ZqTdtW"},"zAltitude-11000":{popover:"Z_3n0uA",popoverContent:"j_ZqTdtW"},"borderRadius-LOW":{popoverContent:"e_dRA"},"borderRadius-MEDIUM":{popoverContent:"e_eo6"},"borderRadius-HIGH":{popoverContent:"e_eTB"},"borderRadius-MOBILE_DEFAULT":{popoverContent:"e_fq7 o_h"},animate:{popover:"lv_1Ys0hm"},highlight:{popover:"b_ZXQDCD e_dRA j_Z1oW7xg",popoverContent:"p_R e_0 j_n"}},_key:"Z25xDOr"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZlOSbd"},"zAltitude-900":{pointer:"j_ZlOSbd"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"}},_key:"1n41Mj"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_nWwhY"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"}},_key:"SXduY"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_ZqTdtW"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"}},_key:"1Bt427"}},function(e,t,s){"use strict";e.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"Z1bnxvY"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuContentContainer:"P_1HKSdG",menuButtonContainer:"em_N",menuButton:"em_N r_P y_Z2uhb3X A_6EqO b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_52qC A_6EqO o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z2A6Uz m_0 M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6NIX M_Ic8v9",closeAllButton:"y_Z2uhb3X A_6EqO b_0 I_T t_l C_Z1YRXYn P_1Eu7sD H_6VdP W_6D6F r_P I4_Z1owzy4",closeAllText:"D_F ab_C"}},_key:"Z1yrLzI"}},function(e,t,s){"use strict";e.exports={className:{default:{background:"e_6Fd5 P_dRA lv_Z1G1k6c ir_0 D_B W_6UbO H_6Fd5 p_R r_BN I_52qC b_Z1a7UWG",handle:"p_R D_B W_fq7 H_fq7 I_52qC e_6Fd5 lv_Z1G1k6c L_0 b_Z1a7UWG"},"size-L":{background:"W_74JI H_6MGW",handle:"W_6Eb4 H_6Eb4 L_e8l"},isEnabled:{background:"I_Z2aVTcY b_2fAfSG",handle:"L_6Fd5 b_6i9dl"},isEnabledAndLarge:{handle:"L_6MWH"},isClickable:{background:"r_P"}},_key:"Zw2nvR"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F F_n gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"},inverted:{arc:"cZ13pKbK_52qC"},flex:{wrapper:"F_N H_6D6F"}},_key:"n3x6k"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C4_Z2aVTcY"}},_key:"Zt4S9c"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C",primaryButton:"A_6EWk C_Z2aVTcY r_P"}},_key:"pbtff"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P",notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"1xydhh"}},function(e,t,s){"use strict";e.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_52qC p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_Z22jis8 D_F gl_CH N_fq7 lv_ZLoey2",label:"C_52qC A_6DUj u_b i_6Fd5"}},_key:"Z7L78D"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3vhr3 k_w I_52qC D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z2aVTcY A_6EqO y_Z2uhb3X b_0 r_P",bar:"Y_6Eb4"}},_key:"2uBe7N"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F o_h",label:"D_X o_h J_x G_e",count:"X_fq7 D_F en_0",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg "}},_key:"Z2hqMtH"}},function(e,t,s){"use strict";e.exports={className:{default:{notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO",button:"C_Z2aVTcY A_6EqO"}},_key:"1zb16t"}},function(e,t,s){"use strict";e.exports={className:{default:{settings:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5",restoreWrapper:"P_ZuGzVr",lineText:"N_6Fd5",option:"r_P",lightLink:"C_Z2aVTcY r_P"}},_key:"Z1DxJc6"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"}},function(e,t,s){"use strict";e.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_Zjpytw D_F ab_C gl_C",container:"j_1doAr4 ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"},hideShadow:{container:"j_n"}},_key:"ZrKsXm"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT",header:"M_0 P_2Xpez D_F ab_AJ A_6FsP",spaceid:"P_Z1E2XDm",positionRow:"P_Z1E2XDm D_F",positionCol:"F_N",button:"ac_C I_Z2aVTcY C_52qC M_1aQVuq b_0 H_6NIX P_2aKXbq"}},_key:"Z5vnm3"}},function(e){e.exports={a:"https://s.yimg.com/nq/nr/"}},function(e){e.exports={"/img/10top_brands_logos.jpg":"/img/10top_brands_logos_llMIRx5iG7M-Rd8jVPwOddyjhgij3gfyB5ew4EB0bL8_v1.jpg","/img/account_sources.png":"/img/account_sources_iQKP5uKDKvfrt7llV7vYlDyUcLvUE9fp0y-qGYWwEbs_v1.png","/img/accounts.png":"/img/accounts_1nd2Eye60wTf2xrCGZbes4un4vItAKHigeEDfu4ulJU_v1.png","/img/ad_format_selection_ad_free_icn_selected.png":"/img/ad_format_selection_ad_free_icn_selected_GuzCTiUSYDllVdnzPjXGVbx-iPmznf8vT87FTCKVUfA_v1.png","/img/ad_format_selection_ad_free_icn.png":"/img/ad_format_selection_ad_free_icn_GyqKHJYnyeJdYQDRExuLbDCar5G2-3uBjKQu7BxSk9Y_v1.png","/img/ad_format_selection_ad_free_phone.png":"/img/ad_format_selection_ad_free_phone_xpFyneoJDD6Rav228pDZGfvyN0ngHNLf3rgjKWSGZ0c_v1.png","/img/ad_format_selection_pencil_ad_icn_selected.png":"/img/ad_format_selection_pencil_ad_icn_selected_FOaFMNvONpzqoU83iK1sLUX3h48d0_Jb_UvfakXN6MY_v1.png","/img/ad_format_selection_pencil_ad_icn.png":"/img/ad_format_selection_pencil_ad_icn_5m1aZM3JxGPyLzPdWsZi0lnukIMPXnJqOHKcvzPmzZg_v1.png","/img/ad_format_selection_pencil_ad_phone.png":"/img/ad_format_selection_pencil_ad_phone_AatTQ76Ik24c-68e4TIxxOSH8GdsW1bme9fn_ceGpXM_v1.png","/img/ad_format_selection_sm_icn_selected.png":"/img/ad_format_selection_sm_icn_selected_CYipwBfLX3gkwMgJtmn77-GmUTuEOC6jH90nXn0Ib5U_v1.png","/img/ad_format_selection_sm_icn.png":"/img/ad_format_selection_sm_icn_OJULoVdzzUYWCjl2vtRhXiSLHAHB_P8dlWQ7zj1Ieyc_v1.png","/img/ad_format_selection_sm_phone.png":"/img/ad_format_selection_sm_phone_wBFf0Qzyb9I9PfgiX5TJkh_d_IRRM1Ft5aq-I4LZo2U_v1.png","/img/adblock_upsell_bg.png":"/img/adblock_upsell_bg_PppZ_B01W7h3CQopBxz8dVaFQxebyaZUhnXMEfm6GRo_v1.png","/img/adblock_upsell_emoji_v6_1.png":"/img/adblock_upsell_emoji_v6_1_vpVm7gxUPFcIILvP_8tLLaHEouOj0XrpnWl3RxkaCmA_v1.png","/img/adblock_upsell_emoji_v6_2.png":"/img/adblock_upsell_emoji_v6_2_cy0WOpnH6NB19yGln-iPlCenkwSMPzaXR-JAqtZ-RAw_v1.png","/img/adblock_upsell_emoji_v6_step2.png":"/img/adblock_upsell_emoji_v6_step2_pyl1XhC-eSM3545nE6nCAcnrh5aktxEZDTJA6v6z6W4_v1.png","/img/adblock_upsell_emoji.png":"/img/adblock_upsell_emoji_3wn8gXgM7jp1wTh4FyGrlWm-Ujl63tHPD6PgiOUjlWY_v1.png","/img/adblocker_examples.png":"/img/adblocker_examples_9q4lcF3b3Mau6jIa3Adz2Mkz6Nqk7VvnCkqfNXkLP_w_v1.png","/img/add_coupon_icon.png":"/img/add_coupon_icon_icqjwiXsXAkfsacocnFSWMBgLaFFHIf6QzVJ-Z1A0Ec_v1.png","/img/animation_adblocker.gif":"/img/animation_adblocker_GOWX9h-awX9lPkuLkfUfrpqcWU5OSmOCOoBuM4vTID4_v1.gif","/img/att_favicon.png":"/img/att_favicon_MfGbnKVgiBjX8NYye-jw69e2dDVTvzS1GHVjgKH6dRM_v1.png","/img/banner_bg.jpg":"/img/banner_bg_qXF28kscVA6dgD37S0WT2ng1GEICc1nd2Mr4wv6bTDw_v1.jpg","/img/basic_mail_icon_sprite_1x.png":"/img/basic_mail_icon_sprite_1x_auMbXwv2WaC4E8YnyPKf8Hie8U_CrE12cqcqIk_ob7g_v1.png","/img/basic_mail_icon_sprite_2x.png":"/img/basic_mail_icon_sprite_2x_3bfbdfqHFcQziq3X2GlH7BC-xnvX_2uIX1swZ75TBdA_v1.png","/img/basic_mail_icons.gif":"/img/basic_mail_icons_rmxEfE1PL4Ar_qT3TFxjOYpmJFOavl-vuj4gVsrpZCg_v1.gif","/img/bluetruck_illustration.png":"/img/bluetruck_illustration_dVvQR2GFxZkjfh8F3DKeKCRmjvSKcgtseVCQ_HyDGoc_v1.png","/img/browser_icons.png":"/img/browser_icons_ahJCt0stnPEWhAglCZlyOs5bfjVgAEIkdm3qsiVbn40_v1.png","/img/categorization.png":"/img/categorization_5zn0n6_7uerOd1wvNGySUTaNAFUAv2_H6nxw1iwBwQ0_v1.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_zWbkZgLwqImhmUeIQc3bm8SNrFitPRklzpSlk3RDgqQ_v1.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_7kunwyrShFg81vTdaxj3wV0cS5sOvE7fCC1pqUtQmRc_v1.png","/img/coupon_emptystate_dark.png":"/img/coupon_emptystate_dark_2ddSB6JIAMN_8Flo8ABLaGmiHWx4fRGqX9Nex7FJ4fA_v1.png","/img/coupon_emptystate_light.png":"/img/coupon_emptystate_light_57U4--78ByaWDgm7NIQ8NLUV3E4-0myYWlTtcFVOKZg_v1.png","/img/coupons_view_cue.png":"/img/coupons_view_cue_-FGNCM99gd0D3Y2NEGNsiJ9_s4ieXl6Wb9BASIhBojY_v1.png","/img/dialogue_cue_2x.png":"/img/dialogue_cue_2x_s5allvEg4Tju1MnIAyg3cAkP0bV-ZIkihNqKY5KamHw_v1.png","/img/dialogue_cue.png":"/img/dialogue_cue_zd3E04rRFiJTDqi9VBupr-fcuDdlwp8YY3xnKXpzGiQ_v1.png","/img/earny_compare.png":"/img/earny_compare_bRPQcdv8s3h-rfeRubNQfwLvtbEldV6qTnIYfV2CrVk_v1.png","/img/earny_file.png":"/img/earny_file_X1nioTykNoj8Jn3u2-pWAYL9KQYu_bSj4MKtAPp-zAU_v1.png","/img/earny_logo.png":"/img/earny_logo_BRIi6CbmtlYHomuEsdrhnBMwsEkZoEUPQV5ehkik7jE_v1.png","/img/earny_money_illustration.png":"/img/earny_money_illustration_UjT3GERuWsMvVtw7vquj6HxQWFK8geDyBHbLR5Qo03c_v1.png","/img/earny_refund.png":"/img/earny_refund_rLZC1b9XSVDVCya9RqT0026e9_7-xClTvOg2nwDpSLo_v1.png","/img/email_organize.jpg":"/img/email_organize_61cSQOgX2BZREDyBzUrNKMSsLFjNiBzD4HjuOJ_T-YI_v1.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_Z-PQNF4DA6D9x_MKkwqlso9l5PSZ5z5GhkxS6rcG6Zk_v1.png","/img/empty_contacts.png":"/img/empty_contacts_H8Y9myLGlVYCM__mARuEEz6qR95PrgUGtZS3GBfsrNI_v1.png","/img/empty_contacts2x.png":"/img/empty_contacts2x_BuQmX0YJAhIYwUyFPzHZ0mVnIhAhshQt4R6DJDIMVsg_v1.png","/img/empty_contacts3x.png":"/img/empty_contacts3x_WCcZCCPst_l_leSksHgbxsTEm0kTKVDnYN4qRQgl50k_v1.png","/img/error_state_1x.png":"/img/error_state_1x_PKSn0H8KFmeH0tZRJC6df7xcWtmAEyxWEDkleJx6QB0_v1.png","/img/favicon.ico":"/img/favicon_LFWFGUw4cMt2cbVGy0T6xBqoJ4BBr2VKY56xSLK4IX0_v1.ico","/img/fbbot_cue.png":"/img/fbbot_cue_UGh-82n1HYQx0jwIRLjAApLfXUCEy6yBQpVywVUQlps_v1.png","/img/festive_graphic.png":"/img/festive_graphic_0uEfHHC7QHfyJ3S3YvpL_po11eQZLr5eyy6tvn0uYP4_v1.png","/img/filters.png":"/img/filters_yHgb1PmhFXeM7dA3NApWU8K4QgGdiHC2UV8JpuWk1TY_v1.png","/img/finish_onboarding_illustration_2x.png":"/img/finish_onboarding_illustration_2x_5_C-n3F0rNI5aIAVOUCHsCHvKcVjftrnZQOyzZHq0Is_v1.png","/img/finish_onboarding_illustration_3x.png":"/img/finish_onboarding_illustration_3x_0UgVFoHZDC6C0RvqjZojIL7mutNuEOr9hw4GweUlJ9A_v1.png","/img/firefox_logo_1x.png":"/img/firefox_logo_1x_xPvCiPmfQZ0mpEJ7_cVKMiVzeS7VxYwDMEqxk8fBLTE_v1.png","/img/firefox_logo_2x.png":"/img/firefox_logo_2x_uysP81r-hlniRJUTXOnANirKUw2PkA1W2lylDWkaE_0_v1.png","/img/flights_past.png":"/img/flights_past_j8zGHhIg_m-qx49p5E0JWMWRNg1GN66V5x84dXZzd-E_v1.png","/img/flights_upcoming.png":"/img/flights_upcoming_RantjpbGBMfbnfwBkbRYj7KH9_tD-FRJC-yHBNPsrKE_v1.png","/img/gemini_pencil_play.gif":"/img/gemini_pencil_play_QlDOpN6VzAygUq52NVG08-jnfkl_E15TlmXnFWrbTVE_v1.gif","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_LEUjFFdlfoXu1AtRyMXjFNHYH-ma_MEiSbW7VHddqhU_v1.png","/img/grocery.png":"/img/grocery_f9dJsDExPq8ca2ISzd3f8PyGvM9yTbHSvHexQVebzIo_v1.png","/img/holiday_card_upsell.png":"/img/holiday_card_upsell_TMnMGn51Dx7PzkOboqdCZSfHbcFCojIz_PDRbBMRkbQ_v1.png","/img/home_screen_android_192.png":"/img/home_screen_android_192_HhDxuHELFPqfjx7sc01pWnI7E2jnc0oQyEIDd7wkg_0_v1.png","/img/home_screen_android_512.png":"/img/home_screen_android_512_xFXDztzgEs_qPk6JYHtS0BkQMlZcRWKszdbwc59_tWE_v1.png","/img/home_screen_ios_120.png":"/img/home_screen_ios_120__QnvRjzKYlIMKPJEqWltmadnpLrJtBeMFtnXmJS6SSk_v1.png","/img/home_screen_ios_152.png":"/img/home_screen_ios_152_-XMniI1egNiZSc2mVlekAVQhLhMg2iJvS8c-oqSC4L8_v1.png","/img/home_screen_ios_167.png":"/img/home_screen_ios_167_hZSKR2GMx1nhmbQn7_YB2OarRP-ojANhV3z0WvpkHiE_v1.png","/img/home_screen_ios_180.png":"/img/home_screen_ios_180_DJ0UEXpXM9v2tssfCohCI08Hn_TVL_dfwqYvGGs7CQE_v1.png","/img/hotel_search_header.png":"/img/hotel_search_header_77deu34EKBWxHgkoee-dLux-d1EcYqo-YFXFCSXP2OY_v1.png","/img/icon_alert.png":"/img/icon_alert_QAOF3wxCVUv2M77-Ou2cD-tiiDm5bK2M4mBRMjqBoVU_v1.png","/img/icon_chrome1x.png":"/img/icon_chrome1x_nMPfEt2mF3tPcpQT15AkBw0yIQe5MRDnBiYsHiSg4tg_v1.png","/img/icon_chrome2x.png":"/img/icon_chrome2x_PjFwQ2xNtXAGL8gx4aKL4tnUDq4kyq74R4Syliu4CYo_v1.png","/img/icon_mail.png":"/img/icon_mail__B65oasTtMfqAvhH2Nc9WL_yH-sifCdLFw7UykqE9C4_v1.png","/img/imapin_providers.png":"/img/imapin_providers_hId7kihdRpyXPgnwOGdE1HfmyRAJXHmmN6nMqRKG5qw_v1.png","/img/landshark_close_v2.png":"/img/landshark_close_v2_iwb8fxruLJwC6JD7xGwBRK-iE9-a3CBaUsPY1TH0Njs_v1.png","/img/landshark_close.png":"/img/landshark_close_U6n9PguTQSJC6JUn4Xeb37kS3i9F5JPY4cqxNyVf13k_v1.png","/img/landshark_coupon_landscape.png":"/img/landshark_coupon_landscape_XYyAgWf3O8u2byo-AYdYv545BcUWS8RoWHSO-FH170k_v1.png","/img/landshark_coupon.png":"/img/landshark_coupon_zhzdRX5MbBQf7-hZ5r-W0yGXBzISAhKsRXPyX8L73s4_v1.png","/img/landshark_gifs_landscape.png":"/img/landshark_gifs_landscape_WQRT9pH-zakCO7_eK4l0S7fIrms_KH-pDj27d7EnoQo_v1.png","/img/landshark_gifs.png":"/img/landshark_gifs_Wfq6fs_5BJ0u2dO-rxCk-hc96aoJe54YiOS6eObaT7k_v1.png","/img/landshark_logo.png":"/img/landshark_logo_ybxxnTqG__IW0zErfX2E5OaDHZbszjW8THOICsh5kRI_v1.png","/img/landshark_notification_landscape.png":"/img/landshark_notification_landscape_J7hgOLx9U3lu0lpoEtdn3YU6q-vBniuSRkU5ZYP72n4_v1.png","/img/landshark_notification.png":"/img/landshark_notification_vLVx4zkbEZ5E8HzpAuDX7kaw7ALHS2zMOtPpguFCNY4_v1.png","/img/landshark_star_rating.png":"/img/landshark_star_rating_eCQB0KVowZc7vIwHooY2izBCqwVIUU4lkJDmFNEbL4c_v1.png","/img/landshark_yahoo_app.png":"/img/landshark_yahoo_app_h5IKZHZsQBYv0Iy-VmaAYe6GkNTyuYrFiyACj6n9jIA_v1.png","/img/lighthouse_bg_pattern.jpg":"/img/lighthouse_bg_pattern_jpjqmQ-nwLBVZ5y8OjrL5-i1heaJ8IWPnJUjf1IUIyk_v1.jpg","/img/lighthouse.jpg":"/img/lighthouse_PUgvxDHl-qtULKc42tNN15lR_dAJgTEZF2_nVB1LpHE_v1.jpg","/img/logo_aol.png":"/img/logo_aol_clxvkBqQO5A4NyDBQL_XUQnYFNgJc6w7wBBB9JK4ZXI_v1.png","/img/logo_bookingcom.png":"/img/logo_bookingcom_SjLhCyprQQMNkJQezGRPDxCPvO_nU4Onk3YUIES8bFI_v1.png","/img/logo_google.png":"/img/logo_google__aTo1DuheYRfWYlCK2bkqqQ8B0MCtpVBqJiEhsZ7N-w_v1.png","/img/logo_hipmunk.png":"/img/logo_hipmunk_fYUTx1uP8id-X4RbsLc4Kpf1ABSkdNuiTYH1RBtWZBE_v1.png","/img/logo_outlook.png":"/img/logo_outlook_3qQfp6WXMHdFhQ_3mEUKenPJSCirJIquWiRKJYiZHaI_v1.png","/img/logo_seatgeek.png":"/img/logo_seatgeek_ImpK17gPzk44uSv8A_WpYoEFJFkJFUK0sWv42VmRMkw_v1.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_vr6aFgo5aAbRZ4r-JZHcykubmdJhqVATpH8mna4wl_Y_v1.png","/img/logo_yahoo.png":"/img/logo_yahoo_NCltWA5ApN7a1rUCdSG8Jly0nlgFTOu5mPPMqYTMOrY_v1.png","/img/mail_logo_1_2x.png":"/img/mail_logo_1_2x_B2CE8ywvwV5cBlssyru2x8jZczu-3z-0OCic7iHR7TU_v1.png","/img/mail_logo_1.png":"/img/mail_logo_1_05WibzspZUTzEde6qQorLAqCcGWyEDM57nEXJh3mFcc_v1.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_O6Ucamw93q_XxSSrwFmA2gHcpwZfapblbG2CYKR-FAY_v1.jpg","/img/mail_pro_badge.png":"/img/mail_pro_badge_qyLbrdGnKGfG0HbG1hyOsQ0RTjSSu8z0DgzOTgoLUUs_v1.png","/img/mail_pro_nomoreads.png":"/img/mail_pro_nomoreads_F1MNaI1YIoFU0YFMvbArpNllAp5bputOiQXXpib4V8s_v1.png","/img/mail_pro_support.png":"/img/mail_pro_support_wUBKtvN-m1VwLIBI3Pd0b5zXREVCIhoVtO4qtzIJ8sI_v1.png","/img/mobile_imapin_syncing2x.png":"/img/mobile_imapin_syncing2x_GTe6ObaIxC9MKM9jWdo66fezuMraGMiigrrhLnjM3x4_v1.png","/img/mobile_imapin_syncing3x.png":"/img/mobile_imapin_syncing3x_7r181Lmkfbo6wJKVW7a8IjgEzJ3Alaw65hY7XMAzidw_v1.png","/img/mobile_onboarding_bg_stars.png":"/img/mobile_onboarding_bg_stars__QHV_uZ5TvgKh5VnDeHQ1lHbFKIVzC2d82MhuaxMJ_s_v1.png","/img/mobile_onboarding_compose.png":"/img/mobile_onboarding_compose_LiQHwNkEYsbIuXHZmjSr6_QwdY0ZtNTyjpKwxfhZz_M_v1.png","/img/mobile_onboarding_done.png":"/img/mobile_onboarding_done_2C_rqACUf2j-00rIHfm4yfAGv5rt5H1aAbEzSsFPFPQ_v1.png","/img/mobile_onboarding_folder_list.png":"/img/mobile_onboarding_folder_list_9GwuPfJ_x_aq7855j9zrw6-A8YbVLvNXWJx6UVsOmco_v1.png","/img/mobile_onboarding_notifications.png":"/img/mobile_onboarding_notifications_WtchBYwcEgpCWdqF7wp_KkOkkvNkdrNzYIj4Ge3LtnU_v1.png","/img/mobile_onboarding_swiping.png":"/img/mobile_onboarding_swiping_JRQWQvb24EWJmZUw-pDVkFC1zAttnkz9131_Yw0TFhI_v1.png","/img/mobile_onboarding_welcome.png":"/img/mobile_onboarding_welcome_fNk3h0ag2KzkQHnP28eiOaA7KI4azVIyAw1U51-QEYo_v1.png","/img/moms_day_upsell.jpg":"/img/moms_day_upsell_0Uptnu1vMNzQ-WnrXzWgU5cJsz-dOmVfh7SfC6abfbA_v1.jpg","/img/money_envelope_and_cc_illustration_2x.png":"/img/money_envelope_and_cc_illustration_2x_5LE_jAA5XRafUrLi40pVK1jsECCh9Fdoj8x1F3bM4aY_v1.png","/img/night_landscape.jpg":"/img/night_landscape_9rgor26l7kpsUIU_xuRZqIsKlx81vItVRrizcEVmK8A_v1.jpg","/img/notification.gif":"/img/notification_-rcyzPQT7KY2ZjtO4OwJRrn-Cjs7DhLJ03HAWS1tLq8_v1.gif","/img/offers_empty_state.png":"/img/offers_empty_state_F_AAtT8EWnRg5l_lrCiBTF1tJ81kyA6j0svkfLr4S5A_v1.png","/img/offline_state_2x.png":"/img/offline_state_2x_ADY9JQ2tMLM6k4voDBmpuFgCX5_oTvfPqDkZJnWfIss_v1.png","/img/onboarding_cue_imap_2x.png":"/img/onboarding_cue_imap_2x_SGlqr9zeZZe0euLWP6vU6XginBQ5CidA2eHXs1uVYc8_v1.png","/img/onboarding_cue_imap.png":"/img/onboarding_cue_imap_yWyhwokr3gKc96RTJzOsJCXJSckhDaQn7Ozza2aZG1o_v1.png","/img/onboarding_cue_notification_2x.png":"/img/onboarding_cue_notification_2x_IXLF85hmnjkTzGgEXbh18hkgs7_v5YON8QAbIwzShwY_v1.png","/img/onboarding_cue_notification.png":"/img/onboarding_cue_notification_rZIMLqk3IcbY_7gSdeaDViuFSnAWJ1NQt2JhoR8pvxw_v1.png","/img/onboarding_cue_themes_2x.png":"/img/onboarding_cue_themes_2x_1d5n5Shc3Xeuk38Dax41tCIhSxnqbUSqhBjMiE0aoVo_v1.png","/img/onboarding_cue_themes.png":"/img/onboarding_cue_themes_Zca6nK62x1zdd_xBVk28jPiGQniKTw0Z574FI8FO_wo_v1.png","/img/onboarding_cue_top_2x_att.png":"/img/onboarding_cue_top_2x_att_J9iSRWP-q2nJwfLBO-bZV82RmZuMieW07ot0ZsDyJd4_v1.png","/img/onboarding_cue_top_2x_bt.png":"/img/onboarding_cue_top_2x_bt_u7n2bVkuW2BLkFjTe3Tis4WGHDfxxO8j0cFyAM-VXHs_v1.png","/img/onboarding_cue_top_2x_frontier.png":"/img/onboarding_cue_top_2x_frontier_dowLOcdSOr7MgNQNh5C23a6NQJ1j9n7OUA7Z9SOHlvs_v1.png","/img/onboarding_cue_top_2x_rogers.png":"/img/onboarding_cue_top_2x_rogers_6E-Xw1ppVO7dTbF3kk5xdv3Ok-DotLnprfHZbc3SVmI_v1.png","/img/onboarding_cue_top_2x_sky.png":"/img/onboarding_cue_top_2x_sky_oitgn_QcKIk_uq5bxjKK8QPBkUJu9teGmn0EjL3rRWA_v1.png","/img/onboarding_cue_top_2x_verizon.png":"/img/onboarding_cue_top_2x_verizon_u9E1S4gQXLeen1aNyx6X2PGda_A55nzgu1Hlf8qV8VU_v1.png","/img/onboarding_cue_top_2x.png":"/img/onboarding_cue_top_2x_wN2hFRldOka69jNOjBMEgKtEoCEy_27nhPUH2yC_LL4_v1.png","/img/onboarding_cue_top_att.png":"/img/onboarding_cue_top_att_uGpp-MD_riLCAiD8j9w6IPw-q_l-7akw3h4LeOKt7DQ_v1.png","/img/onboarding_cue_top_bt.png":"/img/onboarding_cue_top_bt_9sggAIp0vp_pMQi9PFrIN6koeBxKOSQhcnYzU8_Byf4_v1.png","/img/onboarding_cue_top_frontier.png":"/img/onboarding_cue_top_frontier_V20oRBMHCc_7SVVL1Yz0Kv52hCQcLrmmxY87-MiLbBg_v1.png","/img/onboarding_cue_top_rogers.png":"/img/onboarding_cue_top_rogers_qWeZDyA7DOfOwDK-sdmNy4GBEkDhgcTJMOqNHL1Ov5A_v1.png","/img/onboarding_cue_top_sky.png":"/img/onboarding_cue_top_sky_3kPLrf-AM5bCIDH07dazvweXalNfRq6ZO1YY2Fpi7o8_v1.png","/img/onboarding_cue_top_verizon.png":"/img/onboarding_cue_top_verizon_Bck_qzvAYFG-PsAo4o0uRfABt3P8q9X9bOteSKSg19E_v1.png","/img/onboarding_cue_top.png":"/img/onboarding_cue_top_Fp8snNV_hyx71Q8PYf6GOkQyH2QvB5nBfHO6Mw8PYCE_v1.png","/img/onboarding_xavatar_2x.png":"/img/onboarding_xavatar_2x_o7rLmrz4nSL_aMT8zs74EDj3EX6P-k_Agb_tzSWb8tU_v1.png","/img/opt_out_bg.png":"/img/opt_out_bg_PppZ_B01W7h3CQopBxz8dVaFQxebyaZUhnXMEfm6GRo_v1.png","/img/opt_out_chick.png":"/img/opt_out_chick_eEVB-cwUSajdACIrAB8VQ1lAJIqln9L8OaKUtSaJPNY_v1.png","/img/opt_out_sad.png":"/img/opt_out_sad_KqhlmFfpxWIqm0mjPpYWxa7W3XkLvLDU41IlRVA5MbU_v1.png","/img/people_smartview_cue_2x.gif":"/img/people_smartview_cue_2x_CoMJr8nicOvYe2f6mMw3zXRumfQlvqbT8FqMaa6SpJY_v1.gif","/img/people_smartview_cue.gif":"/img/people_smartview_cue_i0R2Kka_41sqZMqP_RTYZqbO3WsVtkt9g_yQxASVcnk_v1.gif","/img/personalize_inbox.jpg":"/img/personalize_inbox_7-LGmVnMKvVuTBu0gg6RnHWULPu9o9ifBDe-Xm8BY58_v1.jpg","/img/push_notifications_onboarding_2x.png":"/img/push_notifications_onboarding_2x_jr2WrhLbo8ryIvLt20HECkyCcp6hqlTLAughQ6LluzQ_v1.png","/img/receipt_and_cc_blue.png":"/img/receipt_and_cc_blue_IdLDLCYOIavt1TFEON_xFXFLLWgpyLYvuoxaq1VRPrA_v1.png","/img/receipt_and_cc_color.png":"/img/receipt_and_cc_color_313wF6n1Jsw9xT1oL1P3oyUoJnh4hOQicuk-wWUG930_v1.png","/img/receipt_empty_state.png":"/img/receipt_empty_state_NvQLXDbo2xN6pPiIJwVpzb8gS6ewWs__fH2zHOpnhVk_v1.png","/img/related_searches_tag_dark.png":"/img/related_searches_tag_dark_7GlAJLCPBfBnLvkwqwRNSB0khyFthPyLLJb9kQCHky4_v1.png","/img/related_searches_tag.png":"/img/related_searches_tag_Qe4hfsuRE4PXyYWndHPqdweTYG7jiv1KVWw-y9j6598_v1.png","/img/restaurant_search_header.png":"/img/restaurant_search_header_50uLcMJuKl0uDQ8KMLzwaugIagIScHbwmgCxgIk9p7U_v1.png","/img/roadtrip_bg_pattern.jpg":"/img/roadtrip_bg_pattern_GKkcDbxgblfi6EviN4vsxVUOhk1T40pycArKn6wc15c_v1.jpg","/img/roadtrip.jpg":"/img/roadtrip_YRCZDn6VBhz00-3mX5tqRuktIJ-yWKk7fMo1u80pjXw_v1.jpg","/img/sad_folder.png":"/img/sad_folder_7nLfKu3WMz6uv75DD-20GtKeZ1g_xJzr2U0QnKTnHKk_v1.png","/img/search_onboarding.jpg":"/img/search_onboarding_Pdur6X8BSMGE2nB9cxvZlHaIkhBdMylpnJQ-lTrqb9g_v1.jpg","/img/sent_airplane.png":"/img/sent_airplane_TY14DWxVyHUrgwI2oUasp7CeL3VpgXkt8qt0UGrb7S0_v1.png","/img/social_accounts.png":"/img/social_accounts_I1ShhMBBcBxec-IXiM2btQvSprw24-yIWTkFHUYKDpk_v1.png","/img/sr_truck_1x.png":"/img/sr_truck_1x_WD2WQEV7llCc_t1_crntGCP2kOKWuJMQDALghdzL_tQ_v1.png","/img/srlogo.png":"/img/srlogo_vaDyvbBhkvyBKJjeMj9rHEWnujjiMVefbvY4XUNjbsE_v1.png","/img/star_animation_orange.gif":"/img/star_animation_orange__ntVn5lQMPNSdqtjQRSF8UI8xsL_KdGGMH-Azy8I-Hc_v1.gif","/img/star_animation_yellow.gif":"/img/star_animation_yellow_5y9rgBZfln6MoTN2zXCaK9RzSlEqF1q-gET8jsYrRfs_v1.gif","/img/star_burst_colorful.gif":"/img/star_burst_colorful_6dqE9cj8d1lfi2O4CCn751Y0xpSTXt2-3OJ15arJy-c_v1.gif","/img/star_burst_dark_colorful.gif":"/img/star_burst_dark_colorful_XRTSpCp0Srcyo3SYEY_FNRMavqGsk7hf_vAZDS6AHcs_v1.gif","/img/star_jiggle_dark.gif":"/img/star_jiggle_dark_vJjiqRFWWpfeWo1c0EE1OnRM3C3GT-LCj1-IKBaW30g_v1.gif","/img/star_jiggle.gif":"/img/star_jiggle_mHRSWCxuDP22UpMVWUIHksRgw_KP5K_zUbJC_O4xyz8_v1.gif","/img/subscriptions_huffpost.png":"/img/subscriptions_huffpost_EQuPep28iO4Qs8w0z7y1xtvD4kySIn5BPfK5oRQ9fF8_v1.png","/img/sunset_aussie_bg_pattern.jpg":"/img/sunset_aussie_bg_pattern_OtDs9lJ_KqQskm6N5td0qQXWpvzgFeOlL9ca-paHPwI_v1.jpg","/img/sunset_aussie.jpg":"/img/sunset_aussie_lDtSmc_s8KyaEHRdT0D5QTYtMLbMX9NWJaD1E9cKRXI_v1.jpg","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI_v1.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_QpyOioVctDS-i609elkNIIu0ynwzJpCL1cQMjmVQjWw_v1.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_kMvwy2p5JGMeNzp9EmZVXNIVchk9qKR9HlLik_LcG5E_v1.jpg","/img/ticket_search_header.png":"/img/ticket_search_header_5ImyEhQZb87yNx7lNftniOMkqmOGwPao_DDwUWaK198_v1.png","/img/truck_shoprunner.png":"/img/truck_shoprunner_-gyfxNTUSiLroVOKtduhMoP-UDI6d1k1BnLs7xUF6uY_v1.png","/img/unsupported_browser_bigtriangle.png":"/img/unsupported_browser_bigtriangle_rkPMKyG5t8pCl73gZ6IZHu4w46_nJCVX0BupaxCTbGU_v1.png","/img/unsupported_browser_circle.png":"/img/unsupported_browser_circle_WLzOkaj7xTxe9oEHSaZDOJDhTAjKwhCQUfmBqIcT5hA_v1.png","/img/unsupported_browser_maillogo.png":"/img/unsupported_browser_maillogo_I5EKIAwsb8YvZ1PNEfK3yw6QAsLjc8YtmFG3lRCUYQU_v1.png","/img/unsupported_browser_phone.png":"/img/unsupported_browser_phone_writpnVtNgQE3flcPogwDxTQojsUY6Rbt62VkGXdUD8_v1.png","/img/unsupported_browser_smalltriangle.png":"/img/unsupported_browser_smalltriangle_toRjtBcf56AbRF9QNaLi2GQ51e_ff1BN7-cOUvqmnQQ_v1.png","/img/vacation_response.png":"/img/vacation_response_FEynu9gYqFEdlS2AtsCLXUDOS2-oYXqQbBELhcCQJPY_v1.png","/img/viewing_email.png":"/img/viewing_email_wUyyBFfRqELtfdvE28PBha2fq0uwckTwIzjVwfm4tAA_v1.png","/img/welcome_illustration_2x.png":"/img/welcome_illustration_2x_pA2RvkabgxB3a_mjVe64PKG_Wuw1JrAcKG7o6RMiZFk_v1.png","/img/welcome_illustration_3x.png":"/img/welcome_illustration_3x_dtJqgamzfoQffUzaAKwcWy-rGI1UEcY4PPuCR5mJV4w_v1.png","/img/yahoo_badge.png":"/img/yahoo_badge_PIDYkGpMyvCeBI7l6OmFM2o6YMgW4pibk1qXlqxjCRQ_v1.png","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y_v1.html","/json/mobile_manifest.json":"/json/mobile_manifest_m8yRgPyLx7GIxVkETyKu2nBDZfxje9yPllynmCPrnZE_v1.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM_v1.json"}},function(e,t,s){"use strict";e.exports={className:{default:{menu:"I_52qC b_Z14vXdP e_dRA j_Z2jsUnk C_Z281SGl Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"1RO7iY"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2ivgpk"}},_key:"1fXSHs"}},function(e,t,s){"use strict";e.exports={className:{default:{account:"en_0 E_6MGW ac_C C_52qC",menuButton:"I_T b_0 C_52qC ir3_Z1HO9zT",button:"D_F ab_C y_Z2uhb3X A_6EqO",accountText:"E_eo6",menuName:"u_b D_B J_x o_h G_e",menuAddress:"D_B J_x o_h G_e",menuContainer:"s_3nV5V a_3v1qi H_7iGr D_F ek_BB gl_C X_6Fd5",logoutLink:"H_72FG i_72FG X_6Fd5 D_B I_ZnkeaL ir3_1JO2M7 cZ11XJIl_0"}},_key:"VKE1J"}},function(e,t,s){"use strict";e.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:"I_52qC D_F M_3gJOe ab_C"}},_key:"Mr5Pj"}},function(e,t,s){"use strict";e.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_52qC"}},_key:"1HvlCH"}},function(e,t,s){"use strict";e.exports={className:{default:{searchBoxContainer:"en_0 O_cMq D_F p_R H_74JI",searchButton:"M_0 b_0 C_52qC en_0 W_7GHz D_F u_b cZ1RN91d_n J_x A_6EqO k_w gl_C ck_dRA y_Z2uhb3X bl_dRA H_74JI I_2sqbOJ",searchBoxInput:"M_0 W_6D6F D_F C_Z1AHs3T ab_C I_52qC A_6EWk y_Z2uhb3X P_6Eb4 H_74JI cj_dRA bk_dRA"}},_key:"Z1rzFeh"}},function(e,t,s){"use strict";e.exports={className:{default:{bgContainer:"D_F ek_BB H_6D6F aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd",container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z22yhkg I_kt4zd az_oOItw ba_Z2gmOa3 ay_Z1p6ctn c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",tabWrapper:"a_1Ie4E3 I_sgPtS M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},"themeMode-LIGHT":{tabWrapper:"I_ajP3z"},wideLogo:{tabSpace:"f_l a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU"},darkModePhotoTheme_NIGHT_LANDSCAPE:{tabWrapper:"I_cOYBx"},darkModePhotoTheme_ROADTRIP:{tabWrapper:"I_1iaDps"},darkModePhotoTheme_SUNSET_AUSSIE:{tabWrapper:"I_2woiX9"},darkModePhotoTheme_LIGHTHOUSE:{tabWrapper:"I_t5YJo"}},_key:"1kFWTw"}},function(e,t,s){"use strict";e.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_Z2uhb3X",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"Z1rdFsB"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_52qC aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"},ATT:{header:"aw_ZvJQac"},FRONTIER:{header:"aw_Z21mNgp"},ROGERS:{header:"aw_cqhYR"},BT:{header:"aw_fyCuS"},SKY:{header:"aw_2i3i9C"},DEFAULT:{header:"aw_Z1oGKIG"},SUNRISE:{header:"aw_j5A3N"},AQUA_GREEN:{header:"aw_Z1TaR3H"},AQUA_BLUE:{header:"aw_lYTmB"},DEEP_PURPLE:{header:"aw_Z2r9M2j"},BLUE_NIGHT:{header:"aw_ZhWBiv"},NIGHT_LANDSCAPE:{header:"aw_1EcdPV"},ROADTRIP:{header:"aw_Z29MWQS"},SUNSET_AUSSIE:{header:"aw_Z1FJaQI"},LIGHTHOUSE:{header:"aw_DHTjP"}},_key:"1JqHIX"}},function(e,t,s){"use strict";e.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z281SGl U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"2iQpu0"}},function(e,t,s){"use strict";e.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_19EkMo y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z2kJbF9"}},function(e,t,s){"use strict";e.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z281SGl E_fq7"}},_key:"ZVMVx3"}},function(e,t){function s(e){this.key=e,this.value=null,this.descendantCount=0,this.children={}}s.prototype={insert(e,t){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(e,t)},_insert(e,t,a){var n=arguments.length;if(a===e.length)return void(null===this.value&&(this.value=t));n<3&&(a=0),this.descendantCount=this.descendantCount+1;const r=e[a];void 0===this.children[r]&&(this.children[r]=new s(r)),this.children[r]._insert(e,t,a+1)},find(e){return!e||e&&0===e.length?[]:this._find(e)},_find(e,t){void 0===t&&(t=0);const s=this.children[e[t]];return s?t===e.length-1?s._getChildrenValues(e):s._find(e,t+1):[]},_getChildrenValues(e){var t=[];e||(e=""),this.value&&t.push(this.value);for(const s in this.children)this.children.hasOwnProperty(s)&&(t=t.concat(this.children[s]._getChildrenValues(e+s)));return t}},e.exports=s},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_52qC D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"ZIdXmv"}},function(e,t,s){"use strict";e.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB"}},_key:"2lVS8r"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"q_T y_Z2uhb3X je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{rtlRemoveInput:"rtlRM_rtlRM_X_fq7 rtlRM_rtlRM_N_6VdP ",rtlRawInput:"rtlR_rtlR_N_fq7 rtlR_rtlR_X_6VdP "},"showClear-false":{input:"X_fq7 N_fq7"}},_key:"1Lr5KA"}},function(e,t,s){"use strict";e.exports={className:{default:{itemAddress:"A_6DUj C_Z1Xxgu2",checkmarkWrapper:"W_6LEV H_6LEV D_X",buttonContent:"D_F ab_C i_6LEV",rtlIgnoreDir:"rtlI_rtlI_dz_sSg ",rtlIgnoreMarginR:"rtlI_rtlI_E_fq7 ",rtlIgnoreMarginL:"rtlI_rtlI_Q_fq7 "}},_key:"2kABJf"}},function(e,t,s){"use strict";e.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_Z2uhb3X A_6EqO",labelName:"a_3He0m",menuLabelEmail:"D_X",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"}},_key:"ZHGUtO"}},function(e,t,s){"use strict";e.exports={className:{default:{anchor:"D_F",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg "}},_key:"uHY9u"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB en_0 I_52qC r_BN W_3v1qi cZ1RN91d_GG X_6Fd5 N_6Fd5",email:"o_h J_x mq_CZ G_e r_P C_Z2aVTcY S4_U",phone:"Y_dRA",header:"U_fq7",rightColElement:"D_F ek_BB i_6EqO Q_6Eb4 o_h gl_C",contactFlexContainer:"D_F A_6DUj je_6Fd5 U_fq7"},isInRightRail:{container:"je_6LEV jb_6LEV k_w M_Zm1Iab U_eo6 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",contactFlexContainer:"je_dm5 U_dm5"},partnerIconEnabled:{container:"je_eo6"},isCompose:{email:"r_BN C_Z281SGl S4_n"},darkModeNonPhotoTheme:{container:"I_sgPuT C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_NIGHT_LANDSCAPE:{container:"I_cOYF6 C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_ROADTRIP:{container:"I_1iaDt1 C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_SUNSET_AUSSIE:{container:"I_2woj1H C_ZpQYvz l_T",email:"C_Z21zYBA"},darkModePhotoTheme_LIGHTHOUSE:{container:"I_t5YMW C_ZpQYvz l_T",email:"C_Z21zYBA"}},_key:"Z2mz3rD"}},function(e,t,s){"use strict";e.exports={className:{default:{social:"D_F gl_l Y_fq7",socialIcon:"D_F E_6Eb4 cdPFi_ZpQYvz",backyardIcon:"D_F E_6Eb4 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY"},darkVariations:{backyardIcon:"cdPFi_2sqbRh cdPFi4_52qC",socialIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"ZTBWer"}},function(e,t,s){"use strict";e.exports={className:{default:{containerFooter:"H_A z_Z12nDQf je_eTB jb_6DEy C_Z1VRpVF A_6DUj",footerText:"X_eo6 N_eo6 i_6EqO",footer:"U_fq7"}},_key:"5M9Ke"}},function(e,t,s){"use strict";e.exports={className:{default:{contactSummary:"gl_C A_6EqO C_Z1VRpVF o_h je_6Fd5",contact:"r_P C_Z2aVTcY"},"themeMode-DARK":{contactSummary:"C_ZvsWfq",contact:"C_Z21zYBA"},"themeMode-MEDIUM":{contactSummary:"C_ZvsWfq",contact:"C_Z21zYBA"}},_key:"ZI2MiP"}},function(e,t,s){"use strict";e.exports={className:{default:{avatarContainer:"W_A o_v H_tQ r_BN",leftColElement:"D_F ek_BB gl_C"},websiteLinked:{avatarContainer:"r_P"}},_key:"1EhF4r"}},function(e,t,s){"use strict";e.exports={className:{default:{name:"o_h J_x mq_CZ G_e C_Z281SGl i_6MGW A_6EWk u_b cZ1RN91d_GG",searchSection:"D_F ek_EZ r_P cdPFi_Z1VRpVF cdPFi4_Z2aVTcY C4_Z2aVTcY",searchIcon:"Q_dRA cdPFi_q P_Z1nnkYl"},isMobile:{name:"A_6FIA",searchSection:"gl_FM ab_C",searchIcon:"P_3gJOe"},darkVariations:{name:"C_ZpQYvz",searchSection:"cdPFi_ZpQYvz cdPFi4_52qC C4_52qC"}},_key:"iDaR4"}},function(e,t,s){"use strict";e.exports={className:{default:{position:"o_h J_x mq_CZ G_e i_6LEV C_Z1VRpVF Y_dRA A_6EqO q_T"},isMobile:{position:"A_6Fd5"},darkVariations:{position:"C_ZvsWfq"}},_key:"ZeMX7P"}},function(e,t,s){"use strict";e.exports={className:{default:{website:"o_h J_x mq_CZ G_e r_A Y_dRA i_6EGz C_Z2aVTcY S4_U"},websiteLinked:{website:"r_P"},"themeMode-DARK":{website:"C_Z21zYBA"},"themeMode-MEDIUM":{website:"C_Z21zYBA"}},_key:"Z2hCzCK"}},function(e,t,s){"use strict";e.exports={className:{default:{infoIconContainer:"D_F gl_CH cdPFi_Z1TsNWR cdPFi4_Z2aVTcY"},isOnDarkBackground:{infoIconContainer:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z1NjuAv"}},function(e,t,s){"use strict";e.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z2aVTcY"}},_key:"2tU4n4"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"en_0",inputDark:"C_Z281SGl",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",ccContainer:"D_F ab_C em_N",subject:"G_e y_Z2uhb3X A_6EqO C_Z281SGl ir_0 P_0 X_0 bj3_Z281SGl b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj y_Z2uhb3X C_Z1VRpVF P_ZvFAnJ b_n a_3mS2U q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z281SGl"},isSubjectDisabled:{subject:"C_Z1VRpVF I_T"}},_key:"hRSAQ"}},function(e,t,s){"use strict";e.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 o_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNWR cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_Z2uhb3X A_6DUj C_Z1TsNWR M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"k_w P_6Fd5 d_7ALe",placeholder:"T_eTB P_1Eu7sD i_6VdP"},"kind-COMPOSE":{rte:"N_6Fd5"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"k_w P_6Fd5 d_3w6xl",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"w1Ac8"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP j_ZqTdtW Z_f8a p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO b_0 C_Z1TsNWR",rtlIgnoreDirRTL:"rtlI_rtlI_dz_uqG ",rtlIgnoreDirLTR:"rtlI_rtlI_dz_sSg ",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z2aVTcY q_2uyuKK m_2tEJa0 D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F W_6D6F A_6EqO bj3_Z2aVTcY",linkInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F s_3r5Ku N_eo6 A_6EqO bj3_Z2aVTcY",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z2aVTcY C_52qC"},focusOnLinkInput:{testLink:"bj_Z2aVTcY"}},_key:"Z80OXA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zKan k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R",controls:"P_kT94R"}},_key:"11hA3I"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_a D_F I_52qC b_Z14vXdP j_ZqTdtW Z_f8a P_Z1E2YFn",linkWrapper:"C_Z1VRpVF",link:"C_Z2aVTcY a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z2aVTcY r_P"}},_key:"hddyh"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2dWFvS T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_2iedUU",dragDescriptionContainer:"D_F A_6EWk u_b O_cMr ek_BB ab_C C_Z2aVTcY",dragTextDescription:"je_6LEV"}},_key:"Z19Utn2"}},function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rtlIgnoreDir:"rtlI_rtlI_dz_sSg rtlI_rtlI_D_F ",rightAlignIcon:"h_2gl0WC",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",rtlRawHidden:"rtlR_rtlR_v_h rtlR_rtlR_D_ATgVd ",rtlRemoveHidden:"rtlRM_rtlRM_v_h rtlRM_rtlRM_D_ATgVd "}},_key:"ZSXmc7"}},function(e,t,s){"use strict";e.exports={className:{default:{menuItem:"C_Z281SGl H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"Cv0SA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h",input:"p_a T_0 L_0 O_0 r_P P_1mPDMf o_h W_0 H_0"}},_key:"Z26Mf44"}},function(e,t,s){"use strict";e.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_52qC W_6D6F p_R B_0",sendButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNWR",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_X P_3gIMd V_GI O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI ir3_1JO2M7 it3_dRA H_6NIX W_6VdP",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_2ieea9 ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Z26U5qH cdPFi4_ZkiIcp"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4l8N"},"kind-VACATION_RESPONSE_SETTINGS":{composeToolbar:"W_A i_N H_7ceA P_2aKOEx",toolbarContainer:"gl_C z_2w4l8N"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"}},_key:"tp6Kc"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO"}},_key:"1we298"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"},wideContainer:{container:"W_3DpOq"}},_key:"DF9OM"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"I_52qC j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed p_R",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A"}},_key:"2d0UNX"}},function(e,t,s){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z2aVTcY"}},_key:"Z1fhFdm"}},function(e,t,s){"use strict";e.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"}},function(e,t,s){"use strict";e.exports={className:{default:{loadingContainer:"je_74JI W_6D6F"}},_key:"1LglKj"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"p_a R_0 T_0 L_0 B_0 D_F"}},_key:"ZyEg8F"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_52qC m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNWR U_7rdk",listItem:"D_I r_BN",button:"r_P u_b C_Z2aVTcY b_0 P_0 M_0 H_6Nds A_6EqO I_T C4_Z29WjXl ir3_1JO2M7 it3_dBP",comma:"u_b C_Z1TsNWR"}},_key:"1NhqKE"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_52qC P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",moreMenuItem:"r_P D_F M_oRiNT",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "}},_key:"Z2jp2F9"}},function(e,t,s){"use strict";e.exports={className:{default:{tooltip:"s_3rBgu I_Zcn3mu C_52qC t_C P_fQos4 e_eTB p_a dq33_Z1WN6IG p33_a T33_e5X Y33_69rk cn33_fam cg33_FJ"},right:{tooltip:"R33_6D6F L33_A l33_Z1vf50c"},left:{tooltip:"L33_6D6F R33_A l33_9Tjpk"}},_key:"Z1Kvy9o"}},function(e,t,s){"use strict";e.exports={className:{default:{participants:"o_h G_e J_x em_N"},transparent:{participants:"em_0 v_h"}},_key:"Z1ihYk"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h",label:"D_F ab_C y_Z2uhb3X A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_3HLUz",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_Z26RiTK M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1Xxgu0 i_6VdP k_w",inputContainer:"D_F ab_C k_w",inputField:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0"}},_key:"Z17hp72"}},function(e,t,s){"use strict";e.exports={className:{default:{backToListButton:"y_Z2uhb3X A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"2dJHJY"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",filterItem:"I_T b_n W_6D6F D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"D_F P_1g7oPJ M_cFf m_Z14vXdP"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"Z1zINMw"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"C_Z281SGl D_F ek_EZ H_6MGW p_R J_x b_ZGN9rt l_ZVhlrG e_dRA",inactiveSegment:"p_R r_P D_F M_0 C_Z24Sbth u_e69 I4_IyTRc",activeSegment:"p_R r_P D_F M_0 I_Z2tSq0X C_Z281SGl u_b Z_O",button:"ce_dBP cd_FJ cc_ZVhlrG x8_n"},"themeMode-DARK":{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"},isOnDarkBackground:{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"}},_key:"ZvMn3I"}},function(e,t,s){"use strict";e.exports={className:{default:{main:"H_6D6F W_6D6F",scroll:"p_R iy_h iz_A H_6D6F W_6D6F X_6Fd5 N_6Fd5 k_w",container:"hd_n P_0 M_0 p_R",item:"p_a T_0 L_0 R_0",newItem:"p_a T_0 L_0 R_0 ah_Z19ro7u",oldItem:"p_a T_0 L_0 R_0 ah_fqorO",maskItem:"cZ1RN91d_n p_a T_0 L_0 R_0",stickyHeader:"p_a T_0 L_0 R_0 X_6Fd5 I_ZD6Uwa Z_N j_n",scrollToTop:"D_F ab_C gl_C p_a B_6Fd5 R_0 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",loading:"p_a B_0 L_0 R_0",focusStealer:"H_0"},"theme-ATT":{scrollToTop:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{scrollToTop:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{scrollToTop:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{scrollToTop:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{scrollToTop:"I_1za5gA I4_Z2dycH0"},"theme-DEFAULT":{scrollToTop:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{scrollToTop:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{scrollToTop:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{scrollToTop:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{scrollToTop:"I_ZMqghf I4_Z21zYBA"},"theme-NIGHT_LANDSCAPE":{scrollToTop:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{scrollToTop:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{scrollToTop:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"ZR47Hi"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",enhancedContainer:"I34_2spJWC D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",label:""},"themeMode-DARK":{container:"I_T C_52qC",enhancedContainer:"I34_ajOPR D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 I_T C_52qC"}},_key:"1bxyiD"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_6TV4 bn_dBP bm_FJ bj_2spJWC p_R A_6EqO i_6FIA o_h X_eo6 h_Z1H3PfF ir3_1JO2M7 it3_689y I4_1I4yPF",check:"en_0 i_0 H_6D6F E_689y Z_f8a k_w",checkbox:"H_6D6F",ybadgeIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6",emailTypeIcon:"s_6FIA en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 p_R",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z1VRpVF",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_0 a_6D6F D_F ab_C",subject:"o_h G_e J_x en_N",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h Q_fq7",messageCount:"en_0 P_3gJiI Q_fq7 e_fFR A_6DUj I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",highlightedTerm:"I_2ieea9 D_X P_3zDxc",selected:"I_laXMl I4_laXMl",active:"I_1I4z5p",messageDestinationLabel:"M_3gJOe o_h J_x G_e W_7yHc en_0"},"layout-1":{container:"H_6Mrc"},"layout-3":{container:"H_73rW"},isCompactLayout:{check:"D_X p_a L_dRA T_dm5",checkbox:"H_A",gridB2:"gl_CH em_U",readIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",ybadgeIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",starIcon:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4",maskStarIconWhenStarred:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4 O_0",draftIndicator:"D_X",senders:"p_a L_73HH T_fq7 a_e91 J_x G_e",subjectContainer:"D_B p_a T_6NIX L_74JI a_eFx J_x o_h G_e",snippetContainer:"p_a Q_0 T_74JI L_74JI a_eFx",emailTypeIcon:"p_a M_0 X_fq7 N_eDQ R_eo6 B_fam",messageCount:"D_X",dateWrapper:"p_a T_fq7 R_eo6 t_r"},isCompactSlimLayout:{check:"T_dm5",readIcon:"T_eo6",ybadgeIcon:"T_eo6",starIcon:"T_6Mbr",senders:"T_eo6",subjectContainer:"T_6Mbr",snippetContainer:"T_72FG",dateWrapper:"T_eo6",emailTypeIcon:"B_eTB"},isCompactNormalLayout:{check:"je_e8l",readIcon:"T_fam",ybadgeIcon:"T_fam",starIcon:"T_6Ntd",senders:"T_fam",subjectContainer:"T_6Ntd",snippetContainer:"T_74ed",dateWrapper:"T_fam",emailTypeIcon:"B_fq7"},isCompactRelaxedLayout:{container:"i_6LEV",check:"je_eo6",readIcon:"T_fq7",ybadgeIcon:"T_fq7",starIcon:"T_6NIX",senders:"T_fq7",messageCount:"P_3gJyt",subjectContainer:"T_6NIX",snippetContainer:"T_74JI",dateWrapper:"T_fq7",emailTypeIcon:"B_6DEy"},"layout-4":{container:"H_74tX"},"layout-5":{container:"H_7bXP"},"layout-6":{container:"H_7d0Q"},"layout-7":{container:"H_7jsH"},"layout-8":{container:"H_7qWz"},"layout-9":{container:"H_7t1B"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},"highlightPosition-NONE":{snippet:"G_e"},isNonCompactSlimLayout:{checkbox:"je_Cd90f jb_Cd90f"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},darkThemeMode:{container:"C_ZpQYvz bj_ajOPR ir3_Z1FS2Mn I4_ZS2gnO",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_2sqbQg",selected:"I_ZS2g95 I4_ZS2g95",active:"I_ZS2g95"},borderless:{container:"bm_n"},isCompactHasEmailTypeIcon:{subjectContainer:"a_1C0Rfo",snippetContainer:"a_1C0Rfo"},isCompactHovered:{subjectContainer:"a_ZLhQ7h",snippetContainer:"a_ZLhQ7h",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",gridB1:"p_s",readIcon:"L_6Fd5",ybadgeIcon:"L_6Fd5",senders:"L_74JI",check:"L_eTB"},"themeMode-DARK":{container:"I3_ZFyHXD I4_1YEmYj",active:"I_iJ8JF",selected:"I_iJ8JF I4_iJ8JF"}},_key:"9KK0O"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6 cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV",indicator:"Q_e8l"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1YAmK7"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 P_3gIMd E_eo6 H_6D6F cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV"},isDarkThemeMode:{starIcon:"cdPFi_ak5kB cdPFi4_ak5m8"},starredMailEnhanced:{starIcon:"cdPFi_ZvsWfq h_Z13pql2 lv_1IWXzk cdPFi4_ZvsWfq h4_2d9T5e"},darkStarredMailEnhanced:{starIcon:"cdPFi_2sqbQg h_Z13pql2 lv_1IWXzk cdPFi4_2sqbQg h4_2d9T5e"},messageSize:{starIcon:""},"messageSize-S":{starIcon:"W_6MGW H_6MGW P_Z12gc7W Q_689y E_dRA"}},_key:"1cm5XM"}},function(e,t,s){"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0",iconContainer:"H_6LEV"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"eboP8"}},function(e,t,s){"use strict";e.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconCompact:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli",trashIconCompact:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"}},_key:"1jQ2Sd"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F",attachmentsPopover:"D_F",attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"mCSbU"}},function(e,t,s){"use strict";e.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N M_3gIgH s_72FG",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandleContainer:"D_F",nextNavHandleContainer:"D_F",prevNavHandle:"em_0 en_0",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",nextNavHandle:"em_0 en_0"},animationDisabled:{list:"lv_n"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{prevNavHandleContainer:"jb_74JI",nextNavHandleContainer:"jb_74JI"}},_key:"1DlIoS"}},,function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",couponIcon:"D_F"}},_key:"OgOlY"}},function(e,t,s){"use strict";e.exports={className:{default:{chevronDown:"V_GI P_Z2rzFgL",adFeedbackContainer:"P_3Y3Gk"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"}},_key:"B55jU"}},function(e,t,s){"use strict";e.exports={className:{default:{closeIcon:"I_T r_P b_0 P_eo6 Q_fq7 E_6Eb4 W_72FG",closeCenter:"D_F ab_C gl_C H_6D6F",closeIconCompact:"I_T r_P b_0 D_F gl_F W_6D6F P_fq7 M_18qTTf"},isCompact:{closeIcon:"E_eo6"},adHoveredInLightTheme:{closeIcon:"cdPFi_Z9gXaW cdPFi4_Z1rB5pY"},adHoveredInDarkTheme:{closeIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"},adNotHoveredInCompact:{closeIconContainer:"D_n"}},_key:"Z4f6tD"}},function(e,t,s){"use strict";e.exports={className:{default:{flashSaleCountdown:"D_F ab_C C_Z1VRpVF cdPFi_Z1VRpVF",flashSaleCountdownText:"Q_eo6"},flashSaleHighlight:{flashSaleCountdown:"C_Z287E9E cdPFi_Z287E9E"},isDarkTheme:{flashSaleCountdown:"C_ZvsWfq cdPFi_ZvsWfq"}},_key:"Z1bA1sY"}},function(e,t,s){"use strict";e.exports={className:{default:{starElement:"p_R N_dBP o_h D_B f_l A_6DUj",activeFullStar:"p_R D_B f_l C_Z1ryQjN",activeEmptyStar:"p_a D_B Z_N T_0 L_0 C_Z1vPqV0",inActiveEmptyStar:"C_ZpQYvz",halfActiveFullStar:"p_a D_B Z_N W_e5X T_0 L_0 o_h C_Z1ryQjN",halfActiveEmptyStar:"p_R D_B f_l C_ZpQYvz",halfBorderStar:"p_a D_B Z_O W_e5X o_h T_0 L_0 C_Z1vPqV0"}},_key:"1q9cfa"}},function(e,t,s){"use strict";e.exports={className:{default:{thankYouContainer:"I_1I4yPF H_74JI D_F gl_FM ab_C X_6DEy e_dRA",textContainer:"o_h K_74JI D_F ek_BB gl_C em_N r_P",header:"K_6VdP u_b o_A",caption:"C_Z1TsNWR K_6VdP A_6DUj",close:"H_72FG N_eTB je_dRA r_P",upgradeNow:"J_x i_6EGz e_dRA M_1GMufD I_T b_2fAfSG p_R C_Z2aVTcY r_P P_fQoXz"},isCompactLayout:{thankYouContainer:"H_7rdk",textContainer:"K_7rdk",caption:"o_A",header:"D_F ek_BB gl_FM jb_eo6 i_6Eb4 w_AS J_EP ix_AS",close:"H_7jIs je_0 N_eo6",upgradeNow:"P_eo6 M_Z1EyLxu"},"themeMode-DARK":{caption:"C_52qC",upgradeNow:"C_52qC",thankYouContainer:"C_52qC"}},_key:"2al6Uq"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z281SGl A_74JI i_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_52qC"}},_key:"Z2wD4bH"}},function(e,t,s){"use strict";e.exports={className:{default:{searchHeader:"P_2iGizO m_Z14vXdP D_F en_0 ek_EZ gl_FM",filterItem:"I_T b_n W_6D6F D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h"},"themeMode-DARK":{searchHeader:"m_ZYfFPt"}},_key:"Z1H0kXl"}},function(e,t,s){"use strict";e.exports={className:{default:{didYouMean:"A_6EqO C_q u_q i_6UbO J_x",didYouMeanKeyword:"S_U kz_ZkiIcp lc_BK D_X A_6EqO u_b",didYouMeanWord:"D_X A_6EqO u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_52qC",didYouMean:"C_52qC",didYouMeanWord:"C_52qC"}},_key:"1wLOYs"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C J_x r_P H_6Nds",labelPadding:"N_eo6"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z2rlRsL"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",filterItem:"I_T b_n W_6D6F D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_1g7oPJ M_cFf m_Z14vXdP D_F"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"Z1zINMw"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT",activeContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT I_1kC8gG",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA p_R o_h G_e J_x",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",folderLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",label:"G_e J_x o_h H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l",folderMenuIcon:"cdPFi_Zjpyu2 r_P E_fq7 cdPFi4_Z281SGl",loader:"E_6Eb4",unreadWrapper:"E_fq7",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z1YRXYn D_F",activeNavContainer:"W_6D6F C_Z281SGl D_F u_b",trashIconWrapper:"D_F em_N gl_CH cdPFi_Zjpyu2 r_P cdPFi4_ZkiIcp"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_2sqbRh ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_2sqbPK",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_2sqbRh ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_2sqbPK",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"}},_key:"1fyxO2"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4l8N",input:"W_6D6F k_w H_6LEV y_Z2uhb3X X_eo6 b_0",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3nh43 k_w A_6Eb4"},invalidFolderName:{inputSubmitContainer:"b_Z1222NH"},validFolderName:{okIcon:"I_Z2aVTcY"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"UBopn"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA Q_A t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA Q_A t_C e_3mS2U C_52qC I_T u_b"},whiteBackground:{container:"C_2sqbRh I_ajP4A"},isAccountSwitcher_MEDIUM:{activeContainer:"I_ajP4A"},isAccountSwitcher_DARK:{activeContainer:"I_ajP4A"},isAccountSwitcher_LIGHT:{activeContainer:"I_ZpQYvz"},"themeMode-LIGHT":{activeContainer:"C_Z281SGl"},"highlightThemeCombo-true_ATT":{container:"C_52qC I_Z2dxrGx"},"highlightThemeCombo-true_FRONTIER":{container:"C_52qC I_Z1A0QhA"},"highlightThemeCombo-true_ROGERS":{container:"C_52qC I_Z21W7Hh"},"highlightThemeCombo-true_BT":{container:"C_52qC I_Z20SNAa"},"highlightThemeCombo-true_SKY":{container:"C_52qC I_Z2dycH0"},"highlightThemeCombo-true_DEFAULT":{container:"C_52qC I_Z2aVTcY"},"highlightThemeCombo-true_SUNRISE":{container:"C_52qC I_ZmlXUP"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_52qC I_Z1UHURv"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_52qC I_Z280Xf5"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_52qC I_Zwa5YI"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_52qC I_Z21zYBA"},"highlightThemeCombo-true_NIGHT_LANDSCAPE":{container:"C_52qC I_Z1UEcsX"},"highlightThemeCombo-true_ROADTRIP":{container:"C_52qC I_ZrkPvI"},"highlightThemeCombo-true_SUNSET_AUSSIE":{container:"C_52qC I_ZmlXUP"},"highlightThemeCombo-true_LIGHTHOUSE":{container:"C_52qC I_Z1VDTK1"},"highlightDarkPartnerThemeCombo-true_ATT":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_FRONTIER":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_ROGERS":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_BT":{container:"C_Z281SGl I_52qC"},"highlightDarkPartnerThemeCombo-true_SKY":{container:"C_Z281SGl I_52qC"}},_key:"19wdSu"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z1YRXYn ir3_1JO2M7 it3_dRA I4_2tvNsT",activeContainer:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"G_e J_x o_h E_6LEV H_6FIA",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC rtlR_rtlR_N_fq7 rtlR_rtlR_X_2vNgMj ",starAnimation:"N_fq7 ab_C Q_A i_6FIA W_72FG H_6LEV D_F k_w",sparkleGuidedStarAnimation:"p_a H_6VdP Q_69H5"},"animation-slideUp":{starAnimation:"v_h ah_Z2d532X ai_qM"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"}},_key:"HXw6p"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_6NIX N_fq7 C_Z1YRXYn I4_2tvNsT",newFolderContainer:"D_F ab_C r_P cdPFi_Z281SGl ir3_1JO2M7 it3_dRA I4_T"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},"themeMode-MEDIUM":{container:"C_2sqbRh",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_2sqbRh",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"}},_key:"1OPKiY"}},function(e,t,s){"use strict";e.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX D_F ab_C ir3_1JO2M7 it3_dRA",toggleSmartViews:"N_fq7 A_6DUj C_Z1VRpVF r_P C4_Z1YRXYn",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"em_N G_e J_x o_h E_fq7 H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},darkModeNonPhotoTheme:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbPK C4_2sqbRh"},darkModePhotoTheme_NIGHT_LANDSCAPE:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"},darkModePhotoTheme_ROADTRIP:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"},darkModePhotoTheme_LIGHTHOUSE:{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbRh C4_52qC"}},_key:"ZACIE2"}},function(e,t,s){"use strict";e.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F",listSpacer:"H_6Fd5"}},_key:"Z1b0Hro"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO u_e69 p_R S_n C_52qC I_ZamTeg D_F H_6VdP gl_C ab_C en_0 M_1Eu7sD ir3_1JO2M7 it3_dRA",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN"},"themeMode-MEDIUM":{link:"ir3_Z1FS2Mn"},"themeMode-DARK":{link:"ir3_Z1FS2Mn"}},_key:"qoTwW"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_Z1X3J96",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO",divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Zjpyv3 t_C H_0 p_R P_dRA q4_52qC cdPFi4_Zjpytw",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F ir3_1JO2M7",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4",adTL:"Y_6TFj U_3nb7H",adRec:"W_3nV5V H_3nx4N Q_36Jhx"},scrollingUnder:{shadow:"O_N"},isRTL:{adRec:"E_36Jhx"},"themeMode-MEDIUM":{container:"C_52qC",divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_52qC",divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"}},_key:"ZwoX3d"}},function(e,t,s){"use strict";e.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu a_1Ie4E3 cZTwBjA_1Ie4E3 cZTwBjK_1EAG48",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU D_F ek_BB em_0",leftRailWide:"a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU D_F ek_BB em_0",mainContent:"em_N gl_C I_52qC j_ZlOSbd o_h p_R D_F s_e5X x_Z14vXdP",widthRestrictor:"D_F em_N ej_eUh",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_sgPuT"},darkModeNonPhotoTheme:{shadedContainer:"I_sgPuT",mainContent:"I_sgPuT j_n x_ZYfFSw"},darkModePhotoTheme_NIGHT_LANDSCAPE:{shadedContainer:"I_cOYCy",mainContent:"I_cOYF6 j_n x_ZYfFSw"},darkModePhotoTheme_ROADTRIP:{shadedContainer:"I_1iaDqt",mainContent:"I_1iaDt1 j_n x_ZYfFSw"},darkModePhotoTheme_SUNSET_AUSSIE:{shadedContainer:"I_2woiYa",mainContent:"I_2woj1H j_n x_ZYfFSw"},darkModePhotoTheme_LIGHTHOUSE:{shadedContainer:"I_t5YKp",mainContent:"I_t5YMW j_n x_ZYfFSw"}},_key:"Z2rmwAv"}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F en_0 gl_FM je_6Fd5 jb_6Fd5 N_6Fd5 X_6Fd5 H_7bcz k_w I_52qC m_Z14vXdP U_67SN",container:"Z_qc"},verticalLayout:{container:"H_6D6F",properties:"ek_BB gl_CI H_6D6F"},"themeMode-DARK":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeMode-MEDIUM":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{properties:"I_t5YMW"}},_key:"ZVBdTR"}},function(e,t,s){"use strict";e.exports={className:{default:{selectWrapper:"r_P p_R A_6EqO",selectTitle:"D_X u_6EqO C_Z281SGl U_fq7",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNWR",selectLabel:"D_F gl_FL C_Z281SGl m_2w4l8N H_6VdP i_6VdP X_fq7",emptyItem:"C_ZxFlP3 P_1Eu6qC i_6VdP",optionsContainer:"W_6D6F P_3DHIS p_a q_52qC C_Z281SGl e_dRA j_Z2nrtxD",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",closeBtn:"r_P e_e5X M_8ximD D_X W_6Fd5 H_6Fd5 i_6Fd5",arrowDown:"r_P D_F gl_C ab_C"},isOpen:{selectWrapper:"Z_7G9R"},isFocused:{selectLabel:"m_2fAfSG",arrowDown:"l_B4CaF"},disabled:{selectLabel:"r4_DZ",selectedValue:"C_ZvsWfq"},coloredPlaceholder:{selectPlaceholder:"C_Z2aVTcY"},"type-FITCONTENT":{optionsContainer:"W_CS s_6D6F"},inline:{selectBox:"H_6TFj",selectLabel:"D_I m_n H_6Nds i_6FIA X_0",selectedValue:"A_6EqO C_Z1VRpVF",inputWrapper:"D_X o_h gl_FL H_6VdP i_6VdP",arrowDown:"r_P D_X o_h gl_FL H_6TFj X_fq7 Y_fq7"}},_key:"ZfrCPr"}},function(e,t,s){"use strict";e.exports={className:{default:{optionItem:"k_w D_B W_6D6F b_n r_P t_l o_h J_x G_e q_T P_20hyCR i_6VdP A_6EqO q4_2iedUU"},isSelected:{optionItem:"q_2ieeaE"},"hoverStyle-BOLD":{optionItem:"u4_b q4_T"},"hoverStyle-BOLD_SELECTED":{optionItem:"u_b q4_T"}},_key:"Z1OYXqQ"}},function(e,t,s){"use strict";e.exports={className:{default:{mainAd:"em_N P_6Fd5 k_w W_3vpWV a_3vpWV o_v"},isCompactSize:{mainAd:"a_3o4BO W_3o4BO"},wideRightRail:{lrec:"U_3mS2U"}},_key:"bSccJ"}},function(e,t,s){"use strict";e.exports={className:{default:{rightRailContainer:"D_F o_v p_R I_ZnwrMC",rightRail:"D_F ek_BB",panesContainer:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F",attachmentPreview:"em_N",hideAdsChevronWrapper:"x_Z14vXdP W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",activeHideAdsChevronWrapper:"x_2fAfSG W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",hideAdsChevron:"c27KHO0_n I_52qC O_cMp b_0 D_F cdPFi_Z281SGl r_P s_6NIX H_6NIX j_Z197UJe e_VHH8F ab_C X_dRA cZW7ROP_A O4_N aw4_ZBSKJ8 cdPFi4_52qC"},hasAttachmentPreview:{panesContainer:"a_n ek_EZ",rightRail:"ek_FB"},"themeMode-MEDIUM":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T"},"themeMode-DARK":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",hideAdsChevron:"I_2sqbOJ O_N cdPFi4_Z281SGl"},"theme-ATT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-FRONTIER":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-ROGERS":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-BT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-SKY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-DEFAULT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:""},"theme-SUNRISE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-AQUA_GREEN":{activeHideAdsChevronWrapper:"x_2uOeea",hideAdsChevron:"I4_Z1UHURv aw4_n"},"theme-AQUA_BLUE":{activeHideAdsChevronWrapper:"x_2iwbQA",hideAdsChevron:"I4_Z280Xf5 aw4_n"},"theme-DEEP_PURPLE":{activeHideAdsChevronWrapper:"x_Z1aO4GY",hideAdsChevron:"I4_Zwa5YI aw4_n"},"theme-BLUE_NIGHT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:"I4_Z21zYBA aw4_n"},"theme-NIGHT_LANDSCAPE":{activeHideAdsChevronWrapper:"x_2uRWCH",hideAdsChevron:"I4_Z1UEcsX aw4_n"},"theme-ROADTRIP":{activeHideAdsChevronWrapper:"x_Z15YOdY",hideAdsChevron:"I4_ZrkPvI aw4_n"},"theme-SUNSET_AUSSIE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-LIGHTHOUSE":{activeHideAdsChevronWrapper:"x_2tSflE",hideAdsChevron:"I4_Z1VDTK1 aw4_n"}},_key:"Z2b6PDC"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_7cul W_6D6F P_0 M_0 k_w b_n q_n",content:"D_F ek_BB gl_C F_N A_6EqO i_7ceA C_Z281SGl H_7ceA m_Z12nDQf",orb:"ah_Z1tF3s4 F_n p_R cdPFi_ZpQYvz P_0 M_20hyCR W_1M2iaA H_1M2iaA",name:"ah_Z1tF3s4 W_7rdk H_6DEy q_ZpQYvz e_eDQ",emails:"ah_Z1tF3s4 Y_6Eb4 W_3nH9d H_fq7 q_ZpQYvz e_eo6"},"themeMode-MEDIUM":{content:"m_1iPdY0",orb:"cdPFi_Z1Xxgu0",name:"q_Z1Xxgu0",emails:"q_Z1Xxgu0"},"themeMode-DARK":{content:"m_1iPdY0",orb:"cdPFi_Z1Xxgu0",name:"q_Z1Xxgu0",emails:"q_Z1Xxgu0"}},_key:"r9Vvz"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"F_N",search:"H_72FG k_w m_Z12nDQf",tabs:"H_6UbO m_Z12nDQf",separator:"H_6MWH D_F ab_C P_Z1feoPS",separatorText:"ah_Z1tF3s4 D_X H_fq7 W_7kKt e_eo6 q_ZpQYvz",withBackground:"q_52qC"},includeHeaders:{wrapper:"W_3vpWV"},"themeMode-MEDIUM":{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1Xxgu0"},"themeMode-DARK":{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1Xxgu0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-DARK_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{withBackground:"q_t5YMW"}},_key:"ZdVGa6"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"H_6D6F D_F cZ1RN91d_n ek_BB s_1HCsWR aw_Z1CkV98",shadedContainer:"em_N W_6D6F H_6D6F D_F o_h p_R T_7zJd I_ZnwrMC",container:"em_N D_F o_h s_1HLnlu a_1Ie4E3 cZTwBjK_1EAG48 cZTwBjA_1Ie4E3",mainContent:"em_N D_F s_e5X o_h p_R j_ZlOSbd gl_C I_52qC P_Z2jbO7T",widthRestricter:"em_N D_F ej_eUh",leftRail:"em_0 D_F gl_CH W_3o4BO s_3o4BO a_3rehn cZ10Gnkk_ZM1sUU",rightRail:"em_N D_F a_3vpWV s_3o4BO",titleLabel:"u_e69 A_6EWk M_27m6vR",navWrapper:"D_F ab_C gl_CI H_6TFj M_1MapR8",errorContainer:"D_F W_3vPwA ek_BB",errorWrapper:"D_F ab_CI A_6EqO i_6LEV C_ZkiIcp",errorIcon:"D_F E_fq7"}},_key:"ggnFT"}},function(e,t,s){"use strict";e.exports={className:{default:{wizardContainer:"D_F em_N ek_BB",stepsContainer:"D_F C_Z1TsNWR U_6UbO",steps:"M_0 P_0 D_F Q_eo6",viewActions:"D_F ab_C gl_CI H_6TFj M_1NXh2I",btnPrimary:"r_P q_T D_X H_6TFj",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_Z2aVTcY H_6TFj i_6TFj P_1EudUu Q_fq7 C4_Z29WjXl I4_2iedUU"}},_key:"1EItG5"}},function(e,t,s){"use strict";e.exports={className:{default:{step:"r_P e_e5X t_C D_X W_6Fd5 H_6Fd5 A_6DUj i_6Fd5 M_3gIMd C4_52qC q4_Z29fFBt"},active:{step:"C_52qC q_Z29fFBt"}},_key:"2sfkOs"}},function(e,t,s){"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"em_N D_F ab_C ek_BB",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6LEV jb_6Eb4",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"D_F gl_C C_Z1TsNWR",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNWR",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 em_N D_F hd_n",listItem:"em_N D_F ab_C ek_BB gl_C",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",accountItem:"W_3n13i H_73rW",supportedProviderCaption:"t_C A_6EqO C_Z1Xxgu0 M_6DEy"}},_key:"vFo4A"}},function(e,t,s){"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_F ek_BB je_6Fd5 W_3rehn",link:"C_52qC O_cMq en_0 D_F b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD I_Z2aVTcY",moreIcon:"D_F q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD",iconContainer:"Y_eo6",accountslist:"en_0 D_F ek_BB",list:"Y_0 Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",header:"O_cMo D_F gl_FM M_BOLti",accountsListItem:"u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"O_cMo D_F ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_Z1YRXYn"}},_key:"Z1aGhS9"}},function(e,t,s){"use strict";e.exports={className:{default:{addConfirmWrapper:"em_N iz_A",addConfirmSection:"W_3vPwA",titleLabel:"A_6EWk M_27msYt D_F u_dPo ab_C i_6LEV",titleTextWrapper:"Q_fq7",hint:"C_Z29dUYT A_6DUj U_72FG i_6Fd5",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO M_27msYt",confirmButton:"r_P D_X H_6TFj Y_6LEV q_Z2aVTcY e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},isSyncing:{addConfirmWrapper:"P_0",hint:"O_cMq",label:"O_cMq",confirmButton:"O_cMq r_A"}},_key:"IBUSd"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1TsNWR",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZkiIcp",inputField:"z_0 n_0 x_0 q_T m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2rYSBF"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"Z2r7Mfk"}},,,,,,,,,,,,,,,function(e,t,s){e.exports=s(879)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{container:"d_6FIA i_6FIA D_F eo_HB",email:"C4_Z2aVTcY",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNWR",button:"Q_eo6 P_3gIMd e_dRA I4_Z2aVTcY C4_52qC r_P y_Z2uhb3X A_6EqO b_0 I_T"}},_key:"Zu64IQ"}},,,,,,function(e,t,s){s(847)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.r(t);var a={};s.r(a),s.d(a,"getBlockPayload",function(){return zt}),s.d(a,"transformResponse",function(){return Yt});var n={};s.r(n),s.d(n,"getBlockPayload",function(){return Zt}),s.d(n,"transformResponse",function(){return Xt});var r=s(344),o=s.n(r),i=s(155),c=s(184),l=s.n(c),d=s(35),E=s.n(d),_=s(45),u=s.n(_),p=s(68),m=s(19),h=s(0),S=s(34),g=s(36),I=s(111),C=s(24),T=s(8),A=s(93),O=s.n(A),b=s(112),R=s.n(b),D=s(22),f=s(158),N=s(46),M=s(42),L=s(76);const y="https://data.mail.yahoo.com/psearch",P="https://data.mail.yahoo.com/digicoupon",v="https://data.mail.yahoo.com/callisto/shoprunner",F="/v3/items",U="/v3/categories/expanded",H={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var k=s(174),G=s(482);var w=class{constructor(e){this.loggerParams=e,this.startTime=Date.now(),this.loggers={}}logLatency(e,t=0,s=0){Object.keys(e||{}).forEach(a=>{Object.keys(e[a]||{}).forEach(e=>{const n=a+"__"+e;this.loggers[n]||(k.a.feature("bootcamp_client_stream_call",Object.assign({},this.loggerParams,{contentType:a,filterType:e,bootcampRequestTS:t,bootcampResponseTS:s}),this.startTime).logLatency(),this.loggers[n]=!0)})})}};const x={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},B="mailsearch",j=1,V={[M.b]:class{constructor({httpRetry:e,appId:t}){this.urlPrefix=(t===h.ee?h.Sb:h.T)+"/bootcamp_api",this.httpRetry=e}searchStream(e,t){const s=new D.b("GET",this.urlPrefix+"/search",{timeout:M.f,httpRetry:this.httpRetry});let a=0;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const n=s.createStream(e),r=n.pipe(Object(f.a)({boundary:M.d,useBuffer:!1,consolidate:!0})).pipe(R()(function(e){try{const s=e.slice(a);if(a=e.length,0===s.length)return;const n=Object.keys(h.Db),r=s.reduce((e,s)=>{const a=JSON.parse(s);return t.logLatency(a),Object.keys(a).forEach(t=>{if(-1===n.indexOf(t))return e;e[t]||(e[t]={}),Object.keys(a[t]).forEach(s=>{e[t][s]=a[t][s]})}),e},{});this.emit("data",r)}catch(e){this.emit("data",{status:500,error:S.a.errorify(e)})}}));return n.on("error",e=>r.emit("error",e)),r}itemsApi(e){const t=new D.b("GET",this.urlPrefix+"/items",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}gifsApi(e){const t=new D.b("GET",this.urlPrefix+"/gifs",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}suggestionsApi(e){const t=new D.b("GET",this.urlPrefix+"/suggestions",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}recentSearchesApi(e){const t=new D.b("GET",this.urlPrefix+"/recentSearches",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}localStoresApi(e){const t=new D.b("GET",this.urlPrefix+"/locals",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}linkContentProviderApi(e){const{redirectUrl:t,errorUrl:s,q:a}=e,n=`${this.urlPrefix}/contentProviders/${e.provider}${e.unlink?"/remove":""}?${Object(_.stringify)(a)}`,r=new D.b("POST",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({redirectUrl:t,errorUrl:s}).then(e=>JSON.parse(e.text))}deletePensieveApi(e){const{itemIds:t}=e,s=this.urlPrefix+"/items/hide?"+Object(_.stringify)(Object.assign({},e,{useTripod:"true"})),a=new D.b("POST",s,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({itemIds:t}).then(e=>JSON.parse(e.text))}},[M.e]:G.a,[M.a]:class{constructor({httpRetry:e}){this.httpRetry=e}gifsApi(e){const{ymreqid:t,timezone:s}=e,a=e.nextItemsUrl?function(e,{anonid:t,wssid:s}){const a=Object.assign({wssid:s},t?{anonid:t}:{},-1===e.indexOf(`appid=${h.Zd}`)?{appid:h.Zd}:{});return e+"&"+Object(_.stringify)(a)}(e.nextItemsUrl,e):function({anonid:e,query:t,mailboxId:s,wssid:a,offset:n}){const r=Object.assign({appid:h.Zd,cursor:n,limit:M.c,mailboxId:s,mimeTypes:"image/gif",order:"desc",query:t,source:h.w.TENOR,vertical:"WEB",wssid:a},e?{anonid:e}:{});return y+F+"?"+Object(_.stringify)(r)}(e),n=new D.b("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>Object(L.i)(JSON.parse(e.text),{listContentType:h.Db.GIFS},{timezone:s}))}gifCategoriesApi(e){const{ymreqid:t,timezone:s}=e,a=function({wssid:e,locale:t}){const s={wssid:e,appid:h.Zd,limit:M.c,locale:t};return y+U+"?"+Object(_.stringify)(s)}(e),n=new D.b("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>Object(L.d)(JSON.parse(e.text),{listContentType:h.Db.GIFS},{timezone:s}))}plaAdsByKeywordApi(e,t=!1){const s=new D.b("GET",y+"/v3/srp?",{timeout:M.f,httpRetry:this.httpRetry}),{wssid:a,ymreqid:n,appid:r,sourceTag:o,bucketid:i}=e;let{keyword:c}=e;t||(c+=" buy"),s.setHeader("Accept","application/json"),s.withCredentials=!0;const l={wssid:a,ymreqid:n,appid:r,query:c,ac:2,expand:"AL",bucketid:i,limit:10,sourceTag:o};return new Promise((a,n)=>{s.createStream(Object.assign({multipart:!0},l)).on("error",n).pipe(Object(f.a)({boundary:M.d,useBuffer:!1})).once("data",s=>{let r;try{r=Object(L.k)(JSON.parse(s),{timezone:e.timezone})}catch(e){return n(e)}t||0!==r.length||a(this.plaAdsByKeywordApi(e,!0)),a({plaAds:r,retry:t})})})}getCouponsApi({ymreqid:e,decoId:t,accountIds:s,wssid:a,cursor:n=0,mailboxId:r,limit:o,start:i,end:c,vertical:l,order:d,appid:E,from:_,query:u}){const p=`mailboxId=${r}&limit=${o}&start=${i}&end=${c}&vertical=${l}&order=${d}&appid=${E}${u?`&query=${encodeURIComponent(u)}`:""}${_?`&from=${_}`:""}`,m=`${y}/v3/items?cursor=${n||0}&decoId=(${t.join(" ")})&accountIds=${s.join(",")}&${p}&wssid=${a}`,h=new D.b("GET",m,{httpRetry:this.httpRetry});return h.setHeader("Accept","application/json"),h.withCredentials=!0,h.send({ymreqid:e}).then(e=>Object(L.h)(JSON.parse(e.text)))}localStoresApi({wssid:e,senderEmail:t="",latlong:s="",ymreqid:a}){const n=`${y}/v3/items?appid=${h.Zd}&lcount=1&source=locals&wssid=${e}&sendersmtp=${encodeURIComponent(t)}`+(s?`&latlong=${s}`:""),r=new D.b("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:a}).then(e=>Object(L.j)(JSON.parse(e.text)))}retailersApi({wssid:e,ymreqid:t,quotientDebugFlag:s}){const a=new D.b("GET",`${P}/retailers?includeAll=${s}&appid=${h.Zd}&wssid=${e}`,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:t}).then(e=>e.body)}shopRunnerRetailersApi({wssid:e,ymreqid:t}){const s=new D.b("GET",`${v}/retailers?appid=${h.Zd}&wssid=${e}`,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send({ymreqid:t}).then(e=>e.body)}linkRetailerApi({wssid:e,retailerId:t,loyaltyId:s}){const a={loyalty_id:s,retailer_id:t},n=new D.b("POST",`${P}/retailer/link?appid=${h.Zd}&wssid=${e}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send(a).then(e=>e.body)}unlinkRetailerApi({wssid:e,ymreqid:t,retailerId:s}){const a=new D.b("DELETE",`${P}/retailer/${s}?appid=${h.Zd}&wssid=${e}`,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:t}).then(e=>e.body)}activateOfferApi({wssid:e,retailerId:t,offerId:s}){const a={offers:[s]},n=new D.b("POST",`${P}/offers/activate?appid=${h.Zd}&wssid=${e}&retailerId=${t}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send(a).then(e=>e.body)}retailerOffersApi({wssid:e,ymreqid:t,retailerId:s,limit:a,offset:n,offerType:r=""}){const o=new D.b("POST",`${P}/offers?appid=${h.Zd}&wssid=${e}&retailerId=${s}&limit=${a}&offset=${n}&offerType=${r}`,{httpRetry:this.httpRetry});return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send({ymreqid:t}).then(e=>Object(L.n)(e.body))}retailerActivatedOffersApi({wssid:e,ymreqid:t,retailerId:s,limit:a,offset:n}){const r=new D.b("POST",`${P}/offers/activated?appid=${h.Zd}&wssid=${e}&retailerId=${s}&limit=${a}&offset=${n}`,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>Object(L.m)(e.body))}retailerSavingsApi({wssid:e,ymreqid:t,retailerId:s="",startDate:a=-1,endDate:n=Object(N.m)(new Date)}){const r=new D.b("POST",`${P}/retailer/savings?appid=${h.Zd}&wssid=${e}&retailerId=${s}&startDate=${a}&endDate=${n}`,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>e.body)}couponRecommendations(e){const{ymreqid:t,wssid:s,limit:a=5,cursor:n=0,mid:r,mailboxemail:o=""}=e,i={appid:h.Zd,wssid:s,vertical:"CARDS",decoId:h.Zb.CPN,cursor:n,limit:a,context:r?`mid:${r}`:"view:recommended",mailboxemail:o},c=y+"/v3/items?"+Object(_.stringify)(i),l=new D.b("GET",c,{httpRetry:this.httpRetry});return l.setHeader("Accept","application/json"),l.withCredentials=!0,l.send({ymreqid:t}).then(e=>Object(L.f)(JSON.parse(e.text)))}couponSearchApi(e){const{ymreqid:t,wssid:s,limit:a,query:n,start:r,end:o}=e,i={appid:h.Zd,wssid:s,vertical:"CARDS",decoId:h.Zb.CPN,limit:a,query:n,start:r,end:o},c=y+"/v3/items?"+Object(_.stringify)(i),l=new D.b("GET",c,{httpRetry:this.httpRetry});return l.setHeader("Accept","application/json"),l.withCredentials=!0,l.send({ymreqid:t}).then(e=>Object(L.g)(JSON.parse(e.text)))}contentProvidersApi(e){const{appid:t,wssid:s}=e,a=new D.b("GET",y+"/v3/contentProviders?allsources=1",{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({appid:t,wssid:s}).then(e=>Object(L.e)(JSON.parse(e.text)))}itemsApi(e){const t=e.wssid,s=e.url.replace("https://prod1psearch.mail.yahoo.com",y)+"&wssid="+t,a=new D.b("GET",s,{httpRetry:this.httpRetry}),{ymreqid:n,listContentType:r,timezone:o}=e;return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:n}).then(e=>Object(L.i)(JSON.parse(e.text),{listContentType:r},{timezone:o}))}suggestionsApi(e){const t=new D.b("GET",y+"/v3/suggestions?",{httpRetry:this.httpRetry});return t.setHeader("Accept","multipart/form-data"),t.withCredentials=!0,new Promise((s,a)=>{t.createStream(Object.assign({multipart:!0},e)).on("error",a).pipe(Object(f.a)({boundary:M.d,useBuffer:!1})).once("data",t=>{let n;try{n=Object(L.o)(JSON.parse(t),{timezone:e.timezone})}catch(e){return a(e)}s(n)})})}recentSearchesApi(e){const t=y+"/v3/recentSearches?",{ymreqid:s,wssid:a}=e,n=new D.b("GET",t,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:s,wssid:a}).then(e=>Object(L.l)(JSON.parse(e.text)))}topRetailersApi(e){const{ymreqid:t,wssid:s,appid:a,mailboxid:n}=e,r=new D.b("POST",y+`/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}`,{httpRetry:this.httpRetry}),o={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"SENDER",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:1}]}]};return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send(o).then(e=>Object(L.q)(JSON.parse(e.text)))}topDealCategoriesApi(e){const{ymreqid:t,wssid:s,appid:a,mailboxid:n}=e,r=new D.b("POST",y+`/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}`,{httpRetry:this.httpRetry}),o={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"CATEGORY",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:0}]}]};return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send(o).then(e=>Object(L.p)(JSON.parse(e.text)))}deleteRecentSearchApi(e){const{wssid:t,ymreqid:s,appid:a}=e,n=babelHelpers.objectWithoutProperties(e,["wssid","ymreqid","appid"]),r=new D.b("POST",`${y}/v3/clearSearchHistoryQuery?wssid=${t}&ymreqid=${s}&appid=${a}`);return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send(n).catch(()=>{throw new S.a("BootcampApiClient.deleteRecentSearch")})}searchStream(e,t){const s=new D.b("GET",y+"/v3/srp?",{timeout:M.f,httpRetry:this.httpRetry}),a=E()(e,["keyword"]);s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0,a.query=e.keyword;const{sortOrder:n=h.wd.DATE_DESC}=e;a.order=H[n];let r=0;const o=s.createStream(a),i=o.pipe(Object(f.a)({boundary:M.d,useBuffer:!1,consolidate:!0})).pipe(R()(function(s){try{const a=s.slice(r),n=Object.keys(h.Db);if(r=s.length,0===a.length)return;const o=a.reduce((s,a)=>{const{status:r,response:o}=JSON.parse(a);if(401===r)throw new S.a(g.b,{statusCode:r,errorCode:"AUTH",refresh:!0});if(!o||200!==r)throw new S.a("BootcampApiClient.SearchError");let i;if(o.verticals)i=Object(L.a)(o.verticals,{timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC}),t.logLatency(i,o.requestTS,o.responseTS);else if(o.ads){const e=function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(o.ads);try{const s=(new DOMParser).parseFromString(e,"text/xml");i=Object(L.c)(s),t.logLatency(i,o.requestTS,o.responseTS)}catch(e){throw new S.a("BootcampApiClient.SearchAdsError")}}return Object(T.b)(i)||Object.keys(i).forEach(e=>{if(-1===n.indexOf(e))return s;s[e]||(s[e]={}),Object.keys(i[e]).forEach(t=>{s[e][t]=i[e][t]})}),s},{});this.emit("data",o)}catch(e){this.emit("data",{status:500,error:S.a.errorify(e)})}}));return o.on("error",e=>i.emit("error",e)),i}deletePensieveApi(e){const t={itemIds:[e.itemIds]},s=y+"/v3/items/hide?"+Object(_.stringify)(e),a=new D.b("POST",s,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send(t).then(e=>JSON.parse(e.text))}}},W=20,q=Object(T.c)(["us","uk","de","fr","it","es","ch","at","nl","no","dk","se","fi","au","br","hk","tw","ca","mx","ar","in","sg","ie","co","cl","ve","pe"]);var K=class extends p.a{constructor({appId:e=h.Zd,strategy:t=M.b,bootcampHost:s,executeRequestsSequentially:a=Object(C.b)(),loginHash:n,locale:r,cookie:o,crumb:i,wssid:c,loggerParams:l,region:d,httpRetry:E,requestQueue:_,isOnline:u,headers:p,parseXML:S,buckets:g,timezone:I={},config:T={}}){const A=T.bootcampProxy;super({loggerName:h.p.BootcampClient,loggerParams:Object(C.b)()?{}:l,crumb:i,wssid:c,isOnline:u}),Object(m.a)(t===M.b||t===M.e,`Invalid strategy ${t}`),this.strategy=Object(C.b)()&&A?M.a:t,this._getRequest=function(t=this.strategy){return new V[t]({appId:e,headers:p,bootcampHost:s,cookie:o,httpRetry:E})},this.appId=e,this.cookie=o,this.headers=p,this.httpRetry=E,this.bootcampHost=s,this.timezone=I.name,this.executeRequestsSequentially=a,this.requestQueue=_,this.region=d,this.parseXML=S,this.locale=r,this.buckets=g,n&&(this.ymreqidGenerator=new O.a(n,h.Yd,h.Rc))}getDefaultUrlParams(){const e=this.strategy===M.a||this.strategy===M.b?this.getMailboxParams():null,t=Object.assign({appid:this.appId,wssid:this.wssid,clientId:B,timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate()},e);return this.strategy===M.b&&(t.crumb=this.crumb),t}getOffsetFromUrl(e){if(e){const t=Object(_.parse)(e);return t&&t.cursor}return"0"}isRetryableError(e,t){return t<j&&e.name===g.e}searchStream(e,t,s){const a=this.getDefaultUrlParams(),n=this.isOnline(),{ymreqid:r}=a,o=Object.assign({},this.loggerParams,{apiName:"mailSearch",ymreqid:r,isOnline:n}),i=k.a.feature(h.p.BootcampClient,o),{expand:c}=t;Object(m.a)(c,"Bootcamp SRP expand parameter is required"),t=Object.assign({},a,t),l()(s)&&s(o);let d=Object.assign({multipart:!0},t);t.emailAddresses&&t.emailAddresses.length>0&&(d.filters=t.listFilter),this.strategy!==M.e&&this.strategy!==M.a||(Object.assign(d,{ac:2,sourceTag:t.sourceTag,market:q[this.region]||"us"}),this.strategy===M.e&&(d.parseXML=this.parseXML,d.buckets=this.buckets));let{folders:_=[],accountIds:u=[],emailAddresses:p=[],contactIds:S=[]}=t;_=[].concat(_),u=[].concat(u),p=[].concat(p),S=[].concat(S),_.length?d.folders=_.join(","):u.length&&(d.accountIds=u.join(","));const g=p.length;g>0&&(d.contentId=g>W&&S.length?`x:${S[0]}`:p.slice(0,W).map(e=>"smtp:"+e).join(",")),d=E()(d,["referrer","name","listContentType","listFilter","emailAddresses","contactIds"]);const C=new w(o);let T;return(T=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest().searchStream(d,C),"mailSearch"):this._getRequest().searchStream(d,C)).on("end",i.logSuccessAndLatency),T.on("error",e=>{e=this.handleCommonError(e,"mailSearch"),Object(I.a)(k.a,h.p.BootcampClient,o,e)}),T}searchItems(e,t,s=0){const a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n,retryCount:s};let o;return this.strategy===M.e&&(t.buckets=this.buckets),o=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().itemsApi(babelHelpers.extends({},a,t)),e):this._getRequest().itemsApi(Object.assign({},a,t)),this.logRequest(o,r),o.catch(a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchItems(e,t,++s);throw a})}searchMessages(e,t){this.strategy=M.e;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{appid:n,mailboxid:r,keyword:o,accountIds:i,sortOrder:c=h.wd.DATE_DESC,cursor:l,limit:d}=a;return this.searchItems("searchItem",babelHelpers.extends({},t,{url:`${this.bootcampHost}/v3/items?vertical=MESSAGES&threads=false&mailboxid=${r}&appid=${n}&accountIds=${i[0]}&query=${o}&order=${x[c]}&limit=${d}&cursor=${l}`}))}searchGifs(e,t,s=0){const a=M.a,n=this.getDefaultUrlParams(),{ymreqid:r}=n,o={apiName:e,ymreqid:r,retryCount:s};let i;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),i=this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest(a).gifsApi(babelHelpers.extends({},n,t)),e):this._getRequest(a).gifsApi(Object.assign({},n,t)),this.logRequest(i,o,null,s),i.catch(a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchGifs(e,t,++s);throw a})}getGifCategories(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).gifCategoriesApi(Object.assign({locale:this.locale},a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getPlaAdsByKeyword(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a,crumb:this.crumb},r=this._getRequest(M.a).plaAdsByKeywordApi(Object.assign({locale:this.locale},s,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getAllCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getAllCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getRelatedCoupons(...e){return this.getCouponsForSmartView(...e)}getCouponsForSmartView(e,{mailboxId:t="",limit:s=0,decoId:a=[],offset:n=0,nextItemsUrl:r="",start:o,end:i,accountIds:c=[],vertical:l="CARDS",order:d="time",query:E,from:_}={}){const u=M.a,p=this.getDefaultUrlParams(),{ymreqid:m}=p,h={apiName:e,ymreqid:m},S=babelHelpers.extends({mailboxId:t,limit:s,cursor:n,extendUrl:r,start:o,end:i,decoId:a,accountIds:c,vertical:l,order:d,query:E,from:_},p),g=this._getRequest(u).getCouponsApi(S);return this.logRequest(g,h),g.catch(t=>{throw t=this.handleCommonError(t,e)})}getLocalStores(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).localStoresApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getRetailers(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).retailersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getSRRetailers(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).shopRunnerRetailersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}linkRetailer(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).linkRetailerApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}unlinkRetailer(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).unlinkRetailerApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(e=>{throw e=this.handleCommonError(e)})}activateOffer(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).activateOfferApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getOffers(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).retailerOffersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getActivatedOffers(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).retailerActivatedOffersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}getSavings(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).retailerSavingsApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw this.handleCommonError(t,e)})}getCouponRecommendations(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).couponRecommendations(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}searchCoupons(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).couponSearchApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}searchSuggestions(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a};let r;return r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().suggestionsApi(babelHelpers.extends({},s,t)),e):this._getRequest().suggestionsApi(Object.assign({},s,t)),this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}recentSearches(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a,crumb:this.crumb};let r;return r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().recentSearchesApi(babelHelpers.extends({},s,t)),e):this._getRequest().recentSearchesApi(Object.assign({},s,t)),this.logRequest(r,n),r}getTopRetailers(e){const t=M.a,s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._getRequest(t).topRetailersApi(s);return this.logRequest(r,n),r.catch(t=>{throw this.handleCommonError(t,e)})}getTopDealCategories(e){const t=M.a,s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._getRequest(t).topDealCategoriesApi(s);return this.logRequest(r,n),r.catch(t=>{throw this.handleCommonError(t,e)})}deleteRecentSearch(e,t){const s=this.getDefaultUrlParams(),{wssid:a,ymreqid:n,appid:r}=s,o=Object.assign({},this.loggerParams,{apiName:e,ymreqid:n}),i=this._getRequest(M.a).deleteRecentSearchApi(babelHelpers.extends({},t,{wssid:a,ymreqid:n,appid:r}));return this.logRequest(i,o),i}getContentProviders(e,t){const s=M.a,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).contentProvidersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch(t=>{throw t=this.handleCommonError(t,e)})}linkContentProvider(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a,crumb:this.crumb};let r;return t.q=Object.assign({},s,t.q),t.unlink=t.unlink||!1,r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().linkContentProviderApi(t),e):this._getRequest().linkContentProviderApi(t),this.logRequest(r,n),r}deletePensieveImages(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a,crumb:this.crumb};let r;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().deletePensieveApi(babelHelpers.extends({},s,t)),e):this._getRequest().deletePensieveApi(Object.assign({},s,t)),this.logRequest(r,n),r}createStream(e,t,s=(()=>{})){return this[e](e,t,s)}request(e,t){return this[e](e,t)}handleAuthError(e,t){const{statusCode:s}=e;return 401!==s||"mailSearch"!==t&&"searchItems"!==t?null:new S.a(g.b,{statusCode:s,errorCode:"AUTH",body:e.getDataByName("body",""),refresh:!0})}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=Object(T.a)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=Object(T.a)(e,"data.body.wssid","");if(a)return this.wssid=a,new S.a(g.e,{statusCode:t,errorCode:s,wssid:a})}}return null}handleCommonError(e,t=""){let s=null;return e=S.a.errorify(e),s||(s=this.handleAuthError(e,t)),s||(s=this.handleYdodError(e)),s||(s=this.handleWssidReissueError(e)),s||e}};const z=h.Xd+"/udb",Y=3e4,Z="udb.write",X="udb.read";class Q extends p.a{constructor({loggerParams:e,crumb:t,isOnline:s,loginHash:a,httpRetry:n,requestQueue:r}){super({loggerName:h.p.UDBClient,loggerParams:e,crumb:t,isOnline:s}),this.httpRetry=n,this.requestQueue=r,a&&(this.ymreqidGenerator=new O.a(a,h.Yd,h.Rc))}_sendRequest(e,t){Object(m.a)("read"===e||"write"===e);const s=this.crumb,a=this.ymreqidGenerator.generate(),n=`${z}?crumb=${s}&ymreqid=${a}`;let r=D.a.GET,o="";"write"===e&&(r=D.a.POST,o=Object.keys(t).join(","));const i={apiName:e,key:o,crumb:s,ymreqid:a},c=new D.b(r,n,{timeout:Y,httpRetry:this.httpRetry,apiName:e}).send(t);return this.logRequest(c,i),c.catch(e=>{throw e=this.handleCommonError(e)})}read(){return this.requestQueue.add(this._sendRequest.bind(this,"read"),X)}write(e){return this.requestQueue.add(this._sendRequest.bind(this,"write",e),Z)}}Q.prototype.handleAuthError=function(e){const{statusCode:t}=e;return 401===t?new S.a("UDBClient.InvalidYca",{errorCode:"INVALID_YCA",statusCode:t}):403===t?new S.a("UDBClient.Forbidden",{errorCode:"FORBIDDEN",statusCode:t}):null};var $=s(484);const J=33e3;class ee{constructor({appId:e}){this.proxyURL=`${e===h.ee?h.Sb:h.T}/gemini_api/`}request(e){const t=new D.b(D.a.GET,this.proxyURL,{timeout:J});return t.setHeader("Accept","application/json"),t.send(e).then(e=>e.body)}}const te=Object(T.c)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]),se=1e3;var ae=class extends p.a{constructor({appId:e=h.Zd,loggerParams:t,wssid:s,isOnline:a,loginHash:n,cookie:r,crumb:o,userAgent:i,remoteAddress:c,environment:l,region:d,locale:E,buckets:_,referer:u},p){super({loggerName:h.p.GeminiAPIClient,loggerParams:t,crumb:o,wssid:s,isOnline:a}),this.strategy=p||this.getDefaultStrategy(),this.browserProxy=new ee({appId:e}),this.REQUESTS={Gemini:$.a.request,BrowserProxy:this.browserProxy.request},this.validateStrategy(this.strategy),this.appId=e,this.cookie=r,this.environment=l,this.buckets=_,this.locale=E,this.region=d,this.remoteAddress=c,this.userAgent=i,this.referer=u,n&&(this.ymreqidGenerator=new O.a(n,h.Yd,h.Rc))}getDefaultStrategy(){return Object(C.b)()?te.BROWSER_TO_NODE:te.NODE_TO_GEMINI}validateStrategy(e){if("string"!=typeof e||!te[e])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(te)));if(Object(C.b)()&&e===te.NODE_TO_GEMINI)throw new Error(te.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!Object(C.b)()&&e===te.BROWSER_TO_NODE)throw new Error(te.BROWSER_TO_NODE+" strategies can not be used on the server")}request(e){let t;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `loginHash`, so that it can generate a new one");const s=this.ymreqidGenerator.generate(),a=this.crumb,n=Object.assign({},e,{ymreqid:s,appId:this.appId,crumb:a});switch(this.strategy){case te.NODE_TO_GEMINI:Object.assign(n,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale,referer:this.referer,logRequest:this.logRequest.bind(this)}),t=this.REQUESTS.Gemini;break;case te.BROWSER_TO_NODE:t=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}const r=t(n);return this.strategy===te.BROWSER_TO_NODE&&this.logRequest(r,{ymreqid:s,crumb:a,intl:this.region,apiName:"geminiAd.get",sectionIds:e.sectionId,rotationActionType:e.rotationActionType}),r}getSponsoredAsset(e){const t=new D.b(D.a.GET,e.url,{timeout:se}),s={intl:this.region,apiName:"geminiSponsoredAsset.get",url:e.url};t.setHeader("Accept","text/html");const a=t.send();return this.logRequest(a,s),a}},ne=s(115);var re=class extends p.a{constructor({appId:e=h.Zd,host:t=h.Vd,loginHash:s,wssid:a,httpRetry:n,isOnline:r}){super({loggerName:h.p.XobniClient,wssid:a,isOnline:r});const o={loginHash:s,httpRetry:n,isOnline:r,wssid:a,host:t};if(!o.loginHash)throw new Error("Xobni `loginHash` is a required option");this.ymreqidGenerator=new O.a(o.loginHash,h.Yd,h.Rc),this.appId=e,this.httpRetry=o.httpRetry,this.instanceOptions=o}transport(e,t=D.a.GET){const s=new D.b(t,e,{httpRetry:this.httpRetry});return t===D.a.GET?s.setHeader("Accept","application/json"):s.setHeader("x-yahoowssid-authorization",this.wssid),s.withCredentials=!0,s}getRequestId(){return this.ymreqidGenerator.generate()}getSearchQueries(e){return{q:(e=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},e)).query,i_l:e.includeLists,i_t:e.includeTypes,c_t:e.recipientList.join(","),c_f:e.contextFrom,k:e.identifier,l:e.limit,ymreqid:this.getRequestId()}}getOptions(e){return{host:Object.assign({},this.instanceOptions,e).host}}isUserXobnified(e){return e=this.getOptions(e),this.transport(e.host+"/pachinko/v2/xobnified").send({ymreqid:this.getRequestId(),appId:this.appId}).then(Boolean.bind(null,!0),Boolean.bind(null,!1))}normalizeResponse(e){const t={};for(const s in e)e.hasOwnProperty(s)&&void 0!==e[s]&&(t[s]=e[s]);return t}normalizeImportantContactsResponse(e){return(e.endpoint_info_list||[]).map(e=>{const t=(e.endpoint?[e.endpoint]:[]).filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]);return{emails:t,name:e.c_name,xobniId:e.c_id,id:t[0]}})}request(e,t,s,a={}){const{mailboxParams:n}=a;return t=n?t:Object.assign(t,this.getMailboxParams()),this.transport(e,s).send(t).then(e=>e.body)}triggerProfileImport({provider:e}){Object(m.a)(e,"`provider` is a required option"),e=e.toLowerCase();const t=this.getRequestId(),s={apiName:"triggerProfileImport",provider:e,ymreqid:t},a=this.transport(`${this.instanceOptions.host}/credentials/workflow?${`source=${e}&ymreqid=${t}&appId=${this.appId}`}`,D.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send();return this.logRequest(a,s),a}blackList({contactInfo:e={}}={}){const{email:t}=e;t||Object(m.a)(t,"`email` is a required option to blacklist the email");const s=this.getRequestId(),a={apiName:"blacklistEndpoint",ymreqid:s,blacklistedEmail:t},n=this.request(`${this.instanceOptions.host}/v4/endpoints/${t}/blacklist?${`ymreqid=${s}&appId=${this.appId}`}`,{},D.a.POST);return this.logRequest(n,a),n}search(e){const t=this.getSearchQueries(e),s=babelHelpers.extends({apiName:"searchSimpleEndpoint"},t);t.appId=this.appId;const a=this.request(this.instanceOptions.host+"/v4/endpoints/s",t).then(e=>this.normalizeResponse({identifier:e.k,contacts:e.r.map(function(e){return"LIST"===e.i?{id:e.n+e.ct,email:e.n+e.ct,name:e.n,list:e.es.map(e=>({id:e.e,email:e.e,name:e.n}))}:{id:e.c,email:e.e,name:e.n||e.nd||"",filteredResults:{fullName:e.f&&(e.f.FN||e.f.ND)||[],email:e.f&&e.f.E||[]}}})}));return this.logRequest(a,s),a}simpleSearch(e){const t=this.getSearchQueries(e),s=babelHelpers.extends({apiName:"searchSimpleContact"},t);t.appId=this.appId;const a=this.request(this.instanceOptions.host+"/v4/contacts/s",t).then(e=>Object(ne.g)(e.r));return this.logRequest(a,s),a}importantContacts(e){e||Object(m.a)(e,"`email` is a required option to blacklist the email");const t={include_types:"smtp",context_from:e,max_count:100,ymreqid:this.getRequestId(),appId:this.appId},s={apiName:"importantEndpoints",context_from:e,ymreqid:t.ymreqid},a=this.request(this.instanceOptions.host+"/v4/endpoints/important",t).then(e=>this.normalizeImportantContactsResponse(e));return this.logRequest(a,s),a}topContacts({email:e,maxCount:t=20}){e||Object(m.a)(e,"`email` is a required option to specify the context");const s={exclude_known_entities:!0,context_from:e,max_count:t,no_me_contact:!0,include_favorite:!0,ymreqid:this.getRequestId(),appId:this.appId},a={apiName:"importantContacts",ymreqid:s.ymreqid,context_from:e,max_count:t},n=this.request(this.instanceOptions.host+"/v4/contacts/important",s).then(ne.h);return this.logRequest(n,a),n}alphabeticalContacts({count:e,characters:t=[],type:s=0}){const a={count:e,type:s,ymreqid:this.getRequestId()};t.length>0&&(a.categories=t.join(","));const n=babelHelpers.extends({apiName:"alphabeticalContacts"},a);a.appId=this.appId;const r=this.request(this.instanceOptions.host+"/v4/contacts/alpha",a).then(e=>Object(ne.c)({response:e}));return this.logRequest(r,n),r}contactDetailsEdit({originalContact:e,newContact:t}){const s=babelHelpers.extends({},Object(ne.e)(e,t),{appId:this.appId,ymreqid:this.getRequestId()});if(!Object.keys(s.changes).length)return Promise.reject({error:"no changes"});if(!s.source)return Promise.reject({error:"no editToken"});const a=s.changes,{removed_endpoints:n,added_endpoints:r}=a,o=babelHelpers.objectWithoutProperties(a,["removed_endpoints","added_endpoints"]),i=babelHelpers.extends({apiName:"contactDetailsEdit",ymreqid:s.ymreqid,editToken:s.editToken},o,{removed_endpoints:JSON.stringify(n),added_endpoints:JSON.stringify(r)}),c=this.request(`${this.instanceOptions.host}/v4/contacts/liteEdit`,s,D.a.POST,{mailboxParams:!0}).then(e=>Object(ne.a)(e.resulting_contacts&&e.resulting_contacts[0]));return this.logRequest(c,i),c}createContact({newContact:e,file:t}){if(!e)return;const s={apiName:"createContact",newContact:JSON.stringify(e),file:t,ymreqid:this.getRequestId()},a=Object.assign({ymreqid:this.getRequestId(),appId:this.appId},Object(ne.d)({contact:e,file:t}));if(!Object.keys(a.source_contacts).length)return Promise.reject({error:"no changes"});const n=this.request(`${this.instanceOptions.host}/v4/contacts/create`,a,D.a.POST,{mailboxParams:!0}).then(e=>Object(ne.a)(e.resulting_contacts&&e.resulting_contacts[0]));return this.logRequest(n,s),n}contactUploadPhoto({file:e,editToken:t}){const s=this.getRequestId(),a={apiName:"contactUploadPhoto",file:e,editToken:t,ymreqid:s};if(!t)return Promise.reject({error:"no editToken"});const n=this.request(`${this.instanceOptions.host}/v4/contacts/uploadPhoto`,{image:e,source:t,appId:this.appId,ymreqid:s},D.a.POST,{mailboxParams:!0}).then(e=>Object(ne.a)(e.resulting_contacts&&e.resulting_contacts[0]));return this.logRequest(n,a),n}contactDetails({email:e,isCompose:t}){e||Object(m.a)(e,"`email` is a required option");const s=this.getRequestId(),a={apiName:"contactDetailsByEndpoint",email:e,isCompose:t,ymreqid:s},n=`smtp:${e}`,r=this.request(`${this.instanceOptions.host}/v4/contacts/by/ep`,{ep:n,is_composing:t,enable_tmp:!0,appId:this.appId,ymreqid:s}).then(e=>Object(ne.b)(Object.assign({ep:n},e)));return this.logRequest(r,a),r}formatted(e,t){const s={ymreqid:this.getRequestId(),appId:this.appId},a={apiName:"socialAccountStatus",ymreqid:s.ymreqid},n=this.request(`${this.instanceOptions.host}/v4/util/credentials/formatted`,s).then(e=>Object(ne.i)(e,t));return this.logRequest(n,a),n}contactsWithGroupName(){const e={format:"json",view:"compact",count:7e3,ymreqid:this.getRequestId(),appId:this.appId,wssid:this.wssid},t={apiName:"addressBookContacts",ymreqid:e.ymreqid},s=this.request("https://data.mail.yahoo.com/classicab/v2/contacts",e).then(e=>Object(ne.f)(e.contacts));return this.logRequest(s,t),s}};const oe=D.a.GET,ie=["version","launchtime","ymreqid","crumb"],ce={Transport:D.b,request:e=>ce._sendRequest(e),_sendRequest:e=>{const t=new ce.Transport(oe,h.ub,3e3),s=ie.reduce((t,s)=>(t[s]=e[s],t),{});return t.setHeader("Accept","application/json"),t.send(s)}};var le=ce;var de=class extends p.a{constructor({heartBeatCheckInterval:e=36e5,buildNumber:t,launchTime:s,loginHash:a,loggerParams:n,crumb:r,isOnline:o}){super({loggerName:h.p.HeartbeatAPIClient,loggerParams:n,crumb:r,isOnline:o}),this.emergencyRefresh=!1,a&&(this.ymreqidGenerator=new O.a(a,h.Yd,h.Rc)),Object(C.b)()&&setInterval(()=>{this.request({version:t,launchtime:s}).then(e=>{this.emergencyRefresh=e},()=>{this.emergencyRefresh=!1})},e)}request(e){const t={apiName:"heartbeat",crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},s=Object.assign({},e,t),a=le.request(s);return this.logRequest(a,t),a.then(e=>!!e.body.emergencyRefresh).catch(()=>!1)}};const Ee=h.Xd+"/yql";var _e=s(58),ue=s.n(_e),pe=ue.a.create("norrin/yql_client");const me=h.Xd+"/linkEnhancer",he=3500;const Se=h.Xd+"/payment_api";var ge=class extends p.a{constructor({region:e,locale:t,loggerParams:s,crumb:a,isOnline:n}){super({loggerName:h.p.PaymentClient,loggerParams:s,crumb:a,isOnline:n}),this.region=e,this.locale=t}request(e){const t=Se+"/"+e+"?crumb="+this.crumb,s={crumb:this.crumb,apiName:e,reqUrl:t,region:this.region,locale:this.locale},a=new D.b(D.a.GET,t).send();return this.logRequest(a,s),a}},Ie=s(488),Ce=s.n(Ie),Te=s(117),Ae=s.n(Te),Oe=s(489),be=s.n(Oe),Re=s(490),De=s.n(Re),fe=s(491),Ne=s.n(fe),Me=s(492),Le=s.n(Me),ye=(s(493),s(132)),Pe=s.n(ye);function ve(e){const{event:t,state:s,email:a}=e;return t.startTime&&(t.startTime=Fe(t.startTime)),t.endTime?t.endTime=Fe(t.endTime):t.duration&&t.startTime?t.endTime=function(e,t){let s=1,a=e;return[{unit:"D",addFunction:be.a},{unit:"T",addFunction:e=>e},{unit:"H",addFunction:De.a},{unit:"M",addFunction:Ne.a},{unit:"S",addFunction:Le.a}].forEach(({unit:e,addFunction:n})=>{const r=t.indexOf(e,s);if(r>-1){const e=parseInt(t.substring(s,r),10)||0;a=n(a,e),s=r+1}}),a}(t.startTime,t.duration):t.startTime&&(t.endTime=t.startTime),t.email=a||"",t.state=s||"",t.response=t.partStat||"",t.startTime&&t.endTime&&(t.isSameDay=Ce()(t.startTime,t.endTime)),t.firstAttendeeStatus=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee[0].partStat}(t.attendees),t.location=t.location||null,t.videoLink=function(e){const t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]||null}(t.description),t.attendees=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee.map(e=>e.email)}(t.attendees),t.firstAttendeeEmail=t.attendees[0]||"",t}function Fe(e){const t=Ae()(e);return Pe()("Invalid Date"!==t.toString(),"Invalid Date"),t}var Ue=ue.a.create("norrin/calendar");const He="/cal/ws",ke=1;var Ge=s(2),we=s.n(Ge),xe=s(26),Be=s.n(xe),je=s(6),Ve=s.n(je),We=s(118),qe=s.n(We);var Ke=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleEvent=(e=>{switch(e.type){case"message":this.handlePostMessage(e);break;case"load":this.handleCaptchaLoaded(e)}}),this.handlePostMessage=(e=>{var t=this._callbacks[e.data.type];t&&t.length&&t.forEach(function(t){t(e.data.payload)})}),this.handleCaptchaLoaded=(()=>{const e=Be.a.findDOMNode(this);window.addEventListener("message",this,!1),e.contentWindow.postMessage("register",window.location.href)}),this.on=((e,t)=>{this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}),this.off=((e,t)=>{Object(m.a)(Array.isArray(this._callbacks[e]),"Invalid eventName. Perhaps you should call on before off");const s=this._callbacks[e].indexOf(t);s>-1&&this._callbacks[e].splice(s,1)}),this.wrapContent=((e,t)=>{const{cspToken:s}=this.props;return`<html>\n                 <head>\n                     <script nonce="${s}">\n                        function listener(event) {\n                            if (event.data !== "register") { return; }\n                            YAHOO.CAPTCHA.hook.complete = function(answer) {\n                                event.source.postMessage({\n                                    type: "complete",\n                                    payload: answer\n                                }, event.origin);\n                            }\n                            YAHOO.CAPTCHA.hook();\n                        };\n                        window.addEventListener("message", listener);\n                        ${e}\n                     <\/script>\n                 </head>\n                 <body>\n                    ${t=t.replace("<script ",`<script nonce="${s}" `)}\n                 </body>\n             </html>\n        `}),this.sanitize=(e=>e?qe()(e).replace(/http:\/\/l.yimg.com\//g,"https://s.yimg.com/"):""),t}componentDidMount(){this._callbacks=Object.create(null),Be.a.findDOMNode(this).addEventListener("load",this,!1),this.on("complete",this.props.onComplete)}componentWillUnmount(){this.off("complete",this.props.onComplete),window.removeEventListener("message",this,!1),Be.a.findDOMNode(this).removeEventListener("load",this,!1)}render(){const e=this.wrapContent(this.sanitize(this.props.script),this.sanitize(this.props.markup));return we.a.createElement("iframe",{srcDoc:e,style:{display:"none"}})}};var ze=s(214),Ye=s(366);var Ze=class extends p.a{constructor({appId:e=h.Zd,loggerParams:t,crumb:s,isOnline:a,httpRetry:n,locale:r,environment:o,region:i}){super({loggerName:h.p.LocationAutoSuggestClient,loggerParams:t,crumb:s,isOnline:a}),this.httpRetry=n,this.appid=e,this.locale=r,this.region=i,this.environment=o}getLocationSuggestion(e,t){let s,a;t===Ye.h.HIPMUNK?(s=ze.b,a={q:e.keyword,product:e.product?e.product:"flights"}):(s=ze.c,a={text:e.keyword,language:"en-us"});const n=babelHelpers.extends({locale:this.locale,appid:this.appid,region:this.region,environment:this.environment},a),r=new D.b(D.a.GET,s,{timeout:ze.d,httpRetry:this.httpRetry});r.setHeader("Accept","application/json");const o=r.send(a);return this.logRequest(o,n),o.then(e=>({suggestions:e.body.result||e.body.results}))}};const Xe=h.Xd+"/subscription_api";const Qe="https://s.yimg.com/yo/m2s/EXP/test.json";const $e=h.Xd+"/athena_api";const Je=1250,et="BROWSER_TO_NODE_STRATEGY",tt="NODE_TO_ATHENA_STRATEGY",st=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"];const at="unsubscribemail",nt={[et]:class{unSubscribeApi(e){const{crumb:t}=e,s=new D.b("POST",$e+"/unsubscribe?crumb="+t);return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send(e).then(e=>JSON.parse(e.text))}},[tt]:class{constructor({athenaHost:e,cookie:t,headers:s}){this.cookie=t,this.athenaHost=e,this.headers=s}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}unSubscribeApi(e){const{senders:t,wssid:s}=e,a=new D.b("POST",this.athenaHost+"/v1/commsdata/getunsubsuggestions?crumb="+s);return a.setHeader("Accept","application/json"),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,a.send({senders:t}).then(e=>JSON.stringify(function(e){const t=e&&Object(T.a)(e,"commsDataUnsubscribe.result.0.unsubscribe.unsubscribeList");if(t&&Array.isArray(t))return t;throw new S.a("AthenaApiClient.DataError",e)}(JSON.parse(e.text))))}userSegmentApi(e){const t=new D.b("GET",this.athenaHost+"/v1/commsdata/userprofile?",{timeout:Je});return t.setHeader("Accept","application/json"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0,t.send(e).then(e=>(function(e){return e&&Array.isArray(Object(T.a)(e,"commsDataUserProfile.result.0.userProfile.attributesList"))?Object(T.a)(e,"commsDataUserProfile.result.0.userProfile.attributesList").filter(e=>!(!e||!e.platform)&&-1!==st.indexOf(e.platform)).reduce((e,t)=>babelHelpers.extends({},e,{[t.platform]:t}),{}):{}})(JSON.parse(e.text)))}}};var rt=class extends p.a{constructor({appId:e=h.Zd,strategy:t=et,loginHash:s,wssid:a,crumb:n,isOnline:r,cookie:o,athenaHost:i,headers:c,timezone:l,loggerParams:d}){super({loggerName:h.p.AthenaClient,loggerParams:d,crumb:n,wssid:a,isOnline:r}),Object(m.a)(t===et||t===tt,`Invalid strategy ${t}`),this.appId=e,this.cookie=o,this.athenaHost=i,this.timezone=l,this.strategy=t,this._request=new nt[t]({headers:c,athenaHost:i,cookie:o}),s&&(this.ymreqidGenerator=new O.a(s,h.Yd,h.Rc))}getDefaultUrlParams(){return{appid:this.appId,crumb:this.crumb,wssid:this.wssid,clientId:at,timezone:this.timezone,ymreqid:this.ymreqidGenerator.generate()}}request(e,t){return this[e](e,t)}unSubscribeItems(e,t){const s=this.getDefaultUrlParams(),{wssid:a,crumb:n}=s,r={apiName:e,wssid:a,crumb:n};let o,i;if(this.strategy===et){const{originalSendersInfo:e}=t;o=e.filter(e=>e.name&&e.email).map(e=>({email:e.email,from:e.name})),i=this._request.unSubscribeApi(Object.assign({},s,{senders:o}))}else i=this._request.unSubscribeApi(Object.assign({},s,t));return this.logRequest(i,r),i}getUserSegmentData(e,t){const s={apiName:e},a=this._request.userSegmentApi(Object.assign({appId:this.appId},t));return this.logRequest(a,s),a}},ot=ue.a.create("norrin/video_client");const it=h.Xd+"/video_api";const ct=h.Xd+"/taiwan_api";var lt=s(185);const dt="mail-shoplift",Et=["shoplift_recommendations"],_t={requestType:"Tripod"},ut={clientId:"0ec39512204fd80cfcc6c1621dffdf3cbdbb8270ea8bbfc6f6e4963d1c711ed2",grantType:"ytcookies"},pt="https://s.yimg.com/ec/3.0.101.js",mt=e=>{const t=Object(T.a)(e,"data.mediaEnrichment.shoplift_recommendations.data",null);if(!t)return null;const s=[];return t.forEach(e=>{const{objectDetectionScore:t,product_images:a,product_titles:n,product_webpages:r,product_similarities:o}=e;t<.9||a.forEach((e,a)=>{const i=o[a];i<.8||s.push({imageUrl:e,url:r[a],title:n[a],retailer:"Wayfair",productSimilarityScore:i,objectDetectionScore:t})})}),s},ht=e=>{const t=e.filter(e=>e&&e.length),s=[],a=Math.max.apply(null,t.map(e=>e.length));let n=-1;for(;s.length<6&&++n<a;)t.forEach(e=>{e[n]&&s.push(e[n])});return{items:s.slice(0,6)}};let St;var gt=s(33);const It={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"GET",payloadType:"embedded"}),transformResponse:e=>{const t=function(e){return e.filter(e=>"DELETE_IN_PROGRESS"!==e.status).map(e=>{let t=!0,s=e.name;return-1!==e.types.indexOf(h.sb.USER)&&(t=!1),"@B@Bulk"===s&&(s="Spam"),{unread:e.unread,total:e.total,types:e.types,name:s,path:s,id:e.id,isSystem:t,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext}})}(e.response.result.folders);return t.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),function(e){const t=[],s={};return e.forEach(e=>{s[e.accountId]||(s[e.accountId]={}),s[e.accountId][e.name]=e}),e.forEach(e=>{const a=s[e.accountId],n=Object(gt.i)(e,a);Object(gt.p)(t,e,n,0)}),t}(t)}};const Ct="GetFolders";var Tt={getBatchPayload:({mailboxId:e})=>{return{requests:[It.getBlockPayload(Ct,{mailboxId:e})]}},transformResponses:({successMap:e})=>({folders:It.transformResponse(e[Ct])})},At=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/@.id==${t.folderId}`,method:"DELETE"});const Ot="DeleteFolders";var bt={getBatchPayload:({mailboxId:e,folderId:t})=>{return{requests:[At(Ot,{mailboxId:e,folderId:t})]}},transformResponses:()=>1},Rt=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"PUT",payloadType:"embedded",payload:{folder:{types:[h.sb.USER],acctId:t.accountId,name:t.folderName}}}),Dt=e=>{const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId,highestModSeq:t.highestModSeq,uidNext:t.uidNext}};const ft="CreateFolders";var Nt={getBatchPayload:({mailboxId:e,accountId:t,folderName:s})=>{return{requests:[Rt(ft,{mailboxId:e,accountId:t,folderName:s})]}},transformResponses:({successMap:e})=>({folder:Dt(e[ft])})},Mt={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/${t.folderId}`,method:"POST",payloadType:"embedded",payload:{folder:{name:t.folderName}}}),transformResponse(e){const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId}}},Lt={getBlockPayload:(e,t)=>{const{mailboxId:s,value:a}=t,n=`/ws/v3/mailboxes/@.id==${s}/attributes/@.id==${e}`;return{id:e,method:"POST",uri:n,payload:{id:e,link:{type:"RELATIVE",href:n},value:a}}},get getChainedBlockPayload(){return(e,{mailboxId:t,value:s})=>{const{getSaveBlockPayload:a}=this;let n;return e===h.Wb.DELIVERY_BLOCKED_SENDERS?a(e,{mailboxId:t,value:s}):{id:"GetMailboxAttribute_"+e,uri:`/ws/v3/mailboxes/@.id==${t}/attributes/@.id==${e}`,method:"GET",filters:n={select:{testAndSet:"$..value.testAndSet"}},requests:[a(e,{mailboxId:t,value:s})]}}},getSaveBlockPayload:(e,{mailboxId:t,value:s})=>{const a=`/ws/v3/mailboxes/@.id==${t}/attributes/@.id==${e}`;let n;return-1===[h.Wb.DELIVERY_BLOCKED_SENDERS,h.kd.VACATION_PREFERENCES].indexOf(e)&&(s.testAndSet="$(testAndSet)"),-1===[h.Wb.DELIVERY_BLOCKED_SENDERS,h.kd.VACATION_PREFERENCES].indexOf(e)&&(n={select:{testAndSet:"$..value.testAndSet"}}),{id:"SetMailboxAttribute_"+e,method:"POST",uri:a,payload:{id:e,link:{type:"RELATIVE",href:a},value:s},filters:n}},get getMultiAttributeChain(){return({mailboxId:e,attributes:t})=>{const{getChainedBlockPayload:s,getSaveBlockPayload:a}=this,n=t.map(({id:t,value:n},r)=>0===r?s(t,{mailboxId:e,value:n}):a(t,{mailboxId:e,value:n})),r=n[0];let o;return n.forEach(e=>{o?o.requests?(o.requests[0].requests=[e],o=e):(o.requests=[e],o=e):o=e}),{requests:[r]}}},transformResponse:()=>1};const yt="RenameFolders",Pt="messageFilters";var vt={getBatchPayload({mailboxId:e,folderId:t,folderName:s,filters:a,subfolders:n=[]}){const r=Mt.getBlockPayload(yt+t,{mailboxId:e,folderId:t,folderName:s}),o=n.map(({folderId:t,folderName:s})=>Mt.getBlockPayload(yt+t,{mailboxId:e,folderId:t,folderName:s}));return 0===a.length?{requests:[r,...o]}:{requests:[babelHelpers.extends({},r,{requests:[Lt.getBlockPayload(Pt,{mailboxId:e,value:{filters:a}})]}),...o]}},transformResponses:(e,t)=>({folder:Mt.transformResponse(e.successMap[yt+t.folderId]),subfolders:Object.keys(e.successMap).filter(e=>e!==yt+t.folderId).map(t=>Mt.transformResponse(e.successMap[t]))})},Ft=s(37),Ut={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,isAsync:n,deleteDuplicates:r})=>{if(!s&&!a)throw new Error("POST Delete Message requires either a list of ids or a query string.");const o=[];s&&o.push(`id:(${s.join(" ")})`),a&&o.push(a);const i=encodeURIComponent(o.join(" AND ")),c=r?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"DELETE"}]}}(e,t,i):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"DELETE"}}(e,t,i);return n&&(c.uri+="&async=true"),c},getBatchError:({failureMap:e})=>{return"EC-4007"===Object(T.a)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Ft.a(g.h,e):null},transformResponse:()=>1};var Ht={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"GET"}),transformResponse(e){const t=e.response.result;if(!t)return{};const s=t.task;return s?{id:s.id,link:s.link.href,status:s.status,progress:s.progress,expires:s.expiryTime}:{}}};const kt="DeleteList";var Gt={getBatchPayload:e=>{return{requests:e.map(({mailboxId:e,query:t,isAsync:s=!0})=>(Object(m.a)(e,"`mailboxId` missing."),Object(m.a)(t,"`query` missing."),Ut.getBlockPayload(kt,{mailboxId:e,query:t,isAsync:s})))}},transformResponses({successMap:e}){const t=e[kt];return t.response?{task:Ht.transformResponse(t)}:Ut.transformResponse(t)}},wt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,isAsync:s})=>(Object(m.a)(e,"`mailboxId` missing."),Object(m.a)(t,"`query` missing."),{mailboxId:e,query:t,isAsync:s}));return Gt.getBatchPayload(t)},transformResponses:({successMap:e})=>Gt.transformResponses({successMap:e})},xt={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,destinationFolderId:n,flags:r,cardConversationId:o,isAsync:i,payload:c,deleteDuplicates:l})=>{if(!s&&!a)throw new Error("POST Update Message requires either a list of ids or a query string.");const d=[];s&&d.push(`id:(${s.join(" ")})`),a&&d.push(a);const E=encodeURIComponent(d.join(" AND ")),_=l?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"POST",payloadType:"embedded",payload:{message:{}}}]}}(e,t,E):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"POST",payloadType:"embedded",payload:{message:{}}}}(e,t,E),u=l?_.requests[0]:_;if(i&&(_.uri+="&async=true"),!(n||r||o||c))throw new Error("POST Update Message requires either a folder id, flags, cardConversationId or payload");return c?u.payload=c:(n&&(u.payload.message.folder={},u.payload.message.folder.id=n),r&&(u.payload.message.flags=r),o&&(u.payload.message.cardConversationId=o)),_},transformResponse:()=>1};const Bt="UpdateList";var jt={getBatchPayload:e=>({requests:e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n=!0})=>(Object(m.a)(e,"`mailboxId` missing."),Object(m.a)(t,"`query` missing."),Object(m.a)(s||a,"`destinationFolderId` or `flags` required."),xt.getBlockPayload(Bt,{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})))}),transformResponses({successMap:e}){const t=e[Bt];return t.response?{task:Ht.transformResponse(t)}:xt.transformResponse(t)}},Vt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})=>(Object(m.a)(e,"`mailboxId` missing."),Object(m.a)(t,"`query` missing."),Object(m.a)(s||a,"`destinationFolderId` or `flags` required."),{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n}));return jt.getBatchPayload(t)},transformResponses:({successMap:e})=>jt.transformResponses({successMap:e})},Wt=s(27),qt=s(48);function Kt(e){const t={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged}),folder:{id:e.folder.id},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from||[],to:e.headers.to||[],cc:e.headers.cc||[],bcc:e.headers.bcc||[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};e.spame&&(t.spame=e.spame),e.captcha&&(t.captcha=e.captcha),e.csid&&(t.csid=e.csid),e.attachments&&(e.attachments=t.attachments=function(e,t,s,a){return e.map(e=>({id:Object(qt.e)(e,s,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*t,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:a}))}(e.attachments,t.headers.date,t.id,e.csid)),void 0!==e.attachmentCount&&(t.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(t.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(t.inReplyTo=babelHelpers.extends({},e.inReplyTo,{messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id})),e.downloadAllUrl&&(t.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&Object(qt.i)(e)&&(t.schemaCards=Object(qt.p)(e)),e.schemaOrg&&Object(qt.n)(e)&&(t.unsubOption=Object(qt.h)(e)),e.cardConversationId&&(t.cardConversationId=e.cardConversationId),e.decos&&(t.decos=e.decos);const{filterResult:s}=e;return s&&s.folderOfDelivery&&(t.folderOfDelivery=s.folderOfDelivery),t}function zt(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:c,cidFilter:l,cardConversationIds:d,startCardDate:E,endCardDate:_,accountId:u,encodeCardConversationId:p=!0,query:S={},cursorOffsetId:g}){let I="";switch(Object(m.a)(t,"mailboxId is a required field"),I+=n?"folderId"+Wt.c+n:"",I+=o?Object(Wt.h)(o):"",I+=i.length?Wt.e+encodeURIComponent(i.map(e=>`-folderType:(${e})`).join("")):"",I+=g?Wt.e+"cursorOffsetId"+Wt.c+g:"",I+=Wt.e+"count"+Wt.c+a,I+=Wt.e+"offset"+Wt.c+s,I+=c?encodeURIComponent(` id:(${c.join(" ")})`):"",d&&(I+=p?encodeURIComponent(` cardConversationId:(${d.join(" ")})`):`%20cardConversationId%3A(${d.join("%20")})`),I+=l?`%20conversationId%3A(${l})`:"",I+=r===h.Sc&&E&&_?`${Wt.e}cardDate${Wt.c}${Wt.d}${E}${Wt.e}TO${Wt.e}${_}${Wt.b}`:"",I+=u&&!n?"%20acctId"+Wt.c+u:"",I+=encodeURIComponent(Object.keys(S).reduce((e,t)=>Array.isArray(S[t])?e+S[t].map(e=>" "+t+":"+e):e+" "+t+":"+S[t],"")),r){case h.wd.DATE_ASC:I+=Wt.e+"sort"+Wt.c+"date";break;case h.wd.DATE_DESC:I+=Wt.e+"-sort"+Wt.c+"date";break;case h.wd.CARD_DATE_DESC:I+=Wt.e+"-sort"+Wt.c+"cardDate";break;case h.wd.SENDER:case h.wd.RECIPIENT:case h.wd.SUBJECT:case h.wd.UNREAD:case h.wd.STARRED:case h.wd.ATTACHMENT:case h.Sc:I+=Wt.e+"sort"+Wt.c+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${I}`,method:"GET",payloadType:"embedded"}}function Yt(e,t){const s=e.response.result.messages,a={messageGroups:s.map(e=>({id:e.id,messages:[Kt(e)]}))};if(!isNaN(t)){let e=!1;s.length&&(e=s[0].folder.total>t),a.hasMore=e}return a}function Zt(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:c,cidFilter:l,startCardDate:d,endCardDate:E,accountId:_,groupBy:u="conversationId"}){let p="";switch(Object(m.a)(t,"mailboxId is a required field"),p+=n?"folderId"+Wt.c+n:"",p+=_?Wt.e+"acctId"+Wt.c+_:"",p+=o?Object(Wt.h)(o):"",p+=`${Wt.e}groupBy${Wt.c}${u}`,p+=Wt.e+"count"+Wt.c+a,p+=Wt.e+"offset"+Wt.c+s,p+=c?encodeURIComponent(` conversationId:(${c.join(" ")})`):"",p+=l?`%20conversationId%3A(${l})`:"",p+=d&&E?`${Wt.e}cardDate${Wt.c}${Wt.d}${d}${Wt.e}TO${Wt.e}${E}${Wt.b}`:"",p+=i.length?Wt.e+encodeURIComponent(i.map(e=>`-folderType:(${e})`).join("")):"",p+=o===h.Eb.PEOPLE?Wt.e+encodeURIComponent([h.sb.USER,h.sb.INBOX].map(e=>`+folderType:(${e})`).join("")):"",r){case h.wd.DATE_ASC:p+=Wt.e+"sort"+Wt.c+"date";break;case h.wd.DATE_DESC:p+=Wt.e+"-sort"+Wt.c+"date";break;case h.wd.CARD_DATE_ASC:p+=Wt.e+"sort"+Wt.c+"cardDate";break;case h.wd.CARD_DATE_DESC:p+=Wt.e+"-sort"+Wt.c+"cardDate";break;case h.wd.SENDER:case h.wd.SUBJECT:case h.wd.UNREAD:case h.wd.STARRED:case h.Sc:p+=Wt.e+"sort"+Wt.c+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${p}`,method:"GET",payloadType:"embedded"}}function Xt(e){const{conversations:t,messages:s,query:a}=e.response.result,n=new Map;s.forEach(e=>n.set(e.id,e));const r={messageGroups:t.filter(({messageIds:e})=>e.some(e=>!!n.get(e))).map(({id:e,messageIds:t})=>({id:e,messages:t.filter(e=>n.get(e)).map(e=>Kt(n.get(e))).reverse()}))};if(r.hasMore=0!==t.length,a&&a.options){const e=Object(Wt.j)(a);r.hasMore=t.length>=e}return r}var Qt=s(87),$t=(e,t)=>{const{accountId:s,mailboxId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/decos/@.id==FTI`,method:"POST",payload:{id:"FTI",counts:[{accountId:s,unseen:0}]}}},Jt=e=>{if(e){const{id:t,httpCode:s,response:a}=e;Qt.a.feature(h.p.MailAPIClient,{data:{apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s}}).logFailure()}return null},es=s(294),ts=s.n(es),ss=s(270),as=s.n(ss),ns=s(188),rs=s.n(ns);function os(e){const t=e.every(e=>e.headers&&e.headers.date);return Object(m.a)(t,"date is missing in the headers"),e.sort((e,t)=>t.headers.date-e.headers.date).slice(1)}function is(e=[]){const[t=[],s=[]]=rs()(e,({csid:e,folder:t})=>e&&-1!==t.types.indexOf("DRAFT")),a=rs()(t,e=>!e.inReplyTo),n=ts()(a[0],"csid"),r=ts()(a[1],"conversationId"),o=Object.keys(n).filter(e=>n[e].length>1).map(e=>os(n[e]));let i=Object.keys(r).map(e=>ts()(r[e],"csid")).reduce((e,t)=>{const s=Object.keys(t).filter(e=>t[e].length>1).map(e=>os(t[e]));return s.length&&e.push(...as()(s)),e},[...as()(o)]);if(t.length&&s.length){const e=t.filter(e=>s.some(({csid:t,folder:s})=>t===e.csid&&-1!==s.types.indexOf("SENT")));i=i.concat(e)}return i.length?e.filter(({id:e})=>!i.find(({id:t})=>e===t)):e}var cs=s(64),ls=s.n(cs);const ds="GetMessageGroupList";var Es={getBatchPayload({mailboxId:e,folderId:t,count:s,offset:r,sortOrder:o,filter:i,conversationsMode:c,excludeFolderTypes:l=[],ids:d,cardConversationIds:E,query:_}){const u=c&&!E?n:a;return l=ls()([...l,...Wt.f]),{requests:[u.getBlockPayload(ds,{mailboxId:e,folderId:t,count:s,offset:r,filter:i,sortOrder:o,excludeFolderTypes:l,ids:d,cardConversationIds:E,query:_})]}},transformResponses({successMap:e},t){const{conversationsMode:s,offset:r,count:o,cardConversationIds:i}=t,c=r+o,l=s&&!i?n:a,{response:{result:d}}=e[ds],{messages:E}=d,{messageGroups:_,hasMore:u}=l.transformResponse({response:{result:babelHelpers.extends({},d,{messages:is(E)})}},c,t.folder);return{messageGroupList:_,hasMoreItems:u}}};const _s="GetMessageGroupList",us="UnseenCountReset";var ps={getBatchPayload({accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:c,conversationsMode:l,excludeFolderTypes:d=[]}){const E=l?n:a;return d=ls()([...d,...Wt.f]),{requests:[E.getBlockPayload(_s,{accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:c,excludeFolderTypes:d}),$t(us,{mailboxId:t,accountId:e})]}},transformResponses:(e,t)=>Es.transformResponses(e,t),getBatchError:({failureMap:e})=>{const t=Object.keys(e).length,s=e[us];return s&&1===t?Jt(s):t?new Ft.a("One or more batch requests failed",e):null}},ms={getNakedRequestUrl:(e="")=>`http://${h.yb}/ws/v3/mailboxes/`+(e?`?wssid=${e}`:""),getBlockPayload:e=>({id:e,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}),getMailboxFilters:e=>({iterator:Object(Wt.i)(e).jsonPath,select:{mailboxId:"$..id"}}),transformResponse:e=>e.response.result.mailboxes.map(hs),getExtendedResponse:e=>{const{mailboxes:t,cpAttributes:s={}}=e.response.result,{consentEvents:a={}}=s;return{mailboxes:t.map(hs),userConsentSettings:a}}};function hs(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected,type:e.type,state:e.state}}const Ss={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"GET"}),transformResponse:e=>e.response.result.accounts};var gs=s(71),Is=s(29);const Cs=Object(T.c)(Object(T.e)(h.Wb));var Ts=(e,t)=>(Object(m.a)(Cs.hasOwnProperty(t.attributeId),`Unknown mailbox attribute: ${t.attributeId}`),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/attributes/@.id==${t.attributeId}`,method:"GET"}),As=e=>{const{id:t,value:s}=e.response.result,a={};return a[t]=Object.keys(h.Xb).some(e=>h.Wb[e]===t)?{value:s[t],testAndSet:s.testAndSet}:s,t===h.Wb.LEGAL_JURISDICTION&&(a[t].value=a[t].tags?a[t].tags:[]),t===h.Wb.COMPOSE_FONT_SIZE&&"16"===a[t].value&&(a[t].value=gs.b[16]),t===h.Wb.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===a[t].value&&(a[t].value=h.Y.FAMILY),t===h.Wb.THEME&&"purple"===a[t].value&&(a[t].value=Is.g.DEFAULT),t===h.Wb.THEME_MODE&&"light"===a[t].value&&(a[t].value=Is.f.LIGHT),a};var Os={getBatchPayload:({mailboxId:e,attributes:t=h.kc})=>({requests:Object.keys(t).map(s=>{const a=t[s];return Ts("GetMailboxAttribute_"+a,{mailboxId:e,attributeId:a})})}),updateFailureMap:e=>{const t=Object.keys(e).filter(e=>0===e.indexOf("GetMailboxAttribute_"));if(t.length>0){const s=t.map(t=>e[t]),a=t.map(e=>e.replace("GetMailboxAttribute_",""));return Object(I.b)({logger:Qt.a,apiName:s[0].id,statusCode:s[0].httpCode,errorCode:Object(T.a)(s[0],"response.error.code",""),ymreqid:Object(T.a)(s[0],"response.error.requestId",""),extraStatusCode:s.map(e=>Object(T.a)(e,"httpCode","")).join(","),extraErrorCode:s.map(e=>Object(T.a)(e,"response.error.code","")).join(","),message:`failed to load attribute values ${a.join(",")}.`}),E()(e,t)}return e},transformResponses:({successMap:e},{attributes:t=h.kc})=>{let s=t;Array.isArray(t)||(s=Object.keys(t).map(e=>t[e]));const a=s.length,n={};let r=!0;for(let t=0;t<a;t++){const a=e["GetMailboxAttribute_"+s[t]];if(a){const e=As(a);Object.assign(n,e)}else r=!1}return{responses:n,success:r}}};const bs="GetMailboxes",Rs="GetFolders",Ds="GetAccounts";var fs={getBatchPayload:(e,{appId:t})=>{const s=Object.assign({},h.Bb,h.J);return{requests:[Object.assign({},ms.getBlockPayload(bs),{filters:ms.getMailboxFilters(e.bizEmail),requests:[It.getBlockPayload(Rs,{mailboxId:"$(mailboxId)"}),Ss.getBlockPayload(Ds,{mailboxId:"$(mailboxId)"})].concat(Os.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t===h.ee?h.ec:s}).requests)})]}},getBatchError:({failureMap:e})=>{const t=Os.updateFailureMap(e);return Object.keys(t)>0?new Ft.a(g.h,t):null},transformResponses:({successMap:e},{appId:t})=>{const s=Object.assign({},h.Bb,h.J),a=Os.transformResponses({successMap:e},{attributes:t===h.ee?h.ec:s});return{mailboxes:ms.transformResponse(e[bs]),folders:It.transformResponse(e[Rs]),accounts:Ss.transformResponse(e[Ds]),mailboxAttributes:a}}};const Ns="GetMailboxes",Ms="GetFolders",Ls="GetMessageGroupList",ys="GetAccounts";var Ps={getBatchPayload:({folderId:e="null",count:t,offset:s,sortOrder:r,filter:o,conversationsMode:i,excludeFolderTypes:c=[],bizEmail:l},{appId:d})=>{const E=i?n:a;return c=ls()([...c,...Wt.f]),{requests:[Object.assign({},ms.getBlockPayload(Ns),{filters:ms.getMailboxFilters(l),requests:[babelHelpers.extends({},Ss.getBlockPayload(ys,{mailboxId:"$(mailboxId)"}),{filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[babelHelpers.extends({},It.getBlockPayload(Ms,{mailboxId:"$(mailboxId)"}),{filters:{iterator:`$..folders[?((@.id=='${e}' && '${e}' in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && '${e}' nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},requests:[E.getBlockPayload(Ls,{mailboxId:"$(mailboxId)",folderId:"$(folderId)",sortOrder:r,filter:o,count:t,offset:s,excludeFolderTypes:c})]})]})].concat(Os.getBatchPayload({mailboxId:"$(mailboxId)",attributes:d===h.ee?h.ec:h.Bb}).requests)})]}},transformResponses({successMap:e},t){const{offset:s,count:r,conversationsMode:o,ymreqid:i,folderId:c}=t,l=ms.transformResponse(e[Ns]),d=It.transformResponse(e[Ms]),E=Ss.transformResponse(e[ys]),_=s+r,u=o?n:a,p=Os.transformResponses({successMap:e},{attributes:t.appId===h.ee?h.ec:h.Bb}),{response:{result:{query:m}}}=e[Ls],S=Object(Wt.g)(m),C=u.transformResponse(e[Ls],_,S),{messageGroups:T,hasMore:A}=C,O={mailboxes:l,accounts:E,folders:d,messageGroups:T,hasMoreItems:A,mailboxAttributes:p,folderId:S};if(c&&S!==c){const t=l.filter(e=>e.isSelected)[0].id,s=[...e[Ls].headers];s[2]={key:"Status-Code",value:500};const a={[Ls]:{headers:s,httpCode:500,id:Ls,response:{error:{code:"ET-5006",requestId:i,resource:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q`}}}};return Object(I.b)({logger:Qt.a,apiName:Ls,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),babelHelpers.extends({},O,{error:new Ft.a(g.h,a)})}return O},getBatchError:({failureMap:e})=>{const t=Os.updateFailureMap(e);return Object.keys(t).length?new Ft.a("One or more batch requests failed",t):null}},vs=s(14),Fs={getBlockPayload:function(e,{mailboxId:t,messageId:s,secure:a=!1,full:n=!0}){let r=`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/content/simplebody`;return n&&(r+="/full"),a&&(r+="/secure"),{id:e,uri:r,method:"GET",payloadType:"embedded"}},transformResponse:function(e,t){const{message:s,simpleBody:a}=e.response.result,{attachments:n,headers:r,csid:o,id:i,inReplyTo:c,downloadAllUrl:l,unsubOption:d}=Kt(s);return s.headers=r,s.inReplyTo=c,s.id=i,s.attachments=n,s.csid=s.csid,s.downloadAllUrl=l,{id:i,body:Object(vs.o)(a),message:s,metadata:{attachments:n,headers:r,csid:o,inReplyTo:c,downloadAllUrl:l,unsubOption:d}}}},Us={getBlockPayload:(e,{mailboxId:t,messageId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}`,method:"GET"}),transformResponse:(e,t)=>Kt(e.response.result.message)};const Hs="GetMailboxes",ks="GetFolders",Gs="GetAccounts",ws="GetSimpleBody",xs="GetMessage";var Bs={getBatchPayload:({messageId:e,bizEmail:t},{appId:s})=>({requests:[Object.assign({},ms.getBlockPayload(Hs),{filters:ms.getMailboxFilters(t),requests:[Us.getBlockPayload(xs,{mailboxId:"$(mailboxId)",messageId:e}),Fs.getBlockPayload(ws,{mailboxId:"$(mailboxId)",messageId:e,full:!0}),It.getBlockPayload(ks,{mailboxId:"$(mailboxId)"}),Ss.getBlockPayload(Gs,{mailboxId:"$(mailboxId)"})].concat(Os.getBatchPayload({mailboxId:"$(mailboxId)",attributes:s===h.ee?h.ec:h.Bb}).requests)})]}),transformResponses:({successMap:e},{appId:t})=>{const{id:s,body:a,metadata:n}=Fs.transformResponse(e[ws]),r=Os.transformResponses({successMap:e},{attributes:t===h.ee?h.ec:h.Bb}),o=Object.assign(Us.transformResponse(e[xs]),{attachments:n.attachments});return{mailboxes:ms.transformResponse(e[Hs]),folders:It.transformResponse(e[ks]),accounts:Ss.transformResponse(e[Gs]),message:o,messageBodiesMap:{[s]:a},messageMetadataMap:{[s]:n},mailboxAttributes:r}}};function js(e,{mailboxId:t,csid:s}){let a=encodeURIComponent(`csid:${s} folderType:DRAFT`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${a+=`${Wt.e}-sort${Wt.c}date`}`,method:"GET"}}const Vs={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetAccounts:"GetAccounts",GetSimpleBody:"GetSimpleBody",GetMessageByCsid:"GetMessageByCsid"};var Ws={getBatchPayload:function({csid:e,bizEmail:t},{appId:s}){const a=Object.assign({},h.Bb,h.J);return{requests:[Object.assign({},ms.getBlockPayload(Vs.GetMailboxes),{filters:ms.getMailboxFilters(t),requests:[Object.assign({},js(Vs.GetMessageByCsid,{mailboxId:"$(mailboxId)",csid:e}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Fs.getBlockPayload(Vs.GetSimpleBody,{mailboxId:"$(mailboxId)",messageId:"$(messageId)",full:!0,secure:!1})]}),It.getBlockPayload(Vs.GetFolders,{mailboxId:"$(mailboxId)"}),Ss.getBlockPayload(Vs.GetAccounts,{mailboxId:"$(mailboxId)"})].concat(Os.getBatchPayload({mailboxId:"$(mailboxId)",attributes:s===h.ee?h.ec:a}).requests)})]}},transformResponses:function({successMap:e},{appId:t}){const s=Object.assign({},h.Bb,h.J),a={mailboxAttributes:Os.transformResponses({successMap:e},{attributes:t===h.ee?h.ec:s}),folders:It.transformResponse(e[Vs.GetFolders]),accounts:Ss.transformResponse(e[Vs.GetAccounts]),mailboxes:ms.transformResponse(e[Vs.GetMailboxes])};if(e[Vs.GetSimpleBody]){const{id:t,body:s,message:n,metadata:r}=Fs.transformResponse(e[Vs.GetSimpleBody]);Object.assign(a,{message:n,messageBodiesMap:{[t]:s},messageMetadataMap:{[t]:r}})}return a},getBatchError:function({successMap:e,failureMap:t}){const s=Os.updateFailureMap(t),a=new Ft.a("MailApiClient.LaunchCompose",s);if(s[Vs.GetMessageByCsid])return a;let n=0;const r=e[Vs.GetMessageByCsid];r&&(n=r.response.result.messages.length);if(s[Vs.GetSimpleBody]&&n>0)return a;if(s[Vs.GetFolders]||s[Vs.GetAccounts]||s[Vs.GetMailboxes])return a;return null}};var qs={getBlockPayload(e,{mailboxId:t,messageGroupId:s,isConversation:a,excludeFolderTypes:n=[]}){Object(m.a)(t,"mailboxId is a required field"),Object(m.a)(s,"messageGroupId is required");const r=encodeURIComponent(s);let o=a?`conversationId:(${r})`:`id:(${r})`;return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${o+=n.length?Wt.e+encodeURIComponent(n.map(e=>`-folderType:(${e})`).join("")):""}`,method:"GET",payloadType:"embedded"}},transformResponse(e,t){const s=e.response.result.messages,{isConversation:a}=t,n=s.map(e=>Kt(e)).reverse();return{messageGroup:{id:a?n[0].conversationId:n[0].id,messages:n}}}};const Ks="GetMailboxes",zs="GetFolders",Ys="GetConversationMessageGroup",Zs="GetAccounts",Xs="GetSimpleBody",Qs="GetMessage",$s="GetMessageGroupList",Js="OnEmpty",ea="OnEmpty",ta="OnFailure";var sa={getBatchPayload:({isConversation:e,messageGroupId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:c,excludeFolderTypes:l=[],secure:d=!1,bizEmail:E},{appId:_})=>{const u=[],p=((e,t,s,r)=>o=>babelHelpers.extends({},ms.getBlockPayload(Ks),{id:Ks+o,filters:ms.getMailboxFilters(r),suppressResponse:!1,requests:[babelHelpers.extends({},Ss.getBlockPayload(Zs,{mailboxId:"$(mailboxId)"}),{id:Zs+o,filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[babelHelpers.extends({},It.getBlockPayload(zs,{mailboxId:"$(mailboxId)"}),{filters:{iterator:`$..folders[?((@.id==${e} && ${e} in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && ${e} nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},id:zs+o,requests:[babelHelpers.extends({},(t?n:a).getBlockPayload($s,babelHelpers.extends({mailboxId:"$(mailboxId)",folderId:"$(folderId)"},s)),{id:$s+o})]})]})]}))(s,e,{sortOrder:i,filter:c,count:r,offset:o,excludeFolderTypes:l=ls()([...l,...Wt.f])},E);return e?u.push(Object.assign({},qs.getBlockPayload(Ys,{mailboxId:"$(mailboxId)",messageGroupId:t,isConversation:e,excludeFolderTypes:l}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[Fs.getBlockPayload(Xs+"_$(id)",{mailboxId:"$(mailboxId)",messageId:"$(id)",full:!0,secure:d})]},{onEmpty:{id:Js,suppressResponse:!1,applyFilterOn:`$(${Ys})`,requests:[p(ea)]},onFailure:p(ta)})):(u.push(Object.assign({},Us.getBlockPayload(Qs,{mailboxId:"$(mailboxId)",messageId:t}),{onFailure:p(ta)})),u.push(Object.assign({},Fs.getBlockPayload(Xs+"_"+t,{mailboxId:"$(mailboxId)",messageId:t,full:!0,secure:d})))),{requests:[Object.assign({},ms.getBlockPayload(Ks),{filters:ms.getMailboxFilters(E),requests:[...u,It.getBlockPayload(zs,{mailboxId:"$(mailboxId)"}),Ss.getBlockPayload(Zs,{mailboxId:"$(mailboxId)"})].concat(Os.getBatchPayload({mailboxId:"$(mailboxId)",attributes:_===h.ee?h.ec:h.Bb}).requests)})]}},transformResponses:({successMap:e,failureMap:t},s)=>{const{isConversation:r,messageGroupId:o,offset:i,count:c}=s,l=Os.transformResponses({successMap:e},{attributes:s.appId===h.ee?h.ec:h.Bb}),d={mailboxes:ms.transformResponse(e[Ks]),folders:It.transformResponse(e[zs]),accounts:Ss.transformResponse(e[Zs]),mailboxAttributes:l},E=r?n:a,_=e[$s+ea]||e[$s+ta];if(_){const e=i+c,{response:{result:{query:s}}}=_,a=Object(Wt.g)(s),n=E.transformResponse(_,e,a),{messageGroups:r,hasMore:o}=n;return babelHelpers.extends({},d,{messageGroupList:r,hasMoreItems:o,folderId:a,error:new Ft.a(g.h,t)})}const u=r?(e=>qs.transformResponse(e[Ys],{isConversation:!0}).messageGroup)(e):((e,t)=>({id:t,messages:[Us.transformResponse(e[Qs])]}))(e,o),p={},m={};return u.messages.forEach(t=>{const s=Fs.transformResponse(e[Xs+"_"+t.id]);p[t.id]=s.body,m[t.id]=s.metadata}),babelHelpers.extends({},d,{messageGroups:[u],messageBodiesMap:p,messageMetadataMap:m})},getBatchError:({failureMap:e},{isConversation:t})=>{const s=Os.updateFailureMap(e);if(0===Object.keys(s).length)return null;const a=t?s[Ys]:s[Qs];if(a&&a.response&&a.response.error){const{response:{error:{code:e}}}=a;if(["EC-4001","ET-5005","ET-5006"].indexOf(e)>=0)return Object(I.b)({logger:Qt.a,apiName:a.id,statusCode:a.httpCode,errorCode:e,message:"failed to load provided message/conversation id"}),null}return new Ft.a(g.h,s)}},aa=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts`,method:"GET"}),na=e=>{if(!e)return[];const t=e.response.result.alerts;let s=[];return Array.isArray(t)&&(s=t.map(e=>({id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data}))),s},ra=e=>{if(e){const{id:t,httpCode:s,response:a}=e;Qt.a.feature(h.p.MailAPIClient,{data:{apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s}}).logFailure()}return null};const oa="UnseenCountReset",ia="GetAccountAlerts";var ca={getBatchPayload:({accountId:e,mailboxId:t})=>({requests:[$t(oa,{mailboxId:t,accountId:e}),aa(ia,{mailboxId:t})]}),transformResponses:({successMap:e})=>({accountAlerts:na(e[ia])}),getBatchError:({failureMap:e})=>{const t=e[oa],s=e[ia];return t&&Jt(t),s&&ra(s),null}};const la="GetConversationMessageGroup",da="GetSimpleBody",Ea="GetMessagesByGroup";var _a={getBatchPayload:({messageGroupId:e,mailboxId:t,isConversation:s,secure:a,full:n,cardConversationIds:r})=>{const o=[];return o.push(Object.assign({},qs.getBlockPayload(la,{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[Fs.getBlockPayload(da+"_$(id)",{mailboxId:t,messageId:"$(id)",full:n,secure:a})]})),r&&r.length>0&&o.push(Object.assign({},zt(Ea,{mailboxId:t,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:r}))),{requests:o}},transformResponses:({successMap:e},{isConversation:t})=>{const s={};let a;const n=qs.transformResponse(e[la],{isConversation:t}).messageGroup;return n.messages.forEach(t=>{const a=Fs.transformResponse(e[da+"_"+t.id]);s[t.id]=a.body,Object.assign(t.headers,a.metadata.headers),t.attachments=a.message.attachments||[]}),Object.keys(e).forEach(t=>{if(-1!==t.indexOf(Ea)){const s=Yt(e[t]).messageGroups.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return t&&s.length>=2}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId}));a={[h.Db.COUPON_CARDS]:{[h.Eb.ALL_COUPON_CARDS]:{items:s}}}}}),{messageGroup:n,messageBodiesMap:s,response:a}}};const ua="GetMessageCardsList";var pa={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:r,startCardDate:o,endCardDate:i,accountId:c,excludeFolderTypes:l})=>({requests:[n.getBlockPayload(ua,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:r,startCardDate:o,endCardDate:i,accountId:c,excludeFolderTypes:l,groupBy:"cardConversationId"})]}),transformResponses({successMap:e},t){const{offset:s,count:a}=t,n=Xt(e[ua]),{messageGroups:r,hasMore:o}=n;return{cardGroupList:r.filter(({messages:e})=>e.some(({decos:e=[]})=>e.some(({id:e})=>"EML"===e))),hasMoreItems:o}}};var ma={getBatchPayload:({mailboxId:e,cardConversationId:t=""})=>{let s;return""!==t&&(s=zt("GetParentMessageByGroup",{mailboxId:e,offset:0,count:1,cardConversationIds:[t]})),{requests:[s]}},transformResponses:e=>{const{successMap:t}=e;return t.GetParentMessageByGroup?t.GetParentMessageByGroup.response.result.messages.filter(({decos:e=[]}={})=>e.some(({id:e=""})=>e===h.Zb.EML)).map(e=>{let{id:t}=e,s=babelHelpers.objectWithoutProperties(e,["id"]);return{id:t,messages:[babelHelpers.extends({id:t},s)]}}):[]}};const ha="GetConsolidatedCouponsList";var Sa={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:a=[],sortOrder:n=h.Sc,startCardDate:r,endCardDate:o,accountId:i})=>{return{requests:t.map((t,c)=>zt(`${ha}_${t}`,{mailboxId:e,count:s,offset:a[c],filter:t,sortOrder:n,startCardDate:r,endCardDate:o,accountId:i}))}},transformResponses:({successMap:e},t)=>{const{offset:s,count:a,filter:n}=t,r=[];return Object.keys(e).forEach(t=>{if(-1!==t.indexOf(ha)){const o=Yt(e[t]),{messageGroups:i}=o,c=t.replace(`${ha}_`,""),l=n.indexOf(c),d=s[l],E=i.length===a,_=i.length<a?d+i.length:d+a,u=i.filter(({messages:[{headers:{subject:e="",from:[{email:t,name:s}={}]=[]}={}}={}]=[]}={})=>e&&t&&s);r.push({cardGroupList:u,hasMoreItems:E,filter:c,offset:E?_:""})}}),{messageGroupsResponses:r}}};const ga="GetReceiptsList";var Ia={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:n=h.wd.CARD_DATE_DESC,accountId:r})=>{return{requests:zt(ga,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:n,accountId:r})}},transformResponses:({successMap:e},t)=>{const{count:s,offset:a}=t,n=Yt(e[ga]),r=n.messageGroups.length<s?a+n.messageGroups.length:a+s,{messageGroups:o}=n,i=n.messageGroups.filter(({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t),c=o.length===s;return{cardGroupList:i,hasMoreItems:c,offset:c?r:""}}};const Ca="GetMailboxes";var Ta={getBatchPayload:()=>{return{requests:[ms.getBlockPayload(Ca)]}},transformResponses:({successMap:e})=>{const{mailboxes:t,userConsentSettings:s}=ms.getExtendedResponse(e[Ca]);return{mailboxes:t,userConsentSettings:s}}};const Aa="GetFolders";var Oa={getBatchPayload:({mailboxId:e})=>{return{requests:It.getBlockPayload(Aa,{mailboxId:e})}},transformResponses:({successMap:e})=>({folders:It.transformResponse(e[Aa])})};const ba="GetMailboxes",Ra="GetAccounts";var Da={getBatchPayload:()=>({requests:[Object.assign({},ms.getBlockPayload(ba),{filters:ms.getMailboxFilters(),requests:[babelHelpers.extends({},Ss.getBlockPayload(Ra,{mailboxId:"$(mailboxId)"}))]})]}),transformResponses:({successMap:e})=>{return{accounts:Ss.transformResponse(e[Ra])}}};const fa="GetMailboxes",Na="GetMessage";var Ma={getBatchPayload:({messageId:e})=>({requests:[Object.assign({},ms.getBlockPayload(fa),{filters:ms.getMailboxFilters(),requests:[Us.getBlockPayload(Na,{mailboxId:"$(mailboxId)",messageId:e})]})]}),transformResponses:({successMap:e})=>{return{message:Us.transformResponse(e[Na])}}};const La="GetMessagesByGroup";var ya={getBatchPayload:({mailboxId:e,cardConversationIds:t=[],offset:s=0,count:a=200})=>{let n;if(t.length>0){n=zt(La+"_0",{mailboxId:e,offset:s,count:a,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:t})}return{requests:[n]}},transformResponses:e=>{const{successMap:t}=e;let s=[];return Object.keys(t).forEach(e=>{-1!==e.indexOf("GetMessagesByGroup")&&(s=t[e].response.result.messages)}),{result:{extractedMessagesList:s}}}};const Pa="GetSimpleBody",va="GetMessageByCsid";var Fa={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[],full:n,secure:r})=>{const o=t.map((t,s)=>{return Fs.getBlockPayload(Pa+"_"+s,{mailboxId:e,messageId:t,full:n,secure:r})}),i=s.map((s,a)=>{return Fs.getBlockPayload(Pa+"_"+(a+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})}),c=a.map((a,n)=>{const r=Pa+"_"+(n+t.length+s.length);return Object.assign({},js(va+"_"+(n+t.length+s.length),{mailboxId:e,csid:a}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Fs.getBlockPayload(r,{mailboxId:e,messageId:"$(messageId)",full:!0,secure:!1})]})});return{requests:o.concat(i,c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[]})=>{const{successMap:n}=e,r={},o={},i=[],c=t.concat(s,a),l={},d=[];return c.forEach(e=>{l[e]=!1}),Object.keys(n).forEach(e=>{if(0===e.indexOf(Pa)){const t=Fs.transformResponse(n[e]);r[t.id]=t.body,o[t.id]=t.metadata,l[t.id]=!0,i.push({id:t.id,messages:[t.message]}),t.metadata.csid&&(l[t.metadata.csid]=!0)}}),c.forEach(e=>{l[e]||d.push(e)}),{result:{messageBodiesMap:r,messageMetadataMap:o,messageGroups:i},error:{messageIds:d}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[]})=>Object.keys(e).length!==t.concat(s,a).length?null:new Ft.a("All requests in method `getBodies` failed",e)},Ua={getBatchPayload:({mailboxId:e,csid:t,full:s,secure:a})=>Fa.getBatchPayload({mailboxId:e,draftMessageCsids:[t],full:s,secure:a}),transformResponses:(e,{csid:t})=>{const{result:{messageBodiesMap:s,messageMetadataMap:a,messageGroups:n}}=Fa.transformResponses(e,{draftMessageCsids:[t]});return{messageBodiesMap:s,messageMetadataMap:a,messageGroup:n[0]}},getBatchError:(e,{csid:t})=>{const{error:s}=Fa.transformResponses(e,{draftMessageCsids:[t]});return s.messageIds.length?new Ft.a("Request for csid failed",e.failureMap):null}};const Ha="GetSimpleBody",ka="GetMessagesByGroup";var Ga={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[],full:n,secure:r})=>{const o=t.map((t,s)=>{return Fs.getBlockPayload(Ha+"_"+s,{mailboxId:e,messageId:t,full:n,secure:r})}),i=s.map((s,a)=>{return Fs.getBlockPayload(Ha+"_"+(a+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})}),c=[];if(a.length>0){const t=zt(ka+"_0",{mailboxId:e,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:a});c.push(t)}return{requests:o.concat(i).concat(c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[]})=>{const{successMap:a}=e,n={},r={},o=t.concat(s);let i=[];const c={},l=[];o.forEach(e=>{c[e]=!1}),Object.keys(a).forEach(e=>{if(-1!==e.indexOf("GetSimpleBody")){const t=Fs.transformResponse(a[e]);n[t.id]=t.body,r[t.id]=t.metadata,c[t.id]=!0}else if(-1!==e.indexOf("GetMessagesByGroup")){const t=Yt(a[e]);i=t.messageGroups}});const d=i.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return t&&s.length>=2}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId}));o.forEach(e=>{c[e]||l.push(e)});const E=i.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.filter(({id:e=""})=>"POE"===e||"ORD"===e||"CRD"===e);return t&&s.length>=3}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId})),_=i.filter(e=>{const[t={decos:[]}]=e.messages,s=t.decos.filter(({id:e=""})=>"ORD"===e||"CRD"===e);return t&&s.length>=2}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId})),u=i.filter(e=>{const[t={schemaCards:[]}]=e.messages,s=t.schemaCards&&t.schemaCards.filter(({type:e=""})=>"Recommendation"===e)||[];return t&&s.length}).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId}));return{result:{messageBodiesMap:n,messageMetadataMap:r,response:{[h.Db.COUPON_CARDS]:{[h.Eb.ALL_COUPON_CARDS]:{items:d}},[h.Db.REFUND_CARDS]:{[h.Eb.ALL_REFUND_CARDS]:{items:E}},[h.Db.RECEIPT_CARDS]:{[h.Eb.ALL_RECEIPT_CARDS]:{items:_}},[h.Db.RECOMMENDED_ITEMS]:{[h.Eb.RECOMMENDED_ITEMS]:{items:u}}}},error:{messageIds:l}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[]})=>Object.keys(e).length!==t.concat(s).concat(a).length?null:new Ft.a("All requests in method `getExtractedBodies` failed",e)},wa=s(65),xa=s(44);const Ba={spam:"false",read:"true"};var ja={getBlockPayload:(e,{mailboxId:t,csid:s,inReplyTo:a,subject:n,to:r,cc:o,bcc:i,from:c,replyTo:l,html:d,text:E,attachments:_=[],files:u=[],folderId:p})=>{const m={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:s,newMessage:!a,headers:{subject:n,from:c,replyTo:l||c,to:qa(r),cc:qa(o),bcc:qa(i)},folder:{id:p},flags:Ba,inReplyTo:a},simpleBody:{attachments:Wa(_.filter(({disposition:e,type:t,contentId:s})=>!(!s&&e===h.u.Dispositions.INLINE&&t===h.u.Types.TEXT)))}}};return d?m.payload.simpleBody.html=d:m.payload.simpleBody.text=E,m.inReplyTo||delete m.inReplyTo,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages?uploadCount=${u.length}&totalAttachments=${_.length}`,method:"POST",payloadType:"multipart",payloadParts:[m].concat(Va(u))}},transformResponse({response:e}){const t=Object(vs.o)(e.result.simpleBody),s=Kt(e.result.message);return s.attachments=Object(xa.o)(s,s.attachments,!1),{message:s,simpleBody:E()(t,"attachments")}}};function Va(e){return e.map(({mimeType:e,name:t})=>({contentType:e,partName:encodeURIComponent(t),payloadReference:`multipart://${encodeURIComponent(t)}`}))}function Wa(e){return e.map(({contentId:e,filename:t,disposition:s,messageReference:a})=>{const n={disposition:s,contentId:e};return a?n.messageReference=a:n.multipartName=`multipart://${encodeURIComponent(t)}`,n})}function qa(e){return(e=Object(wa.makeArray)(e)).map(function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e}).filter(function(e){return Object(vs.m)(e.email)})}const Ka="SaveMessage";var za={getBatchPayload:e=>({requests:[Object.assign(ja.getBlockPayload(Ka,e),{filters:{select:{cid:"$..message.conversationId"}}})]}),transformResponses:({successMap:e},t)=>{const s=e[Ka],{message:a,simpleBody:n}=ja.transformResponse(s,t);return{message:a,simpleBody:n}},getBatchError({successMap:e,failureMap:t}){const s=e[Ka];if(s){if("ES-2001"===Object(T.a)(s,"response.error.code",null))return new Ft.a("MailApiClient.Save",Object.keys(e).reduce((t,s)=>{const{httpCode:a,response:n}=e[s],{error:r={}}=n;return babelHelpers.extends({},t,{[s]:{httpCode:a,response:{error:r}}})},{}),!1)}return Object.keys(t).length>0?new Ft.a("MailApiClient.Save",t):null}},Ya=(e,{mailboxId:t,messageId:s,csid:a,captchaAnswer:n,folderId:r})=>{const o={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/send`,method:"POST",payloadType:"embedded",payload:{csid:a,destinationFolder:{id:r}}};return n&&(o.payload.captcha=n),o},Za=({response:e})=>e.result.message;const Xa="SaveMessage",Qa="SendMessage",$a="GetSimpleBody",Ja="UpdateMessages";var en={getBatchPayload:e=>{const{mailboxId:t,sentFolderId:s,secure:a,inReplyTo:n={},messageId:r,captchaAnswer:o,csid:i}=e,{messageReference:{id:c}={},replied:l,forwarded:d}=n,E=r&&i,_=Ya(Qa,E?{mailboxId:t,messageId:r,csid:i,captchaAnswer:o,folderId:s}:{mailboxId:t,folderId:s,messageId:"$(messageId)",csid:"$(csid)"});return _.requests=[],(l||d)&&_.requests.push(xt.getBlockPayload(Ja,{mailboxId:t,messageIds:[c],flags:{answered:!!l,forwarded:!!d},isAsync:!0})),E?{requests:[_]}:{requests:[Object.assign(ja.getBlockPayload(Xa,e),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid",cid:"$..message.conversationId"}},requests:[Fs.getBlockPayload($a,{mailboxId:t,messageId:"$(messageId)",secure:a,full:!0}),_]})]}},transformResponses:({successMap:e},t={})=>{const s=e[$a];if(!s)return{message:Za(e[Qa])};const{body:a,message:n}=Fs.transformResponse(s),r=e[Xa],o=r?ja.transformResponse(r,t).message:n;if(e[Qa]){const s=Za(e[Qa],t);o.id=s.id}return{message:o,simpleBody:a}},getBatchError:({failureMap:e,successMap:t})=>{const s=t[Xa];if(!Object.keys(e).length&&Object.keys(t).length){if(s){if("ES-2001"===Object(T.a)(s,"response.error.code",null))return new Ft.a("MailApiClient.SaveAndSend",Object.keys(t).reduce((e,s)=>{const{httpCode:a,response:n={}}=t[s],{error:r={}}=n;return babelHelpers.extends({},e,{[s]:{httpCode:a,response:{error:r}}})},{}),!1)}return null}if(s){const e=Object(T.a)(s,"response.result.message",null);if(e&&"C"===e.spame)return null}return new Ft.a("MailApiClient.SaveAndSend",e)}};const tn="UpdateMessages";var sn={getBatchPayload:e=>{return{requests:e.map((e,t)=>xt.getBlockPayload(tn+"_"+t,e))}},transformResponses:({successMap:e})=>{let t=!1;const s=Object.keys(e).map(s=>e[s].response?(t=!0,e[s].response.result):1);return t?{results:s}:1},getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ft.a("All requests in method `messages.update` failed.",t)},an=(e,t)=>{const{messageId:s,mailboxId:a,decos:n}=t;if(Object(T.b)(n)||!s)throw new Error("POST Update Message decos requires a list of non empty messageId and deco attributes.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/messages/@.id==${s}`,method:"POST",payload:{message:{decos:n}}}};const nn="UpdateMessageDecos";var rn={getBatchPayload:({mailboxId:e,messageDecosPayloads:t=[]})=>({requests:t.map((t,s)=>{const a=nn+"_"+s,{messageId:n,decos:r}=t;return an(a,{mailboxId:e,messageId:n,decos:r})})}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ft.a("All requests in method `messages.updateDecos` failed.",t),transformResponses:()=>1};const on="UpdateMessages";var cn={getBatchPayload:e=>{let t={};if(e.messageItems){t=e.messageItems.reduce(function(t,s){const a=s.destinationFolder.id,n=s.messageId;return a in t?t[a].messageIds.push(n):t[a]={mailboxId:e.mailboxId,messageIds:[n],destinationFolderId:a},t},{})}return{requests:Object.keys(t).map((e,s)=>xt.getBlockPayload(on+"_"+s,t[e]))}},transformResponses:({successMap:e})=>{let t=!1;const s=Object.keys(e).map(s=>e[s].response?(t=!0,e[s].response.result):1);return t?{results:s}:1},getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ft.a("All requests in method `messages.update` failed.",t)};const ln=["sendercompromised","answered","forwarded","notmymail","phished","spam","flagged","read"];class dn{constructor(){this.payload={message:{}}}flag(e,t){Object(m.a)(ln.indexOf(e)>=0,"name must be a valid flag"),this.payload.message.flags||(this.payload.message.flags={}),this.payload.message.flags[e]=t}folder(e){this.payload.message.folder||(this.payload.message.folder={}),this.payload.message.folder.id=e}}const En={UnifiedUpdateMessage:"UnifiedUpdateMessage",UnifiedDeleteMessage:"UnifiedDeleteMessage"};const _n=({successMap:e,failureMap:t})=>{let s=!0;const a=Object.keys(e).length,n=Object(T.e)(t).reduce((e,t)=>t.id.indexOf(En.UnifiedDeleteMessage)>=0?Ut.getBatchError({failureMap:{DeleteMessages:t}})?e+1:e:e+1,0),r=Object(T.e)(e).reduce((e,t)=>{const s=Object(T.a)(t,"response.result.task");return s&&e.push(s),e},[]);return r.length>0?s=h.cc.ASYNC:a<=0?s=h.cc.FAIL:a>0&&n>0?s=h.cc.PARTIAL:a>0&&0===n&&(s=h.cc.SUCCESS),{successType:s,tasks:r}};var un={REQUEST_IDS:En,getBatchPayload:e=>{const{mailboxId:t,messageItemsToSync:s,isAsync:a}=e,n={};for(const e of s){const{messageId:t,folder:s,accountId:a,flags:r,permanentDelete:o,updateTypes:i,messageQuery:c,deleteDuplicates:l}=e,d=o?{permanentDelete:!0}:new dn;if(o)Object(m.a)(i.indexOf(h.dc.DELETE)>=0||i.indexOf(h.dc.MOVE)>=0,"updateTypes DELETE or MOVE is required for permanentDelete");else for(const e of i)switch(e){case h.dc.READ:Object(m.a)(void 0!==r.read,`flags.read is required for operation ${e}`),d.flag("read",r.read);break;case h.dc.STAR:Object(m.a)(void 0!==r.flagged,`flags.flagged is required for operation ${e}`),d.flag("flagged",r.flagged);break;case h.dc.ANSWER:Object(m.a)(void 0!==r.answered,`flags.answered is required for operation ${e}`),d.flag("answered",r.answered);break;case h.dc.FORWARD:Object(m.a)(void 0!==r.forwarded,`flags.forwarded is required for operation ${e}`),d.flag("forwarded",r.forwarded);break;case h.dc.SPAM:case h.dc.HAM:Object(m.a)(s.id,`folder.id is required for operation ${e}`),d.flag("spam",!!r.spam),d.folder(s.id);break;case h.dc.MOVE:case h.dc.DELETE:Object(m.a)(s.id,`folder.id is required for operation ${e}`),d.folder(s.id)}const E=Object(vs.h)(d,a,c,l);n[E]?n[E].messages.push(t):n[E]={payload:o?void 0:d.payload,messages:[t],messageQuery:c,batchId:o?En.UnifiedDeleteMessage:En.UnifiedUpdateMessage,getBlockPayload:o?Ut.getBlockPayload:xt.getBlockPayload,deleteDuplicates:l}}return{requests:function(e,t,s){return Object.keys(s).reduce((a,n,r)=>{const o=s[n];return[babelHelpers.extends({},o.getBlockPayload(`${o.batchId}_${r}`,{mailboxId:e,messageIds:o.messageQuery?void 0:o.messages,query:o.messageQuery,payload:o.payload,isAsync:t,deleteDuplicates:o.deleteDuplicates}),a.length&&{requests:a})]},[])}(t,a,n)}},transformResponses:({successMap:e,failureMap:t})=>_n({successMap:e,failureMap:t}),getBatchError:({successMap:e,failureMap:t})=>{return _n({successMap:e,failureMap:t}).successType===h.cc.FAIL?new Ft.a("All requests in method `messages.update` failed.",t):null}},pn=s(215),mn=s.n(pn);const hn="DeleteMessages";const Sn="UpdateMessages",gn="DeleteMessages";const In={read:!1,spam:!1,ham:!0};var Cn=(e,t,{mailboxId:s,folderId:a})=>{const n="mimeMsg"+t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages`,method:"POST",payloadType:"multipart",payloadParts:[{partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:a},flags:In,headers:null},mimeBody:"multipart://"+n}}].concat({contentType:"application/octet-stream",partName:n,disposition:"form-data",payloadReference:"multipart://"+n})}};const Tn="SaveRawMessage";const An="GetFolders",On="GetMessageGroupList";const bn={PAGE_SUCCESS:700,PAGE_CONVERTING:701,PAGE_INVALID:702,PAGE_FAILED:704,PAGE_READ_ERROR:705},Rn={0:"ON_DEMAND",1:"PRE_CONVERTED"},Dn={802:{message:"Missing App Id"},803:{message:"Missing Document Id"},804:{message:"Missing Document URL"},805:{message:"Missing Fetch Options"},806:{message:"Malformed Download URL"},807:{message:"Inaccessible Download URL"},808:{message:"Invalid Fetch Options"},809:{message:"Document Read Error"},810:{message:"Error Inserting In Queue"},811:{message:"Error Reading Info"},812:{message:"Error Processing Document"},813:{message:"Unsupported File Type"},814:{message:"Document still queued"},816:{message:"Document Password Protected Unviewable"},817:{message:"Missing Request for 1st Page"}},fn={602:{message:"Document failed due to unknown reasons"},605:{message:"Conversion First page being Processed"},606:{message:"The document url is not accessible"},610:{message:"The document failed to be converted to HTML"},611:{message:"The document failed to convert to PDF"},612:{message:"All Resources are busy"},621:{message:"Conversion Queued"},625:{message:"Zipped file found"},640:{message:"PDF file is malformed"}};var Nn=e=>({"docs-document-id":e}),Mn=(e,t,s,a)=>({id:e,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:s,retryCount:a},payloadType:"embedded"}),Ln=({response:e})=>{const{info:t,pages:s,code:a}=e;return 815===a?{data:{info:{documentError:{code:a,isRetryable:!1}}}}:t?{statusCode:e.statuscode,code:a,pages:Pn(s),numPages:t.num_pages,height:t.dimension.h,width:t.dimension.w,exceptions:t.exceptions,sheets:t.sheetInfo||{}}:{statusCode:e.statuscode,code:a,pages:Pn(s)}},yn=(e,t,s)=>{const a=Object.keys(e).length?e:t,{response:n={},httpCode:r}=a[s],{code:o=0,statuscode:i=0,handler:c=0,pages:l}=n;if(Dn.hasOwnProperty(o)||fn.hasOwnProperty(i)){const e=function(e,t){switch(e){case 807:case 810:case 811:return!0;case 812:return 606===t||612===t;case 814:return 605===t||621===t;default:return!1}}(o,i),{message:t}=Dn[o]||{},{message:n}=fn[i]||{},r=(t?`[Fetch Error] ${t}`:"")+(n?` [Conversion Error] ${n}`:"");return Object.assign(a[s],{info:{fetchCode:o,conversionCode:i,isRetryable:e,handler:Rn[c]}}),new Ft.a(r,a,e)}return 600===i&&Object.keys(l).some(e=>l[e].statuscode===bn.PAGE_CONVERTING)?(Object.assign(a[s],{info:{fetchCode:bn.PAGE_CONVERTING,conversionCode:i,isRetryable:!1}}),new Ft.a("Page has not converted even though the document is said to be successfully converted",a,!1)):t&&r>=400?(Object.assign(a[s],{info:{isRetryable:!1}}),new Ft.a("Returned with not-ok status code",t,!1)):null};function Pn(e){const t={};return Object.keys(e).forEach(s=>{const a=Number(s.slice(4)),n=e[s].statuscode;n!==bn.PAGE_INVALID&&(t[a]=n===bn.PAGE_SUCCESS?{content:e[s],state:h.Mc.LOADED}:{content:null,state:h.Mc.ERROR})}),t}const vn="FetchDocument";const Fn="TaskStatus";var Un={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"DELETE"}),transformResponse:()=>1};const Hn="TaskAbort";var kn={getBatchPayload:({mailboxId:e,primaryAccountDisabled:t=!1},{appId:s})=>{let a=s===h.ee?h.ic:h.kd;return t&&(a=h.jc),{requests:Os.getBatchPayload({mailboxId:e,attributes:a}).requests}},transformResponses:({successMap:e,primaryAccountDisabled:t=!1},{appId:s})=>{let a=s===h.ee?h.ic:h.kd;return t&&(a=h.jc),{mailboxAttributes:Os.transformResponses({successMap:e},{attributes:a}).responses}}};const Gn="vacationPreferences";const wn="messageFilters";const xn="deliveryBlockedSenders";const Bn="GetMailboxes";var jn={getBatchPayload:e=>{const{mailboxId:t,attributes:s}=e,a=Lt.getMultiAttributeChain({mailboxId:t||"$(mailboxId)",attributes:s.map(({id:e,value:t})=>{let s=`${e}`;return e===h.Wb.DELIVERY_BLOCKED_SENDERS&&(s="senders"),{id:e,value:e===h.Wb.DEA_BASE_NAME?t:{[s]:t}}})});return t?a:{requests:[Object.assign({},ms.getBlockPayload(Bn),{filters:ms.getMailboxFilters(),requests:a.requests})]}},transformResponses:()=>1};const Vn="GetMailboxes";var Wn={getBatchPayload:({mailboxId:e=null,attributes:t=h.jb,bizEmail:s})=>{let a;return{requests:a=e?Os.getBatchPayload({mailboxId:e,attributes:t}).requests:[Object.assign({},ms.getBlockPayload(Vn),{filters:ms.getMailboxFilters(s),requests:Os.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t}).requests})]}},getBatchError:()=>null,transformResponses:({successMap:e},{attributes:t=h.jb})=>{const s=Os.transformResponses({successMap:e},{attributes:t}).responses;if(Vn in e){const{mailboxes:t,userConsentSettings:a}=ms.getExtendedResponse(e[Vn]);return{mailboxes:t,mailboxAttributes:s,userConsentSettings:a}}return{mailboxAttributes:s}}},qn={getBlockPayload(e,t){const{account:s,mailboxId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/accounts`,method:"POST",payload:{account:s}}},transformResponse:e=>e.response.result};const Kn="AddAccount",zn="GetAccounts";var Yn=(e,t)=>{const{account:s,data:a}=t,n={type:s.type};return Object.assign(n,a),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${s.id}`,method:"POST",payload:{account:n}}};const Zn="GetAccount",Xn="UpdateAccount";var Qn=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}`,method:"DELETE"});const $n="deleteAccount";const Jn="SetDeaPrefix",er="GetDeaSuggestion",tr="disposableAddressesPrefix";const sr="SetDeaPrefix",ar="GetDeaSuggestion",nr="disposableAddressesPrefix";var rr={getBlockPayload(e,t){const{account:s}=t;return{id:e,uri:s.link.href,method:"POST",payload:{account:{type:s.type,resendVerification:!0}}}},transformResponse:e=>e.response.result};const or="ResendConfirmEmail";const ir="AddAccount",cr="IdSuggestions";const lr="UnseenCountReset";const dr="GetAccountAlerts";var Er=(e,t)=>{return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts/@.id==${t.alertId}`,method:"POST",payload:{alert:{state:5e3}}}};const _r="GetAccountAlerts",ur="UpdateAccountAlerts";const pr=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches`,method:"GET",payloadType:"embedded"}),mr=e=>e.response.result.savedSearches,hr="GetSavedSearches";var Sr=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches/@.id==${t.savedSearchId}`,method:"DELETE"});const gr="DeleteSavedSearches";var Ir=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches`,method:"PUT",payloadType:"embedded",payload:{savedSearch:{types:[h.Xc.USER],name:t.name,decorations:t.decorations,priority:t.priority,query:t.query}}}),Cr=e=>e.response.result;const Tr="CreateSavedSearches";var Ar=(e,{mailboxId:t,destinationFolderId:s,flags:a,headers:n,decos:r,schemaOrg:o,simpleBody:i,actions:c})=>{const l={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages`,method:"POST",payloadType:"embedded",payload:{message:{}}};return l.payload.message.newMessage=!0,s&&(l.payload.message.folder={},l.payload.message.folder.id=s),a&&(l.payload.message.flags=a),n&&(l.payload.message.headers=n),r&&(l.payload.message.decos=r),o&&(l.payload.message.schemaOrg=o),i&&(l.payload.simpleBody=i),c&&(l.payload.actions=c),l};const Or="CreateMessage",br="UpdateMessages",Rr="GetMessagesByGroup";var Dr={apiClientConstructors:{mailAPIClient:i.a,athenaClient:rt,bootcampClient:K,udbClient:Q,geminiAPIClient:ae,autoSuggestClient:re,credstoreClient:class extends p.a{constructor({appId:e=h.Zd,host:t=h.F,guid:s,crumb:a,wssid:n,loginHash:r}={}){super({loggerName:h.p.CredstoreClient,crumb:a,wssid:n}),this.guid=s,this.appId=e,this.credstoreHost=t,this.ymreqidGenerator=new O.a(r,h.Yd,h.Rc)}getRequestId(){return this.ymreqidGenerator.generate()}_isEmptySuccessResponse(e){if(e&&e.data){const{statusCode:t}=e.data;return 200===t}return!1}transport(e,t){t||(t=D.a.GET);const s=new D.b(t,e);return s.withCredentials=!0,s}unlink({spid:e,provider:t}={}){Object(m.a)(e,"`spid` is a required option");const s=this.getRequestId(),a={apiName:"unlinkSocialAccount",provider:t,ymreqid:s},n=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/credential/${e}?ymreqid=${s}&appId=${this.appId}`,D.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(n,a),n}removeOAuthToken({domain:e,email:t}={}){Object(m.a)(e,"`domain` is a required option"),Object(m.a)(t,"`email` is a required option");const s=this.getRequestId(),a=u.a.stringify({property:"comms",domain:e,email:t,ymreqid:s,appId:this.appId}),n={apiName:"removeOAuthToken",domain:e,email:t,ymreqid:s},r=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/credential/spid?${a}`,D.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(r,n),r}contextualizeRedirectUrl(e,t){return`${e}?${u.a.stringify({isCorp:t?"1":null,crumb:this.crumb})}`}getAuthorizationURL({provider:e,email:t,redirectUrl:s,isCorpUser:a=!1}={}){Object(m.a)(e,"`provider` is a required option"),Object(m.a)(t,"`email` is a required option"),Object(m.a)(s,"`redirectUrl` is a required option");const n=this.getRequestId(),{oauthDomain:r,scope:o}=h.vb[e],i=u.a.stringify({property:"comms",appId:this.appId,wssid:this.wssid,domain:r,email:t,ymreqid:n}),c={apiName:"getAuthorizationURL",domain:r,email:t,scope:o,provider:e,ymreqid:n},l=this.contextualizeRedirectUrl(s,a),d=`.done=${encodeURIComponent(l)}`+(o?`&${o}`:""),E=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/service/spid/init?${i}`,D.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(d).then(e=>e.body.results);return this.logRequest(E,c),E}link({spid:e,provider:t,redirectUrl:s,isCorpUser:a=!1,scope:n}={}){Object(m.a)(e,"`spid` is a required option"),Object(m.a)(s,"`redirectUrl` is a required option");const r=this.getRequestId(),o={apiName:"linkSocialAccount",provider:t,scope:n,ymreqid:r},i=this.contextualizeRedirectUrl(s,a),c=`.done=${encodeURIComponent(i)}`+(n?`&scope=${encodeURIComponent(n)}`:"")+`&ymreqid=${r}`+`&appId=${this.appId}`,l=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/me/service/${e}/init`,D.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(c).then(e=>e.body.results);return this.logRequest(l,o),l}},heartbeatAPIClient:de,yqlClient:class{constructor({locale:e="en-US"}={}){this.locale=e}request(e,t){Object(m.a)("cities"===e,`Unknown apiName ${e}`);const s=`${Ee}/${e}`,a=pe.feature("yql_client_call",{apiName:e}),n=new D.b("GET",s).send(t);return n.then(a.logSuccessAndLatency,a.logFailure),n.then(e=>JSON.parse(e.text))}},linkEnhancerClient:class extends p.a{constructor({crumb:e}){super({loggerName:h.p.LinkEnhancerClient,crumb:e})}get(e){const t={apiName:"lucy",crumb:this.crumb},s=`${me}?crumb=${this.crumb}&url=${encodeURIComponent(e)}`,a=new D.b(D.a.GET,s,{timeout:he});a.setHeader("Accept","application/json");const n=a.send();return this.logRequest(n,t),n}},paymentClient:ge,calendarClient:class{constructor(e){this.mailWssid=e.wssid,this.calendarWssid=e.calendarWssid,this.isYCorp="ycorp"===e.partner}getInviteInfo(e,t=0){const{downloadUrl:s,folderName:a,currentOffset:n}=e,r=`${He}?inviteUp&crumb=${encodeURIComponent(this.mailWssid)}&url=${encodeURIComponent(s)}&folderName=${encodeURIComponent(a)}&offset=${n}&fullAttendeeList=true`+(this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""),o=new D.b(D.a.GET,r),i=Ue.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:e});o.setHeader("Content-Type","application/json");const c=o.send();return c.then(i.logSuccessAndLatency,i.logFailure),c.then(this._handleInviteResponse(e,t+1))}_handleInviteResponse(e,t){return s=>{const a=s.body;if(!a)return Promise.reject({error:"Empty response"});if("Invalid Crumb"===a.error){if(t<=ke){this.mailWssid=a.crumb;try{return this.getInviteInfo(e,t)}catch(e){return Promise.reject({error:"Bad response",data:e})}}return Promise.reject(a)}return!a.event||null!==a.event.startTime&&null!==a.event.endTime?(a.wssid&&(this.calendarWssid=a.wssid),ve(a)):Promise.reject(new Error("Invalid data"))}}sendReply(e,t){const s=Date.now(),a=`${He}/v3/users/calendar/rsvp/${encodeURIComponent(e)}/?format=json&notify=true&wssid=${this.calendarWssid}&rand=${s}&prog=aeon`,n=new D.b(D.a.POST,a),r=Ue.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:e,data:t});n.setHeader("Content-Type","application/json");const o=n.send({rsvp:t});return o.then(r.logSuccessAndLatency,r.logFailure),o.then(e=>e.body).catch(e=>201===e.statusCode?e.data.body:Promise.reject(e))}},captchaClient:class{constructor(e){this.cspToken=e.cspToken,this.rootNode=e.rootNode,this.Captcha=e.CaptchaComponent||Ke}processCaptcha(e={}){return Object(C.b)()&&e.Javascript?new Promise((t,s)=>{try{let a=document.getElementById("mail-captcha");this.rootNode||(this.rootNode=document.getElementById("app")),a||(a=document.createElement("div"),this.rootNode.appendChild(a)),Be.a.unmountComponentAtNode(a),Be.a.render(we.a.createElement(this.Captcha,{cspToken:this.cspToken,onComplete:t,script:e.Javascript.CONTENT,markup:e.Turnkey}),a)}catch(e){s(e)}}):Promise.resolve()}},locationAutoSuggestClient:Ze,subscriptionAPIClient:class extends p.a{constructor({loggerParams:e,crumb:t,isOnline:s}){super({loggerName:h.p.SubscriptionAPIClient,loggerParams:e,crumb:t,isOnline:s})}subscribe(e,t){const s=this.crumb;return new D.b("GET",Xe+"/subscribe").send({provider:e,options:t,crumb:s})}},relatedSearchesAPIClient:class extends p.a{constructor({appId:e=h.Zd,loggerParams:t,crumb:s,isOnline:a,locale:n,environment:r,region:o}){super({loggerName:h.p.RelatedSearchesAPIClient,loggerParams:t,crumb:s,isOnline:a}),this.appid=e,this.locale=n,this.region=o,this.environment=r}request(){const e={apiName:"relatedSearches",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment},t=new D.b(D.a.GET,Qe);t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,e),s}},videoAPIClient:class{constructor(e){this.lang=e.locale,this.region=e.region}request(e){const t={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:e.channel_alias,type:e.type,image_sizes:"175x219"},s=new D.b(D.a.GET,it+"/getVideos");s.setHeader("Accept","application/json");const a=ot.feature("video_api_client"),n=s.send(t);return n.then(a.logSuccessAndLatency,a.logFailure),n}},taiwanCommerceClient:class extends p.a{constructor({loggerParams:e,crumb:t,loginHash:s,isOnline:a}){super({loggerName:h.p.TaiwanCommerceClient,loggerParams:e,crumb:t,isOnline:a}),s&&(this.ymreqidGenerator=new O.a(s,h.Yd,h.Rc))}getAllCategories(){const e=this.crumb,t=this.ymreqidGenerator.generate(),s=new D.b("GET",ct+"/getAllCategories").send({crumb:e,ymreqid:t});return this.logRequest(s,{ymreqid:t,apiName:"taiwan.allCategories"}),s}},tripodAPIClient:class extends p.a{constructor({loggerParams:e,isOnline:t}){super({loggerName:h.p.TripodAPIClient,loggerParams:e,isOnline:t}),this._loadScript=(()=>lt.a.loadScript(pt).then(()=>{if(!window.Tripod||!window.Tripod.EnrichmentServiceApi)throw new Error("Tripod SDK is not loaded.");St=new window.Tripod.EnrichmentServiceApi})),this._getRequestQueue=(e=>e.map(e=>St.image(dt,{imageUrl:e,modules:Et},_t,ut).catch(e=>e.message).then(mt)))}request({images:e}){let t;return t=St?Promise.all(this._getRequestQueue(e)).then(ht):this._loadScript().then(()=>Promise.all(this._getRequestQueue(e))).then(ht),this.logRequest(t,{apiName:"getShoplift",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment}),t}}},batchMethods:{"folders.get":Tt,"folders.delete":bt,"folders.create":Nt,"folders.rename":vt,"folderList.delete":wt,"folderList.update":Vt,"folderChange.getList":ps,"launch.skeleton":fs,"launch.folder":Ps,"launch.message":Bs,"launch.compose":Ws,"launch.messageGroup":sa,"mailbox.getAttributes":Os,"postLaunch.getComposeAttributes":Os,"postLaunch.postSync":ca,"messageGroups.get":_a,"messageGroups.getFallback":_a,"messageGroups.getList":Es,"messageCards.getList":pa,"couponCards.getParentMessage":ma,"consolidatedCoupons.getList":Sa,"refundCards.getList":Ia,"mailbox.get":Ta,"mailbox.sync":Oa,"accounts.get":Da,"mrdMessages.get":Ma,"messages.getExtractions":ya,"messages.getCompose":Ua,"messages.getBodies":Fa,"messages.getBodiesFull":Fa,"messages.getExtractedBodies":Ga,"messages.getExtractedBodiesFull":Ga,"messages.prefetchGetBodies":Fa,"messages.prefetchGetBodiesFull":Fa,"messages.prefetchGetExtractedBodies":Ga,"messages.prefetchGetExtractedBodiesFull":Ga,"messages.getBodiesFallback":Fa,"messages.getBodiesFullFallback":Fa,"messages.getExtractedBodiesFallback":Ga,"messages.getExtractedBodiesFullFallback":Ga,"messages.prefetchGetBodiesFallback":Fa,"messages.prefetchGetBodiesFullFallback":Fa,"messages.prefetchGetExtractedBodieFallback":Ga,"messages.prefetchGetExtractedBodiesFullFallback":Ga,"messages.saveV3":za,"messages.autoSaveV3":za,"sponsoredMessages.save":za,"messages.saveAndSend":en,"messages.saveWithAttachment":za,"messages.saveAndSendWithAttachment":en,"messages.send":en,"messages.update":sn,"messages.updateDecos":rn,"messages.updateV3":cn,"messages.UnifiedUpdate":un,"messages.delete":{getBatchPayload:({mailboxId:e,messageIds:t,deleteDuplicates:s})=>(Object(m.a)(t.length,"`messageIds` cannot be empty when calling `DeleteMessages`"),Object(m.a)(e,"`mailboxId` missing."),{requests:[Ut.getBlockPayload(hn,{mailboxId:e,messageIds:t,deleteDuplicates:s})]}),getBatchError({failureMap:e,successMap:t}){const s=Ut.getBatchError({successMap:mn()(t,[hn]),failureMap:mn()(e,[hn])});return s||(Object.keys(E()(e,[hn])).length>0?new Ft.a(g.h,e):null)},transformResponses:({successMap:e})=>{let t=!1;const s=Object.keys(e).map(s=>e[s].response?(t=!0,e[s].response.result):1);return t?{results:s}:1}},"messages.trashAndDelete":{getBatchPayload:({trashPayload:e,deletePayload:t,mailboxId:s})=>{let a=[];return t&&a.push(Ut.getBlockPayload(gn,{mailboxId:s,messageIds:t.messageIds,deleteDuplicates:t.deleteDuplicates})),e&&(a=a.concat(e.map((e,t)=>xt.getBlockPayload(Sn+"_"+t,babelHelpers.extends({},e,{mailboxId:s}))))),{requests:a}},transformResponses:({successMap:e})=>{let t=!1;const s=Object.keys(e).map(s=>e[s].response?(t=!0,e[s].response.result):1);return t?{results:s}:1},getBatchError:({successMap:e,failureMap:t})=>{const s=Ut.getBatchError({successMap:mn()(e,[gn]),failureMap:mn()(t,[gn])});return s||(0===Object.keys(E()(t,[gn])).length?null:Object.keys(e).length?null:new Ft.a("All requests in method `messages.update` failed.",t))}},"messages.saveRawMessage":{getBatchPayload:e=>{return{requests:e.map((e,t)=>Cn(Tn+"_"+t,t,e))}},transformResponses:({successMap:e,failureMap:t})=>({result:{successMap:e},error:{failureMap:t}})},"undo.list":{getBatchPayload({mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,conversationsMode:i}){const c=i?n:a,l={};return l.requests=[It.getBlockPayload(An,{mailboxId:e}),c.getBlockPayload(On,{mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,offset:0,excludeFolderTypes:Wt.f})],l},transformResponses({successMap:e},{folderId:t,conversationsMode:s,count:r}){const o=s?n:a,i=It.transformResponse(e[An]),{messageGroups:c}=o.transformResponse(e[On],r,t);return{folders:i,messageGroupList:c}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Ft.a("`undo.list` failed.",e):null},"document.fetch":{getHeaders:({documentId:e})=>Nn(e),getBatchPayload:({startPage:e,endPage:t,retryCount:s})=>({requests:[Mn(vn,e,t,s)]}),transformResponses:({successMap:e})=>Ln(e[vn]),getBatchError:({successMap:e,failureMap:t})=>{const s=yn(e,t,vn);if(s){const{isRetryable:e,failureMap:t,message:a}=s,{response:n,info:r,info:{fetchCode:o="",conversionCode:i=""}}=t[vn],c={};if(r&&(Object.assign(c,{documentError:r}),n&&(o||i))){Object.assign(n,{error:{code:`DOC-${o}`+(i?`_${i}`:"")}})}return new Ft.a(a,t,e,c)}return null}},"task.status":{getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[Ht.getBlockPayload(Fn,{mailboxId:e,taskId:t})]}),transformResponses:({successMap:e})=>({task:Ht.transformResponse(e[Fn])})},"task.abort":{getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[Un.getBlockPayload(Hn,{mailboxId:e,taskId:t})]}),transformResponses:({error:e})=>e},"settings.get":kn,"settings.saveVacationPreferences":{getBatchPayload:e=>{const{mailboxId:t,payload:s}=e,{enabled:a,startDate:n,endDate:r,messageBody:o,domainSpecificResponse:{domains:i},domainSpecificResponse:{domainMessageBody:c}}=s;return{requests:[Lt.getBlockPayload(Gn,{mailboxId:t,value:{enabled:a,startDate:n,endDate:r,messageBody:o,domainSpecificResponse:{domains:i,domainMessageBody:c}}})]}},transformResponses:()=>1},"settings.saveMessageFilters":{getBatchPayload:e=>{const{mailboxId:t,payload:s}=e;return{requests:[Lt.getBlockPayload(wn,{mailboxId:t,value:{filters:s}})]}},transformResponses:()=>1},"settings.saveBlockedSenders":{getBatchPayload(e){const{mailboxId:t,senders:s}=e;return{requests:[Lt.getBlockPayload(xn,{mailboxId:t,value:{senders:s}})]}},transformResponses:()=>1},"settings.saveMailClientVersionAttributes":jn,"settings.saveWebMailboxAttributes":jn,"settings.importExistingSettings":jn,"settings.migrateUDBSettings":jn,"settings.setUDBMigrationComplete":jn,"landshark.updateInterstitialFreq":{getBatchPayload:()=>{const e={[h.jb.INTERSTITIAL_FREQUENCY]:Date.now()};return{requests:[Object.assign({},ms.getBlockPayload("GetMailboxes"),{filters:ms.getMailboxFilters(),requests:[Lt.getChainedBlockPayload(h.jb.INTERSTITIAL_FREQUENCY,{mailboxId:"$(mailboxId)",value:e})]})]}},transformResponses:()=>1},"settings.getFeatureAttributes":Wn,"settings.addAccount":{getBatchPayload:e=>{const{mailboxId:t,account:s}=e;return{requests:[Object.assign({},qn.getBlockPayload(Kn,{account:s,mailboxId:t}),{requests:[Ss.getBlockPayload(zn,e)]})]}},transformResponses:({successMap:e})=>Ss.transformResponse(e[zn]),getBatchError:({failureMap:e})=>{const t=e[Kn];return t&&409!==t.httpCode||e[zn]?new Ft.a("One or more batch requests failed",e):null}},"settings.updateAccount":{getBatchPayload:e=>{const{mailboxId:t,account:s,data:a}=e;return{requests:[babelHelpers.extends({},Yn(Xn,{account:s,mailboxId:t,data:a}),{requests:[{id:Zn,uri:`/ws/v3/mailboxes/@.id==${t}/accounts/@.id==${s.id}`,method:"GET"}]})]}},transformResponses:({successMap:e})=>e[Zn].response.result},"settings.deleteAccount":{getBatchPayload(e){const{mailboxId:t,accountId:s}=e;return{requests:[Qn($n,{accountId:s,mailboxId:t})]}},transformResponses:()=>1},"settings.setBaseName":{getBatchPayload({mailboxId:e,baseName:t,domain:s}){const a=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${tr}`;return{requests:[{id:Jn,uri:a,method:"POST",payload:{id:tr,link:{type:"RELATIVE",href:a},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:er,uri:"/ws/comms/deasuggestion/mail_cascade_yahoo/xml/v1",method:"POST",payload:{value:{ValidateFieldsRequest:{RequestVersion:"$(RequestVersion)",RequestTimestamp:"$(RequestTimestamp)",RequestSignature:"$(RequestSignature)",RequestID:"$(RequestID)",AccountID:t,RemoteIPAddress:"$(RemoteIPAddress)",PartnerName:"$(PartnerName)"}}},suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[er];return!(!t[Jn]||!t[er]&&Object(T.a)(s,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",!1))&&new Ft.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[er];return t?{suggestions:Object(T.a)(t,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",[])}:[]}},"settings.setBaseNameJWS":{getBatchPayload({mailboxId:e,baseName:t,domain:s}){const a=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${nr}`;return{requests:[{id:sr,uri:a,method:"POST",payload:{id:nr,link:{type:"RELATIVE",href:a},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:ar,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[ar];return!(!t[sr]||!t[ar]&&Object(T.a)(s,"response.response.idSuggestionsList",!1))&&new Ft.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[ar];return t?{suggestions:Object(T.a)(t,"response.response.idSuggestionsList",[])}:[]}},"settings.resendConfirmEmail":{getBatchPayload:e=>{const{account:t}=e;return{requests:[rr.getBlockPayload(or,{account:t})]}},transformResponses:({successMap:e})=>e[or].response.result},"settings.createAlias":{getBatchPayload({mailboxId:e,email:t}){const s=`/ws/v3/mailboxes/@.id==${e}/accounts/`,a=-1===t.indexOf("@")?t+"@yahoo.com":t;return{requests:[{id:ir,uri:s,method:"POST",payload:{account:{email:a,type:"ALIAS",description:"Extra email addresss account"}},onFailure:{id:cr,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:({failureMap:e})=>{return e[ir]&&e[cr]?new Ft.a("All batch requests failed",e):null},transformResponses({successMap:e}){const t=e[ir],s=e[cr];let a,n;return!t&&s&&s.response&&s.response.response?a=s.response.response.idSuggestionsList:t&&t.response&&t.response.result&&(n=t.response.result),{suggestions:a,newAccount:n}}},"unseenCount.reset":{getBatchPayload:({mailboxId:e,accountId:t})=>({requests:[$t(lr,{mailboxId:e,accountId:t})]}),getBatchError:({failureMap:e})=>{const t=e[lr];return t?Jt(t):null},transformResponses:()=>1},"account.getAlerts":{getBatchPayload:({mailboxId:e})=>({requests:[aa(dr,{mailboxId:e})]}),transformResponses:({successMap:e})=>{let t=[];return e[dr]&&(t=na(e[dr])),t},getBatchError:({failureMap:e})=>{const t=e[dr];return t?ra(t):null}},"account.updateAlerts":{getBatchPayload:({mailboxId:e,alertId:t})=>({requests:[Object.assign({},Er(ur,{mailboxId:e,alertId:t}),{requests:[aa(_r,{mailboxId:e})]})]}),transformResponses:({successMap:e})=>e[_r]?{accountAlerts:na(e[_r])}:{accountAlerts:[]}},"savedSearches.get":{getBatchPayload:({mailboxId:e})=>{return{requests:[pr(hr,{mailboxId:e})]}},transformResponses:({successMap:e})=>({savedSearches:mr(e[hr])})},"savedSearches.delete":{getBatchPayload:({mailboxId:e,savedSearchId:t})=>{return{requests:[Sr(gr,{mailboxId:e,savedSearchId:t})]}},transformResponses:()=>1},"savedSearches.create":{getBatchPayload:({mailboxId:e,name:t,decorations:s,priority:a,query:n})=>{return{requests:[Ir(Tr,{mailboxId:e,name:t,decorations:s,priority:a,query:n})]}},transformResponses:({successMap:e})=>({savedSearches:Cr(e[Tr])})},"cards.create":{getBatchPayload:({mailboxId:e,messageId:t,destinationFolderId:s,headers:a=[],decos:n=[],schemaOrg:r={}})=>{return n.some(e=>e&&e.id===h.Zb.CRD)||n.push({id:h.Zb.CRD,type:h.X.NORMAL}),{requests:[babelHelpers.extends({},Ar(Or,{mailboxId:e,destinationFolderId:s,flags:{read:!0,spam:!1},headers:a,decos:n,schemaOrg:r,simpleBody:{text:""},actions:{responseMessage:!0,responseMessageV2:!1,applyAntispam:!1,generateCardConversationId:!0}}),{filters:{iterator:"$..result",select:{cardConversationId:"$..message.cardConversationId"}},suppressResponse:!0,requests:[babelHelpers.extends({},xt.getBlockPayload(br,{mailboxId:e,messageIds:[t],cardConversationId:"$(cardConversationId)"}),{suppressResponse:!0,requests:[zt(Rr,{mailboxId:e,offset:0,count:50,cardConversationIds:["$(cardConversationId)"],encodeCardConversationId:!1})]})]})]}},transformResponses:({successMap:e})=>{const t=Yt(e[Rr]).messageGroups;return{cardGroupList:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===h.Zb.CRD))).map(e=>babelHelpers.extends({},e,{id:e.messages[0].cardConversationId})),parentMessagesMap:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===h.Zb.EML))).reduce((e,t)=>babelHelpers.extends({},e,{[t.messages[0].id]:babelHelpers.extends({},t.messages[0])}),{})}}}}};const fr=[];[{app:h.r.COMPOSE_APP,name:h.r.COMPOSE_APP,paths:{[h.Pc.NEW_DRAFT]:"/app/compose/:csid"},cssBundles:["compose_app"],jsBundles:["compose_app_vendor","compose_app"],ssrBundles:["compose_app"],container:{id:"compose-app-container",classes:["firefox-compose-app"]}},{app:h.r.MAIL_APP,name:h.r.MAIL_APP,ssrUnsupportedRoutes:[h.Pc.SEARCH,h.Pc.SPONSORED_MESSAGE,h.Pc.SETTINGS,h.Pc.LIST],paths:{[h.Pc.BASE]:"/",[h.Pc.LIST]:"/list/:serializedListId",[h.Pc.FOLDER]:"/folders/:fid",[h.Pc.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[h.Pc.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[h.Pc.PHOTO]:"/search/:query/photo/:attachmentId?",[h.Pc.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[h.Pc.NEW_DRAFT]:"/compose/:csid?",[h.Pc.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[h.Pc.SEARCH]:"/search/:query",[h.Pc.SETTINGS]:"/settings/:settingsGroupId/:accountId?/:openReauth?",[h.Pc.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[h.Pc.TUTORIAL]:"/tutorial"},actionCreators:{},cssBundles:["mail_app"],jsBundles:["mail_app_vendor","mail_app","mail_app_es6_vendor","mail_app_es6"],ssrBundles:["mail_app"],container:{id:"mail-app-container"}},{app:h.r.MOBILE_APP,name:h.r.MOBILE_APP,appRootPath:"/m",ssrUnsupportedRoutes:[h.Pc.SEARCH,h.Pc.SPONSORED_MESSAGE],paths:{[h.Pc.BASE]:"/",[h.Pc.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId",[h.Pc.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[h.Pc.FOLDER]:"/folders/:fid",[h.Pc.EDIT_FOLDER]:"/folders/:fid/edit",[h.Pc.NEW_DRAFT]:"/compose/:csid?",[h.Pc.SETTINGS]:"/settings",[h.Pc.CONTACTS]:"/contacts",[h.Pc.CONTACT_DETAILS]:"/contacts/:email",[h.Pc.EDIT_CONTACT]:"/contacts/:email/edit",[h.Pc.CREATE_CONTACT]:"/contacts/create",[h.Pc.THEME_CHOOSER]:"/settings/theme",[h.Pc.SEARCH]:"/search/:query",[h.Pc.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[h.Pc.SIGNATURES_FROM_SETTINGS]:"/settings/signatures",[h.Pc.ACCOUNT_LIST_FROM_SETTINGS]:"/settings/accounts",[h.Pc.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/settings/accounts/add",[h.Pc.ADD_ACCOUNT_PROVIDER]:"/settings/accounts/add/:provider",[h.Pc.BLOCKED_SENDERS]:"/settings/blocked_senders"},cssBundles:["mobile_app"],jsBundles:["mobile_app_vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:h.r.BASIC_MAIL_APP,name:h.r.BASIC_MAIL_APP,appRootPath:"/b",ssrUnsupportedRoutes:[],paths:{[h.Pc.BASE]:"/",[h.Pc.FOLDER]:"/folders/:fid",[h.Pc.SEARCH]:"/search/:query",[h.Pc.MESSAGE]:"/folders/:fid/messages/:mid",[h.Pc.NEW_DRAFT]:"/compose",[h.Pc.EDIT_DRAFT]:"/compose/:csid",[h.Pc.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[h.Pc.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[h.Pc.LIST_FOLDERS]:"/listfolders/:serializedListId",[h.Pc.CONTACTS]:"/contacts",[h.Pc.SETTINGS]:"/settings/:settingsGroup"},cssBundles:["basic_mail_app"],jsBundles:[],container:{id:"basic-mail-app-container"}}].forEach(e=>{fr.push(e);const t=Object.assign({},e,{app:`${e.app}_TEST`,paths:{}});Object.keys(e.paths).forEach(s=>{t.paths[s]=`/test${e.paths[s]}`}),t.jsBundles=e.jsBundles.map(e=>e.indexOf("_app")>-1?e.replace("_app","_app_test"):e),fr.push(t)});const Nr={},Mr={};fr.forEach(e=>{Nr[e.app]=e.paths,Mr[e.app]=e});var Lr=s(13),yr=s(25),Pr=s(4),vr=s(21),Fr=s(15),Ur=s(3);const Hr=Object(T.c)(["BAR","MENU"]),kr=2;var Gr=s(497),wr=s.n(Gr),xr=s(43);const Br=Object(Pr.h)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},checkmail:{id:"tab.label.checkmail",defaultMessage:"Check new messages"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},sponsoredAd:{id:"tab.title.sponsored_ad",defaultMessage:"Sponsored"}});class jr extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={hover:!1},this.handleClose=(e=>{e.stopPropagation(),this.props.onClose(e)}),this.checkmail=(e=>{this.props.isActive&&e.stopPropagation(),e.preventDefault(),this.props.checkmail()}),this.handleHoverChange=(e=>{this.setState({hover:e})}),this.onCheckmailIconHover=(e=>{this.setState({checkMailHover:e})}),this._getCheckmailIconColor=(()=>this.context.getThemeMode()===Is.f.DARK?this.state.checkMailHover?Ur.a.INVERTED:Ur.a.INVERTED_LESS_DIM:this.state.checkMailHover?this.props.isActive?Ur.a.BLACK:Ur.a.INVERTED:this.props.isActive?Ur.a.FIRST_LEVEL_GRAY:Ur.a.INVERTED_LESS_DIM),t}render(){const{formatMessage:e}=this.context.intl,{isActive:t,isCloseable:s,onClick:a,url:n,titleType:r,decorator:o,kind:i,title:c,widthOverride:l,animate:d,showCheckMailIcon:E}=this.props,_=o!==h.Ld.NONE,u=i===Hr.BAR&&t,p=this.context.getThemeMode()===Is.f.DARK,m=Object(Is.m)(this.context.getTheme())&&p,S=this.context.getCss(wr.a,{kind:i,activeBar:u,decoratedMenu:_&&i===Hr.MENU,decoratedBar:_&&i===Hr.BAR,decoratedSettings:o===h.Ld.SETTINGS,activeHover:t&&this.state.hover,activeMenu:i===Hr.MENU&&t,inactiveHover:!t&&this.state.hover,animate:d,["darkModePhotoTheme_"+this.context.getTheme()+"_bar"]:m&&i===Hr.BAR,["darkModePhotoTheme_"+this.context.getTheme()+"_activeBar"]:m&&u,extraIconPadding:[h.Ld.SMARTVIEW_PEOPLE,h.Ld.SMARTVIEW_SHOPPING].indexOf(o)>-1});let g,I=c,C=Ur.a.DARK,T=Ur.d.XS;switch(o){case h.Ld.SEARCH:g=Ur.b.SEARCH_MINI;break;case h.Ld.SETTINGS:g=Ur.b.SETTINGS,T=Ur.d.XXXS;break;case h.Ld.COMPOSE:g=Ur.b.COMPOSE;break;case h.Ld.SMARTVIEW_PEOPLE:g=Ur.b.PEOPLE;break;case h.Ld.SMARTVIEW_SHOPPING:g=Ur.b.SHOPPING;break;case h.Ld.SMARTVIEW_PHOTOS:g=Ur.b.TAB_IMAGES;break;case h.Ld.SMARTVIEW_DOCUMENTS:g=Ur.b.DOCUMENTS_S;break;case h.Ld.SMARTVIEW_COUPONS:g=Ur.b.SCISSORS;break;case h.Ld.SMARTVIEW_GROCERIES:g=Ur.b.BASKET;break;case h.Ld.SMARTVIEW_RECEIPTS:g=Ur.b.DRAFTS;break;case h.Ld.SMARTVIEW_TRAVEL:g=Ur.b.TRAVEL;break;case h.Ld.SMARTVIEW_TUTORIAL:g=Ur.b.CAL_MAYBE;break;case h.Ld.EXCLAMATION_ALT:g=Ur.b.EXCLAMATION_ALT,T=Ur.d.XXS}switch(r){case h.Md.NO_SUBJECT:I=e(Br.noSubject);break;case h.Md.LOADING:I=e(Br.loading);break;case h.Md.ERROR:I=e(Br.error);break;case h.Md.NEW_DRAFT:I=e(Br.newDraft);break;case h.Md.SEARCH_DEFAULT:I=e(Br.searchDefault);break;case h.Md.SETTINGS:I=e(Br.settings);break;case h.Md.SPONSORED_AD:I=e(Br.sponsoredAd)}i===Hr.BAR&&(C=t&&!p?Ur.a.INHERITED:Ur.a.INVERTED),r===h.Md.SMART_VIEW&&t&&Ur.a[o]&&(C=Ur.a[o]);return we.a.createElement("a",{"data-test-id":"tab-item","data-test-active":t,href:n,style:{width:l},className:p&&i===Hr.BAR?S["darkMode_photoTheme"+m]:S.tab,onClick:a,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:I,rel:"noopener"},o!==h.Ld.NONE?we.a.createElement("span",{className:S.decorator},we.a.createElement(Fr.b,{kind:g,size:T,colorState:(e=>e===h.Ld.EXCLAMATION_ALT?Ur.a.WARNING:C)(o)})):null,we.a.createElement("span",p?{className:u?S.darkThemeModeActiveBarText:S.text}:{className:u?S.activeBarText:S.text},I),s&&this.state.hover?we.a.createElement(vr.a,{onClick:this.handleClose,className:S.close,kind:Ur.b.CLOSE_MINI,size:Ur.d.XS,colorState:C,"aria-label":e(Br.closeTab),title:e(Br.closeTab),"data-test-id":"tab-close-button"}):null,E&&this.state.hover&&we.a.createElement(vr.a,{onClick:this.checkmail,className:S.checkmailIcon,kind:Ur.b.REFRESH,size:Ur.d.XXS,colorState:this._getCheckmailIconColor(),"aria-label":e(Br.checkmail),title:e(Br.checkmail),onMouseOver:this.onCheckmailIconHover.bind(this,!0),onMouseLeave:this.onCheckmailIconHover.bind(this,!1),isOnDarkBackground:p,"data-test-id":"tab-checkmail-button"}))}}jr.defaultProps={animate:!1,isCloseable:!0,showCheckMailIcon:!1,checkmail:()=>{}},jr.contextTypes={intl:Pr.i,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var Vr=Object(Lr.b)(void 0,e=>({checkmail:()=>{e(Object(xr.l)({forceSync:!0,userInitiated:!0}))}}))(jr),Wr=s(10),qr=s(40),Kr=s(63),zr=s(57),Yr=s(12),Zr=s(16),Xr=s(30),Qr=s(62),$r=s(503),Jr=s.n($r),eo=s(11),to=s.n(eo),so=s(371),ao=s(5);const no=to()(Jr.a);Ve.a.shape({title:Ve.a.string,titleType:Ve.a.oneOf(Object(T.e)(h.Md)).isRequired,url:Ve.a.string.isRequired});class ro extends we.a.Component{constructor(...e){var t;return t=super(...e),this.renderTabButtons=((e,t)=>{const{onSelection:s,onClose:a,smartViews:n}=this.props,r=n&&n.length?`${Wr.TAB_MENU_WIDTH_WITH_CATEGORIES}px`:null;return e.map(e=>{const{title:n,titleType:o,url:i,decorator:c,active:l}=e;return we.a.createElement("li",{className:no.tabItem,key:i},we.a.createElement(Vr,{onClick:s.bind(null,t?Hr.BAR:Hr.MENU,e),isCloseable:!0,isActive:l,onClose:a.bind(null,e),title:n,titleType:o,decorator:c,kind:Hr.MENU,url:i,widthOverride:r}))})}),this.handleAnchorClick=(e=>{const{barTabs:t=[],smartViews:s=[],onAnchorClick:a}=this.props;a({mKey:ao.e.TABS_MENU_OPEN,sec:ao.g.TABS_MENU,interactionType:ao.d.click,actionData:{smartView:!!s.length,addIcon:0===t.length&&s.length>0}},e)}),t}render(){const{remainingTabs:e,barTabs:t=[],onCloseAll:s,smartViews:a=[],smartViewCategoriesEnabled:n}=this.props,r=n&&a.length,o=t.length>1,i=a.every(e=>e.status),c=n&&0===t.length&&!i?Ur.b.ADD:Ur.b.CHEVRON_UP,l=Object(Pr.h)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return we.a.createElement(Kr.a,{className:no.menuContainer},we.a.createElement(zr.a,null,we.a.createElement("span",{className:no.menuButtonContainer},we.a.createElement(Zr.a,{"data-test-id":"tabs-menu-button",tabIndex:-1,kind:Xr.a.CHROMELESS,className:no.menuButton,"aria-label":this.context.intl.formatMessage(l.tabsMenu),onClick:this.handleAnchorClick},we.a.createElement("span",{className:no.menuSpan},we.a.createElement("span",{className:no.chevron},we.a.createElement(Fr.b,{kind:c,size:Ur.d.XS,rotate:Ur.c.D180,colorState:Ur.a.INVERTED})))))),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,offset:3*Wr.GRID_UNIT,align:Yr.a.END,permittedArrowDirections:[Yr.g.UP],zAltitude:Wr.ZIndices.POPOVER.HIGH,animate:!0},we.a.createElement("div",{className:no.menuContentContainer},t.length?we.a.createElement(Qr.a,{"data-test-id":"tabs-menu",className:no.tabList,focusOnMount:!0},this.renderTabButtons(e,!1),this.renderTabButtons(t,!0),!r&&o&&we.a.createElement("li",{className:no.rule}),o&&we.a.createElement("li",null,we.a.createElement(Zr.a,{"data-test-id":"tabs-close-all",onClick:s,className:no.closeAllButton,tabIndex:0},we.a.createElement("span",{className:no.closeAllText},we.a.createElement(Pr.c,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"})))),r&&we.a.createElement("li",{className:no.rule})):null,r?we.a.createElement(so.a,{isMenuMode:!0,showToggleState:!0,showHint:!0}):null)))}}ro.contextTypes={intl:Ve.a.object};var oo=ro,io=s(507),co=s.n(io),lo=s(20),Eo=s(103),_o=s(102),uo=s(104),po=s(110),mo=s(49),ho=s(17),So=s(9),go=s(72),Io=s(7);function Co(e){const{name:t}=e;return-1!==[h.Pc.MESSAGE_FROM_FOLDER_LIST,h.Pc.MESSAGE_FROM_SEARCH_LIST,h.Pc.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,h.Pc.MESSAGE_FROM_LIST].indexOf(t)}var To=s(94);Object(uo.b)({group:po.c,keys:{naviToLeftTab:{key:"BracketLeft",description:we.a.createElement(Pr.c,{id:"shortcut.navi_tabs_left",defaultMessage:"Navigate to the left tab"})},naviToRightTab:{key:"BracketRight",description:we.a.createElement(Pr.c,{id:"shortcut.navi_tabs_right",defaultMessage:"Navigate to the right tab"})}}});const Ao=["[","]"],Oo=Wr.TAB_MIN_WIDTH+kr,bo=Wr.TAB_MAX_WIDTH+kr,Ro=400,Do=to()(co.a);class fo extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={boundingWidth:null},this.getBoundingWidth=(()=>{this._isMounted&&this.setState({boundingWidth:Object(xe.findDOMNode)(this).getBoundingClientRect().width})}),this.closeCue=(e=>{this.props.featureCueClosed({name:e})}),this.handleSelection=((e,t,s)=>{s.preventDefault(),this.props.showPeopleSmartViewCue&&Object(Io.B)(t.route)===h.Eb.PEOPLE&&this.closeCue(h.kb.PEOPLE_SMARTVIEW_CUE);const a=babelHelpers.extends({route:t.route},t.fetchFullBody?{full:!0}:{},{tabRecencyRank:this.getTabRecencyRank(t)});t.active||this.context.navigateTo(e===Hr.MENU?Object.assign(a,{reorderPage:!0}):a)}),this.handleTabClose=(({route:e},t)=>{t.preventDefault(),this.props.closePage({route:e,i13nModel:{mKey:ao.e.TABS_MENU_CLOSE,sec:ao.g.TABS_MENU}})}),this.handleTabCloseAll=(e=>{e.preventDefault(),this.props.closeAllPages()}),this.handleMenuAnchorClick=((e,t)=>{this._categoriesCue&&this.props.showAllTabsPlusCue?(t.stopPropagation(),this.closeCue(h.kb.ALL_TABS_PLUS_CUE)):(this._peopleViewCue&&this.props.showPeopleSmartViewCue&&this.closeCue(h.kb.PEOPLE_SMARTVIEW_CUE),e&&e.actionData&&(e.actionData.multiTaskModeSetting=this.props.multiTaskModeSetting),this.context.executeAction(_o.g,{i13nModel:e}))}),this.handleShortCut=(e=>{const{charCode:t}=e;switch(t){case mo.a.BRACKETLEFT:this.tabNaviLeft(e);break;case mo.a.BRACKETRIGHT:this.tabNaviRight(e)}}),t}componentDidMount(){this._isMounted=!0,this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth),this.context.bindShortcut(Ao,this.handleShortCut)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.getBoundingWidth),this.context.unbindShortcut(Ao)}componentWillUpdate(e){const t=e.smartViews.find(e=>this.props.smartViews.find(t=>t.status!==e.status&&t.name===e.name));t&&(this.changedSmartView=t.name===h.td.COUPONS?h.Ld.SMARTVIEW_SHOPPING:h.Ld[`SMARTVIEW_${t.name}`],setTimeout(()=>{this.props.route.name!==h.Pc.SETTINGS&&this.props.onSmartViewChange(t.status?Object(ho.t)(t.name,{accountIds:this.props.selectedAccountId,excludefolders:this.props.conversationsEnabled?[h.sb.TRASH,h.sb.BULK]:[h.sb.TRASH,h.sb.BULK,h.sb.DRAFT,h.sb.SENT]}):this.props.isCategorySmartViewActive?this.props.selectedFolderRoute:this.props.route)},Ro))}renderToFit(){const{smartViewCategoriesEnabled:e}=this.props,t=[];let s,a=[];const{changedSmartView:n}=this;if(this.state.boundingWidth){let e=Math.floor((this.state.boundingWidth-Wr.TAB_MENU_WIDTH)/bo);if(this.tabContent.length>e){e=Math.floor((this.state.boundingWidth-Wr.TAB_MENU_WIDTH)/Oo);const t=Math.min(e,this.tabContent.length),a=Math.floor((this.state.boundingWidth-Wr.TAB_MENU_WIDTH)/t);s=`${a-kr}px`}this.tabContent.forEach(s=>{!s.active&&t.length<this.tabContent.length-e&&s.isCloseable?t.push(s):a.push(s)})}else a=this.tabContent.slice(0,4);const r=a.filter(({isCloseable:e})=>e),o=r.length||t.length||e,i=a.map(e=>{const{title:t,titleType:a,url:r,active:o,decorator:i,isCloseable:c,showCheckMailIcon:l,key:d}=e,E={className:Do.item};return i===h.Ld.SMARTVIEW_PEOPLE&&(E.ref=(e=>{this._peopleSmartViewTab=e})),we.a.createElement("li",babelHelpers.extends({key:d||r},E),we.a.createElement(Vr,{onClick:t=>this.handleSelection(Hr.BAR,e,t),isCloseable:c,showCheckMailIcon:l,onClose:t=>this.handleTabClose(e,t),title:t,titleType:a,decorator:i,url:r,kind:Hr.BAR,isActive:o,widthOverride:s,animate:n===i}))});return o&&i.push(we.a.createElement("li",{key:"tabMenu",className:Do.moreMenu,ref:"moreMenu"},we.a.createElement(oo,{barTabs:r,remainingTabs:t,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,onAnchorClick:this.handleMenuAnchorClick,smartViewCategoriesEnabled:e,smartViews:this.props.smartViews}))),i}_allCategorizationsEnabled(){return this.props.smartViews.every(({status:e})=>!!e)}renderCategoriesCue(){return this.props.showAllTabsPlusCue&&this.refs.moreMenu&&!this._allCategorizationsEnabled()?we.a.createElement(qr.b,{popoverAnchor:this.refs.moreMenu,align:Yr.a.START,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.UP],onHide:()=>this.closeCue(h.kb.ALL_TABS_PLUS_CUE),offset:16,zAltitude:Wr.ZIndices.POPOVER.HIGH,ref:e=>this._categoriesCue=e,hideOnContentClick:!1},we.a.createElement(lo.a,{import:"../../molecules/categorization/all_tabs_plus_cue",cueName:h.kb.ALL_TABS_PLUS_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,885))},_moduleResolver:function(){return 885}})):(this._categoriesCue=null,null)}_isInsidePeopleView(){const e=this.tabContent.find(({active:e})=>e);return e&&e.decorator===h.Ld.SMARTVIEW_PEOPLE}renderPeopleSmartViewCue(){return this.props.showPeopleSmartViewCue&&this._peopleSmartViewTab&&!this._isInsidePeopleView()?we.a.createElement(qr.b,{popoverAnchor:this._peopleSmartViewTab,align:Yr.a.START,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.UP],onHide:()=>this.closeCue(h.kb.PEOPLE_SMARTVIEW_CUE),offset:16,zAltitude:Wr.ZIndices.POPOVER.HIGH,ref:e=>this._peopleViewCue=e,highlight:!0,hideOnContentClick:!1},we.a.createElement(lo.a,{import:"../../molecules/categorization/people_smartview_cue",cueName:h.kb.PEOPLE_SMARTVIEW_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,886))},_moduleResolver:function(){return 886}})):(this._peopleViewCue=null,null)}navigateToLeftRail(){const{selectedFolderRoute:e}=this.props;this.context.navigateTo({route:e})}getActiveTabIndex(e){return e.findIndex(e=>!0===e.active)}getTabRecencyRank(e){return this.props.limitedMessageTabs.findIndex(t=>Object(ho.A)(t,e.route))}tabNaviLeft(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Hr.BAR,this.tabContent[this.tabContent.length-1],e):0===t?this.navigateToLeftRail():this.handleSelection(Hr.BAR,this.tabContent[t-1],e)}tabNaviRight(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Hr.BAR,this.tabContent[0],e):t===this.tabContent.length-1?this.navigateToLeftRail():this.handleSelection(Hr.BAR,this.tabContent[t+1],e)}render(){return this.tabContent=this.props.getTabContent(this.context),we.a.createElement("ul",{className:Do.container,"data-test-id":"tab-list","data-test-count":this.tabContent.length},this.renderPeopleSmartViewCue(),this.renderCategoriesCue(),this.renderToFit())}}function No(e,t,s){const{getRoute:a,isFeatureEnabled:n,getSmartViewTypeFromRoute:r,getSmartViewPosition:o,getSmartViewTypeFromListId:i}=s,c=a(),l=n(h.id.MAIL_TABS),d=r(t),{formatMessage:E}=e.intl,_=o(d),u=_===h.sd.TAB_BAR&&d===h.td.COUPONS?h.Ld.SMARTVIEW_SHOPPING:h.Ld[`SMARTVIEW_${d}`];return{route:t,url:e.getUrlFromRoute(t),active:l||d===h.td.TUTORIAL?Object(ho.A)(c,t):i(Object(Io.t)(c))===d,title:E(_===h.sd.TAB_BAR&&d===h.td.COUPONS?To.a.smart_view_SHOPPING:To.a[`smart_view_${d}`]),titleType:h.Md.SMART_VIEW,decorator:u,showCheckMailIcon:_===h.sd.TAB_BAR&&Object(Io.I)(c),isCloseable:_!==h.sd.TAB_BAR,key:u,fetchFullBody:!1}}fo.contextTypes={intl:Pr.i.isRequired,getUrlFromRoute:Ve.a.func,executeAction:Ve.a.func,navigateTo:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func},fo.defaultProps={showAllTabsPlusCue:!1,showPeopleSmartViewCue:!1,smartViews:[],onSmartViewChange:()=>{}};const Mo=e=>t=>{const s=Object(So.b)(e),{getTabPages:a,getRoute:n,getFolderName:r,getFolderDisplayTypeByFolderId:o,isFeatureEnabled:i,doesMessageGroupIdExist:c,isMessageGroupLoading:l,doesComposeSessionExist:d,getDraftMessageId:E,getReplyingToMessageId:_,doesMessageFullBodyExist:u,doesMessageBodyHasError:p,getMessageSubject:S,getRelevantMessageIdFromMessageGroupId:g,doesRouteContainFailure:I,getSmartViewTypeFromRoute:C}=s,T=n(),{formatMessage:A}=t.intl,O={[h.fb.YAHOO]:A(go.a.yahoo_account_description),[h.fb.YAHOO_SB]:A(go.a.yahoo_account_description),[h.fb.OUTLOOK]:A(go.a.outlook_account_description),[h.fb.AOL]:A(go.a.aol_account_description),[h.fb.GOOGLE]:A(go.a.gmail_account_description),[h.fb.GOOGLE_APP]:A(go.a.gmail_account_description)},b=a(),R=i(h.id.MAIL_TABS),D=i(h.kb.SMARTVIEW_CATEGORIES_ENABLED),f=[];return b.forEach(e=>{const{params:a,name:n,query:i}=e,b={route:e,url:t.getUrlFromRoute(e),active:Object(ho.A)(T,e),title:"",titleType:h.Md.TEXT,decorator:h.Ld.NONE,showCheckMailIcon:!1,isCloseable:!0,fetchFullBody:!1};switch(n){case h.Pc.LIST:if(!D)return;return void((Object(Io.I)(e)?C(e):null)&&f.push(No(t,e,s)));case h.Pc.TUTORIAL:return void(D&&f.push(No(t,e,s)));case h.Pc.BASE:return;case h.Pc.FOLDER:if(D){let t;const s=Object(Io.t)(e),a=Object(Io.m)(s);if(a){const e=o(a);t=Object(gt.m)(A,e)||r(a)}f.push(Object.assign({},b,{titleType:h.Md.TEXT,title:t,decorator:h.Ld.NONE,isCloseable:!1,showCheckMailIcon:T.name===h.Pc.FOLDER,active:R?b.active:a===Object(Io.m)(Object(Io.t)(T))}))}return;case h.Pc.SETTINGS:b.titleType=h.Md.SETTINGS,b.decorator=h.Ld.SETTINGS;break;case h.Pc.SEARCH:{const a=Object(Io.t)(e);if(Object(Io.E)(a)){if(!D)return;const n=Object(Io.L)(e),r=Object(Io.K)(a);if(!n&&!r)return;if(!n){return void((Object(Io.I)(e)?C(e):null)&&f.push(No(t,e,s)))}{const e=Object(Io.C)(a);b.title=A(To.a[`smart_view_${e}`]),b.titleType=h.Md.SMARTVIEW,b.active=R?b.active:e===Object(Io.C)(Object(Io.t)(T))}}else b.title=function(e,t,s){const{getFolderName:a,getSelectedAccountIdByRoute:n,getProviderFromAccount:r,getAccountDescriptionByAccountId:o,hasMultipleRootAccounts:i}=e,c=i(),l=Object(Io.t)(t),d=Object(Io.m)(l),{name:E,keyword:_}=Object(Io.h)(l),u=Object(Io.g)(l),p=n(t),m=r(p),h=o(p);let S;if(d){const e=a(d);S=c?(h||s[m])+"/"+e:e}else 1===u.length&&(S=c?h||s[m]:S);const g=Object(Io.G)(l)?E:_;return S?g?S+" "+g:S:g}(s,e,O),b.titleType=b.title?h.Md.SEARCH_KEYWORD:h.Md.SEARCH_DEFAULT,b.decorator=h.Ld.SEARCH;break}case h.Pc.MESSAGE_FROM_LIST:case h.Pc.MESSAGE_FROM_SEARCH_LIST:case h.Pc.MESSAGE_FROM_FOLDER_LIST:{if(a.attachmentId&&"1"===i.fullscreen)break;if(!c(a.groupId)||l(a.groupId)){b.titleType=h.Md.LOADING;break}const t=Object(Io.t)(e),s=g(a.groupId,t);b.title=S(s,t),b.title||(b.titleType=h.Md.NO_SUBJECT),I(e)&&(b.decorator=h.Ld.EXCLAMATION_ALT);break}case h.Pc.NEW_DRAFT:case h.Pc.EDIT_DRAFT:{const t=decodeURIComponent(a.csid);b.decorator=h.Ld.COMPOSE,t&&d(t)||(b.titleType=h.Md.LOADING);const s=E(t)||_(t);if(s)if(u(s))if(p(s))b.titleType=h.Md.ERROR;else{const t=Object(Io.t)(e);b.title=S(s,t)}else b.titleType=h.Md.LOADING;else b.titleType=h.Md.NEW_DRAFT;b.title||(b.titleType=h.Md.NEW_DRAFT),I(e)&&(b.decorator=h.Ld.EXCLAMATION_ALT);break}case h.Pc.SPONSORED_MESSAGE:b.titleType=h.Md.SPONSORED_AD;break;default:Object(m.a)(!1,`We do not know how to get title of the tab for this route: ${n}`)}f.push(b)}),f.filter(Boolean)};var Lo=Object(yr.d)(Object(Lr.b)(e=>{const{getFeaturesSelectors:t,getSetting:s,getTabPages:a,getRoute:n,getSelectedAccountId:r,getSmartViewTypeFromRoute:o,getSmartViewPosition:i}=Object(So.b)(e),c=t(),l=c.isEnabled(h.kb.SMARTVIEW_CATEGORIES_ENABLED),d=c.isEnabled(h.kb.ALL_TABS_PLUS_CUE),E=c.isEnabled(h.kb.PEOPLE_SMARTVIEW_CUE),_=s(h.id.SYSTEM_TABS),u=c.isEnabled(h.id.MAIL_TABS),p=n(),m=a().find(e=>e.name===h.Pc.FOLDER||Object(Io.L)(e)),S=c.isEnabled(h.kb.CONVERSATIONS),g=Object(Io.I)(p)?o(p):null,I=Object(Io.I)(p)&&i(g)===h.sd.TAB_BAR,C=function(e){const t=Object(So.b)(e),{getTabPages:s,isDraftGroup:a}=t;return s().filter(e=>Co(e)&&!a(e.params.groupId)).sort((e,t)=>(t.timestamp||0)-(e.timestamp||0))}(e);return{getTabContent:Mo(e),selectedFolderRoute:m,route:p,selectedAccountId:r(),smartViews:_,multiTaskModeSetting:u,smartViewCategoriesEnabled:l,showAllTabsPlusCue:d,showPeopleSmartViewCue:E,isCategorySmartViewActive:I,conversationsEnabled:S,limitedMessageTabs:C}}),Object(Lr.b)(void 0,e=>({featureCueClosed:t=>e(Object(Eo.a)(t)),closePage:({route:t,i13nModel:s={}})=>e(Object(xr.c)({route:t,i13nModel:s})),closeAllPages:t=>e(Object(xr.b)(t)),onSmartViewChange:t=>e(Object(xr.i)({route:t}))})))(fo),yo=s(427);class Po extends Ge.Component{constructor(e){super(e)}componentDidMount(){const{toast:e}=this.props;e&&this.context.toast(e)}componentDidUpdate(e){const{toast:t}=this.props;t&&t!==e.toast&&this.context.toast(t)}render(){return null}}Po.contextTypes={toast:Ve.a.func};var vo=Object(Lr.b)((e,{toastMap:t})=>{const{getAction:s}=Object(So.b)(e),a=s();let n=t[a.type];return"function"==typeof n&&(n=n(a,e)),n?{toast:babelHelpers.extends({},n,{data:a})}:{}})(Po),Fo=s(1),Uo=s(259),Ho=s(508),ko=s.n(Ho);const Go=to()(ko.a);class wo extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleChangeAccept=(()=>{this.context.navigateTo({route:Object(ho.s)({settingsGroupId:h.ld.VIEWING_EMAIL,accountId:this.props.accountId})})}),this.handleChangeReject=(()=>{this.context.executeAction(Uo.b)}),t}render(){return we.a.createElement("span",{className:Go.container},we.a.createElement(Pr.c,{id:"timezone.change_msg",defaultMessage:"New time zone detected."}),"",we.a.createElement("a",{"data-test-id":"primary-button",className:Go.primaryButton,onClick:e=>{e.preventDefault(),this.handleChangeAccept()}},we.a.createElement(Pr.c,{id:"timezone.change_accept",defaultMessage:"Update my location"})))}}wo.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func};var xo=wo,Bo=s(223),jo=s(52),Vo=s(509),Wo=s.n(Vo),qo=s(38);const Ko=to()(Wo.a);function zo({sendFailureRoute:e},{navigateTo:t,getUrlFromRoute:s}){const a=s(e);return we.a.createElement(Pr.c,{id:"compose.send_failure_notification",defaultMessage:"An error occurred while sending the {message}.",values:{message:a?we.a.createElement("a",{href:a,className:Ko.link,"data-test-id":"navigate-button",onClick:s=>{s.preventDefault(),t({route:e})}},we.a.createElement(Pr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):we.a.createElement(Pr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}function Yo({route:e,sentFolderId:t,groupId:s},{navigateTo:a,getUrlFromRoute:n}){const r={name:h.Pc.MESSAGE_FROM_FOLDER_LIST,params:{fid:t,groupId:s},query:e.query||{}},o=n(r);return we.a.createElement(Pr.c,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:o?we.a.createElement("a",{href:o,className:Ko.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),a({route:r})}},we.a.createElement(Pr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):we.a.createElement(Pr.c,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}zo.contextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func},Yo.contextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func};const Zo=Object(Lr.b)((e,t)=>{const{conversationsMode:s,message:a}=t;return{groupId:s?a.conversationId:a.id}})(Yo);function Xo(){return we.a.createElement(Pr.c,{id:"compose.already_sent_message",defaultMessage:"The message you are trying to save has already been sent using another session. Please check your sent folder."})}function Qo({messageGroupId:e,message:t,composeMode:s},{executeAction:a}){const n=we.a.createElement("span",{onClick:()=>{a(jo.w,{messageGroupId:e,message:t,composeMode:s})},className:Ko.link,"data-test-id":"notification-retry-compose-action"},we.a.createElement(Pr.c,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return we.a.createElement(Pr.c,s===h.I.Modes.FORWARD?{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:n}}:{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:n}})}Qo.contextTypes={executeAction:Ve.a.func};var $o=s(510),Jo=s.n($o);const ei=to()(Jo.a);var ti=class extends we.a.Component{render(){const{value:e}=this.props,t=`${e}%`,s={width:t};return we.a.createElement("div",{className:ei.progress},we.a.createElement("div",{className:ei.placeholder}),we.a.createElement("div",{className:ei.value,style:s,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e},we.a.createElement("span",{className:ei.label,"data-test-id":"progress-value",role:"presentation"},t)))}},si=s(511),ai=s.n(si);const ni=to()(ai.a);class ri extends we.a.Component{render(){const{message:e,subtitle:t,progress:s,onCancel:a,isCancelable:n}=this.props;return we.a.createElement("div",{className:ni.container,"data-test-id":"progress-dialog"},we.a.createElement("div",{className:ni.messageContainer},we.a.createElement("span",{className:ni.message,"data-test-id":"progress-dialog-message"},e),n&&we.a.createElement(Zr.a,{onClick:a,className:ni.cancel,"data-test-id":"progress-dialog-cancel"},we.a.createElement(Pr.c,{id:"confirm.cancel",defaultMessage:"Cancel"}))),we.a.createElement("div",{className:ni.subtitle},t),we.a.createElement("div",{className:ni.bar},we.a.createElement(ti,{value:s})))}}ri.defaultProps={isCancelable:!1,onClose:()=>{}};var oi=ri,ii=s(74),ci=s(146);var li=Object(Lr.b)(e=>{const{isAsyncTaskPending:t,getAsyncTask:s,getFeaturesSelectors:a}=Object(So.b)(e),n=a().getSetting(h.id.ASYNC_TASK_POLL_INTERVAL);if(!t())return{asyncTaskPollInterval:n};const{taskId:r,status:o,progress:i,pollCount:c}=s();return{taskId:r,status:o,progress:i,pollCount:c,asyncTaskPollInterval:n}},e=>({bulkTaskCancelRequest:t=>e(Object(ci.b)({taskId:t})),forceSync:()=>e(Object(xr.l)({forceSync:!0,i13nModel:{}}))}))(class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleCancel=(()=>{const{taskId:e}=this.props;this.props.bulkTaskCancelRequest({taskId:e})}),this.isTaskCancelable=(()=>{const{taskId:e,status:t}=this.props;return e&&t===h.y.PENDING}),this.renderMessage=(()=>{const{triageActionType:e,folderId:t,count:s,conversations:a}=this.props;switch(e){case h.Pd.READ_CHANGE_FOLDER_ITEMS:return we.a.createElement(Pr.c,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:s,folderName:we.a.createElement(ii.a,{folderId:t})}});case h.Pd.DELETE_FOLDER_ITEMS:return we.a.createElement(Pr.c,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:s,folderName:we.a.createElement(ii.a,{folderId:t})}});case h.Pd.ARCHIVE_FOLDER_ITEMS:return we.a.createElement(Pr.c,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:s,folderName:we.a.createElement(ii.a,{folderId:t})}});case h.Pd.DELETE_SELECTED_ITEMS:return we.a.createElement(Pr.c,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case h.Pd.DELETE_ALL_FROM_SENDERS:return we.a.createElement(Pr.c,{id:"progress.messages_delete_from_senders",defaultMessage:"Deleting {conversations, select, true {conversations} false {messages}}",values:{conversations:a}});case h.Pd.MOVE_SELECTED_ITEMS:return we.a.createElement(Pr.c,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case h.Pd.DELETE_ALL_ITEMS:case h.Pd.MOVE_ALL_ITEMS:case h.Pd.UNDO_MOVE:return we.a.createElement(Pr.c,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case h.Pd.READ_CHANGE_ALL_ITEMS:case h.Pd.READ_CHANGE_SELECTED_ITEMS:case h.Pd.STAR_CHANGE_ALL_ITEMS:case h.Pd.STAR_CHANGE_SELECTED_ITEMS:return we.a.createElement(Pr.c,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case h.Pd.ARCHIVE_ALL_ITEMS:case h.Pd.ARCHIVE_SELECTED_ITEMS:return we.a.createElement(Pr.c,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case h.Pd.RESTORE_ALL_ITEMS:case h.Pd.RESTORE_SELECTED_ITEMS:case h.Pd.NOT_SPAM_ALL_ITEMS:case h.Pd.NOT_SPAM_SELECTED_ITEMS:return we.a.createElement(Pr.c,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:a,count:s}});case h.Pd.SPAM_ALL_ITEMS:case h.Pd.SPAM_SELECTED_ITEMS:return we.a.createElement(Pr.c,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:a,count:s}})}return null}),this.renderStatus=(()=>{switch(this.props.status){case h.y.ABORTING:return we.a.createElement(Pr.c,{id:"progress.aborting",defaultMessage:"Cancelling"});case h.y.ABORT_FAILED:return we.a.createElement(Pr.c,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}}),t}componentDidUpdate(){clearTimeout(this.handleProgressTimeout),this.handleProgressTimeout=setTimeout(()=>{this.props.forceSync()},this.props.asyncTaskPollInterval)}componentWillUnmount(){clearTimeout(this.handleProgressTimeout)}render(){const{progress:e=0}=this.props;return we.a.createElement(oi,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:e,message:this.renderMessage(),subtitle:this.renderStatus()})}});var di=s(513),Ei=s.n(di),_i=s(229);const ui=to()(Ei.a);function pi(){return we.a.createElement(Pr.c,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function mi(e,{intl:{locale:t}}){const s=Object(_i.h)("SLN3353")(t);return we.a.createElement("div",null,we.a.createElement("div",{className:ui.notificationTitle},we.a.createElement(Pr.c,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),we.a.createElement("div",{className:ui.notificationSubText},we.a.createElement(Pr.c,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),we.a.createElement("br",null),we.a.createElement(Zr.a,{kind:Xr.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>window.open(s,"_blank")},we.a.createElement("span",{className:ui.button},we.a.createElement(Pr.c,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function hi({invalidAddresses:e=[]}){const t=[];return e.forEach((e,s,a)=>{const n="_"+s;t.push(we.a.createElement("span",{key:n},e)),s<a.length-1&&t.push(we.a.createElement(Pr.c,{key:n+"-delim",id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:s===a.length-2}}))}),we.a.createElement(Pr.c,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:we.a.createElement("span",null,t)}})}mi.contextTypes={intl:Pr.i.isRequired};const Si=Object(Lr.b)((e,{csid:t})=>{const{isAttachmentUploadPendingForComposeSession:s}=Object(So.b)(e);return{isUploading:s(t)}})(function({isUploading:e}){return we.a.createElement(Pr.c,e?{id:"compose.uploading_attachment_email_status",defaultMessage:"Adding attachments..."}:{id:"compose.sending_email_status",defaultMessage:"Sending..."})});function gi(){return we.a.createElement(Pr.c,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function Ii({messageIds:e}){return we.a.createElement(Pr.c,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:e&&e.length||1}})}function Ci({messageIds:e}){return we.a.createElement(Pr.c,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:e&&e.length||1}})}function Ti(){return we.a.createElement(Pr.c,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}const Ai="EC-4001";var Oi=s(514),bi=s.n(Oi),Ri=s(79);const Di=to()(bi.a);const fi=Object(Lr.b)(null,e=>({featureCueNotificationClosed:t=>e(Object(Eo.d)(t)),toggleAutoOpenSettingsPopover:t=>e(Object(Ri.y)(t))}))(class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),this.props.onClose(),this.props.toggleAutoOpenSettingsPopover({status:!0})}),t}render(){const e=we.a.createElement("span",{onClick:this.handleClick,className:Di.settings,"data-test-id":"settings-link"},we.a.createElement(Pr.c,{id:"notification.themes_cue_v3_closed_settings",defaultMessage:"Settings"}));return we.a.createElement(Pr.c,{id:"notification.themes_cue_v3_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:e}})}componentWillUnmount(){this.props.featureCueNotificationClosed({name:h.kb.THEMES_CUE_V3})}});function Ni({folderId:e,progress:t}){const s=we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}));if(t<100){const e=we.a.createElement("strong",null,t,"%");return we.a.createElement(Pr.c,{id:"folder.markasread_partial_success",defaultMessage:"{progress} of messages in {folderName} marked as read",values:{folderName:s,progress:e}})}return we.a.createElement(Pr.c,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:s}})}function Mi({folderId:e}){return we.a.createElement(Pr.c,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}))}})}function Li({folderId:e,progress:t}){const s=we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}));if(t<100){const e=we.a.createElement("strong",null,t,"%");return we.a.createElement(Pr.c,{id:"folder.archive_partial_success",defaultMessage:"{progress} of messages in {folderName} archived",values:{folderName:s,progress:e}})}return we.a.createElement(Pr.c,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:s}})}function yi({folderId:e}){return we.a.createElement(Pr.c,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}))}})}function Pi({folderId:e,progress:t}){const s=we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}));if(t<100){const e=we.a.createElement("strong",null,t,"%");return we.a.createElement(Pr.c,{id:"folder.delete_partial_success",defaultMessage:"{progress} of messages in {folderName} deleted",values:{folderName:s,progress:e}})}return we.a.createElement(Pr.c,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:s}})}function vi({folderId:e}){return we.a.createElement(Pr.c,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}))}})}function Fi(){return we.a.createElement(Pr.c,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}const Ui=({openTutorial:e},{mailBrandNameString:t})=>{return we.a.createElement(Pr.c,{id:"autoupgrade.notification.success",defaultMessage:"You've been upgraded to the new {mailBrandNameString}! {see_whats_new}",values:{see_whats_new:we.a.createElement("a",{style:{color:Wr.BASE_LINK_COLOR},href:h.hc,onClick:e,rel:"noopener"},we.a.createElement(Pr.c,{id:"autoupgrade.notification.tutorial.link",defaultMessage:"See what's new"})),mailBrandNameString:t}})};Ui.contextTypes={mailBrandNameString:Ve.a.string};const Hi=Object(Lr.b)(void 0,e=>({openTutorial:()=>e(Object(xr.i)({route:Object(ho.t)(h.td.TUTORIAL)}))}))(Ui);const ki=Object(Lr.b)((e,t)=>{const{isOnline:s}=Object(So.b)(e);return s()&&t.onClose(),{}})(class extends we.a.Component{render(){return we.a.createElement(Pr.c,{id:"notification.no_internet",defaultMessage:"No internet connection."})}});var Gi=s(275),wi=s.n(Gi);const xi=to()(wi.a);class Bi extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{const t={mKey:ao.e.FIX_IMAP_ACCOUNT,sec:ao.g.NOTIFICATION_ACTION,interactionType:Object(vs.i)(e)},{accountId:s,provider:a,autoOpenReauth:n}=this.props;n&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`)),this.props.onClose(),this.context.navigateTo({route:Object(ho.s)({settingsGroupId:h.ld.ACCOUNTS,accountId:s,provider:a,openReauth:n}),i13nModel:t})}),t}render(){const{autoOpenReauth:e,provider:t}=this.props;let s;return s=we.a.createElement(Pr.c,e&&t===h.fb.GOOGLE?{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}:{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),we.a.createElement("div",null,we.a.createElement(Pr.c,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."}),"",we.a.createElement(Zr.a,{"aria-hidden":!0,kind:Xr.a.CHROMELESS,onClick:this.handleClick},we.a.createElement("span",{className:xi.actionLink},s)))}}Bi.contextTypes={navigateTo:Ve.a.func};const ji=Object(Lr.b)()(Bi),Vi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to the selected folder.",values:{conversations:e,count:t}}),Wi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation is} other {Conversations are} }} false {{count, plural, =1 {Message is} other {Messages are} }} } successfully marked as Spam",values:{conversations:e,count:t}}),qi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } as Spam.",values:{conversations:e,count:t}}),Ki=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation is} other {Conversations are} }} false {{count, plural, =1 {Message is} other {Messages are} }} } moved to Inbox",values:{conversations:e,count:t}}),zi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),Yi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} }.",values:{conversations:e,count:t}}),Zi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation} other {# conversations} }} false {{count, plural, =1 {Message} other {# messages} }} } moved to Inbox",values:{conversations:e,count:t}}),Xi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),Qi=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {# messages} }} }.",values:{conversations:e,count:t}}),$i=()=>we.a.createElement(Pr.c,{id:"notification.undo_success",defaultMessage:"Undo succeeded"}),Ji=()=>we.a.createElement(Pr.c,{id:"notification.undo_failed",defaultMessage:"Undo failed"}),ec=()=>we.a.createElement(Pr.c,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"}),tc=({conversations:e})=>we.a.createElement(Pr.c,{id:"notification.delete_from_senders_success",defaultMessage:"{conversations, select, true {Conversations} false {Messages} } deleted from selected senders.",values:{conversations:e}}),sc=({conversations:e})=>we.a.createElement(Pr.c,{id:"notification.delete_from_senders_failure",defaultMessage:"Failed to delete {conversations, select, true {conversations} false {messages} } from selected senders.",values:{conversations:e}}),ac=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.update_items_success",defaultMessage:"Updated {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        } successfully",values:{conversations:e,count:t}}),nc=({conversations:e,count:t})=>we.a.createElement(Pr.c,{id:"notification.update_items_failure",defaultMessage:"Failed to update {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        }",values:{conversations:e,count:t}});class rc extends we.a.Component{render(){const{folderId:e,conversations:t}=this.props;return we.a.createElement("div",null,we.a.createElement(Pr.c,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e})),conversations:t}}))}}function oc(){return we.a.createElement(Pr.c,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function ic(){return we.a.createElement(Pr.c,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function cc(){return we.a.createElement(Pr.c,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}var lc=s(515),dc=s.n(lc),Ec=s(47);const _c=to()(dc.a);function uc(){return we.a.createElement(Pr.c,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}function pc(){return we.a.createElement(Pr.c,{id:"notification.settings_filter_failed_to_save",defaultMessage:"Message filter has failed to save"})}function mc(){return we.a.createElement(Pr.c,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function hc({delta:e}){return we.a.createElement(Pr.c,{id:"notification.settings_blocked_senders_added",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} added",values:{count:e}})}function Sc({delta:e}){return we.a.createElement(Pr.c,{id:"notification.settings_blocked_senders_deleted",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} deleted",values:{count:-e}})}function gc({delta:e}){return we.a.createElement(Pr.c,{id:"notification.settings_blocked_senders_failed_to_add",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to add",values:{count:e}})}function Ic({delta:e}){return we.a.createElement(Pr.c,{id:"notification.settings_blocked_senders_failed_to_delete",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to delete",values:{count:-e}})}function Cc(){return we.a.createElement(Pr.c,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved."})}function Tc(){return we.a.createElement(Pr.c,{id:"notification.settings_vacation_response_deleted",defaultMessage:"Vacation response has been removed."})}function Ac({error:e,provider:t,email:s},{yahooBrandNameString:a}){switch(e){case 412:return we.a.createElement(Pr.c,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return we.a.createElement("div",{className:_c.errorWrapper},we.a.createElement("div",{className:_c.errorHeader},we.a.createElement(Pr.c,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}})),we.a.createElement("div",{className:_c.errorBody},we.a.createElement(Pr.c,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(Ec.h)(t),nextLine:we.a.createElement("br",null),sign_out:we.a.createElement("a",{className:_c.link,target:"_blank",href:h.vb[t].providerUrl,rel:"noopener"},we.a.createElement(Pr.c,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return we.a.createElement(Pr.c,{id:"notification.provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please try to connect your account later.",values:{yahooBrandNameString:a,provider:Object(Ec.h)(t)}});case 409:return we.a.createElement(Pr.c,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return we.a.createElement(Pr.c,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}function Oc({updatedProperties:e}){return we.a.createElement(Pr.c,{id:"notification.forward_email_verification",defaultMessage:"A verification email has been sent to {email}",values:{email:we.a.createElement("strong",null," ",e.forwardEmail," ")}})}function bc(){return we.a.createElement(Pr.c,{id:"notification.unsub_lists_cleaned",defaultMessage:"Enjoy your cleaner Inbox! Glad that was useful. New recommendations tomorrow!"})}function Rc(){return we.a.createElement(Pr.c,{id:"notification.unsub_list_cleaned",defaultMessage:"Enjoy your cleaner Inbox! We'll have new recommendations tomorrow."})}function Dc(){return we.a.createElement(Pr.c,{id:"notification.unsub_dialog_closed",defaultMessage:"Great! Glad you still like those emails. We'll have new recommendations tomorrow."})}function fc({route:e,sentFolderId:t},{navigateTo:s,getUrlFromRoute:a}){const n={name:h.Pc.FOLDER,params:{fid:t},query:e.query||{}},r=a(n);return we.a.createElement(Pr.c,{id:"notification.unsub_request_sent",defaultMessage:"Unsubscribe request {sent}.",values:{sent:r?we.a.createElement("a",{href:r,style:{color:Wr.BASE_LINK_COLOR,cursor:"pointer"},"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),s({route:n})}},we.a.createElement(Pr.c,{id:"notification.unsub_request_sent_link",defaultMessage:"sent"})):we.a.createElement(Pr.c,{id:"notification.unsub_request_sent_link",defaultMessage:"sent"})}})}function Nc(){return we.a.createElement(Pr.c,{id:"notification.unsub_request_failed",defaultMessage:"Unsubscribe failed."})}Ac.contextTypes={yahooBrandNameString:Ve.a.string},fc.contextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func};var Mc=s(516),Lc=s.n(Mc);const yc=to()(Lc.a);var Pc=s(276);class vc extends we.a.Component{render(){const{conversations:e,count:t,undoAction:s,permanent:a,onClose:n}=this.props;return we.a.createElement("div",null,we.a.createElement(Pr.c,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } deleted.",values:{conversations:e,count:t}}),"",!a&&s&&we.a.createElement(Pc.a,{undoAction:s,onClose:n}))}}class Fc extends we.a.Component{render(){const{conversations:e,count:t,undoAction:s,onClose:a}=this.props;return we.a.createElement("div",null,we.a.createElement(Pr.c,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to Archive.",values:{conversations:e,count:t}}),"",we.a.createElement(Pc.a,{undoAction:s,onClose:a}))}}class Uc extends we.a.Component{render(){const{folderId:e,count:t,conversations:s,undoAction:a,onClose:n}=this.props;return we.a.createElement("div",null,we.a.createElement(Pr.c,{id:"notification.move_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e})),conversations:s,count:t}}),"",we.a.createElement(Pc.a,{undoAction:a,onClose:n}))}}var Hc={[Fo.a.SOCIAL_ACCOUNTS_CONNECT_FAILED]:{message:function({provider:e}){return we.a.createElement(Pr.c,{id:"social_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:e}})},type:h.oc.WARNING},[Fo.a.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED]:{message:function({provider:e}){return we.a.createElement(Pr.c,{id:"social_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:e}})},type:h.oc.NORMAL},[Fo.a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){return we.a.createElement(Pr.c,{id:"social_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:e}})},type:h.oc.WARNING},[Fo.a.RENAME_FOLDER_SUCCEEDED]:{message:function({newFolderName:e,originalFolderName:t}){return we.a.createElement(Pr.c,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:we.a.createElement("strong",null,e),originalFolderName:we.a.createElement("strong",null,t)}})},type:h.oc.NORMAL},[Fo.a.RENAME_FOLDER_FAILED]:{message:function({newFolderName:e,originalFolderName:t}){return we.a.createElement(Pr.c,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:we.a.createElement("strong",null,e),originalFolderName:we.a.createElement("strong",null,t)}})},type:h.oc.WARNING},[Fo.a.CREATE_FOLDER_SUCCEEDED]:{message:function({folder:e}){return we.a.createElement(Pr.c,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:we.a.createElement("strong",null,e.name)}})},type:h.oc.NORMAL},[Fo.a.CONTACT_SAVE_SUCCEEDED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.contact_save_success",defaultMessage:"Contact updated"}),type:h.oc.NORMAL},[Fo.a.CONTACT_SAVE_FAILED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.contact_save_failure",defaultMessage:"Unable to save"}),type:h.oc.WARNING},[Fo.a.CREATE_CONTACT_SUCCEEDED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.contact_create_success",defaultMessage:"Contact created"}),type:h.oc.NORMAL},[Fo.a.CREATE_CONTACT_FAILED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.contact_create_failure",defaultMessage:"Unable to create contact"}),type:h.oc.WARNING},[Fo.a.CONTACT_PHOTO_UPLOAD_SUCCEEDED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.contact_upload_photo_success",defaultMessage:"Contact photo uploaded"}),type:h.oc.NORMAL},[Fo.a.CONTACT_PHOTO_UPLOAD_FAILED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.contact_upload_photo_failure",defaultMessage:"Unable to upload photo"}),type:h.oc.WARNING},[Fo.a.CREATE_FOLDER_FAILED]:{message:function({folderName:e}){return we.a.createElement(Pr.c,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:we.a.createElement("strong",null,e)}})},type:h.oc.WARNING},[Fo.a.DELETE_FOLDER_SUCCEEDED]:{message:function({folderName:e}){return we.a.createElement(Pr.c,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:we.a.createElement("strong",null,e)}})},type:h.oc.NORMAL},[Fo.a.DELETE_FOLDER_FAILED]:{message:function({folderName:e}){return we.a.createElement(Pr.c,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:we.a.createElement("strong",null,e)}})},type:h.oc.WARNING},[Fo.a.DELETE_NON_EMPTY_FOLDER_REQUESTED]:{message:function({folderId:e}){return we.a.createElement(Pr.c,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:we.a.createElement("strong",null,we.a.createElement(ii.a,{folderId:e}))}})},type:h.oc.WARNING},[Fo.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED]:{message:Qo,type:h.oc.WARNING,requireInteraction:!0},[Fo.a.COMPOSE_NO_ADDRESS_DETECTED]:{message:pi,type:h.oc.WARNING},[Fo.a.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:{message:mi,type:h.oc.WARNING},[Fo.a.COMPOSE_ADDRESSING_FAILED]:{message:hi,type:h.oc.WARNING},[Fo.a.SEND]:{message:Si,type:h.oc.NORMAL,requireInteraction:!0},[Fo.a.V3_MESSAGE_SEND_REQUESTED]:{message:Si,type:h.oc.PENDING,sticky:!0,requireInteraction:!0},[Fo.a.SEND_FAILURE]:{message:zo,type:h.oc.WARNING},[Fo.a.V3_MESSAGE_SEND_FAILED]:({unsubFromMessage:e})=>void 0!==e?{message:Nc,type:h.oc.WARNING}:{message:zo,type:h.oc.WARNING},[Fo.a.MESSAGE_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Xo,type:h.oc.WARNING}:{message:gi,type:h.oc.WARNING,priority:h.mc.MEDIUM},[Fo.a.V3_MESSAGE_SAVE_FAILED]:({error:e,showNotification:t=!0})=>e&&"ES-2001"===e.errorCode?{message:Xo,type:h.oc.WARNING}:t?{message:gi,type:h.oc.WARNING,priority:h.mc.MEDIUM}:null,[Fo.a.MESSAGE_AUTO_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Xo,type:h.oc.WARNING}:null,[Fo.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]:{message:function(){return we.a.createElement(Pr.c,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})},type:h.oc.NORMAL},[Fo.a.SPONSORED_SAVE_TO_INBOX_FAILED]:{message:function(){return we.a.createElement(Pr.c,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})},type:h.oc.WARNING},[Fo.a.DELETE_DRAFT_SUCCEEDED]:{message:Ii,type:h.oc.NORMAL},[Fo.a.DELETE_DRAFT_FAILED]:{message:Ci,type:h.oc.WARNING},[Fo.a.UNDO_MOVE_SUCCEEDED]:{message:$i,type:h.oc.NORMAL},[Fo.a.UNDO_MOVE_FAILED]:{message:Ji,type:h.oc.WARNING},[Fo.a.GEMINI_SPONSORED_ASSET_FAILED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"}),type:h.oc.WARNING},[Fo.a.CONFIRM_EMAIL_RESEND_SUCCEEDED]:{message:function(){return we.a.createElement(Pr.c,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})},type:h.oc.NORMAL},[Fo.a.CONFIRM_EMAIL_RESEND_FAILED]:{message:function(){return we.a.createElement(Pr.c,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})},type:h.oc.WARNING},[Fo.a.ACCOUNT_REAUTH_SUCCEEDED]:{message:function(){return we.a.createElement(Pr.c,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})},type:h.oc.NORMAL},[Fo.a.ACCOUNT_REAUTH_FAILED]:{message:Ac,type:h.oc.WARNING},[Fo.a.SETTINGS_CHANGE_SUCCEEDED]:({name:e,delta:t})=>{switch(e){case h.id.MESSAGE_FILTERS:return{message:uc,type:h.oc.NORMAL};case h.id.DELIVERY_BLOCKED_SENDERS:return t<0?{message:Sc,type:h.oc.NORMAL}:{message:hc,type:h.oc.NORMAL}}return null},[Fo.a.SETTINGS_CHANGE_FAILED]:({name:e,delta:t})=>{switch(e){case h.id.MESSAGE_FILTERS:return{message:pc,type:h.oc.WARNING};case h.id.DELIVERY_BLOCKED_SENDERS:return t<0?{message:Ic,type:h.oc.WARNING}:{message:gc,type:h.oc.WARNING}}return null},[Fo.a.EXCEPTION_OCCURRED]:{message:class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleSplunkSearch=(()=>{window.open(this.props.splunkUrl,"_blank")}),t}render(){return we.a.createElement("div",null,we.a.createElement(Pr.c,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."}),"",we.a.createElement(Zr.a,{kind:Xr.a.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},we.a.createElement("span",{className:yc.button},we.a.createElement(Pr.c,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}},type:h.oc.WARNING,modal:!0},[Fo.a.DOWNLOAD_FAILED]:{message:function(e){const{fileCount:t=1,filename:s,error:a={}}=e,{code:n="",validationErrors:r=[]}=a,o=n===Ai&&r.join("").indexOf("virus")>-1;return we.a.createElement(Pr.c,o?{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}}:{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}})},type:h.oc.WARNING},[Fo.a.LAUNCH_COMPLETED]:(e,t)=>{const{getLaunchError:s}=Object(So.b)(t);switch(s()){case h.Ab.FOLDER_ACCESS_FAILED:return{message:Fi,type:h.oc.ADVISORY,icon:Ur.b.ATTENTION};case h.Ab.MESSAGE_ACCESS_FAILED:return{message:ec,type:h.oc.ADVISORY,icon:Ur.b.ATTENTION};case h.Ab.COMPOSE_ACCESS_FAILED:return{message:Ti,type:h.oc.ADVISORY,icon:Ur.b.ATTENTION};case h.Ab.SETTINGS_FAILED_TO_LOAD:return{message:mc,type:h.oc.ADVISORY,icon:Ur.b.ATTENTION}}return Object(C.b)()&&window.AppBootstrapData&&window.AppBootstrapData.config&&window.AppBootstrapData.config.autoUpgradedNow?{message:Hi,type:h.oc.NORMAL,priority:h.mc.HIGH,requireInteraction:!0}:null},[Fo.a.POST_LAUNCH_SYNC_SUCCEEDED]:(e,t)=>{const{getRoute:s,getMailboxesSelectors:a,doesFolderIdExist:n,getAccountIdByFolderId:r}=Object(So.b)(t),o=s(),i=Object(Io.t)(o),c=Object(Io.m)(i);if(c&&n(c)){const e=a(),t=r(c);if(e.isAccountExpired(t))return{message:ji,type:h.oc.WARNING}}return null},[Fo.a.MAILBOX_NOT_SYNCING]:{message:Bi,type:h.oc.WARNING},[Fo.a.UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED]:{message:bc,type:h.oc.NORMAL,priority:h.mc.MEDIUM},[Fo.a.UNSUBSCRIBE_SINGLE_LIST_CLEANED]:{message:Rc,type:h.oc.NORMAL,priority:h.mc.MEDIUM},[Fo.a.UNSUBSCRIBE_DIALOG_CLOSED]:{message:Dc,type:h.oc.NORMAL,priority:h.mc.MEDIUM},[Fo.a.TIMEZONE_CHANGE_DETECTED]:{message:xo,type:h.oc.ADVISORY,icon:Ur.b.CLOCK,sticky:!1,requireInteraction:!0},[Fo.a.SEND_SUCCESS]:{message:Zo,type:h.oc.NORMAL},[Fo.a.V3_MESSAGE_SEND_SUCCEEDED]:{message:Zo,type:h.oc.NORMAL},[Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED]:({unsubFromMessage:e})=>void 0!==e?{message:fc,type:h.oc.NORMAL}:{message:Zo,type:h.oc.NORMAL},[Fo.a.ONLINE_STATUS_CHANGED]:({online:e})=>e?null:{message:ki,type:h.oc.WARNING,requireInteraction:!0,icon:Ur.b.NO_INTERNET,sticky:!0,priority:h.mc.HIGH},[Fo.a.FEATURE_CLOSED]:({name:e})=>e===h.kb.THEMES_CUE_V3?{message:fi,type:h.oc.NORMAL}:null,[Fo.a.READ_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:li,type:h.oc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[Fo.a.STAR_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:li,type:h.oc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[Fo.a.DELETE_ITEMS_REQUESTED]:({isAsync:e})=>e?{message:li,type:h.oc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[Fo.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:({isAsync:e})=>e?{message:li,type:h.oc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[Fo.a.MOVE_ITEMS_REQUESTED]:({isAsync:e})=>e?{message:li,type:h.oc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[Fo.a.BULK_PROGRESS_INITIATED]:{message:li,type:h.oc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0},[Fo.a.BULK_CANCEL_FAILED]:{message:li,type:h.oc.ADVISORY,requireInteraction:!1,sticky:!1,modal:!0},[Fo.a.SETTINGS_SAVE_FILTERS_SUCCEEDED]:{message:uc,type:h.oc.NORMAL},[Fo.a.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED]:({actionType:e})=>{switch(e){case Bo.a.SAVE:return{message:Cc,type:h.oc.NORMAL};case Bo.a.DELETE:return{message:Tc,type:h.oc.NORMAL};case Bo.a.SWITCH_ON:case Bo.a.SWITCH_OFF:default:return null}},[Fo.a.ATTACHMENT_PREVIEW_FAILED]:{message:function({downloadUrl:e}){return we.a.createElement(Pr.c,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:we.a.createElement("a",{style:{color:Wr.BASE_LINK_COLOR},href:e,rel:"noopener"},we.a.createElement(Pr.c,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})},type:h.oc.WARNING},[Fo.a.PENSIEVE_DELETE_SUCCESS]:{message:function(){return we.a.createElement(Pr.c,{id:"folder.pensieve_delete_success",defaultMessage:"Photo removed from Mail"})},type:h.oc.NORMAL},[Fo.a.PENSIEVE_DELETE_FAILED]:{message:function(){return we.a.createElement(Pr.c,{id:"folder.pensieve_delete_failed",defaultMessage:"Photo could not be removed from Mail"})},type:h.oc.WARNING},[Fo.a.DELETE_ITEMS_SUCCEEDED]:{message:vc,type:h.oc.NORMAL},[Fo.a.DELETE_ITEMS_FAILED]:{message:Qi,type:h.oc.WARNING},[Fo.a.UPDATE_ITEMS_SUCCEEDED]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:a=!1}=e,n=t.length>0?t[t.length-1]:{},{updateTypes:r=[]}=n,o=r.length>0?r[r.length-1]:"";switch(s){case h.Pd.ARCHIVE_FOLDER_ITEMS:return{message:Li,type:h.oc.NORMAL};case h.Pd.ARCHIVE_ALL_ITEMS:case h.Pd.RESTORE_ALL_ITEMS:case h.Pd.SPAM_ALL_ITEMS:case h.Pd.NOT_SPAM_ALL_ITEMS:case h.Pd.MOVE_ALL_ITEMS:return{message:rc,type:h.oc.NORMAL};case h.Pd.DELETE_FOLDER_ITEMS:case h.Pd.DELETE_ALL_ITEMS:return{message:Pi,type:h.oc.NORMAL};case h.Pd.READ_CHANGE_FOLDER_ITEMS:case h.Pd.READ_CHANGE_ALL_ITEMS:return{message:Ni,type:h.oc.NORMAL};case h.Pd.STAR_CHANGE_ALL_ITEMS:return{message:ic,type:h.oc.NORMAL};case h.Pd.ARCHIVE_SELECTED_ITEMS:return{message:Fc,type:h.oc.NORMAL};case h.Pd.RESTORE_SELECTED_ITEMS:return{message:Zi,type:h.oc.NORMAL};case h.Pd.SPAM_SELECTED_ITEMS:return{message:Wi,type:h.oc.NORMAL};case h.Pd.NOT_SPAM_SELECTED_ITEMS:return{message:Ki,type:h.oc.NORMAL};case h.Pd.MOVE_SELECTED_ITEMS:return{message:Uc,type:h.oc.NORMAL};case h.Pd.DELETE_SELECTED_ITEMS:return{message:vc,type:h.oc.NORMAL};case h.Pd.DELETE_ALL_FROM_SENDERS:return{message:tc,type:h.oc.NORMAL};case h.Pd.UNDO_MOVE:return{message:$i,type:h.oc.NORMAL};case h.Pd.DELETE_DRAFT:return{message:Ii,type:h.oc.NORMAL}}switch(o){case h.dc.READ:case h.dc.STAR:case h.dc.SPAM:case h.dc.HAM:case h.dc.ANSWER:case h.dc.FORWARD:case h.dc.DECO:return a?{message:ac,type:h.oc.NORMAL}:null}},[Fo.a.UPDATE_ITEMS_FAILED]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:a=!1}=e,n=t.length>0?t[t.length-1]:{},{updateTypes:r=[]}=n,o=r.length>0?r[r.length-1]:"";switch(s){case h.Pd.ARCHIVE_FOLDER_ITEMS:return{message:yi,type:h.oc.WARNING};case h.Pd.ARCHIVE_ALL_ITEMS:case h.Pd.RESTORE_ALL_ITEMS:case h.Pd.SPAM_ALL_ITEMS:case h.Pd.NOT_SPAM_ALL_ITEMS:case h.Pd.MOVE_ALL_ITEMS:return{message:oc,type:h.oc.WARNING};case h.Pd.DELETE_FOLDER_ITEMS:case h.Pd.DELETE_ALL_ITEMS:return{message:vi,type:h.oc.WARNING};case h.Pd.READ_CHANGE_FOLDER_ITEMS:case h.Pd.READ_CHANGE_ALL_ITEMS:return{message:Mi,type:h.oc.WARNING};case h.Pd.STAR_CHANGE_ALL_ITEMS:return{message:cc,type:h.oc.WARNING};case h.Pd.ARCHIVE_SELECTED_ITEMS:return{message:Yi,type:h.oc.WARNING};case h.Pd.RESTORE_SELECTED_ITEMS:return{message:Xi,type:h.oc.WARNING};case h.Pd.SPAM_SELECTED_ITEMS:return{message:qi,type:h.oc.WARNING};case h.Pd.NOT_SPAM_SELECTED_ITEMS:return{message:zi,type:h.oc.WARNING};case h.Pd.MOVE_SELECTED_ITEMS:return{message:Vi,type:h.oc.WARNING};case h.Pd.DELETE_SELECTED_ITEMS:return{message:Qi,type:h.oc.WARNING};case h.Pd.DELETE_ALL_FROM_SENDERS:return{message:sc,type:h.oc.WARNING};case h.Pd.UNDO_MOVE:return{message:Ji,type:h.oc.WARNING};case h.Pd.DELETE_DRAFT:return{message:Ci,type:h.oc.WARNING}}switch(o){case h.dc.READ:case h.dc.STAR:case h.dc.SPAM:case h.dc.HAM:case h.dc.ANSWER:case h.dc.FORWARD:case h.dc.DECO:return a?{message:nc,type:h.oc.WARNING}:null}},[Fo.a.ACTIVATE_OFFER_FAILED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.activate_offer_failure",defaultMessage:"Unable to add now. Try again later."}),type:h.oc.WARNING},[Fo.a.LINK_RETAILER_SUCCEEDED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.link_retailer_success",defaultMessage:"Linked retailer successfully."}),type:h.oc.NORMAL},[Fo.a.UNLINK_RETAILER_SUCCEEDED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.unlink_retailer_success",defaultMessage:"Loyalty card has been sucessfully unlinked"}),type:h.oc.NORMAL},[Fo.a.UNLINK_RETAILER_FAILED]:{message:()=>we.a.createElement(Pr.c,{id:"notification.unlink_retailer_failure",defaultMessage:"Unable to unlink the card now. Try again later."}),type:h.oc.WARNING},[Fo.a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED]:e=>{const{updatedProperties:t}=e;return t.hasOwnProperty("forwardSetting")?{message:Oc,type:h.oc.NORMAL}:null},[Fo.a.ACCOUNT_DETAILS_CHANGE_FAILED]:{message:Ac,type:h.oc.WARNING}},kc=s(277),Gc=s.n(kc),wc=s(56);const xc=Object(Pr.h)({close:{id:"notification.close",defaultMessage:"Close notification"}});class Bc extends we.a.Component{render(){const{type:e,icon:t,sticky:s}=this.props,a=to()(wi.a,{type:e}),n=this.context.intl.formatMessage(xc.close),r=!t&&e===h.oc.PENDING;let o=t;if(!o&&e!==h.oc.ADVISORY)switch(e){case h.oc.FOWARDING_WARNING:case h.oc.WARNING:o=Ur.b.EXCLAMATION_ALT;break;case h.oc.PENDING:o=Ur.b.REFRESH;break;default:o=Ur.b.CHECKMARK}return we.a.createElement("div",{className:a.container},we.a.createElement("div",{className:a.innerContainer},o?we.a.createElement("div",{className:a.icon,role:"presentation"},r?we.a.createElement(wc.b,{size:Ur.d.S,inverted:!0}):we.a.createElement(Fr.b,{kind:o,size:Ur.d.S,colorState:Ur.a.INVERTED})):null,we.a.createElement("div",{className:a.content},this.props.children),s?null:we.a.createElement("div",{className:a.close},we.a.createElement(vr.a,{kind:Ur.b.CLOSE_MINI,size:Ur.d.XS,colorState:Ur.a.NORMAL,title:n,role:"presentation",onClick:this.props.onClose}))))}}Bc.contextTypes={intl:Pr.i.isRequired},Bc.defaultProps={sticky:!1,requireInteraction:!1,type:h.oc.NORMAL};var jc=Bc;function Vc(e,{i13nModel:t}){e.dispatch(Fo.a.NOTIFICATION_CLOSED,{i13nModel:t})}class Wc extends Ge.Component{constructor(e){super(e),this.onCloseWrapper=this.onCloseWrapper.bind(this),this.toastContainerNodes={}}onCloseWrapper(){const{toast:e,onClose:t}=this.props;e.message!==Dc&&e.message!==Rc&&e.message!==bc||this.context.executeAction(Vc,{i13nModel:{mKey:ao.e.UNSUB_ALL_DONE,sec:ao.g.UNSUB_PANE}}),e.message===xo&&this.context.executeAction(Uo.b),t()}componentDidMount(){const e=document.getElementById("app");Object.keys(h.nc).forEach(t=>{const s=h.nc[t],a=document.createElement("div");a.setAttribute("role",s),e.appendChild(a),this.toastContainerNodes[s]=a})}componentDidUpdate({toast:e,role:t}){const{toast:s,role:a}=this.props;if(!s)return Be.a.unmountComponentAtNode(this.toastContainerNodes[a]);e&&t!==a&&Be.a.unmountComponentAtNode(this.toastContainerNodes[t]),this.renderToast()}renderToast(){const{toast:e,role:t,onPause:s,onResume:a,multiTask:n,conversations:r}=this.props,{message:o,data:i,type:c=h.oc.WARNING,sticky:l=!1,modal:d=!1,icon:E,bottomAlert:_=!1}=e,u=this.context.getCss(Gc.a,{bottomAlert:_,multiTask:n});let p=we.a.createElement("div",{className:u.alert,onMouseOver:s,onMouseLeave:a,"data-test-id":"notifications"},we.a.createElement(jc,{icon:E,sticky:l,type:c,onClose:this.onCloseWrapper},we.a.createElement(o,babelHelpers.extends({conversations:r},i,{onClose:this.onCloseWrapper}))));d&&(p=we.a.createElement("div",{className:u.modal,"data-test-id":"modal",role:"presentation"},p)),Be.a.unstable_renderSubtreeIntoContainer(this,p,this.toastContainerNodes[t])}render(){return null}}Wc.contextTypes={getCss:Ve.a.func.isRequired,executeAction:Ve.a.func.isRequired};var qc=Object(Lr.b)(e=>{const{isEnabled:t}=Object(So.b)(e).getFeaturesSelectors();return{multiTask:t(h.id.MAIL_TABS),conversations:t(h.kb.CONVERSATIONS)}})(Wc),Kc=s(167);const zc=Object(Pr.h)({htmlTitle:{id:"html_title",defaultMessage:"\n            {numUnread, plural,\n                =0 {}\n                one {(# unread) - }\n                other {(# unread) - }\n            }{emailAddress} - {yahooBrand}\n        "},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural,\n            =1 {# New Message}\n            other {# New Messages}\n        }"}});class Yc extends we.a.Component{constructor(...e){var t;return t=super(...e),this.updateTitle=(()=>{const{defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}=this.props,a=this.getStandardTitle(e,t);if(s){const e=this.getNotificationTitle(s);this.flashTitle(e,a,4)}else document.title=a}),this.getStandardTitle=((e,t)=>{const{formatMessage:s}=this.context.intl,a=this.context.mailBrandNameString||s(Kc.a.mailBrandName);return s(zc.htmlTitle,{numUnread:e,emailAddress:t,yahooBrand:a})}),this.getNotificationTitle=(e=>{const{formatMessage:t}=this.context.intl;return t(zc.htmlTitleNewMessages,{newItemCount:e})}),this.flashTitle=((e,t,s)=>{if(0===s)return;const{documentTitleNotificationDuration:a,documentTitleStandardDuration:n}=this.props,r=s%2==0;document.title=r?e:t,this.flashTitleTimeout=setTimeout(()=>{this.flashTitle(e,t,s-1)},r?a:n)}),t}componentDidMount(){this.updateTitle()}componentWillUnmount(){clearTimeout(this.flashTitleTimeout)}componentDidUpdate(){clearTimeout(this.flashTitleTimeout),this.updateTitle()}render(){return null}}Yc.contextTypes={config:Ve.a.object,intl:Pr.i,mailBrandNameString:Ve.a.string};var Zc=Object(Lr.b)(e=>{const{getFeaturesSelectors:t}=Object(So.b)(e),s=t();return{documentTitleNotificationDuration:s.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:s.getSetting("documentTitleStandardDuration")}})(Yc);var Xc=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.updateFavicon=(()=>{const{newItemCount:e}=this.props;this.favicon.href=0===e?this.faviconDefaultImage:this.faviconAlertImage,document.head.removeChild(this.favicon),document.head.appendChild(this.favicon)}),this.generateFaviconAlert=((e,t)=>{const s=document.createElement("canvas"),a=new Image;s.height=s.width=32,a.crossOrigin="anonymous",a.onload=function(){const e=s.getContext("2d");e.beginPath(),e.drawImage(this,0,0),e.fillStyle="red",e.arc(28,6,4,0,2*Math.PI),e.fill(),t(s.toDataURL("image/x-icon"))},a.src=e}),t}componentDidMount(){this.favicon=document.getElementById("favicon"),this.faviconDefaultImage=this.favicon.href,this.faviconAlertImage=this.favicon.href,this.generateFaviconAlert(this.favicon.href,e=>{this.faviconAlertImage=e})}shouldComponentUpdate(e){return!(0===e.newItemCount&&this.favicon.href===this.faviconDefaultImage||e.newItemCount>0&&this.favicon.href===this.faviconAlertImage)}componentDidUpdate(){this.updateFavicon()}render(){return null}};var Qc=Object(Lr.b)(e=>{const{isAppVisible:t,getActionTimeStamp:s,getCurrentListId:a,getFoldersSelectors:n,getDefaultFolderIdForSelectedAccount:r,getEmailOfSelectedAccount:o,getApplicationLastVisibleTimeStamp:i,getMessageListItemsSinceTimestamp:c,doesListExist:l}=Object(So.b)(e),{getFolderUnreadCount:d}=n(),E=d(r()),_=o(),u=a(),p=t()?s():i();return{defaultFolderUnreadCount:E,activeEmailAddress:_,newItemCount:(l(u)?c(u,p):[]).length}})(class extends we.a.Component{shouldComponentUpdate({defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}){const{defaultFolderUnreadCount:a,activeEmailAddress:n,newItemCount:r}=this.props;return e!==a||t!==n||s!==r}render(){return we.a.createElement("div",null,we.a.createElement(Zc,this.props),we.a.createElement(Xc,this.props))}});var $c=s(210),Jc=s(137),el=s(518),tl=s.n(el);const sl=["meta+shift+/","ctrl+shift+/","meta+shift+,","ctrl+shift+,"];class al extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!1},this.handleShortcuts=(e=>{e.preventDefault(),e.stopPropagation(),!e.shiftKey||!e.ctrlKey&&!e.metaKey||"Comma"!==e.code&&"Slash"!==e.code||this.show(e)}),this.show=(e=>{e.preventDefault(),e.stopPropagation(),this.state.shown||this.setState({shown:!0})}),this.handleDismiss=(()=>{this.setState({shown:!1})}),this.handleKeyDown=(e=>{"Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),e.stopPropagation(),this.handleDismiss())}),t}componentDidMount(){this.context.bindShortcut(sl,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(sl)}render(){const{shown:e}=this.state,t=to()(tl.a),{spaceId:s,positions:a=[]}=this.props.darlaAdCallResult,n=a.map(e=>we.a.createElement("div",{key:e.position,className:t.positionRow},we.a.createElement("span",{className:t.positionCol},"Position:",e.position),we.a.createElement("span",{className:t.positionCol},"Booking Id:",e.bookId)));return e?we.a.createElement(Jc.a,{onClose:this.handleDismiss,onKeyDown:this.handleKeyDown},we.a.createElement("div",{className:t.container},we.a.createElement("div",{className:t.header},"Ad Information"),we.a.createElement("div",{className:t.spaceid},"Space Id:",s),n,this.props.darlaErrorMessage?we.a.createElement("div",{className:t.spaceid},"Err:",this.props.darlaErrorMessage):null,we.a.createElement(Zr.a,{onClick:this.handleDismiss,className:t.button},"OK"))):null}}al.contextTypes={bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var nl=Object(Lr.b)(e=>{const{getAdsSelectors:t}=Object(So.b)(e),s=t().getDarlaAdData();return{darlaAdCallResult:s.ads,darlaErrorMessage:s.errorMessage}})(al),rl=s(60),ol=s(113),il=s(122),cl=s(106),ll=s(32),dl=s(88),El=s(524),_l=s.n(El);const ul="https://login.yahoo.com/config/login?logout=1&.direct=2&.done="+encodeURIComponent("https://www.yahoo.com"),pl=Object(Pr.h)({logout:{id:"logout",defaultMessage:"Sign out"}});function ml(e,{intl:t}){const s=to()(_l.a),{primaryAccountAddress:a,onLogout:n,onAccountMenuShow:r}=e;return we.a.createElement(il.a,{className:s.account,onMenuShow:r},we.a.createElement(cl.a,{hasText:!0,tabIndex:Wr.TabIndices.APP_HEADER_ACCOUNT_MENU,"data-test-id":"account-menu",className:s.menuButton},we.a.createElement("span",{className:s.button},we.a.createElement("span",{className:s.accountText,"data-test-id":"account-first-name"},e.name.first),we.a.createElement(Fr.b,{kind:Ur.b.CHEVRON_UP,size:Ur.d.XS,rotate:Ur.c.D180,colorState:Ur.a.INVERTED}))),we.a.createElement(ol.a,null,we.a.createElement(ll.a,{kind:dl.a.WRAP_CONTENT,key:a,name:a,ariaLabel:a},we.a.createElement("div",{className:s.menuContainer},we.a.createElement("span",{className:s.menuName,"data-test-id":"account-full-name"},e.name.first+" "+e.name.last),we.a.createElement("span",{className:s.menuAddress,"data-test-id":"account-address"},a))),we.a.createElement(ll.a,{name:"logout",key:"logout",ariaLabel:t.formatMessage(pl.logout),kind:dl.a.WRAP_CONTENT},we.a.createElement("a",{onClick:n,href:ul,className:s.logoutLink,"data-test-id":"logout-link"},t.formatMessage(pl.logout)))))}ml.contextTypes={intl:Pr.i};var hl=s(73),Sl=s(80),gl=s(86),Il=s(351),Cl=s.n(Il);const Tl=Object(Pr.h)({mini_apps:{id:"appheader.mini_apps",defaultMessage:"Apps"},mail_icon:{id:"appheader.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"appheader.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"appheader.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"appheader.notepad_icon",defaultMessage:"Notepad"},messenger_icon:{id:"appheader.messenger_icon_branding",defaultMessage:"Messenger"},news_feed_icon:{id:"appheader.news_feed_icon",defaultMessage:"News Feed"}});class Al extends we.a.Component{constructor(...e){var t;return t=super(...e),this._getAltText=((e,t)=>""===t?e:t+" | "+e),this.onAccountMenuShow=(()=>{this.context.executeAction(_o.a,{i13nModel:{mKey:ao.e.ACCOUNT_SETTINGS,sec:ao.g.HEADER_SETTINGS}})}),this.onLogout=(e=>{this.context.executeAction(_o.c,{i13nModel:{mKey:ao.e.SIGNOUT,sec:ao.g.HEADER_SETTINGS,interactionType:Object(vs.i)(e)}})}),this.onLogoClick=(e=>{this.context.executeAction(_o.b,{i13nModel:{mKey:ao.e.YMAIL_LOGO,sec:ao.g.HEADER,interactionType:Object(vs.i)(e)}}),"function"==typeof this.props.onNavClick&&this.props.onNavClick(e)}),this.handleAppLinkItemClick=((e,t,s)=>{this.context.executeAction(_o.b,{i13nModel:{mKey:t,sec:ao.g.HEADER_NAV,interactionType:Object(vs.i)(e)}}),"function"==typeof s&&s(e)}),this._renderAppLinkItem=(({href:e,kind:t,text:s,callback:a,isActive:n,mKey:r},o,i)=>{const{formatMessage:c}=this.context.intl;let l;return l=n?o?Ur.a.NORMAL:Ur.a.INVERTED:o?Ur.a.DISABLED:Ur.a.INVERTED_DIM,we.a.createElement("li",{key:e,className:o?null:i.iconWrapper},we.a.createElement("a",{onClick:e=>this.handleAppLinkItemClick(e,r,a),href:e,className:o?i.mailAppsPopoverLink:i.iconNavLink,"aria-label":c(s),title:c(s),target:t,"data-iskeynav":!0,tabIndex:-1},we.a.createElement(Fr.b,{colorState:l,kind:t,size:Ur.d.XS}),o?we.a.createElement("span",{className:i.mailAppsPopoverItemLabel},n?we.a.createElement("strong",null,c(s)):c(s)):null))}),this._renderAppLinkItems=(e=>{const t=to()(Cl.a,{tabsVisible:this.props.tabsVisible});return[{href:this.props.defaultRouteURL,kind:Ur.b.INBOX,text:Tl.mail_icon,callback:this.props.onNavClick,isActive:!0,mKey:ao.e.MAIL_ICON},{href:"https://mail.yahoo.com/neo/launch?action=contacts",kind:Ur.b.CONTACTS,text:Tl.contacts_icon,mKey:ao.e.CONTACTS_ICON},{href:this.props.calendarURL,kind:Ur.b.CALENDAR,text:Tl.calendar_icon,mKey:ao.e.CALENDAR_ICON},{href:"https://calendar.yahoo.com/?view=notepad",kind:Ur.b.NOTEPAD,text:Tl.notepad_icon,mKey:ao.e.NOTEPAD_ICON},{href:"https://messenger.yahoo.com/",kind:Ur.b.MESSENGER,text:Tl.messenger_icon,mKey:ao.e.MESSENGER_ICON}].map(s=>this._renderAppLinkItem(s,e,t))}),t}shouldComponentUpdate(e){return this.props.primaryAccountAddress!==e.primaryAccountAddress||this.props.name.first!==e.name.first||this.props.name.last!==e.name.last||this.props.partnerBrand!==e.partnerBrand||this.props.defaultRouteURL!==e.defaultRouteURL||this.props.tabsVisible!==e.tabsVisible||this.props.onNavClick!==e.onNavClick}render(){const{primaryAccountAddress:e,name:t,tabsVisible:s}=this.props,{formatMessage:a}=this.context.intl,n=this.context.mailBrandNameString||a(Kc.a.mailBrandName),r=to()(Cl.a,{tabsVisible:s});return we.a.createElement("header",{className:r.header},we.a.createElement("div",{className:r.brandSideContainer},we.a.createElement("div",{className:r.logo},we.a.createElement("a",{href:this.props.defaultRouteURL,onClick:this.onLogoClick,"aria-label":this._getAltText(n,this.props.partnerBrand),tabIndex:-1},we.a.createElement("img",{className:r.logoImage,alt:this._getAltText(n,this.props.partnerBrand),src:Object(rl.a)("/img/logo_yahoo.png")}))),we.a.createElement("div",{className:r.mailAppsCompact},we.a.createElement(Kr.a,null,we.a.createElement(zr.a,null,we.a.createElement(vr.a,{kind:Ur.b.APP_HIDDEN,title:a(Tl.mini_apps),colorState:Ur.a.INVERTED,tabIndex:Wr.TabIndices.APP_HEADER_MAIL_APPS})),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,permittedArrowDirections:[Yr.g.UP],align:Yr.a.START,offset:4*Wr.GRID_UNIT,zAltitude:Wr.ZIndices.POPOVER.HIGH,"data-test-id":"mail-apps-popover"},we.a.createElement("div",{className:r.popoverListWrapper},we.a.createElement(Qr.a,{kind:gl.a.MENU,focusOnMount:!0},this._renderAppLinkItems(!0)))))),we.a.createElement(Sl.a,{axis:Sl.b.HORIZONTAL,"data-test-id":"app-header",groupTabIndex:Wr.TabIndices.APP_HEADER_MAIL_APPS},we.a.createElement("ul",{className:r.mailApps},this._renderAppLinkItems(!1)))),we.a.createElement("div",{className:r.searchCenterContainer},we.a.createElement("div",{className:r.searchContainer},this.props.searchComponent)),we.a.createElement("div",{className:r.accountToolsSideContainer},we.a.createElement("div",{className:r.avatar},we.a.createElement(hl.c,{contact:{email:e},size:hl.b.M}),we.a.createElement(ml,{primaryAccountAddress:e,name:t,onAccountMenuShow:this.onAccountMenuShow,onLogout:this.onLogout})),we.a.createElement("div",{className:r.settingsLink},this.props.settings?this.props.settingsMenuComponent:null)))}}Al.contextTypes={config:Ve.a.object,executeAction:Ve.a.func,intl:Pr.i.isRequired,mailBrandNameString:Ve.a.string};var Ol=Al,bl=s(431),Rl=s.n(bl),Dl=s(166);const fl=Object(Pr.h)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}});class Nl extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleGearIconClick=(()=>{this.props.showSettingsCue&&this.props.featureCueClosed({name:h.kb.SETTINGS_CUE}),this.props.showSettings({i13nModel:{mKey:ao.e.SETTINGS_GEAR_ICON,sec:ao.g.HEADER_NAV}})}),this.handleSettingsLabelClick=(()=>{this.props.showSettings({i13nModel:{mKey:ao.e.SETTINGS_LABEL,sec:ao.g.HEADER_NAV}})}),this.cueTryNowHandler=(()=>{this._container.hide(Yr.h.MOUNT),this._container.show(Yr.h.CLICK)}),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.renderCue=(()=>this.props.showSettingsCue?we.a.createElement(qr.a,{triggerOn:Yr.h.MOUNT,onClose:this.cueClosed,zAltitude:Wr.ZIndices.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[Yr.g.END]},we.a.createElement(lo.a,{import:"../../atoms/settings_personalize_cue",cueName:h.kb.SETTINGS_CUE,onTryNow:this.cueTryNowHandler,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,887))},_moduleResolver:function(){return 887}})):null),this.getFujiIcon=(()=>{const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode()!==Is.f.LIGHT;return we.a.createElement(vr.a,{onClick:this.handleGearIconClick,"data-iskeynav":!0,paddingLess:!0,size:Ur.d.XS,kind:Ur.b.SETTINGS,title:e(fl.settingsMenu),"aria-label":e(fl.settingsMenu),colorState:Ur.a.INHERITED,isOnDarkBackground:t})}),t}componentDidMount(){window.showSettingsPopover&&(this._container.show(Yr.h.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(Yr.h.CLICK),window.autoOpenSettingsPopover=!0)}componentWillReceiveProps(e){!this.props.autoOpenSettingsPopover&&e.autoOpenSettingsPopover&&(this._container.show(Yr.h.CLICK),this.props.toggleAutoOpenSettingsPopover({status:!1}))}render(){const{verticalLayout:e,previewPaneSetting:t,hasContactCard:a,windowDimensions:n,commsPropertiesSection:r,isRTL:o}=this.props,i=e?Yr.a.START:Yr.a.END,c=e?Yr.g.END:Yr.g.UP,l=(n?n.contentAndRightRailHeight:0)-(e?Dl.g:r?r.clientHeight:Dl.a)-Dl.f,d=this.context.getCss(Rl.a,{verticalLayout:e,verticalPreviewPane:t===h.Bc.RIGHT,hasContactCard:a});return we.a.createElement("div",{className:d.settingsLabelIconContainer},we.a.createElement(Kr.a,{ref:e=>this._container=e},we.a.createElement(zr.a,null,we.a.createElement("div",{className:d.settingsGearIcon},e?null:we.a.createElement("span",{className:d.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},we.a.createElement(Pr.c,{id:"settings_link_label",defaultMessage:"Settings"})),this.getFujiIcon())),we.a.createElement(qr.a,{offset:8,align:i,arrowSize:Yr.b.M,triggerOn:Yr.h.CLICK,overflowScroll:!1,permittedArrowDirections:[c],bg:Yr.d.LIGHTGRAY,isRTL:o},we.a.createElement(lo.a,{import:"./settings_menu",onOptOutFeedback:this.props.onOptOutFeedback,availableHeightBelowCommsProps:l,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,947))},_moduleResolver:function(){return 947}},we.a.createElement(lo.b,{loading:!0},we.a.createElement("div",{className:d.menuContainerLazy},we.a.createElement(wc.b,null))))),this.renderCue()))}}Nl.contextTypes={intl:Pr.i.isRequired,executeAction:Ve.a.func,getCss:Ve.a.func,getThemeMode:Ve.a.func};var Ml=Object(Lr.b)(e=>{const{getEnvironmentSelectors:t}=Object(So.b)(e);return{isRTL:"rtl"===t().getPageDirection()}},e=>({featureCueClosed:t=>e(Object(Eo.a)(t)),showSettings:t=>e(Object(Ri.x)(t)),toggleAutoOpenSettingsPopover:t=>e(Object(Ri.y)(t))}))(Nl),Ll=s(99),yl=s.n(Ll),Pl=s(228),vl=s.n(Pl),Fl=s(171),Ul=s.n(Fl),Hl=s(177),kl=s(377),Gl=s(376),wl=s(526),xl=s.n(wl),Bl=s(91);const jl=to()(xl.a),Vl=Object(Pr.h)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}});class Wl extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleOnClick=(e=>{const t={mKey:ao.e.ADVANCED_SEARCH,interactionType:Object(vs.i)(e)};this.props.onClick({i13nModel:t})}),t}render(){const{formatMessage:e}=this.context.intl,{chevronDown:t,tabIndex:s}=this.props;return we.a.createElement("div",{className:jl.buttonContainer,"data-test-id":"advanced-search-button"},we.a.createElement(Bl.a,{tabIndex:s,kind:Ur.b.CHEVRON_UP,colorStates:{normal:Ur.a.DISABLED,hovered:Ur.a.SELECTED},size:Ur.d.S,rotate:t?Ur.c.D180:null,title:e(Vl.chevron_title),"aria-label":e(Vl.chevron_title),onClick:this.handleOnClick,paddingLess:!0}))}}Wl.contextTypes={intl:Pr.i.isRequired},Wl.defaultProps={chevronDown:!0};var ql=Wl,Kl=s(77),zl=s(139),Yl=s(153),Zl=s(186),Xl=s(129);const Ql=to()(Ul.a),$l=2e3,Jl=Object(Pr.h)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},search_placeholder:{id:"search.search_box_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_coupons_placeholder:{id:"search.search_coupons_placeholder",defaultMessage:"Search deals in your inbox"},search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural,\n                            =0 {No suggestions are available.}\n                            one {# suggestion is available.}\n                            other {# suggestions are available. Use up and down arrows to select.}\n                        }"}}),ed=ao.g.HEADER_SEARCH,td={[h.Bd.PERSON]:"P",[h.Bd.KEYWORD]:"K",[h.Bd.WEB_SEARCH]:"W",[h.Bd.HEADER]:"H",[h.Bd.RECENT]:"R"},sd=Object(T.c)(["CONTACT","FOLDER","COUPON_INDICATOR"]);class ad extends we.a.Component{constructor(e){super(e),nd.call(this);const{keyword:t="",name:s="",emailAddresses:a=[],accountIds:n=[],folders:r=[]}=e.searchQuery,o=n&&1===n.length&&n[0]||"",[i=""]=r;this.state={inputValue:t,pillContact:{name:s,emailAddresses:a,type:sd.CONTACT},pillCoupon:e.couponsSmartViewSearch,activeSuggestion:null,showInputHint:!1,showAdvancedSearchPane:!1,searchBoxDimensions:null,pillFolder:{accountId:o,folderId:i,type:sd.FOLDER}}}componentDidMount(){const{searchField:e}=this.refs;if(this.props.setRef&&this.props.setRef(this.refs.input),!e)return;const t=Be.a.findDOMNode(e).getBoundingClientRect();this.setState({searchBoxDimensions:t})}componentWillReceiveProps({searchQuery:e,isWindowResizingDone:t,couponsSmartViewSearch:s}){const{searchQuery:a}=this.props,n=Object(Io.d)(a),r=Object(Io.d)(e),o=e.accountIds,i=o&&1===o.length;if(this.props.couponsSmartViewSearch!==s&&this.setState({pillCoupon:s}),n!==r&&this.setState({inputValue:e.keyword,pillContact:{name:e.name,emailAddresses:e.emailAddresses,type:sd.CONTACT},pillFolder:{accountId:i&&o[0]||"",folderId:e.folders&&e.folders[0]||"",type:sd.FOLDER}}),t){const e=Be.a.findDOMNode(this.refs.searchField).getBoundingClientRect();this.setState({showAdvancedSearchPane:!1,searchBoxDimensions:e})}}autoFillSearchbox(e,t,s){const a=e.findIndex(e=>e.type!==h.Bd.HEADER);if(-1!==a){const{name:n}=this.suggestionValue(e[a]);s(a),"Tab"===t&&e[a].type===h.Bd.PERSON||this.setState({inputValue:n||this.state.inputValue,activeSuggestion:null})}}render(){const{couponsSmartViewSearch:e,hasCoupons:t}=this.props,{formatMessage:a}=this.context.intl,{inputValue:n,pillCoupon:r}=this.state,o=this.hasPillContact()?Jl.search_keyword_placeholder:Jl.search_placeholder,i=to()(vl.a,{hasPill:this.hasPillContact()||this.hasPillFolder()||r,hasContactPill:this.hasPillContact()}),c=this.context.intl.formatMessage(Jl.suggestions_available,{suggestionsNum:this.getSuggestions().length}),l=e&&r&&!t;return we.a.createElement("div",{className:i.container,"data-test-id":"search-box"},we.a.createElement("div",{className:i.searchInputContainer,ref:"searchField"},we.a.createElement(Yl.Pills,{ref:"input","data-test-id":"search-box-input",multiple:!1,initialActiveIndex:-1,className:yl()(Ql.pills,i.pills),containerClassName:yl()(Ql.pillsContainer,i.pillsContainer),containerChildClassName:Ql.pillsContainerChild,pillClassName:Ql.pillOuter,ariaLabel:a(Jl.search_aria_label),placeholder:a(r?Jl.search_coupons_placeholder:o),typeaheadInputClassName:i.searchInput,typeaheadInputContainerClassName:i.typeaheadInputContainer,typeaheadInputHintClassName:i.searchHint,typeaheadDropDownClassName:i.suggestionDropdown,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onInputKeyDown:this.handleKeydown,onInputChange:this.handleSearchChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,inputTabIndex:Wr.TabIndices.APP_HEADER_SEARCHBOX,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:c,typeaheadAriaStatusClassName:i.typeaheadAriaStatus,inputMaxLength:$l},this.hasPillContact()?null:this.getSuggestions().map(this.renderSuggestion),n&&this.renderWebSearchSuggestion()),l?null:this.renderAdvancedSearch()),this.props.showSearchBadge?we.a.createElement("div",{onClick:this.handleBasicSearchSubmit,className:i.searchButton,"data-test-id":"hotspots-badge"},we.a.createElement(lo.a,{import:"../feature_cue/atoms/badge",size:Ur.d.S,kind:Ur.b.SEARCH,bigBadge:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,888))},_moduleResolver:function(){return 888}},we.a.createElement(lo.b,{loading:!0},this.getFujiIcon(i,a)))):this.getFujiIcon(i,a))}}ad.contextTypes={config:Ve.a.object,intl:Pr.i.isRequired},ad.defaultProps={importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:()=>{},showSearchBadge:!1,dragDropPill:!0};var nd=function(){this.handleSearchFocus=(e=>{const{hasCoupons:t,couponsSmartViewSearch:s}=this.props,{showAdvancedSearchPane:a,pillCoupon:n}=this.state;this.props.onFocus&&this.props.onFocus({i13nModel:{mKey:ao.e.SEARCH_BAR,sec:ed,interactionType:Object(vs.i)(e)}}),s&&t&&!a&&n&&this.setState({showAdvancedSearchPane:!0})}),this.handleBasicSearchSubmit=(e=>{this.handleSearchSubmit({i13nModel:{mKey:ao.e.SEARCH_BUTTON,interactionType:Object(vs.i)(e)}})}),this.handleAdvancedSearchSubmit=(e=>{this.handleSearchSubmit({i13nModel:{mKey:ao.e.ADVANCED_SEARCH_BUTTON,interactionType:Object(vs.i)(e)}})}),this.handleSearchSubmit=(e=>{const{pillContact:t,pillFolder:s,inputValue:a}=this.state,n=babelHelpers.extends({emailAddresses:t.emailAddresses,name:t.name,keyword:a},e.query);s.accountId&&Object.assign(n,{accountIds:[s.accountId]}),s.folderId&&Object.assign(n,{folders:[s.folderId]}),this.setState({showInputHint:!1,showAdvancedSearchPane:!1},()=>{this.props.onSearchSubmit({isCouponSearch:this.state.pillCoupon,query:n,i13nModel:Object.assign({sec:ed,mKeyGroup:ao.f.search},e.i13nModel)})}),document.activeElement&&document.activeElement.blur()}),this.handleSearchChange=((e,{suggestionsKeyword:t="",folders:s,accountIds:a}={})=>{const{onSearchChange:n,couponsSmartViewSearch:r}=this.props,{showAdvancedSearchPane:o,pillCoupon:i}=this.state,c={inputValue:e,showInputHint:!0,showAdvancedSearchPane:(!r||!i)&&o};s&&Object.assign(c,{pillFolder:{accountId:"",folderId:s[0]||"",type:sd.FOLDER}}),a&&Object.assign(c,{pillFolder:{accountId:a[0]||"",folderId:"",type:sd.FOLDER}}),this.setState(c,()=>{n(e,{suggestionsKeyword:t})})}),this.handleWebSearch=(()=>{this.props.onWebSearchSubmit(this.state.inputValue)}),this.handleSearchSuggestionSelect=(e=>{const t=this.getSuggestions(),{pillFolder:s,inputValue:a}=this.state;if(e===h.Bd.WEB_SEARCH)return void this.handleWebSearch();const n=t[e-1],r=t.map(e=>td[e.type]),o=t.map(e=>{switch(e.type){case h.Bd.PERSON:{const{name:t}=this.suggestionValue(e);return t}case h.Bd.KEYWORD:case h.Bd.RECENT:case h.Bd.HEADER:return e.name;default:Object(m.a)(!1,"All suggestion type must be handled here.")}});let i;const c=""===a;switch(n.type){case h.Bd.PERSON:i=c?ao.e.SEARCH_EMPTY_PEOPLE_SUGGEST:ao.e.SEARCH_PEOPLE_SUGGEST;break;case h.Bd.KEYWORD:i=c?ao.e.SEARCH_EMPTY_KWRD_SUGGEST:ao.e.SEARCH_KWRD_SUGGEST;break;default:i=c?ao.e.SEARCH_EMPTY_RECENT_SUGGEST:ao.e.SEARCH_RECENT_SUGGEST}const l={mKey:i,sec:ed,mKeyGroup:ao.f.search,actionData:{suggPos:e,prefix:a,suggType:r,suggVal:o}};let d={};switch(s.accountId&&(d=babelHelpers.extends({},d,{accountIds:[s.accountId]})),s.folderId&&(d=babelHelpers.extends({},d,{folders:[s.folderId]})),n.type){case h.Bd.PERSON:{const{emailAddresses:e,name:t,contactId:s}=this.suggestionValue(n);d=babelHelpers.extends({},d,{emailAddresses:e,name:t,contactIds:[s]}),this.props.onSearchSubmit({query:d,isCouponSearch:this.state.pillCoupon,i13nModel:l}),this.setState({pillContact:{name:t,emailAddresses:e,type:sd.CONTACT},activeSuggestion:null,inputValue:""});break}case h.Bd.RECENT:case h.Bd.KEYWORD:{const e=n.name;d=babelHelpers.extends({},d,{keyword:e}),this.props.onSearchSubmit({query:d,isCouponSearch:this.state.pillCoupon,i13nModel:l}),this.setState({activeSuggestion:null,inputValue:e});break}case h.Bd.HEADER:break;default:Object(m.a)(!1,"All suggestion type must be handled here.")}}),this.deleteRecent=(e=>{e&&e.name&&this.props.deleteRecentSearch(e.name)}),this.handleAdvancedSearchKeyDown=(e=>{switch(Object(Xl.getEventKey)(e)){case"Escape":this.setState({showAdvancedSearchPane:!1});break;case"Enter":(this.state.inputValue||this.state.pillFolder.accountId||this.state.pillFolder.folderId)&&this.handleAdvancedSearchSubmit(e);break;case"Tab":e.preventDefault()}}),this.isCursorEndOfInput=(e=>{const t=e.target.selectionEnd,{inputValue:s}=this.state;return t===s.length}),this.handleKeydown=(e=>{let t;const s=this.getSuggestions(),a=Object(Xl.getEventKey)(e);switch(a){case"Enter":this.handleBasicSearchSubmit(e);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":this.isCursorEndOfInput(e)&&s&&this.autoFillSearchbox(s,a,()=>{});break;case"Tab":!this.hasPillContact()&&s&&this.state.inputValue&&(this.autoFillSearchbox(s,a,e=>this.handleSearchSuggestionSelect(e+1)),e.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":{const e=this.getPills();if(t={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&e.length){switch(e[e.length-1].type){case sd.COUPON_INDICATOR:t.pillCoupon=!1;break;case sd.FOLDER:t.pillFolder={};break;case sd.CONTACT:t.pillContact={};break;default:Object(m.a)(!1,"all pill types should be handled here")}}this.setState(t);break}default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}}),this.renderSuggestionHeader=((e,t)=>{const s=to()(vl.a,{firstEntry:e.firstEntry});let a;switch(e.headerType){case h.zd.KEYWORD:a=we.a.createElement(Pr.c,{id:"search.header_search_suggestion",defaultMessage:"Search suggestions"});break;case h.zd.RECENT:a=we.a.createElement(Pr.c,{id:"search.header_recent_searches",defaultMessage:"Recent searches"});break;case h.zd.PERSON:a=we.a.createElement(Pr.c,{id:"search.header_people_suggestions",defaultMessage:"Top contacts"})}return we.a.createElement(Yl.Option,{key:`header-${e.headerType}`,value:t+1,test:1,disabled:!0},we.a.createElement("div",{className:s.headerLabel},a))}),this.renderSuggestion=((e,t)=>{const{inputValue:s}=this.state;return e.type&&e.type===h.Bd.HEADER?this.renderSuggestionHeader(e,t):we.a.createElement(Yl.Option,{key:t,value:t+1},we.a.createElement(Gl.a,{suggestion:e,inputValue:s,deleteRecent:this.deleteRecent}))}),this.getSuggestions=(()=>{const{importantContacts:e,recentSearches:t,showRecentSuggestions:s,suggestionsQuery:a,showEmptySearchSuggestions:n,searchSuggestionsV2Enabled:r}=this.props,{inputValue:o}=this.state,i=this.props.getSearchSuggestions(a),c=Array.isArray(i)?t:[];return(r?Hl.d:Hl.c)(i,e,c,o,s,n)}),this.renderContactPill=((e,t,s,a)=>{const n=e.emailAddresses&&e.emailAddresses[0],r=e.name||n;if(n)return we.a.createElement(Zl.a,{value:r,title:n?`${r} <${n}>`:r,useEllipsis:!0,maxWidth:Wr.PillMaxWidths.L,contactEmail:n,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearContactPill,dragDropPill:this.props.dragDropPill})}),this.renderCouponIndicator=(()=>{const e=to()(vl.a),{formatMessage:t}=this.context.intl;return we.a.createElement("div",{className:e.couponIndicator},we.a.createElement(Fr.b,{kind:Ur.b.SCISSORS,size:Ur.d.XS,colorState:Ur.a.SELECTED}),t(To.a.smart_view_COUPONS),we.a.createElement(Bl.a,{kind:Ur.b.CLOSE_MINI,size:Ur.d.XXS,colorStates:{normal:Ur.a.DISABLED,hovered:Ur.a.SELECTED},onClick:()=>this.setState({pillCoupon:!1}),style:{padding:0}}))}),this.renderPill=((e,t,s,a)=>e.type===sd.COUPON_INDICATOR?this.renderCouponIndicator():e.type===sd.FOLDER?this.renderFolderPill(e,t,s,a):e.type===sd.CONTACT?this.renderContactPill(e,t,s,a):null),this.clearContactPill=(()=>{this.setState({pillContact:{}})}),this.clearFolderPill=(()=>{this.setState({pillFolder:{}})}),this.hasPillContact=(()=>{const{name:e,emailAddresses:t=[]}=this.state.pillContact;return!(!e&&!t[0])}),this.hasPillFolder=(()=>{const{accountList:e}=this.props,{pillFolder:t}=this.state,{accountId:s,folderId:a}=t;return!!(s&&1!==e.length||a)}),this.getAccountDescription=(e=>{const{formatMessage:t}=this.context.intl,{description:s}=e,a=Object(Ec.g)(e);if(s)return s;switch(a){case h.fb.YAHOO:case h.fb.YAHOO_SB:return t(go.a.yahoo_account_description);case h.fb.GOOGLE:case h.fb.GOOGLE_APP:return t(go.a.gmail_account_description);case h.fb.OUTLOOK:return t(go.a.outlook_account_description);case h.fb.AOL:return t(go.a.aol_account_description);default:return t(go.a.unknown_account_description)}}),this.normalizeFolderPill=(()=>{const{pillFolder:e}=this.state,{accountId:t,folderId:s}=e,{accountList:a}=this.props,{formatMessage:n}=this.context.intl;let r,o;if(t&&(o=a.find(e=>e.id===t),r=this.getAccountDescription(o)),s){const e=this.props.getFolderName(s),t=this.props.getAccountIdByFolderId(s),i=this.props.getFolderDisplayTypeByFolderId(s),c=Object(gt.m)(n,i)||e;o=a.find(e=>e.id===t),r=1===a.length?c:this.getAccountDescription(o)+"/"+c}return{label:r,email:o.email,type:sd.FOLDER}}),this.renderFolderPill=((e,t,s,a)=>{const{label:n,email:r}=e;return we.a.createElement(Zl.a,{value:n,title:n,useEllipsis:!0,maxWidth:Wr.PillMaxWidths.L,contactEmail:r,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearFolderPill,isFolderPill:!0,pillFujiKind:Ur.b.FOLDER,pillFujiColorState:Ur.a.SECOND_LEVEL_GRAY,pillFujiSize:Ur.d.XXS,dragDropPill:this.props.dragDropPill})}),this.getPills=(()=>{const e=[];return this.state.pillCoupon&&e.push({type:sd.COUPON_INDICATOR}),this.hasPillFolder()&&e.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&e.push(this.state.pillContact),e}),this.renderWebSearchSuggestion=(()=>{const e=h.Bd.WEB_SEARCH,{inputValue:t}=this.state,s=this.getSuggestions(),a=to()(vl.a,{showPeopleSuggestion:s.length>0&&!this.hasPillContact()});return we.a.createElement(Yl.Option,{value:e},we.a.createElement("div",{className:a.suggestionWebOptionBorder}),we.a.createElement("div",{className:a.suggestionWebOption},we.a.createElement("span",{className:a.suggestionWebIcon},we.a.createElement(Fr.b,{kind:Ur.b.SEARCH_WEB,size:Ur.d.S,colorState:Ur.a.NORMAL_LESS_DIM})),we.a.createElement("span",{className:a.suggestionWebLabel},we.a.createElement(Pr.c,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:we.a.createElement("span",{className:a.suggestionWebQuery},we.a.createElement("b",null,we.a.createElement("q",null,t)))}}))))}),this.suggestionValue=(e=>{const{name:t,emailIds:s,serviceId:a}=e;return{name:t,emailAddresses:s,contactId:a}}),this.getInputHint=(()=>{const{inputValue:e,showInputHint:t,activeSuggestion:s,showAdvancedSearchPane:a}=this.state,n=this.getSuggestions().filter(e=>e.type!==h.Bd.HEADER);if(!n||!n[0])return"";const{name:r,emailAddresses:o=[]}=this.suggestionValue(n[0]),i=o[0],c=new RegExp("^"+Object(zl.a)(e),"i");return!e||!t||s||this.hasPillContact()||a?"":r&&c.test(r)?e+r.slice(e.length):i&&c.test(i)?e+i.slice(e.length):""}),this.updatedSelectedSuggestion=(e=>{const t=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:t[e]})}),this.getTypeaheadDisplayText=(()=>{const{activeSuggestion:e,inputValue:t}=this.state;return e&&this.suggestionValue(e).name||t}),this.handleAdvancedSearchButtonClick=(({i13nModel:e})=>{const{showAdvancedSearchPane:t}=this.state;this.setState({showAdvancedSearchPane:!t}),this.props.onSearchBarFocus({i13nModel:e})}),this.handleAdvancedSearchPaneClick=(({overlayClicked:e})=>{e||this.setState({showAdvancedSearchPane:!1})}),this.renderAdvancedSearch=(()=>{const{getSearchSuggestions:e,suggestionsQuery:t,accountList:a,activeAccountId:n}=this.props,r=[];let o=Object(Hl.a)(e(t));o=Object(Hl.b)(o);const{showAdvancedSearchPane:i,searchBoxDimensions:c,inputValue:l,pillFolder:d,pillCoupon:E}=this.state,{accountId:_,folderId:u}=d;if(r.push(we.a.createElement(ql,{tabIndex:Wr.TabIndices.APP_HEADER_SEARCHBOX,key:"advanced-search-button",onClick:this.handleAdvancedSearchButtonClick,chevronDown:!i})),i){const e={inputValue:l,accountIds:_?[_]:[],folders:u?[u]:[]},t={width:c.width};r.push(we.a.createElement(kl.a,{key:"advanced-search-pane",alignTo:this.refs.searchField,alignmentPoints:[Kl.a.TopLeft,Kl.a.BottomLeft],useShim:!0,onClick:this.handleAdvancedSearchPaneClick,onKeyDown:this.handleAdvancedSearchKeyDown},we.a.createElement(lo.a,E?{import:"../coupons_search_pane/index.jsx",containerStyle:t,onSearchSubmit:this.handleSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,889))},_moduleResolver:function(){return 889}}:{import:"../advanced_search_pane/index.js",style:t,accountList:a,activeAccountId:n,searchInput:e,suggestions:o,onSearchChange:this.handleSearchChange,onSearchSubmit:this.handleAdvancedSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,927))},_moduleResolver:function(){return 927}})))}return r}),this.getFujiIcon=((e,t)=>we.a.createElement(vr.a,{className:e.searchButton,"data-test-id":"search-basic-btn",tabIndex:Wr.TabIndices.APP_HEADER_SEARCHBOX,title:t(Jl.search_button_title),"aria-label":t(Jl.search_button_title),kind:Ur.b.SEARCH,size:Ur.d.S,onClick:this.handleBasicSearchSubmit,colorState:Ur.a.INVERTED,"data-iskeynav":!0,paddingLess:!0}))};var rd=Object(Lr.b)(e=>{const{getFoldersSelectors:t,getSearchSuggestions:s,isFeatureEnabled:a}=Object(So.b)(e),{getAccountIdByFolderId:n,getFolderDisplayTypeByFolderId:r,getFolderName:o}=t();return{getFolderName:o,getAccountIdByFolderId:n,getFolderDisplayTypeByFolderId:r,getSearchSuggestions:s,showRecentSuggestions:a(h.kb.SHOW_RECENT_SUGGESTIONS),showEmptySearchSuggestions:a(h.kb.SHOW_EMPTY_SEARCH_SUGGESTIONS),searchSuggestionsV2Enabled:a(h.kb.SEARCH_SUGGESTIONS_V2)}})(ad),od=s(179),id=s(227),cd=s(193),ld=s(70);Object(uo.b)({group:po.c,keys:{focusOnSearch:{key:"S,/",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}});const dd="uh-mail-web",Ed="p:ml,m:sb",_d=ao.g.HEADER_SEARCH;class ud extends we.a.Component{constructor(e){super(e),this.handleShortcuts=(e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t).toLowerCase();e.preventDefault(),e.stopPropagation(),"s"!==s&&t!==mo.a.SLASH||this.focusOnSearch(e)}),this.getCouponsSmartViewSearchRoute=(e=>{const t=Object(Io.d)(Object(ld.b)(h.td.COUPONS,babelHelpers.extends({},e,{accountIds:this.props.activeAccountId}))),s=Object(Io.S)(t);return e.keyword||e.name||e.emailAddresses&&e.emailAddresses.length?{name:h.Pc.SEARCH,params:{query:s}}:Object(ho.t)(h.td.COUPONS,{accountIds:this.props.activeAccountId})}),this.handleSearchSubmit=(({query:e,isCouponSearch:t,i13nModel:s})=>{let a;(a=t?this.getCouponsSmartViewSearchRoute(e):Object(ho.r)(e))||(a=Object(ho.r)({accountIds:this.props.accountList.map(e=>e.id)})),this.context.navigateTo({route:a,i13nModel:s})}),this.handleSearchChange=((e,{suggestionsKeyword:t=""}={})=>{this.setState({suggestionsQuery:t||e},()=>{this.props.onSuggestionsRequest({query:this.state.suggestionsQuery})})}),this.handleWebSearch=(e=>{const t=encodeURIComponent(e),s=encodeURIComponent(dd),a=encodeURIComponent(Ed);window.open(`https://search.yahoo.com/search?p=${t}&fr=${s}&fr2=${a}`,"_blank")}),this.focusOnSearch=(e=>{e.preventDefault(),this.searchBoxInputRef&&this.searchBoxInputRef.focus()}),this.setRef=(e=>{this.searchBoxInputRef=e});const{searchQuery:t}=e,{keyword:s=""}=t;this.state={suggestionsQuery:s}}componentDidMount(){this.context.bindShortcut(["s","/"],this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(["s","/"])}componentWillReceiveProps({searchQuery:e={}}={}){const t=e.keyword||"",{suggestionsQuery:s}=this.state,{searchQuery:a}=this.props;Object(Io.d)(a)!==Object(Io.d)(e)&&s!==t&&this.setState({suggestionsQuery:t})}render(){return we.a.createElement(rd,babelHelpers.extends({},this.props,{suggestionsQuery:this.state.suggestionsQuery,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,setRef:this.setRef}))}}ud.contextTypes={getStore:Ve.a.func.isRequired,navigateTo:Ve.a.func.isRequired,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func},ud.defaultProps={searchQuery:{}};var pd=Object(Lr.b)(e=>{const{getFeaturesSelectors:t,getRoute:s,getSelectedAccountId:a,isWindowResizingDone:n,getAccountsForSearch:r,getRecentSearchesSelectors:o,getCouponsSelectors:i,getSmartViewTypeFromRoute:c}=Object(So.b)(e),{getCoupons:l}=i(),{isEnabled:d}=t(),E=d("dragDropPill"),_=a(),u=s(),p=u.name===h.Pc.SEARCH,{getRecentSearches:m}=o(),S=m(),g=r();let I=Object(Io.t)(u);const C=d(h.kb.COUPONS_SMART_VIEW_SEARCH)&&c(u)===h.td.COUPONS,T=l();return!Object(Io.E)(I)||C&&p||(I=Object(Io.d)({})),babelHelpers.extends({},p?{searchQuery:Object(Io.h)(I)}:{},{isWindowResizingDone:n(),accountList:g,activeAccountId:a(),dragDropPill:E,recentSearches:S,accountId:_,couponsSmartViewSearch:C,hasCoupons:!!Object.keys(T).length})},e=>({onFocus:()=>e(Object(od.b)({})),onSearchBarFocus:({i13nModel:t})=>e(Object(od.b)({i13nModel:Object.assign({sec:_d},t)})),onSuggestionsRequest:t=>e(Object(id.a)(t)),deleteRecentSearch:t=>e(Object(cd.e)(t))}))(ud),md=s(528),hd=s.n(md);const Sd=to()(hd.a);var gd=()=>we.a.createElement("div",{className:Sd.searchBoxContainer},we.a.createElement("div",{className:Sd.searchBoxInput},we.a.createElement(Pr.c,{id:"user_registration_search_box",defaultMessage:"Find messages, documents, photos or people"})),we.a.createElement(vr.a,{disabled:!0,paddingLess:!0,size:Ur.d.S,kind:Ur.b.SEARCH,"data-test-id":"search-basic-btn",className:Sd.searchButton,colorState:Ur.a.INVERTED}));var Id=Object(Lr.b)(function(e){const{getAccountSelectors:t}=Object(So.b)(e);return{userHasRegisteredAccount:t().userHasRegisteredAccount()}})(({userHasRegisteredAccount:e})=>we.a.createElement(e?pd:gd,null));var Cd=Object(Lr.b)(function(e){const{getFeaturesSelectors:t,getSelectedAccountId:s,getAccountEmailByAccountId:a}=Object(So.b)(e),n=t();return{primaryAccountAddress:a(s()),tabsVisible:n.isEnabled(h.id.MAIL_TABS),defaultRouteURL:n.getSetting(h.id.MAIL_URL),partnerBrand:n.getSetting("partnerBrand"),calendarURL:n.getSetting(h.id.CALENDAR_URL),settings:n.isEnabled(h.kb.SETTINGS),settingsMenuComponent:we.a.createElement(Ml,null),searchComponent:we.a.createElement(Id,null)}})(Ol),Td=s(69);const Ad={15:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en_US&id=SLN3549&actp=productlink",19:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en_US&id=SLN3553&actp=productlink"},Od=Object(Pr.h)({"launch.error.classic.mail.url":{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"},"launch.error.basic.mail.url":{id:"launch.error.basic.mail.url",defaultMessage:"Try basic version"},"launch.error.icon.alert":{id:"launch.error.icon.alert",defaultMessage:"Alert icon"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in {mailBrandNameString}."},"launch.error.react_error.title":{id:"launch.error.react_error.title",defaultMessage:"{mailBrandNameString} has encountered a problem."},"launch.error.react_error.body":{id:"launch.error.react_error.body",defaultMessage:"Please wait a moment and then try going to your Inbox again."},"launch.error.default.oops":{id:"launch.error.default.oops",defaultMessage:"Oops!"},"launch.error.page_not_found.title":{id:"launch.error.page_not_found.title",defaultMessage:"Page not available"},"launch.error.page_not_found.body":{id:"launch.error.page_not_found.body",defaultMessage:"The requested page is not available on Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."},"launch.error.mailbox.maintenance.title":{id:"launch.error.mailbox.maintenance.title",defaultMessage:"Setting up your mailbox"},"launch.error.mailbox.maintenance.body":{id:"launch.error.mailbox.maintenance.body",defaultMessage:"We're in the process of setting up your mailbox, which can take a few seconds."},"launch.error.mailbox.inactive.title":{id:"launch.error.mailbox.inactive.title",defaultMessage:"We're having trouble signing you in."},"launch.error.mailbox.inactive.body":{id:"launch.error.mailbox.inactive.body",defaultMessage:"If you continue to experience issues, please contact"},"launch.error.help.pages":{id:"launch.error.help.pages",defaultMessage:"Learn more"},"launch.error.customercare":{id:"launch.error.customercare",defaultMessage:"customer care"},"launch.error.goto.inbox":{id:"launch.error.goto.inbox",defaultMessage:"Go to Inbox"},"launch.error.try.again":{id:"launch.error.try.again",defaultMessage:"Try again"}});class bd extends we.a.Component{constructor(e){super(e),Rd.call(this);const{appName:t}=e;this.appRootPath=(t===h.r.MOBILE_APP?h.Sb:h.T)+"/"}render(){const{isRTL:e}=this.props,{formatMessage:t}=this.context.intl,s=this.getTitleText(),a=t(Od["launch.error.default.oops"]),n=this.getIconMarkUp();return we.a.createElement("div",null,we.a.createElement("style",null," ",function(e){return`\n    ${Wr.BREAKPOINTS.W769} {\n        .warnWrapper {\n            position: absolute;\n            width: 100%;\n            top: 40%;\n            text-align: center;\n        }\n        .innerWrapper {\n            background: ${Wr.WHITE};\n            display: inline-block;\n            border: 1px solid ${Wr.THIRD_LEVEL_GRAY};\n            border-radius: ${Wr.GRID_UNIT/2}px;\n            overflow: hidden;\n            margin: ${8*Wr.GRID_UNIT}px auto;\n            box-shadow: 0 0 ${2.5*Wr.GRID_UNIT}px ${Wr.SHADOW_COLOR};\n            text-align: ${e?"right":"left"};\n        }\n        .iconWrapper {\n            float: ${e?"right":"left"};\n            margin: ${6*Wr.GRID_UNIT}px ${e?6*Wr.GRID_UNIT:5*Wr.GRID_UNIT}px 0 ${e?5*Wr.GRID_UNIT:6*Wr.GRID_UNIT}px;\n        }\n        .icon {\n            width: ${9*Wr.GRID_UNIT}px;\n            height: ${9*Wr.GRID_UNIT}px;\n        }\n        .mobileIcon {\n            display: none;\n        }\n        .textWrapper {\n            float: ${e?"right":"left"};\n            font-size: ${Wr.FONT_SIZE_S};\n            line-height: ${4*Wr.GRID_UNIT+2}px;\n            margin-${e?"left":"right"}: ${12*Wr.GRID_UNIT}px;\n        }\n        .warnTitle {\n            margin-top: ${4*Wr.GRID_UNIT}px;\n            font-size: ${Wr.FONT_SIZE_L};\n            line-height: ${6*Wr.GRID_UNIT}px;\n        }\n        .mobileWarnTitle {\n            display: none;\n        }\n        .warnBody {\n            margin-top: ${2*Wr.GRID_UNIT}px;\n        }\n        .mobileWarnBody {\n            display: none;\n        }\n        .solution {\n            margin: ${5*Wr.GRID_UNIT}px 0 ${5*Wr.GRID_UNIT}px 0;\n        }\n        .anchorStyle {\n            color: ${Wr.BASE_LINK_COLOR};\n            text-decoration: none;\n            font-weight: ${Wr.MEDIUM};\n        }\n        .buttonStyle {\n            padding: ${1.5*Wr.GRID_UNIT}px ${4.5*Wr.GRID_UNIT}px;\n            text-decoration: none;\n            font-size: ${Wr.FONT_SIZE_S};\n            font-weight: ${Wr.MEDIUM};\n            cursor: pointer;\n            border-radius: ${Wr.GRID_UNIT/2}px;\n            color: ${Wr.PRIMARY_BUTTON_TEXT_COLOR};\n            background-color: ${Wr.PRIMARY_BUTTON_ACTIVE_COLOR};\n            border: ${Wr.GRID_UNIT/4}px solid ${Wr.PRIMARY_BUTTON_ACTIVE_COLOR};\n            width: ${17.5*Wr.GRID_UNIT}px;\n            text-align: center;\n        }\n    }\n    ${Wr.BREAKPOINTS.W768} {\n        .warnWrapper {\n            width: 90%;\n            text-align: center;\n            padding-top: ${20*Wr.GRID_UNIT}px;\n            margin: auto;\n        }\n        .innerWrapper {\n            background: ${Wr.WHITE};\n            display: inline-block;\n            width: 100%;\n        }\n        .iconWrapper {\n            margin-bottom: 24.5px;\n        }\n        .icon {\n            display: none;\n        }\n        .mobileIcon {\n            width: ${25*Wr.GRID_UNIT}px;\n            height: 126.5px;\n        }\n        .textWrapper {}\n        .warnTitle {\n            display: none;\n        }\n        .mobileWarnTitle {\n            color: ${Wr.IMPROVED_GRAY_DARK};\n            font-size: 18px;\n            line-height: ${6*Wr.GRID_UNIT}px;\n            font-weight: ${Wr.MEDIUM};\n        }\n        .warnBody {\n            display: none;\n        }\n        .mobileWarnBody {\n            margin-top: ${Wr.GRID_UNIT}px;\n            font-size: 14px;\n            color: ${Wr.FIRST_LEVEL_GRAY};\n            letter-spacing: 0;\n            line-height: 18px;\n        }\n        .solution {\n            margin-top: ${9*Wr.GRID_UNIT}px;\n        }\n        .anchorStyle {\n            color: ${Wr.BASE_LINK_COLOR};\n            text-decoration: none;\n        }\n        .buttonStyle {\n            padding: ${3*Wr.GRID_UNIT}px 0;\n            text-decoration: none;\n            cursor: pointer;\n            border-radius: 2px;\n            color: ${Wr.PRIMARY_BUTTON_TEXT_COLOR};\n            background-color: ${Wr.PRIMARY_BUTTON_ACTIVE_COLOR};\n            text-align: center;\n            line-height: 18px;\n            display: inline-block;\n            width: 100%;\n        }\n    }\n    `}(e)," "),we.a.createElement("div",{className:"warnWrapper"},we.a.createElement("div",{className:"innerWrapper"},we.a.createElement("div",{className:"iconWrapper"},n),we.a.createElement("div",{className:"textWrapper"},we.a.createElement("div",{className:"warnTitle"},s),we.a.createElement("div",{className:"mobileWarnTitle"},a),this.renderBody(),we.a.createElement("div",{className:"solution"},this.renderLaunchErrorAction())))))}}bd.contextTypes={intl:Pr.i.isRequired,mailBrandNameString:Ve.a.string};var Rd=function(){this.getTitleText=(()=>{const{type:e}=this.props,{formatMessage:t}=this.context.intl,{mailBrandNameString:s}=this.context;switch(e){case h.gb.WRONG_MAILBOX_STATE:return t(this.props.mailboxState===h.ce.MAINTENANCE?Od["launch.error.mailbox.maintenance.title"]:Od["launch.error.mailbox.inactive.title"]);case h.gb.LAUNCH_PAGE_NOT_FOUND_ERROR:return t(Od["launch.error.page_not_found.title"]);case h.gb.LAUNCH_API_ERROR:return t(Od["launch.error.launch_api_error.title"]);case h.gb.NO_SCRIPT:return t(Od["launch.error.no_script_error.title"]);case h.gb.REACT_ERROR:return t(Od["launch.error.react_error.title"],{mailBrandNameString:s});default:return t(Od["launch.error.default.title"])}}),this.getBodyText=(()=>{const{type:e,code:t}=this.props,{formatMessage:s}=this.context.intl,{mailBrandNameString:a}=this.context;switch(e){case h.gb.WRONG_MAILBOX_STATE:return s(this.props.mailboxState===h.ce.MAINTENANCE?Od["launch.error.mailbox.maintenance.body"]:Od["launch.error.mailbox.inactive.body"]);case h.gb.LAUNCH_PAGE_NOT_FOUND_ERROR:return s(Od["launch.error.page_not_found.body"]);case h.gb.LAUNCH_API_ERROR:return s(Od["launch.error.launch_api_error.body"],{code:t});case h.gb.NO_SCRIPT:return s(Od["launch.error.no_script_error.body"],{mailBrandNameString:a});case h.gb.REACT_ERROR:return s(Od["launch.error.react_error.body"]);default:return s(Od["launch.error.default.body"])}}),this.getHelpPageURL=(()=>{const e=this.context.intl.locale||"en-US",{code:t}=this.props,s=e.replace("-","_");return Ad[t]?Object(C.c)(Ad[t],{locale:s}):Object(C.c)("https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",{locale:s})}),this.getHelpLinkMarkUp=(()=>{if(this.props.mailboxState===h.ce.MAINTENANCE)return null;const e=this.getHelpPageURL(),{formatMessage:t}=this.context.intl,s=t(this.props.mailboxState===h.ce.DISABLED||this.props.mailboxState===h.ce.DELETED?Od["launch.error.customercare"]:Od["launch.error.help.pages"]);return we.a.createElement("a",{href:e,target:"_blank",className:"anchorStyle",rel:"noopener"},s)}),this.getCTAMarkUp=(()=>{const{type:e}=this.props,{formatMessage:t}=this.context.intl;let s=null;switch(e){case h.gb.LAUNCH_PAGE_NOT_FOUND_ERROR:case h.gb.REACT_ERROR:s=t(Od["launch.error.goto.inbox"]);break;default:s=t(Od["launch.error.try.again"])}return we.a.createElement("div",null,we.a.createElement("a",{href:this.appRootPath,className:"buttonStyle",rel:"noopener","data-test-id":"launch-error-action"},s))}),this.getBasicMailURL=(e=>e===h.r.MOBILE_APP?h.Ub+"?.src=ym&reason=launch_error&rtn=0":h.pc+"?.src=ym&reason=launch_error"),this.renderBody=(()=>{const e=this.getBodyText(),t=this.getTitleText(),s=this.getHelpLinkMarkUp();return we.a.createElement("div",null,we.a.createElement("div",{className:"warnBody"},e,we.a.createElement("br",null),s),we.a.createElement("div",{className:"mobileWarnBody"},t,we.a.createElement("br",null),e,we.a.createElement("br",null),s))}),this.renderLaunchErrorAction=(()=>{const{formatMessage:e}=this.context.intl,{type:t,cspToken:s,appName:a}=this.props,n="window.location = '"+this.appRootPath+"?reason=no_script';",r=this.getCTAMarkUp(),o=this.getBasicMailURL(a),i=e(a===h.r.MOBILE_APP?Od["launch.error.basic.mail.url"]:Od["launch.error.classic.mail.url"]),c=we.a.createElement("div",null,we.a.createElement("a",{href:o,className:"buttonStyle",rel:"noopener"},i),we.a.createElement("script",{type:"text/javascript",nonce:s,dangerouslySetInnerHTML:{__html:n}}));switch(t){case h.gb.NO_SCRIPT:return c;case h.gb.WRONG_MAILBOX_STATE:return this.props.mailboxState===h.ce.DISABLED||this.props.mailboxState===h.ce.DELETED?null:r;default:return r}}),this.getIconMarkUp=(()=>{const{formatMessage:e}=this.context.intl;return we.a.createElement("div",null,we.a.createElement("img",{alt:e(Od["launch.error.icon.alert"]),className:"icon",src:Object(rl.a)("/img/icon_alert.png")}),we.a.createElement("img",{alt:e(Od["launch.error.icon.alert"]),className:"mobileIcon",src:Object(rl.a)("/img/error_state_1x.png")}))})},Dd=bd;const fd=`${1.75*Wr.GRID_UNIT}`,Nd=`${-11.25*Wr.GRID_UNIT}`,Md=`${-25*Wr.GRID_UNIT}`,Ld=`${-38*Wr.GRID_UNIT}`,yd=`${-50.5*Wr.GRID_UNIT}`,Pd={clear:"both",padding:`${3.5*Wr.GRID_UNIT}px 0 ${3.5*Wr.GRID_UNIT}px ${12.5*Wr.GRID_UNIT}px`,background:"url("+Object(rl.a)("/img/browser_icons.png")+") no-repeat 0 0"};var vd={outerWrapper:{position:"absolute",width:"100%",top:"30%"},contentHolder:{width:"45%",minWidth:`${125*Wr.GRID_UNIT}px`,maxWidth:`${175*Wr.GRID_UNIT}px`,margin:`${8*Wr.GRID_UNIT}px auto`,padding:`${6*Wr.GRID_UNIT}px ${12*Wr.GRID_UNIT}px ${5*Wr.GRID_UNIT}px ${6*Wr.GRID_UNIT}px`,border:`1px solid ${Wr.THIRD_LEVEL_GRAY}`,boxShadow:`0 0 ${2.5*Wr.GRID_UNIT}px ${Wr.SHADOW_COLOR}`},iconWrapper:{float:"left",marginRight:`${5*Wr.GRID_UNIT}px`},icon:{width:`${9*Wr.GRID_UNIT}px`,height:`${9*Wr.GRID_UNIT}px`},title:{marginBottom:`${4*Wr.GRID_UNIT}px`},classicMailHolder:{marginTop:`${-1*Wr.GRID_UNIT}px`},classicMailDesc:{fontSize:Wr.FONT_SIZE_XXS,display:"block",color:Wr.FIRST_LEVEL_GRAY,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:`0 0 0 ${14*Wr.GRID_UNIT}px`},upgradeLink:{float:"right",padding:`${1.5*Wr.GRID_UNIT}px ${4.5*Wr.GRID_UNIT}px`,marginTop:`${-1.5*Wr.GRID_UNIT}px`,textDecoration:"none",fontSize:Wr.FONT_SIZE_S,fontWeight:"500",cursor:"pointer",borderRadius:`${Wr.GRID_UNIT/2}px`,color:Wr.PRIMARY_BUTTON_TEXT_COLOR,backgroundColor:Wr.PRIMARY_BUTTON_ACTIVE_COLOR,border:`${Wr.GRID_UNIT/4}px solid ${Wr.PRIMARY_BUTTON_ACTIVE_COLOR}`,width:`${17.5*Wr.GRID_UNIT}px`,textAlign:"center"},tryLaterLink:{color:Wr.PRIMARY_BUTTON_ACTIVE_COLOR,backgroundColor:Wr.WHITE,marginTop:"0px"},chrome:Object.assign({},Pd,{backgroundPosition:`0 ${fd}px`}),firefox:Object.assign({},Pd,{backgroundPosition:`0 ${Nd}px`}),ie:Object.assign({},Pd,{backgroundPosition:`0 ${Md}px`}),safari:Object.assign({},Pd,{backgroundPosition:`0 ${Ld}px`}),classic:Object.assign({},Pd,{backgroundPosition:`0 ${yd}px`,paddingTop:`${2*Wr.GRID_UNIT}px`})};const Fd=Object(Pr.h)({rs_page_icon_alert:{id:"rs_page_icon_alert",defaultMessage:"Alert icon"},rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_ie:{id:"rs_page_browser_ie",defaultMessage:"Internet Explorer"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_recommend_text:{id:"rs_page_recommend_text",defaultMessage:"The new {mailBrandNameString} is no longer supported on your browser. Please use a supported browser below or use classic Mail."},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Download"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Continue"},rs_page_classic_mail_title:{id:"rs_page_classic_mail_title",defaultMessage:"Continue with classic Mail"},rs_page_classic_mail_desc:{id:"rs_page_classic_mail_desc",defaultMessage:"This version has fewer features but supports older browsers."}}),Ud="https://www.google.com/chrome/browser/desktop/index.html",Hd="https://www.mozilla.org/en-US/firefox/download/thanks/",kd="https://support.apple.com/HT201541";class Gd extends we.a.Component{constructor(...e){var t;return t=super(...e),this.renderBrowserUpgradeRow=((e,t,s)=>we.a.createElement("li",{style:Object.assign({},e)},we.a.createElement("a",{href:t,style:vd.upgradeLink,target:"_new",rel:"noopener"},we.a.createElement(Pr.c,Fd.rs_page_upgrade_link_text)),we.a.createElement(Pr.c,s))),this.renderChrome=(()=>this.renderBrowserUpgradeRow(vd.chrome,Ud,Fd.rs_page_chrome)),this.renderFirefox=(()=>this.renderBrowserUpgradeRow(vd.firefox,Hd,Fd.rs_page_firefox)),this.renderSafari=(()=>this.renderBrowserUpgradeRow(vd.safari,kd,Fd.rs_page_safari)),t}render(){const{formatMessage:e}=this.context.intl,{browserName:t,os:s,classicMailUrl:a,mailBrandNameString:n}=this.props;return we.a.createElement("div",{style:vd.outerWrapper},we.a.createElement("div",{style:vd.contentHolder},we.a.createElement("div",{style:vd.iconWrapper},we.a.createElement("img",{alt:e(Fd.rs_page_icon_alert),src:Object(rl.a)("/img/icon_alert.png"),style:vd.icon})),we.a.createElement("div",{style:vd.title},we.a.createElement(Pr.c,babelHelpers.extends({},Fd.rs_page_recommend_text,{values:{mailBrandNameString:n}}))),we.a.createElement("ul",{style:vd.ul},"Chrome"===t&&this.renderChrome(),"Firefox"===t&&this.renderFirefox(),"Safari"===t&&this.renderSafari(),"Chrome"!==t&&this.renderChrome(),"Firefox"!==t&&this.renderFirefox(),"Safari"!==t&&s===h.rc.MAC&&this.renderSafari(),we.a.createElement("li",{style:Object.assign({},vd.li,vd.classic)},we.a.createElement("a",{href:a,style:Object.assign({},vd.upgradeLink,vd.tryLaterLink),rel:"noopener"},we.a.createElement(Pr.c,Fd.rs_page_try_later_link_text)),we.a.createElement("div",{style:vd.classicMailHolder},we.a.createElement(Pr.c,Fd.rs_page_classic_mail_title),we.a.createElement("em",{style:vd.classicMailDesc},we.a.createElement(Pr.c,Fd.rs_page_classic_mail_desc)))))))}}Gd.contextTypes={intl:Pr.i.isRequired},Gd.defaultProps={browserName:"",os:"",classicMailUrl:h.pc+"?.src=ym&reason=unsupported_browser&toB=2"};var wd=Gd;const xd=159600033,Bd=Object(Pr.h)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}});class jd extends we.a.Component{constructor(...e){var t;return t=super(...e),this.initRapidClient=(()=>{Td.b.init({rapid:{spaceid:xd,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})}),this.getErrorType=(()=>{const{error:e}=this.props;switch(e.name){case g.k:return h.gb.LAUNCH_PAGE_NOT_FOUND_ERROR;case g.j:return h.gb.LAUNCH_API_ERROR;case g.l:return h.gb.WRONG_MAILBOX_STATE;case"LaunchError.NoScript":return h.gb.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return h.gb.UNSUPPORTED_BROWSER;case h.gb.REACT_ERROR:return h.gb.REACT_ERROR;case"GenericError":case"UnknownError":return h.gb.SERVER_ERROR}return h.gb.DEFAULT}),this.getErrorMessage=(()=>{const{error:e}=this.props;return e.message}),this._getErrorProperty=(e=>{const{error:t}=this.props;return Object(T.a)(t,`data.${e}`,null)}),this.getApiName=(()=>this._getErrorProperty("apiName")),this.getErrorCode=(()=>this._getErrorProperty("errorCode")),this.getStatusCode=(()=>this._getErrorProperty("statusCode")),this.getExtraErrorCode=(()=>this._getErrorProperty("extraErrorCode")),this.getExtraStatusCode=(()=>this._getErrorProperty("extraStatusCode")),this.getCode=(()=>this._getErrorProperty("code")),this.getBrowserName=(()=>this._getErrorProperty("browserName")),this.getOS=(()=>this._getErrorProperty("os")),this.getClassicMailUrl=(()=>this._getErrorProperty("classicMailUrl")),this.getCspToken=(()=>this._getErrorProperty("cspToken")),this.renderLaunchErrorDialog=(()=>{const{isRTL:e,mailBrandNameString:t}=this.props,s=this.getErrorType(),{error:a,appName:n}=this.props;switch(s){case h.gb.LAUNCH_API_ERROR:return we.a.createElement(Dd,{appName:n,type:s,code:this.getCode(),isRTL:e});case h.gb.NO_SCRIPT:return we.a.createElement(Dd,{appName:n,type:s,cspToken:this.getCspToken(),isRTL:e});case h.gb.UNSUPPORTED_BROWSER:return we.a.createElement(wd,{browserName:this.getBrowserName(),os:this.getOS(),classicMailUrl:this.getClassicMailUrl(),mailBrandNameString:t});case h.gb.WRONG_MAILBOX_STATE:return we.a.createElement(Dd,{appName:n,type:s,mailboxState:a.data.mailboxState,cspToken:this.getCspToken(),isRTL:e});case h.gb.REACT_ERROR:case h.gb.LAUNCH_PAGE_NOT_FOUND_ERROR:case h.gb.SERVER_ERROR:case h.gb.DEFAULT:return we.a.createElement(Dd,{appName:n,type:s,isRTL:e})}return null}),t}componentDidMount(){const e=this.getErrorType(),t=this.getErrorMessage();if(t!==g.a&&t!==g.m){if(e===h.gb.LAUNCH_API_ERROR||e===h.gb.SERVER_ERROR){let{error:e}=this.props;e=S.a.jsonToError(e);const t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},s=this.getExtraErrorCode(),a=this.getExtraStatusCode();s&&(t.extraErrorCode=s),a&&(t.extraStatusCode=a),this.initRapidClient(),Object(I.a)(Qt.a,h.p.MailAPIClient,t,e)}}else window.location.href=h.gc+"?reason="+g.o[t]+"&crumb="+this.props.crumb}render(){const e=this.getErrorMessage();if(e===g.a||e===g.m)return null;const{formatMessage:t}=this.context.intl,{hideLogo:s,isRTL:a,logoUrl:n}=this.props;return we.a.createElement("div",null,we.a.createElement("style",null,`\n        ${Wr.BREAKPOINTS.W768} {\n            .logo {\n                display: none;\n            }\n            .launchErrorWrapper {\n                font-family: ${Wr.MOBILE_BASE_FONT_STACK};\n            }\n            .headerText {\n                position: absolute;\n                top: ${4*Wr.GRID_UNIT}px;\n                font-size: 18px;\n                color: ${Wr.WHITE};\n                letter-spacing: 0;\n                line-height: ${6*Wr.GRID_UNIT}px;\n                text-align: center;\n                width: 100%;\n            }\n            .ribbon {\n                height: ${14*Wr.GRID_UNIT}px;\n            }\n        }\n        ${Wr.BREAKPOINTS.W769} {\n            .headerText {\n                display: none;\n            }\n            .launchErrorWrapper {\n                font-family: ${Wr.BASE_FONT_STACK};\n            }\n            .ribbon {\n              height: ${21*Wr.GRID_UNIT}px;\n            }\n        }\n        .launchErrorWrapper {\n            color: ${Wr.BLACK};\n        }\n        .ribbon {\n            width: 100%;\n        }\n        .logo {\n            position: absolute;\n            top: ${5*Wr.GRID_UNIT}px;\n            ${a?"right":"left"}: ${5*Wr.GRID_UNIT}px;\n            height: ${n?"auto":`${10*Wr.GRID_UNIT}px`};\n        }\n        `),we.a.createElement("div",{className:"launchErrorWrapper"},we.a.createElement("div",null,we.a.createElement("img",{alt:t(Bd["launch.error.banner.alt.text"]),src:Object(rl.a)("/img/banner_bg.jpg"),className:"ribbon"}),s?null:we.a.createElement("img",{alt:t(Kc.a.mailBrandName),src:n||Object(rl.a)("/img/logo_yahoo.png"),className:"logo"}),we.a.createElement("div",{className:"headerText"},t(Kc.a.mailBrandName))),this.renderLaunchErrorDialog()))}}jd.contextTypes={intl:Pr.i.isRequired};var Vd=jd;const Wd=/^\s*at .*(\S+\:\d+|\(native\))/m,qd=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,Kd=/[\(\)]/g,zd=/^\s+/,Yd=/'/g,Zd="\n",Xd=1e4;class Qd{constructor(e){this.error=e||null}toString(){try{let e=this.parse().join(Zd);return e.length>Xd&&(e=e.substr(0,Xd)+"..."),e}catch(e){return e.message||"Error in parsing an Error object"}}parse(){const e=this.error;if(null===e)throw new Error("Error is null or undefined");if(e.stack&&e.stack.match(Wd))return this.parseChromeOrIE();if(e.stack)return this.parseFFOrSafari();throw new Error("Cannot parse an Error object")}parseChromeOrIE(){return this.error.stack.split(Zd).map(e=>e=(e=e.replace(zd," ")).replace(Yd,'"'))}parseFFOrSafari(){const e=this.error.stack.split(Zd).filter(e=>""!==e).map(e=>{if(-1===e.indexOf("@")&&-1===e.indexOf(":"))e=` at ${e}`;else{const t=e.split("@"),s=this.extractLocation(t.pop()),a=t.join("@")||void 0,[n,r,o]=s;e=` at ${a} (${n}:${r}:${o})`}return e});return[`${this.error.name}:${this.error.message}`.replace(Yd,'"')].concat(e)}extractLocation(e){if(-1===e.indexOf(":"))return[e];const t=qd.exec(e.replace(Kd,""));return[t[1],t[2]||void 0,t[3]||void 0]}}const $d=/'/g,Jd=1e4,eE=ue.a.create("norrin/react_error");var tE=class extends Ge.Component{constructor(...e){var t;return t=super(...e),this.state={hasError:!1},t}componentDidCatch(e,t){const s=new Qd(e).toString(),a=Object(T.a)(e,"message","react error").replace($d,'"');let n=Object(T.a)(t,"componentStack","").replace($d,'"');n.length>Jd&&(n=n.substr(0,Jd)+"..."),eE.error(a,{stack:s,componentStack:n}),this.setState({hasError:!0});const r=document.getElementById("ybar");r&&r.parentNode&&r.parentNode.removeChild(r)}render(){if(!this.state.hasError)return this.props.children;const{logoUrl:e,isRTL:t}=this.props;return we.a.createElement("div",{"data-test-id":"react-error-handler"},we.a.createElement(Vd,{appName:window.AppBootstrapData.appName,error:{name:h.gb.REACT_ERROR,message:"REACT_ERROR_OCCURED"},hideLogo:!1,logoUrl:e,crumb:window.AppBootstrapData.crumb,isRTL:t}))}},sE=s(529),aE=s.n(sE),nE=s(152),rE=s(124);const oE="windowIds";var iE=s(130),cE=s(530),lE=s.n(cE);const dE=to()(lE.a);var EE=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.focus=(()=>{this.refs.input.focus()}),t}render(){return we.a.createElement("div",{className:dE.searchContainer},we.a.createElement("input",babelHelpers.extends({},this.props,{ref:"input",className:dE.input,type:"text"})),we.a.createElement("span",{className:dE.magnifying},we.a.createElement(Fr.b,{kind:Ur.b.SEARCH,size:Ur.d.XXS})))}},_E=s(531),uE=s.n(_E);const pE=Object(Pr.h)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"}});function mE({onClose:e},t){const{formatMessage:s}=t.intl,a=to()(uE.a,{[`${t.getTheme()}`]:!0});return we.a.createElement("header",{className:a.header},we.a.createElement("div",{className:a.text},we.a.createElement("div",{className:a.heading},we.a.createElement(Pr.c,{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"})),we.a.createElement("div",{className:a.subheading},we.a.createElement(Pr.c,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"}))),we.a.createElement("div",null,we.a.createElement("div",null,we.a.createElement(vr.a,{onClick:e,kind:Ur.b.CLOSE,size:Ur.d.XS,colorState:Ur.a.INVERTED,title:s(pE.close)}))))}mE.contextTypes={intl:Pr.i,getTheme:Ve.a.func};var hE=s(532),SE=s.n(hE),gE=s(533),IE=s.n(gE);const CE=to()(IE.a),TE={"SHIFT+/":"?"},AE={META:" Command",SHIFT:" Shift",BACKSPACE:" Backspace",SPACE:" Space",DEL:" Del",ENTER:" Enter",UP:" Up",DOWN:" Down",LEFT:" Left",RIGHT:" Right",PERIOD:".",COMMA:","},OE=Object(Pr.h)({or:{id:"shortcut.or",defaultMessage:"or"}});function bE({shortcutString:e},t){const{formatMessage:s}=t.intl,a={},n=t.os;return e.split(iE.b).forEach(e=>{const t=e.trim();if(TE[t])return void(a[TE[t]]=[]);if(n===h.rc.MAC&&-1!==t.toLowerCase().indexOf("ctrl")||n!==h.rc.MAC&&-1!==t.toLowerCase().indexOf("meta"))return;const s=t.split(iE.a),r=(1===s.length?s:s.slice(0,-1)).map(e=>AE[e]||e.toLowerCase()).join(` ${iE.a} `);a[r]||(a[r]=[]),s.length>1&&s.slice(-1).forEach(e=>{a[r].push(AE[e]||e.toLowerCase())})}),we.a.createElement("span",{className:CE.keyGroups,"data-test-id":"cheat-key"},Object.keys(a).map((e,t)=>{const n=a[e];return we.a.createElement("span",{key:t,className:CE.keyGroup},t>0&&we.a.createElement("span",{className:CE.delimit},s(OE.or)),we.a.createElement("span",{className:CE.key},e),n.length>0&&we.a.createElement("span",{className:CE.delimit},iE.a),n.length>0&&we.a.createElement("span",{className:CE.vertical},n.map((e,s)=>{const a=[CE.key,s>0?CE.marginTop:""].join(" ");return we.a.createElement("span",{key:`${t}-${s}`,className:a},e)})))}))}bE.contextTypes={intl:Pr.i,os:Ve.a.string.isRequired};var RE=s(534),DE=s.n(RE);const fE=to()(DE.a);function NE({shortcutKey:e,setSearchableText:t},s){const{id:a,description:n,key:r}=e,{formatMessage:o}=s.intl;let i=n;if(n.type===Pr.c)i=we.a.cloneElement(n,null,function(){const e=Array.prototype.slice.call(arguments).map(ME.bind(null,o)).join("");return t(e,a),we.a.createElement("span",null,...arguments)});else if(we.a.isValidElement(n)){const e=ME(o,n);t(e,a)}else{const e=o(n);i=e,t(e,a)}return we.a.createElement("li",{className:fE.keyRow},we.a.createElement("span",{className:fE.description},i),we.a.createElement(bE,{shortcutString:r}))}function ME(e,t){return we.a.isValidElement(t)?t.type!==Pr.c?we.a.Children.map(t.props.children,t=>ME(e,t)).join(""):(Object(m.a)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"==typeof t?e(t):t}function LE(e,t,s){return 0===s.length?null:we.a.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},we.a.createElement("ul",{className:e.listView},s.map(e=>we.a.createElement(NE,{key:e.id,shortcutKey:e,setSearchableText:t}))))}function yE({keyGroup:{group:e,keys:t},searching:s,setSearchableText:a},n){const r=to()(SE.a,{searching:s}),{formatMessage:o}=n.intl,i=Math.ceil(t.length/2);return we.a.createElement("div",{key:e.id,className:r.sectionContainer},we.a.createElement("div",{className:r.sectionHeading},o(e.description)),we.a.createElement("ul",{className:r.twoColumnList},LE(r,a,t.slice(0,i)),LE(r,a,t.slice(i))))}NE.contextTypes={intl:Pr.i,os:Ve.a.string.isRequired},yE.contextTypes={intl:Pr.i,os:Ve.a.string.isRequired};var PE=s(535),vE=s.n(PE),FE=s(536),UE=s.n(FE);const HE=["shift+/"],kE=Object(Pr.h)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}});class GE extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!1,filterQuery:"",coldStart:!0},this.handleShortcuts=(e=>{e.preventDefault(),e.stopPropagation(),"Slash"===e.code&&e.shiftKey&&this.toggleCheatsheet(e)}),this.toggleCheatsheet=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},()=>{this.state.shown&&this.refs.search.focus()})}),this.handleDismiss=(()=>{this.setState({shown:!1,filterQuery:""})}),this.handleModalKeyDown=(e=>{e.shiftKey&&191===e.which&&this.handleDismiss()}),this.setDictionary=((e,t)=>{this.state.coldStart&&this.descriptionDb.insert(e.toLowerCase(),t)}),this.handleFilterChange=(e=>{const t=e.target.value.trim();t!==this.state.filterQuery&&this.setState({filterQuery:t})}),t}componentWillMount(){this.descriptionDb=new vE.a}componentDidUpdate(e,t){const{shown:s,coldStart:a}=this.state;t.shown===s||a||this.setState({coldStart:!1})}componentDidMount(){this.context.bindShortcut(HE,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(HE)}render(){const{formatMessage:e}=this.context.intl,{allKeys:t}=this.props,{shown:s,filterQuery:a}=this.state,n=to()(UE.a);let r=[];if(a){const e=this.descriptionDb.find(a.toLowerCase());r=Object(T.e)(t).map(({group:t,keys:s})=>({group:t,keys:s.filter(({id:t})=>e.indexOf(t)>=0)})).filter(({keys:e})=>e.length)}else r=Object(T.e)(t);return r=r.sort(({group:e},{group:t})=>e.priority-t.priority),s?we.a.createElement(Jc.a,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},we.a.createElement("div",{className:n.container},we.a.createElement("div",{className:n.header},we.a.createElement(mE,{onClose:this.handleDismiss})),we.a.createElement("section",{className:n.cheatContent},we.a.createElement("div",{className:n.filterSection},we.a.createElement(EE,{ref:"search",onChange:this.handleFilterChange,placeholder:e(kE.filterPlaceholder)})),we.a.createElement("div",{className:n.keysetContainer},r.map(e=>we.a.createElement(yE,{key:e.group.id,keyGroup:e,searching:!!a,setSearchableText:this.setDictionary})))))):null}}GE.contextTypes={intl:Pr.i,os:Ve.a.string.isRequired,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var wE=GE;Object(uo.b)({group:po.a,keys:Object.assign({unread:{key:"K",description:we.a.createElement(Pr.c,{id:"shortcut.unread",defaultMessage:"Mark as {unread}",values:{unread:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.unread_strong",defaultMessage:"Unread"}))}})},read:{key:"SHIFT+K",description:we.a.createElement(Pr.c,{id:"shortcut.read",defaultMessage:"Mark as {read}",values:{read:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.read_strong",defaultMessage:"Read"}))}})},starred:{key:"L",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.starred",defaultMessage:"Star"}))},unstarred:{key:"SHIFT+L",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.unstarred",defaultMessage:"Unstar"}))},delete:{key:"BACKSPACE, DEL",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:"E",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"SHIFT+E",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:"D",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:we.a.createElement(Pr.c,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:we.a.createElement(Pr.c,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.next_bold",defaultMessage:"next"}))}})}},iE.c)}),Object(uo.b)({group:po.b,keys:{openPreview:{key:"SHIFT+P",description:we.a.createElement(Pr.c,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}});var xE=class extends we.a.Component{componentWillMount(){this.allShortcuts=Object(uo.a)()}render(){return we.a.createElement(wE,{allKeys:this.allShortcuts})}};const BE={POINTER:"pointer-mode",KEYBOARD:"keyboard-mode"};var jE=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={inputMode:BE.POINTER},this.lastMouseCoordinates=[],this.handleKeyUp=(e=>{switch(e.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(e.which){case mo.a.PERIOD:case mo.a.COMMA:this.handleKeyNav();break;default:return}}),this.handleMouseDown=(()=>{this.setState({inputMode:BE.POINTER})}),this.handleMouseMove=(e=>{this.lastMouseCoordinates[0]===e.screenX&&this.lastMouseCoordinates[1]===e.screenY||(this.lastMouseCoordinates=[e.screenX,e.screenY],this.setState({inputMode:BE.POINTER}))}),t}handleKeyNav(){this.setState({inputMode:BE.KEYBOARD})}render(){return we.a.createElement("div",babelHelpers.extends({className:this.state.inputMode+(this.props.className?" "+this.props.className:"")},this.state.inputMode===BE.KEYBOARD?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp}),this.props.children)}},VE=s(279),WE=s.n(VE),qE=s(154),KE=s(161),zE=s(280),YE=s.n(zE);class ZE extends we.a.Component{render(){const e=to()(YE.a,{active:this.props.active});return we.a.createElement("div",{className:e.module,"data-test-id":"recipient-input"},we.a.createElement(Kr.a,{ref:e=>this._container=e},we.a.createElement(zr.a,null,we.a.createElement("label",{htmlFor:this.props.for,className:e.label,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label)),we.a.createElement(qr.b,{isArrowVisible:!1,triggerOn:Yr.h.CLICK,zAltitude:Wr.ZIndices.POPOVER.HIGH,onClick:e=>e.stopPropagation(),align:Yr.a.START},we.a.createElement(lo.a,{import:"../../contact_picker/contact_picker_connector.jsx",onClose:()=>this._container.hide(Yr.h.CLICK),addContactsToField:this.props.addContactsToField,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,930))},_moduleResolver:function(){return 930}}))),we.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}ZE.defaultProps={active:!1};class XE extends we.a.Component{render(){const e=to()(YE.a,{active:this.props.active});return we.a.createElement("div",{className:e.module,"data-test-id":"labeled-input"},we.a.createElement("label",{htmlFor:this.props.for,className:e.label,onClick:this.props.onLabelClick,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label),we.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}XE.defaultProps={active:!1};var QE=s(539),$E=s.n(QE);const JE=to()($E.a);function e_({account:e,selected:t,onClick:s}){return we.a.createElement(ll.a,{ariaLabel:e.email,kind:dl.a.ACCOUNT_PICKER,name:e.email},we.a.createElement("span",{className:JE.rtlIgnoreDir},we.a.createElement(Zr.a,{kind:Xr.a.MENUITEM,onClick:s,style:{backgroundColor:t?"#f9faff":""}},we.a.createElement("div",{className:JE.buttonContent},we.a.createElement("span",{className:JE.checkmarkWrapper+" "+JE.rtlIgnoreMarginR},t&&we.a.createElement(Fr.b,{kind:Ur.b.CHECKMARK,size:Ur.d.XS})),we.a.createElement("span",null,e.sendingName),we.a.createElement("span",{className:JE.itemAddress+" "+JE.rtlIgnoreMarginL},e.email)))))}var t_=s(540),s_=s.n(t_);const a_=()=>{};class n_ extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleAccountChange=(e=>{this.props.selected!==e&&this.props.onChange(e)}),this.getMenuItems=(()=>{const{sendingAccounts:e,selected:t,dir:s}=this.props;return e.map(e=>we.a.createElement(e_,{key:e.email,dir:s,account:e,selected:e===t,onClick:this.handleAccountChange.bind(this,e)}))}),t}render(){const{selected:e,sendingAccounts:t}=this.props,s=to()(s_.a);if(!t.length)return null;const a=we.a.createElement("div",{className:s.menuLabelEmail,"data-test-id":"compose-sending-address"},"<"+e.email+">");return 1===this.props.sendingAccounts.length?we.a.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+e.email,className:s.fromField,ref:"accountSelect"},we.a.createElement("span",null,e.sendingName,""),a):we.a.createElement("div",{className:s.select},we.a.createElement(il.a,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:s.menuContainer},we.a.createElement(cl.a,{"aria-label":this.props.selectLabel+" "+e.email,hasText:!0},we.a.createElement("span",{className:s.label},we.a.createElement("span",{className:s.labelName},e.sendingName,""),a,we.a.createElement(Fr.b,{kind:Ur.b.CHEVRON_UP,size:Ur.d.XXS,rotate:Ur.c.D180}))),we.a.createElement(ol.a,null,this.getMenuItems(s))))}}n_.defaultProps={onFocus:a_,onBlur:a_,onChange:a_};var r_=n_,o_=s(96),i_=s.n(o_);const c_=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,l_=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;function d_({name:e="",email:t="",isEditing:s=!1,createdTime:a}){const[,,n=e,r=t]=t.match(c_)||[];let o;return{name:n||r,email:r,title:o=n&&r?n===r?`<${r}>`:`${n} <${r}>`:n||r,isEditing:s,createdTime:a}}var E_=s(172),__=s(119),u_=s(23),p_=s(31),m_=s.n(p_);const h_=Object(Pr.h)({from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural,\n                            one {# contact}\n                            other {# contacts}\n                        }"},remove_contact:{id:"compose.btn_remove_contact",defaultMessage:"Remove"}});class S_ extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1,xButtonHovered:!1},this.getDefaultprops=(()=>({isSelected:!1,allowContactRemoval:!0})),this.handleMouseOver=(()=>{this.setState({hovered:!0})}),this.handleMouseLeave=(()=>{this.setState({hovered:!1})}),this.renderHighlight=(({string:e="",highlightedTextClassName:t,highlightRange:s=[]})=>{const a=[];let n=0;return s.sort((e,t)=>e.s===t.s?e.l-t.l:e.s-t.s),s.forEach(({s:s,l:r},o,i)=>{const c=s+r;a.push(e.slice(n,s)),a.push(we.a.createElement("span",{className:t,"data-test-id":"result-match",key:e+o},e.slice(s,c))),n=c,o===i.length-1&&a.push(e.slice(n))}),we.a.createElement("span",null,a.length?a.map(e=>e):e)}),this.handleXButtonHover=(e=>{this.setState({xButtonHovered:e})}),t}render(){const e=to()(Ul.a),{formatMessage:t}=this.context.intl,s=this.state.xButtonHovered?Ur.a.NORMAL:Ur.a.DISABLED,{option:a,allowContactRemoval:n=!0}=this.props,{hovered:r}=this.state;return we.a.createElement("div",{className:e.typeaheadOptionContainer,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"suggest-contact-item-container"},we.a.createElement("span",{className:e.contactIcon},we.a.createElement(hl.c,{contact:{id:a.id},size:hl.b.M})),we.a.createElement("div",{className:e.textContainer},we.a.createElement("div",{className:e.name,"data-test-id":"result-name"},this.renderHighlight({string:a.name,highlightedTextClassName:e.highlight,highlightRange:a.filteredResults&&a.filteredResults.fullName})),we.a.createElement("div",{className:e.email,"data-test-id":"result-email"},a.list?t(h_.from_group,{contactCount:a.list.length}):this.renderHighlight({string:a.email,highlightedTextClassName:e.highlight,highlightRange:a.filteredResults&&a.filteredResults.email}))),r&&n?we.a.createElement("span",{className:e.remove,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1),"data-test-id":"contact-remove-button-wrapper","data-action":u_.DELETE_CONTACT},we.a.createElement(Fr.b,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:Ur.b.CLOSE,size:Ur.d.XXS,disabled:r,title:t(h_.remove_contact),colorState:s})):null)}}S_.contextTypes={intl:Pr.i.isRequired};var g_=S_;const I_=s(23).KeyCodes,C_=Object(Pr.h)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural,\n                            =0 {No suggestions are available.}\n                            one {# suggestion is available.}\n                            other {# suggestions are available. Use up and down arrows to select.}\n                        }"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural,\n                            one {# contact}\n                            other {# contacts}\n                        }"},close_related_contacts:{id:"dropdown.close_related_contacts",defaultMessage:"Close"},related_contacts:{id:"dropdown.related_contacts",defaultMessage:"Related contacts:"}}),T_=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,A_=/[;,]+/,O_=3,b_=()=>{};let R_=!1;class D_ extends we.a.Component{constructor(...e){var t;return t=super(...e),this.shouldComponentUpdate=((e,t)=>{return!m_()(e.getSuggestions(t.inputValue),this.props.getSuggestions(this.state.inputValue))||!Object(vs.c)(this.props,e,["autoBidi","composePillCount","dragDropPill","id","inputId","isDragged","isEditing","maxContactsVisible","placeholder","selectedPills","selectedContacts","shiftDelimiters","showCcBcc","showSuggestions"])}),this.createSearchRequest=(e=>i_()(this.requestContactSuggestions,e)),this.inputValueToContact=(()=>{const{inputValue:e}=this.state;e.trim()&&(this.props.autoSuggestionDropdownWillAppear(),this.props.onInputContactAdd(e,this.props.isEditing),this.setState({inputValue:""}))}),this.handleOnFocus=(e=>{this.props.onFocus&&this.props.onFocus(e)}),this.handleOnBlur=(e=>{document.hasFocus()&&this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(e)}),this.handleInputKeyDown=(e=>{const{inputValue:t}=this.state,{shiftDelimiters:s,delimiters:a}=this.props,{ctrlKey:n,altKey:r,metaKey:o,shiftKey:i,which:c,keyCode:l}=e,d=this._isDelimiterKey(c||l);n||r||o||t&&(i&&d(s)||!i&&d(a))&&(e.preventDefault(),this.inputValueToContact())}),this._isDelimiterKey=(e=>t=>-1!==t.indexOf(e)),this.handleInputChange=(e=>{const t=this.constructor.splitByDelimiters(e);t.length>1&&t.splice(0,t.length-1).map(e=>e.trim()).filter(Boolean).forEach(e=>{this.props.onInputContactAdd(e,!1)}),this.props.autoSuggestionDropdownWillAppear(),this.setState({inputValue:t[0]}),this.state.triggerSearchRequest(t[0])}),this.handleManualPillRemoval=((e,t)=>{t.preventDefault(),this.handlePillRemoval([e])}),this.handleManualPillEdit=(e=>{const t=d_(e);this.props.onContactEdit(t)}),this.handleManualPillUpdate=(e=>{this.props.onInputContactAdd(e,!0)}),this.handlePillRemoval=(e=>{this.props.onContactRemove(e)}),this.handleDropdownSelection=((e,t)=>{(t&&t.getAttribute("data-action"))===u_.DELETE_CONTACT?this.requestDeleteContactSuggestions(e):(this.setState({inputValue:""}),e.disabled||this.props.onContactAdd(babelHelpers.extends({},e,{createdTime:Date.now()})))}),this.handleCloseRelatedContactsPopup=(e=>{R_=!0,this.handleOnBlur(e)}),this.renderPill=((e,t,s,a)=>{const{name:n,email:r,title:o,isEditing:i,createdTime:c}=d_(e);return we.a.createElement(E_.a,{email:r,isCompose:!0,isDisabled:this.props.isDragged||a||i,name:n,createdTime:c,popoverDidAppear:this.props.emailPillPopoverDidAppear},we.a.createElement(Zl.a,{value:n,title:o,contactId:e.id,contactEmail:r,isEditing:i,isLastElement:t===s.length-1,isSelected:a,onPillUpdate:this.handleManualPillUpdate,onPillRemove:this.handleManualPillRemoval.bind(this,e),onPillEdit:this.handleManualPillEdit.bind(this,e),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&a,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills,dragDropPill:this.props.dragDropPill}))}),this.requestContactSuggestions=(()=>{this.props.requestContactSuggestions({i13nModel:{mKey:ao.e.CONTACT_SUGGEST,sec:ao.g.COMPOSE_CONTACTS},query:this.state.inputValue})}),this.handleOnCopy=(e=>{const{selectedPills:t}=this.props;let s="";t.map(e=>{s+=d_(e).title+"; "}),e.clipboardData.setData("text/plain",s)}),this.requestDeleteContactSuggestions=(e=>{this.props.requestDeleteContactSuggestions({contactInfo:e})}),this.state={triggerSearchRequest:this.createSearchRequest(50),inputValue:""},t}static splitByDelimiters(e){return e.replace(T_,"$1,$2").split(A_)}componentWillReceiveProps(e){e.composePillCount>0&&e.composePillCount!==this.props.composePillCount&&!R_&&this.state.triggerSearchRequest("")}render(){const{formatMessage:e}=this.context.intl,{getSuggestions:t,maxContactsVisible:s,filterSuggestions:a,selectedContacts:n,composePillCount:r,isEditing:o,showSuggestions:i}=this.props,c=r>0&&!this.state.inputValue&&!R_,l=t(this.state.inputValue),d=c&&a(l).length>0?O_:s,E=!i||0===r&&!this.state.inputValue||R_&&!this.state.inputValue?[]:a(l).slice(0,d),_=to()(Ul.a,{showCcBcc:this.props.showCcBcc});return we.a.createElement(Yl.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:n,renderPill:this.renderPill,placeholder:0===n.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onCopy:this.handleOnCopy,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:e(C_.suggestions_available,{suggestionsNum:E.length}),className:_.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:_.pillsContainer,containerChildClassName:_.pillsContainerChild,pillClassName:_.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:_.typeahead,typeaheadInputClassName:`input-${this.props.id} ${_.typeaheadInput}`,typeaheadInputHintClassName:_.typeaheadInputHint,typeaheadAriaStatusClassName:_.typeaheadAriaStatus,typeaheadDropDownClassName:_.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills,isEditing:o},c&&E.length>0?we.a.createElement(Yl.Option,{className:_.relatedContactsContainer,disabled:!0,value:{disabled:!0}},we.a.createElement("span",{className:_.relatedContacts,"data-test-id":"related-contacts-dropdown-header"},e(C_.related_contacts)),we.a.createElement("span",{className:_.relatedContactsClose},we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":"emoji-close-button",kind:Ur.b.CLOSE,size:Ur.d.XXS,onMouseDown:this.handleCloseRelatedContactsPopup,colorState:Ur.a.FIRST_LEVEL_GRAY,paddingLess:!0,title:e(C_.close_related_contacts)}))):null,E.map((e,t)=>we.a.createElement(Yl.Option,{className:_.typeaheadOption,key:t,value:e},we.a.createElement(g_,{option:e}))))}}D_.contextTypes={intl:Pr.i.isRequired},D_.defaultProps={placeholder:"",tabIndex:-1,maxContactsVisible:6,selectedContacts:[],delimiters:[I_.FF_COMMA,I_.FF_SEMICOLON,I_.SEMICOLON,I_.COMMA,I_.BREAK,I_.TAB],shiftDelimiters:[I_.BREAK,I_.TAB],handleDrop:b_,handleDragState:b_,onPillSelection:b_,selectedPills:[],clearSelectedPills:b_,dragDropPill:!0,getSuggestions:b_,filterSuggestions:()=>[],isEditing:!1,requestDeleteContactSuggestions:b_,requestContactSuggestions:b_,showSuggestions:!0,autoSuggestionDropdownWillAppear:b_,emailPillPopoverDidAppear:b_};var f_=Object(Lr.b)(e=>{const{getComposeSuggestions:t}=Object(So.b)(e);return{getSuggestions:t}},(e,t)=>({requestContactSuggestions:s=>{const{getRecipientList:a,getContextFrom:n}=t,r=a(),o=n();e(Object(__.e)(babelHelpers.extends({},s,{recipientList:r,contextFrom:o})))},requestDeleteContactSuggestions:s=>{const{getRecipientList:a,getContextFrom:n}=t,r=a(),o=n();e(Object(__.h)(babelHelpers.extends({},s,{recipientList:r,contextFrom:o})))}}))(D_),N_=s(551),M_=s.n(N_);function L_(e){const{hasFocus:t}=e,s=babelHelpers.objectWithoutProperties(e,["hasFocus"]),a=to()(M_.a,{hasFocus:t});return we.a.createElement("div",babelHelpers.extends({},s,{className:a.input}),e.children)}var y_=s(552),P_=s.n(y_);const v_=Object(Pr.h)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}"},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"}});class F_ extends we.a.Component{constructor(e){super(e),U_.call(this);const{from:t={},to:s=[],cc:a=[],bcc:n=[],subject:r=""}=this.props;this.state={from:t,to:s,cc:a,bcc:n,subject:r,showCcBcc:!!a.length||!!n.length,inputFocus:{},xButtonHovered:!1,isDragged:!1,isEditing:!1,selectedPills:[],isAutosuggestionHidden:!1},this.clearPillsCallbacks=[]}componentWillReceiveProps(e){this.props.composeMode!==e.composeMode&&this.setState({showCcBcc:!!e.cc.length||!!e.bcc.length})}handleXButtonHover(e){this.setState({xButtonHovered:e})}handleInputContactAdd(e,t,s=!1){const a=function(e){if(l_.test(e)){let t,[s]=e.match(l_);const a=e.replace(s,"").trim();return{email:s=s.substring(1,s.length-1),name:a,title:t=a&&s?`${a} <${s}>`:a||s}}return{email:e,name:e}}(t.trim());s?this.handleContactUpdate(e,{email:a.email,name:a.name}):this.handleContactAdd(e,{email:a.email,name:a.name})}handleFocusChange(e,t){this.setState({inputFocus:{type:e,isFocused:t}})}shouldHandleDrop(e){return this.refs.composeHeaderTop.contains(e)}componentWillUnmount(){this.clearPillsCallbacks.length=0}addContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}editContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}focus(e){this.refs[e]?this.refs[e].focus():this[e]&&this[e].focus()}componentDidMount(){this.focus(this.props.initialFocus)}toggleCcBcc(e=!1,t=(()=>{})){this.setState({showCcBcc:e},t)}onHeaderChange(){const{from:e,to:t,cc:s,bcc:a,subject:n}=this.state;this.props.onChange({from:e,to:t,cc:s,bcc:a,subject:n})}handleContactUpdate(e,t){const s=this.state[e].map(e=>e.isEditing?Object.assign({},t):e);this.setState({[e]:s,isEditing:!1},this.onHeaderChange)}renderAutoSuggest(e,t,s,a){const n=this.state[e],r=this.state.inputFocus.type===e&&this.state.inputFocus.isFocused,o="message-"+e+"-field",i=this.props[u_.FocusableRefs.TO].length+this.props[u_.FocusableRefs.CC].length+this.props[u_.FocusableRefs.BCC].length;return we.a.createElement(ZE,{active:r,label:t,childrenId:"compose-header-field-"+e,identifier:e,"data-test-id":`contact-picker-${e}`,addContactsToField:this.handleContactAdd.bind(null,e)},we.a.createElement(f_,{filterSuggestions:this.filterSuggestions,suggestionRef:t=>this[e]=t,id:e,inputId:o,autoBidi:!1,selectedContacts:n,onFocus:this.handleFocusChange.bind(this,e,!0),onBlur:this.handleFocusChange.bind(this,e,!1),onInputContactAdd:this.handleInputContactAdd.bind(this,e),onContactRemove:this.handleContactRemove.bind(null,e),onContactAdd:this.handleContactAdd.bind(null,e),onContactEdit:this.handleContactEdit.bind(null,e),isEditing:this.state.isEditing,getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:(t,s,a)=>this.handleDrop(t,e,s,a),handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,dragDropPill:this.props.dragDropPill,getRecipientList:this.getRecipientList,getContextFrom:this.getContextFrom,composePillCount:i,showSuggestions:!this.state.isAutosuggestionHidden&&r,emailPillPopoverDidAppear:this.emailPillPopoverDidAppear,autoSuggestionDropdownWillAppear:this.autoSuggestionDropdownWillAppear}),a)}renderCloseButton(e){const t=this.context.intl.formatMessage(v_.save_draft_and_close);return we.a.createElement("span",{className:e.xButton},we.a.createElement(vr.a,{onClick:this.props.onClose,title:t,"aria-label":t,kind:Ur.b.CLOSE,colorState:this.state.xButtonHovered?Ur.a.NORMAL:Ur.a.DISABLED,size:Ur.d.XXS}))}renderExtraRecipientBtn(e){if(this.state.cc.length>0||this.state.bcc.length>0)return null;const{formatMessage:t}=this.context.intl,{isBccDisabled:s}=this.props,a=t(this.state.showCcBcc?s?v_.hide_cc_only_button_label:v_.hide_cc_button_label:s?v_.show_cc_only_button_label:v_.show_cc_button_label);return we.a.createElement(Zr.a,{ref:u_.FocusableRefs.CCBTN,className:e,tabIndex:"-1",onClick:this.toggleExtraRecipients,kind:Xr.a.CHROMELESS,"data-test-id":"btn-cc"},a)}renderEditSubjectMenu(e){const{formatMessage:t}=this.context.intl;return we.a.createElement(Kr.a,{className:e.additionalOptionsButtonWrapper},we.a.createElement(zr.a,null,we.a.createElement(vr.a,{"data-test-id":"additional-compose-options-button",kind:Ur.b.CHEVRON_UP,rotate:Ur.c.D180,size:Ur.d.XS,title:t(v_.additional_options)})),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,align:Yr.a.START,offset:2*Wr.GRID_UNIT},we.a.createElement("div",{className:e.additionalOptionsListWrapper},we.a.createElement(Qr.a,{kind:gl.a.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},we.a.createElement("li",null,we.a.createElement(Zr.a,{"data-test-id":"edit-subject",kind:Xr.a.MENUITEM,onClick:this.props.onEditSubject},we.a.createElement(Pr.c,{id:"editSubject",defaultMessage:"Edit subject"})))))))}render(){const e=to()(P_.a,{"filled-subject":this.state.subject.length>0,isSubjectDisabled:!this.props.canEditSubject}),{inputFocus:t}=this.state;return we.a.createElement("div",{className:"compose-header "+e.container},this.props.showCloseButton?we.a.createElement("div",{className:e.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(e)):null,we.a.createElement("div",{"data-test-id":"compose-header-top",className:e.composeHeaderTop,ref:"composeHeaderTop"},this.props.showFrom?we.a.createElement(L_,{hasFocus:t.type===u_.FocusableRefs.FROM&&t.isFocused,"data-test-id":"container-from"},we.a.createElement(XE,{active:t.type===u_.FocusableRefs.FROM&&t.isFocused,label:we.a.createElement(Pr.c,v_.from_input_label)},we.a.createElement(r_,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(v_.from_input_label),onFocus:this.handleFocusChange.bind(this,u_.FocusableRefs.FROM,!0),onBlur:this.handleFocusChange.bind(this,u_.FocusableRefs.FROM,!1),sendingAccounts:Object(Ec.c)(this.props.accounts),selected:this.state.from,onChange:this.handleFromChange}))):null,we.a.createElement(L_,{hasFocus:t.type===u_.FocusableRefs.TO&&t.isFocused,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,u_.FocusableRefs.TO)},this.props.canEditSubject?null:this.renderEditSubjectMenu(e),this.renderAutoSuggest(u_.FocusableRefs.TO,we.a.createElement(Pr.c,v_.to_input_label),e),this.renderExtraRecipientBtn(e.extraRecipientsBtn)),this.state.showCcBcc?we.a.createElement("div",null,we.a.createElement(L_,{hasFocus:t.type===u_.FocusableRefs.CC&&t.isFocused,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,u_.FocusableRefs.CC)},we.a.createElement("div",{className:e.ccContainer},this.renderAutoSuggest(u_.FocusableRefs.CC,we.a.createElement(Pr.c,v_.cc_input_label),e))),!this.props.isBccDisabled&&we.a.createElement(L_,{hasFocus:t.type===u_.FocusableRefs.BCC&&t.isFocused,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,u_.FocusableRefs.BCC)},this.renderAutoSuggest(u_.FocusableRefs.BCC,we.a.createElement(Pr.c,v_.bcc_input_label),e))):null),this.props.showSubject?we.a.createElement("div",{className:e.composeSubject},we.a.createElement(L_,{hasFocus:t.type===u_.FocusableRefs.SUBJECT&&t.isFocused},this.props.canEditSubject||this.props.composeMode!==h.I.Modes.FORWARD?null:this.renderEditSubjectMenu(e),we.a.createElement(KE.a,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,u_.FocusableRefs.SUBJECT,!0),onBlur:this.handleFocusChange.bind(this,u_.FocusableRefs.SUBJECT,!1),ref:u_.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:"off","aria-label":this.context.intl.formatMessage(v_.subject_input_placeholder),className:e.subject,placeholder:this.context.intl.formatMessage(v_.subject_input_placeholder),value:this.state.subject,onChange:this.handleSubjectChange,disabled:!this.props.canEditSubject,onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,"")}))):null)}}F_.contextTypes={config:Ve.a.object,intl:Pr.i.isRequired},F_.defaultProps={subject:"",from:{},to:[],cc:[],bcc:[],showSubject:!0,isBccDisabled:!1,canEditSubject:!0,onChange:()=>{}};var U_=function(){this.handleSubjectChange=(e=>{this.setState({subject:e.target.value},this.onHeaderChange)}),this.setDragState=(e=>{this.setState({isDragged:e})}),this.handleDragOver=(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),this.updateSelectedPills=(e=>{this.state.isEditing||this.setState({selectedPills:e})}),this.clearSelectedPills=(e=>{e&&this.clearPillsCallbacks.push(e),this.clearPillsCallbacks.forEach(e=>e()),this.setState({selectedPills:[]})}),this.handleDrop=((e,t,s,a)=>{if(e.stopPropagation(),e.preventDefault(),void 0===s&&(!this.shouldHandleDrop(e.target)||""===t))return;const n=e.dataTransfer.getData("text"),r=document.getElementById("drag-img");let o=[],i={},c=0;if(r&&r.parentNode&&r.parentNode.removeChild(r),""===n||!Object(wa.isJSONString)(n))return;const l=JSON.parse(n);l&&(i=l.contact),this.state.selectedPills.length>0&&(o=this.state.selectedPills),i&&(i.id||i.email||i.name)&&-1===(c=o.findIndex(({name:e,email:t})=>i.name===e&&i.email===t))&&o.push(i);const d={mKey:ao.e.DRAG_CONTACT,sec:ao.g.COMPOSE_CONTACTS,actionData:{cnt:o.length,from:l.dragFromField.toUpperCase(),to:t.toUpperCase()}};this.props.dragDropContact({i13nModel:d}),this.handleDragContactAdd(t,o,{side:s,id:a}),l.dragFromField!==t&&this.handleContactRemove(l.dragFromField,o,!0),this.setDragState(!1),this.clearSelectedPills()}),this.handleDragContactAdd=((e,t=[],{side:s="other",id:a})=>{const n=this.state[e],r=n.filter(e=>!t.find(({name:t,email:s})=>e.name===t&&e.email===s)),o={left:0,right:1,other:n.length+1}[s],i=Math.max(0,r.findIndex(e=>e.id===a)+o),c=r.slice(0,i).concat(t).concat(r.slice(i));this.setState({[e]:c},this.onHeaderChange)}),this.handleContactRemove=((e,t,s)=>{const a=this.state[e];var n=[];s?(t.forEach(e=>{const t=a.findIndex(({name:t,email:s})=>e.name===t&&e.email===s);a.splice(t,1)}),n=a):n=WE()(a,t),this.setState({[e]:n},this.onHeaderChange)}),this.handleContactEdit=((e,t)=>{var s=this.state[e].map(e=>e.email===t.email?Object.assign({},e,{isEditing:!0}):e);this.setState({[e]:s,isEditing:!0},this.onHeaderChange)}),this.messageForOption=(e=>e.email?this.context.intl.formatMessage(v_.select_contact,{email:e.email}):e),this.toggleExtraRecipients=(()=>{const{CC:e,TO:t}=u_.FocusableRefs;this.toggleCcBcc(!this.state.showCcBcc,()=>{this.focus(this.state.showCcBcc?e:t)})}),this.filterSuggestions=((e=[])=>{if(!e.length)return[];const t=this.state.to.concat(this.state.cc,this.state.bcc).reduce((e,{email:t})=>(e[t]=1,e),Object.create(null));return Object.keys(t).length&&(e=e.filter(({email:e})=>!t[e])),e}),this.handleContactAdd=((e,t)=>{var s=this.state[e];const a=({email:e,id:t,name:s,createdTime:a})=>{const n={createdTime:a};return e&&(n.email=e),t&&(n.id=t),s&&(n.name=s),n};if(Array.isArray(t)||t.hasOwnProperty("list")){const e=Array.isArray(t)?t:t.list;s=s.concat(e.map(a))}else void 0===s.find(e=>e.email===t.email)&&(s.push(a(t)),this.props.addRecipient({i13nModel:{mKey:ao.e.SELECT_CONTACT,sec:ao.g.COMPOSE_CONTACTS}}));this.setState({[e]:s},this.onHeaderChange)}),this.emailPillPopoverDidAppear=(e=>{this._popoverReference=e,this.state.isAutosuggestionHidden||this.setState({isAutosuggestionHidden:!0})}),this.autoSuggestionDropdownWillAppear=(()=>{this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null,this.state.isAutosuggestionHidden&&this.setState({isAutosuggestionHidden:!1}))}),this.getRecipientList=(()=>{const{to:e,cc:t,bcc:s}=this.state;return Object(wa.buildRecipients)([e,t,s])}),this.getContextFrom=(()=>this.state.from.email),this.handleFromChange=(e=>{this.setState({from:e},this.onHeaderChange)})},H_=F_,k_=s(471),G_=s(59);const{TAB:w_,ENTER:x_,ESCAPE:B_,ARROW_UP:j_,ARROW_DOWN:V_,ARROW_LEFT:W_,ARROW_RIGHT:q_}=h.zb;class K_{constructor(e){this.args=e,this.TAG_REGEX=/^[\s]*[@+]([a-zA-Z\s]*)$/,this.keyCodeMapper=[w_,x_,B_,j_,V_],this.dropdownRef=this.args.dropdownRef,this.activeIndexBeginAt=1,this.lineHeight=20}getEventName(e){return"string"==typeof e?e:e&&e.type}contentChanged(e){if("keydown"===this.getEventName(e)&&this.args.isContactSuggestionVisible()){const t=this.args.getContactSuggestions(),s=this.args.getDropdownActiveIndex();this.keyCodeMapper.indexOf(e.key)>-1?(e.preventDefault(),e.stopPropagation()):[q_,W_].indexOf(e.key)>-1&&this.args.toggleDropdown(!1);const a=t.length;if([w_,x_].indexOf(e.key)>-1)this.args.insertContact(t[s-this.activeIndexBeginAt]);else if(e.key===V_){const e=s+1;this.args.updateActiveIndex(e>a?this.activeIndexBeginAt:e)}else if(e.key===j_){const e=s-1;this.args.updateActiveIndex(e<this.activeIndexBeginAt?a:e)}else e.key===B_&&this.args.toggleDropdown(!1)}}onContentMutated(e){if(e.filter(e=>"characterData"===e.type).length&&this.dropdownRef){try{const e=K_.getRangeFromStartToCursor().startContainer,t=e.textContent,s="Firefox"===Object(T.a)(window,"AppBootstrapData.browserName","")?t.replace(/<br>/,""):t,a=this.TAG_REGEX.exec(s);if(a&&a.length){const t=e.parentElement.getBoundingClientRect(),s=a[a.length-1],{x:n}=this.args.rte.getCaretCoordinates(),r=this.getOffets(),o=t.top-this.args.rte.element.getBoundingClientRect().top,i=t.height;return this.dropdownRef.style.left=r.left+n+10+"px",this.dropdownRef.style.top=r.top+o+i+"px",void this.args.showContactSuggestion(s)}}catch(e){return}this.args.hideContactSuggestion()}}static getRangeFromStartToCursor(){const e=window.getSelection(),t=document.createRange();return t.setStart(e.anchorNode,0),t.setEnd(e.anchorNode,e.anchorOffset),t}getOffets(){const{containerRef:e,rte:t}=this.args,s=t.element.getBoundingClientRect(),a=e.getBoundingClientRect();return{top:s.top-(a.top||0),left:s.left-(a.left||0)}}setDropdownElement(e){this.dropdownRef=e}insertContact(e=""){this.args.rte.restoreCaret(),this.args.rte.focus();const t=K_.getRangeFromStartToCursor(),s=t.toString(),a=this.TAG_REGEX.exec(s);if(a&&a.length){t.setStart(t.startContainer,a.index),t.setEnd(t.endContainer,t.endOffset);const n=window.getSelection();n.removeAllRanges(),n.addRange(t);let r="initial";try{r=window.getComputedStyle(n.anchorNode.parentElement).getPropertyValue("font-size")}catch(e){G_.a.error("Unable to get font size",e)}document.execCommand("inserthtml",!1,this._getHighlightedName(s[a.index]+e,r)),t.startContainer.parentElement.style.fontSize=r}}_getHighlightedName(e,t){return`<span style="background-color: #DBEDFE;font-size: ${t}" contenteditable="false" tabIndex="-1">${e}</span>&nbsp;`}}var z_=K_;class Y_ extends we.a.Component{constructor(e){super(e),this._onXButtonClick=(()=>{this.props.closeAutotagForCurrentSession(),this._closeAutotag()}),this.insertContact=(e=>{e.disabled||(this.toggleDropdown(!1),this.props.addInlineContactSuggestionToCcField(e),this._autotagPlugin.insertContact(e.name))}),this._closeAutotag=(()=>{this._dropdownRef&&this.toggleDropdown(!1)}),this._handleDropdownRef=(e=>{this._dropdownRef=this._dropdownRef||Object(xe.findDOMNode)(e),this._autotagPlugin&&this._autotagPlugin.setDropdownElement(this._dropdownRef)}),this.state={contactActiveIndex:1,isContactSuggestionVisible:!1}}componentDidMount(){this.requestContactSuggestions=i_()(this.props.requestContactSuggestions,300),window.addEventListener("mousedown",this._closeAutotag)}componentWillReceiveProps(e){if(!this._autotagPlugin&&e.editorReference&&e.editorReference.rte){const{containerRef:t,editorReference:s}=e,{rte:a}=s;this._autotagPlugin=new z_({showContactSuggestion:this.showContactSuggestion.bind(this),hideContactSuggestion:this.toggleDropdown.bind(this),isContactSuggestionVisible:()=>this.isContactSuggestionVisible(),setEditorState:e=>this.setState(e),updateActiveIndex:e=>this.setState({contactActiveIndex:e}),getContactSuggestions:()=>this.props.contactSuggestions,getDropdownActiveIndex:()=>this.state.contactActiveIndex,wasDropdownClosed:()=>this.props.wasDropdownClosed,insertContact:this.insertContact,toggleDropdown:this.toggleDropdown.bind(this),dropdownRef:this._dropdownRef,containerRef:t,rte:a}),e.editorReference.rte.addPlugin(this._autotagPlugin)}}showContactSuggestion(e=""){e.trim().length>0&&(this.requestContactSuggestions({query:e}),this.toggleDropdown(!0))}toggleDropdown(e=!1){this.state.isContactSuggestionVisible!==e&&this.setState({isContactSuggestionVisible:e,contactActiveIndex:1})}componentWillUnmount(){window.removeEventListener("mousedown",this._closeAutotag)}_getContactOptionItems(e){const{formatMessage:t}=this.context.intl;return[we.a.createElement(Xl.Option,{className:e.relatedContactsContainer,disabled:!0,value:{disabled:!0}},we.a.createElement("span",{className:e.relatedContacts},we.a.createElement(Pr.c,{id:"autotag_dropdown.add_recipient",defaultMessage:"Add a recipient"})),we.a.createElement("span",{className:e.relatedContactsClose},we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":"autotag-close-button",kind:Ur.b.CLOSE,size:Ur.d.XXS,onMouseDown:this._onXButtonClick,colorState:Ur.a.FIRST_LEVEL_GRAY,paddingLess:!0,title:t(C_.close_related_contacts),id:"autotag-close"}))),...this.props.contactSuggestions.map((t,s)=>we.a.createElement(Xl.Option,{className:e.typeaheadOption,key:s,value:t},we.a.createElement(g_,{option:t,allowContactRemoval:!1})))]}isContactSuggestionVisible(){return!(this.props.wasDropdownClosed||!this.props.contactSuggestions.length||!this.state.isContactSuggestionVisible)}render(){if(!this._autotagPlugin)return null;const e=to()(Ul.a,{autotag:!0});return we.a.createElement(Xl.Dropdown,{ref:this._handleDropdownRef.bind(this),options:this._getContactOptionItems(e),activeIndex:this.state.contactActiveIndex,visible:this.isContactSuggestionVisible(),onMouseDown:this.insertContact,className:e.typeaheadDropDown})}}Y_.defaultProps={containerRect:{},wasDropdownClosed:!1},Y_.contextTypes={intl:Pr.i.isRequired};var Z_=Object(Lr.b)((e,t)=>{const{getAutotagSuggestions:s,getComposeSessionsSelectors:a}=Object(So.b)(e),{wasAutotagDropdownClosed:n}=a();return{contactSuggestions:s(t.csid),wasDropdownClosed:n(t.csid)}},(e,t)=>({requestContactSuggestions:s=>{e(Object(__.e)(babelHelpers.extends({},s,{csid:t.csid})))},closeAutotagForCurrentSession:()=>{e(Object(__.c)({csid:t.csid}))}}),null,{withRef:!0})(Y_),X_=s(558),Q_=s.n(X_);const $_=to()(Q_.a),J_="Files";var eu=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={dragOverlayVisible:!1},this.handleDragOver=(e=>{Array.prototype.slice.call(e.dataTransfer.types).some(e=>e===J_)&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),e.preventDefault(),e.stopPropagation())}),this.handleDragLeave=(e=>{e.preventDefault(),e.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})}),this.handleDrop=(e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;this.setState({dragOverlayVisible:!1},()=>this.props.onDrop(Array.prototype.slice.call(t)))}),t}render(){return we.a.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:$_.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?we.a.createElement("div",{className:$_.dragOverlay},we.a.createElement("div",{className:$_.dragDescriptionContainer},we.a.createElement(Fr.b,{kind:Ur.b.ATTACH_GENERIC_48,colorState:Ur.a.ATTACH_GENERIC,size:Ur.d.L}),we.a.createElement("div",{className:$_.dragTextDescription},we.a.createElement(Pr.c,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}},tu=s(266),su=s(261),au=s(150),nu=s(175),ru=s(120),ou=s(272),iu=s(95);function cu(e,{csid:t,files:s,newContentIds:a,i13nModel:n}){e.dispatch(Fo.a.FILE_ATTACHMENT_ADDED,{csid:t,files:s,newContentIds:a,i13nModel:n})}var lu=s(233),du=s(209),Eu=s(565),_u=s.n(Eu),uu=s(61),pu=s(196),mu=s.n(pu),hu=s(164),Su=s(187),gu=s(53),Iu=s(195),Cu=s(372),Tu=s(28),Au=s(156);const{INLINE_IMAGE_CLASS:Ou}=u_.INLINE_IMAGE_PLUGIN_CLASSES,bu="<div><br/></div>",Ru=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),Du=/^((?:re|fwd?): )*/i,fu=(e=[])=>{const t={},s=[];return e.forEach(e=>{t[e.email]||(t[e.email]=!0,s.push(e))}),s};var Nu=({accounts:e=[],listId:t,csid:s,selectors:a})=>n=>{const r=(({accounts:e=[],listId:t,csid:s,selectors:a},n)=>{const r=`${Su.a}_${s}`,o={from:Object(wa.getFromAddress)(e),to:[],cc:[],bcc:[],subject:"",body:"",canApplyDefaultStationery:!0,stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[r]}],uiState:{useRichText:!0,isQuotedTextExpanded:!1},undoStack:[],redoStack:[]},{getFeaturesSelectors:i,getMrdParams:c,getAdsSelectors:l,doesComposeSessionExist:d,findUnsyncedDataByCsid:E,doComposeFromRouteQueryParams:_,doComposeFromMailToLink:u,getComposeMailToLink:p,getDraftMessageId:m,getForwardCreativeId:S,isReplyOrReplyAll:g,getReplyingToMessageId:I,getSubjectAndSnippetSelectors:C,getMessageFromAddress:T,getMessageToAddress:A,getMessageCcAddress:O,getMessageBccAddress:b,getMessageTimeStamp:R,doesMessageBodyExist:D,getReplyToAddress:f,isReplyMessage:N,isReplyAllMessage:M,isForwardMessage:L,isMyEmailAddress:y,getAttachmentsByMessageId:P,getSignatureByAccountEmail:v,getMessageBody:F,getAttachmentById:U,getForwardAttachmentIds:H,getStationeryTheme:k,getComposeUndoStack:G,getComposeRedoStack:w,getComposeUiState:x,getTimeZoneName:B,getComposeSessionsSelectors:j}=a,V=i("conversations"),W=v(o.from.email),q=k(s);let K="";if(q!==u_.NO_STATIONERY&&(o.stationeryTheme=q),o.stationeryTheme||(o.stationeryTheme=i().getSetting(h.id.STATIONERY_DEFAULT_THEME)),W&&(K=`${bu}${bu}<div class="signature">${W}</div>`),!d(s))return K&&(o.body+=`<div>${K}</div>`),o;const z=m(s),{getSubject:Y}=C(),Z=E(s);if(Z)return o.from=Z.from||o.from,o.to=Z.to||o.to,o.cc=Z.cc||o.cc,o.bcc=Z.bcc||o.bcc,o.subject=Z.subject||o.subject,o.body=Z.html||Z.text||o.body,o.canApplyDefaultStationery=!o.body,o.attachmentsInfo=Z.attachmentsInfo||o.attachmentsInfo,o.uiState=Z.uiState||o.uiState,o.stationeryTheme=Z.stationeryTheme||o.stationeryTheme,o.undoStack=Z.undoStack||o.undoStack,o.redoStack=Z.redoStack||o.redoStack,o;if(z){const{html:a="",text:n="",htmlAnnotations:r=[]}=D(z)?F(z):{},i=T(z)||[];return o.from=Object(wa.getFromAddress)(e,(i[0]||{}).email),o.to=A(z),o.cc=O(z),o.bcc=b(z),o.subject=Object(gu.l)(Y(z,t)||""),o.body=a||n||"",o.canApplyDefaultStationery=!o.body,o.htmlAnnotations=r,o.attachmentsInfo=P(z),o.stationeryTheme=k(s)||o.stationeryTheme,o.undoStack=G(s)||[],o.redoStack=w(s)||[],o.uiState=x(s)||o.uiState,o}if(_(s)){const e=c();return o.to=e.initialTo||[],o.cc=e.initialCc||[],o.bcc=e.initialBcc||[],o.subject=e.initialSubject||"",o.body=e.initialBody&&e.initialBody.content||"",o.canApplyDefaultStationery=!o.body,o.stationeryTheme=e.initialStationeryTheme||o.stationeryTheme,o.showGIFPicker=e.showGIFPicker,o.showStationeryPicker=e.showStationeryPicker,o}if(u(s)){const e=Object(Cu.a)(p(s)||"");return babelHelpers.extends({},o,{to:(e.to||[]).map(e=>({email:e})),cc:(e.cc||[]).map(e=>({email:e})),bcc:(e.bcc||[]).map(e=>({email:e})),subject:e.subject||"",body:e.body||"",canApplyDefaultStationery:!0})}const{formatMessage:X}=n.intl,Q=S(s);if(Q){const{nativeAd:e={},pencilAd:t={}}=l().getSponsoredAd(Q);return o.subject=t.adHeadline||"",o.body=[`${bu}\n            ${bu}\n            ${bu}\n            <div style="${Ru}">\n                <div>----- ${X(Tu.a.forwarded_message)} -----</div>\n                ${bu}\n                <div>${e.geminiSponsoredAsset||""}</div>\n            </div>`].join(""),o.body+=`<div>${K}</div>`,o.canApplyDefaultStationery=!1,o}const $=H(s);if($.length){const e=U($[0]),{downloadUrl:t,contentId:s,disposition:a}=e;return a===h.u.Dispositions.INLINE?(o.body+=[`<img class="${Ou}" src="${Object(Iu.a)(t)}" data-id="${s}"/><br/>`,bu].join(""),o.canApplyDefaultStationery=!1):o.attachmentsInfo=[e],o}const J=I(s),ee=Object.assign({timezone:B()},u_.FORMAT_DATE_OPTION);if(J){const a=N(s),c=M(s),l=L(s),d=[...f(J)]||!1,E=T(J)||[],_=Boolean(!!x(s)&&x(s).isQuotedTextExpanded);d.length&&!d.name&&E.length&&d[0].email===E[0].email&&(d[0].name=E[0].name);const u=A(J),p=O(J),m=b(J);if(o.from=Object(wa.getFromAddressForReplyForward)(e,{to:u,cc:p,bcc:m}),a)o.to=[...d,...E].slice(0,1);else if(c){const e=-1!==E.findIndex(e=>y(e.email)),t=-1!==d.findIndex(e=>y(e.email)),s=-1!==u.findIndex(e=>y(e.email)),a=(e||t)&&s?[...d,...E].find(e=>y(e.email)):[];o.to=fu([...u,...t?[]:d,...d.length||e?[]:E].filter(e=>e.email!==o.from.email).concat(a)),o.cc=fu([...p].filter(e=>e.email!==o.from.email).filter(e=>!o.to.find(t=>t.email===e.email)))}const S=Object(gu.l)(Y(J,t)||"");if(S){const e=g(s)?"Re: ":"Fw: ";o.subject=e+S.replace(Du,"")}const I=n.intl.formatDate(1e3*R(J),ee),{html:C=""}=F(J),D=[];if(E.length)if(V&&g(s)){const{name:e="",email:t}=E[0];D.push(`<div>\n                    ${Object(Iu.b)(X(Tu.a.quoted_draft,{date:I,quotedName:e,quotedAddress:t}))}\n                </div>\n                ${bu}\n                ${bu}`)}else D.push(`<div>${X(Tu.a.quoted_message_from,{from:Object(Iu.b)(Object(wa.addressHTMLString)(E[0]))})}</div>`),u.length&&D.push(`<div>${X(Tu.a.quoted_message_to,{to:Object(Iu.b)(u.map(wa.addressHTMLString).join("; "))})}</div>`),p.length&&D.push(`<div>${X(Tu.a.quoted_message_cc,{cc:Object(Iu.b)(p.map(wa.addressHTMLString).join("; "))})}</div>`),D.push(`<div>${X(Tu.a.quoted_message_sentdate,{sentDate:I})}</div>`,`<div>${X(Tu.a.quoted_message_subject,{subject:S})}</div>`,bu);const v=g(s)?"":`<div>----- ${X(Tu.a.forwarded_message)} -----</div>`,U=V?"":"<hr/>";let H=C;return i().isEnabled(h.kb.CEP_FORWARD)&&l&&!_&&-1===C.indexOf(`<div fwdid=${s} src='mid://${J}'>`)&&(H=[`<div fwdid=${s} src='mid://${J}'>`,C,"</div>"].join("")),o.body=[`<div>${K}</div>\n        ${bu}${bu}\n        ${U}\n        <div id="${Object(Iu.a)(r)}" class="${Su.a}">\n            <div style="${Ru}">\n                ${v}\n                ${D.join("")}\n                <div>${H}</div>\n            </div>\n        </div>`].join(""),o.canApplyDefaultStationery=!0,o.attachmentsInfo=g(s)?[]:P(J),o}const te=j().getComposeParams(s);return te&&(o.to=te.to||[]),K&&(o.body+=`<div>${K}</div>`),o.stationeryTheme&&q!==u_.NO_STATIONERY&&(o.showStationeryPicker=!0),o})({accounts:e,listId:t,csid:s,selectors:a},n);return Object(C.b)()&&(r.body=r.uiState.useRichText?Object(Au.d)(r.body,a):Object(Au.a)(r.body)),r},Mu=s(446),Lu=s(205),yu=s(281),Pu=s(55);const vu=h.ab.Status,Fu=40,Uu=h.I.Modes,{Dispositions:Hu}=h.u,ku={[Fo.a.COMPOSE_NO_ADDRESS_DETECTED]:pi,[Fo.a.COMPOSE_ADDRESSING_FAILED]:hi,[Fo.a.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:mi},Gu=()=>{},wu=to()(_u.a),xu={_data:{},get(e){return this._data[e]||{}},set(e,t={}){this._data[e]||(this._data[e]={}),Object.assign(this._data[e],t)}};class Bu extends we.a.Component{constructor(e,t){super(e,t),ju.call(this);const{composeFontSize:s,composeFontFamily:a,isQuotedTextExpanded:n}=e,{from:r,to:o,cc:i,bcc:c,subject:l="",body:d="",canApplyDefaultStationery:E=!1,htmlAnnotations:_=[],attachmentsInfo:u=[],stationeryTheme:p="",showGIFPicker:m=!1,showStationeryPicker:h=!1,uiState:S={useRichText:!0,isQuotedTextExpanded:n},undoStack:g=[],redoStack:I=[]}=e.getContent(t);this.from=r,this.to=o,this.cc=i,this.bcc=c,this.subject=l,this.content=d,this.canApplyDefaultStationery=E,this.htmlAnnotations=_,this.attachmentsInfo=u,this.rawFiles={},this.newContentIds=[],this.stationeryTheme=p,this.showGIFPicker=m,this.showStationeryPicker=h,this.formatState={foreColor:qE.a.DEFAULTS.FG_COLOR,backgroundColor:qE.a.DEFAULTS.BG_COLOR,fontSize:s||"0",fontFamily:a||""},this.uiState=S,this.undoStack=g,this.redoStack=I,this.uiState.useRichText||(this.content=Object(du.formatPlaintextForDisplay)(this.content)),this.state={imgHoverMenuVisible:!1,composeWidth:null,composeLeft:null,unsupportedFileTypeAlert:!1}}componentDidMount(){const{csid:e,isSendFailed:t}=this.props,{scrollPosition:s}=xu.get(e);t(e)&&(this.lastEditedTimeStamp=Date.now()),this.mousetrap=this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts,this.container),void 0!==s&&this._restoreScrollPosition(s),this._updateWidth(),this._handleWindowResize=mu()(this._handleWindowResize,Fu),window.addEventListener("resize",this._handleWindowResize)}componentDidUpdate(e){e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize(),e.widthChanged!==this.props.widthChanged&&this._updateWidth(),e.composeFontFamily===this.props.composeFontFamily&&e.composeFontSize===this.props.composeFontSize||(this.formatState=babelHelpers.extends({},this.formatState,{fontSize:this.props.composeFontSize||"0",fontFamily:this.props.composeFontFamily||""}));const t=this.getDraftStatus();this.props.csid===e.csid&&t===vu.SENT&&this.props.onSendSuccess&&this.props.onSendSuccess()}componentWillUnmount(){const e=Object(xe.findDOMNode)(this.refs.editorContainer),{scrollTop:t}=e;this.context.unbindShortcut(this.props.listenKeys,this.mousetrap),xu.set(this.props.csid,{scrollPosition:t}),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize)}render(){const{accounts:e,getComposeFieldToFocus:t,composeFontFamily:s,composeFontSize:a,conversations:n,csid:r,dragDropPill:o,emoji:i,gif:c,inlineAttachment:l,isBccDisabled:d,canEditSubject:E,isQuotedTextExpanded:_,onExpandQuotedText:u,linkEnhancer:p,linkEnhancerUrlBlacklist:m,enhancedLinks:h,preloadEmoji:S,autotagEnabled:g,refToComposeContainer:I,refToComposeHeader:C,showCloseButton:T,showEmojiCue:A,showFrom:O,showStationeryCue:b,showSubject:R,simpleCompose:D,stationery:f,stationeryDefaultTheme:N,stationeryRestrictedThemes:M,toolbarFixed:L,uploadEnabled:y,cepForward:P,isFreshCompose:v,composeMode:F,addRecipient:U,dragDropContact:H}=this.props,k=this.getDraftStatus(),G=this.props.lastSavedTime||0,{formatMessage:w}=this.context.intl,x=P?_||F!==Uu.FORWARD&&!n:F===Uu.FORWARD||!n,B=k!==vu.SENDING,{to:j,cc:V}=this,W=t(r),q=this.attachmentsInfo;return we.a.createElement(Lu.a,{getUnsyncedData:this.getUnsyncedData},we.a.createElement("div",{"data-test-id":"compose",role:"main","aria-label":w(Tu.a.compose_view),ref:e=>{this.container=e,I(e)},className:wu.compose},S?this.renderEmojiPreloader():null,g&&we.a.createElement(Z_,{addInlineContactSuggestionToCcField:this.addInlineContactSuggestionToCcField,editorReference:this.refs.editor,csid:this.props.csid,containerRef:this.container,ref:e=>{e&&(this._autotag=e.getWrappedInstance())}}),we.a.createElement(H_,{ref:e=>{this.header=e,C(e)},dragDropPill:o,composeMode:F,onChange:this.handleHeaderChange,onEditSubject:this.handleEditSubject,onClose:this.handleClose,showSubject:R,showFrom:O,showCloseButton:T,from:this.from,to:j,cc:V,bcc:this.bcc,subject:this.subject,csid:r,accounts:e,initialFocus:W,isBccDisabled:d,canEditSubject:E,addRecipient:U,dragDropContact:H}),we.a.createElement(eu,{onDrop:this.handleDrop},we.a.createElement("div",{className:wu.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},we.a.createElement(k_.a,{ariaLabel:w(Tu.a.message_body),autoExpandQuotedText:x,onExpandQuotedText:u,cepForward:P,getAttachments:this.getAttachments,composeFontFamily:s,composeFontSize:a,content:this.content,canApplyDefaultStationery:this.canApplyDefaultStationery,contentEditable:B,csid:r,htmlAnnotations:this.htmlAnnotations,initialFocus:W===u_.FocusableRefs.EDITOR,inlineAttachment:l,linkEnhancer:p,linkEnhancerUrlBlacklist:m,enhancedLinks:h,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onKeyDown:this.handleEditorKeyDown,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,u_.ToolbarActions.UPDATE_STATIONERY),ref:u_.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,stationery:f,getThemeConfig:this.getThemeConfig,undoStack:this.undoStack,redoStack:this.redoStack,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),q.length?we.a.createElement(su.a,{ref:e=>this._attachmentTray=e,onAttachmentRemove:this.handleAttachmentRemoval,readOnly:!1,allowDownload:!1,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText,getAttachments:this.getAttachments,csid:r}):null),we.a.createElement(tu.a,{getDraftStatus:this.getDraftStatus,useRichText:this.uiState.useRichText,ref:"toolbar",showDeleteButton:!D,lastDraftSavedTime:G,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:y,focusOnEditor:this.focusOnEditor,fixed:L,width:this.state.composeWidth,left:this.state.composeLeft,showStationeryCue:b&&F===Uu.NEW,showEmojiCue:A&&F===Uu.NEW,isFreshCompose:v,stationeryDefaultTheme:N,stationeryTheme:this.stationeryTheme,stationeryEnabled:f,gifFinderEnabled:c,csid:r,addEmoji:this.addEmoji,onMoreMenuClick:this.onMoreMenuClick,emojiEnabled:i,stationeryRestrictedThemes:M,onGifClick:this.onGifClick,showGIFPicker:this.showGIFPicker,showStationeryPicker:this.showStationeryPicker}))))}}Bu.contextTypes={executeAction:Ve.a.func,intl:Pr.i.isRequired,config:Ve.a.object,navigateTo:Ve.a.func,toast:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func,getTheme:Ve.a.func,getStore:Ve.a.func},Bu.defaultProps={showSubject:!0,getDraftStatus:Gu,getComposeFieldToFocus:Gu,refToComposeContainer:Gu,refToComposeHeader:Gu,onChange:Gu,onSend:Gu,onMoreMenuClick:Gu,onExpandQuotedText:Gu,isQuotedTextExpanded:!1,handleToolbarActions:Gu,shouldShowIncludeOriginalAttachmentsAlert:()=>!1,shouldShowEmptySubjectAlert:()=>!1,getContent:Gu,cepForward:!1,simpleCompose:!1,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:Gu,toolbarFixed:!1,onResize:Gu,isBccDisabled:!1,canEditSubject:!0,widthChanged:0,onContactAdd:()=>{},onContactRemove:()=>{},onMultipleContactsAdd:()=>{},getSavedAttachment:e=>e,isSendFailed:()=>!1,listenKeys:[]};var ju=function(){this._updateWidth=(()=>{const e=Object(xe.findDOMNode)(this.container),t=e&&e.getBoundingClientRect();t&&this.setState({composeWidth:t.width,composeLeft:t.left})}),this._restoreScrollPosition=(e=>{Object(xe.findDOMNode)(this.refs.editorContainer).scrollTop=e}),this._handleWindowResize=(()=>{this._updateWidth(),this.props.onResize()}),this.onChange=((e,t={})=>{t.type&&Object(Mu.a)(t),t.skipContentChanged||(this.lastEditedTimeStamp=Date.now(),this.props.onChange(babelHelpers.extends({},e,{lastEditedTimeStamp:this.lastEditedTimeStamp}),t),this.newContentIds=[])}),this.handleHeaderChange=(e=>{const{from:t,to:s,cc:a,bcc:n,subject:r}=e;this.from=t,this.to=s,this.cc=a,this.bcc=n,this.subject=r,this.onChange(this._getUserInputtedValues(),{type:"header_changed"})}),this.getUnsyncedData=(()=>({type:h.Td.COMPOSE,id:this.props.csid,userInputtedValues:this._getUserInputtedValues()})),this.handleEditSubject=(()=>{this.lastEditedTimeStamp=Date.now(),this.context.navigateTo({route:Object(ho.e)(this.props.csid),isReplyingMessageSubjectEdited:!0})}),this.handleEditorContentChange=(e=>{const{format:t,caret:s,type:a}=e;Object(T.d)(this.formatState,t)||(this.formatState=babelHelpers.extends({},this.formatState,t)),this.onChange(this._getUserInputtedValues(),e),this.props.onContentChanged({caret:s,type:a})}),this._getUserInputtedValues=(()=>{const e=this.refs.editor.getUndoStack(),t=this.refs.editor.getRedoStack();return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:this.refs.editor.getRawMessageContent(),htmlAnnotations:this.htmlAnnotations,attachmentsInfo:this.attachmentsInfo,rawFiles:this.rawFiles,newContentIds:this.newContentIds,lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState,stationeryTheme:this.stationeryTheme||u_.NO_STATIONERY,undoStack:e,redoStack:t}}),this.deleteDraft=(()=>{const{getAdditionalPayloadForDeleteDraft:e}=this.props,t=e(),s=this.getDraftStatus();this.context.executeAction(ou.b,Object.assign({listId:this.props.listId,csid:this.props.csid,draftStatus:s,permanent:!0,i13nModel:{mKey:ao.e.DELETE_DRAFT,sec:ao.g.COMPOSE_TOOLBAR,interactionType:ao.d.click,mKeyGroup:ao.f.delete}},t))}),this.send=((e={})=>{const{i13nModel:t,captchaAnswer:s,forcedSend:a=!1,includeOriginalAttachments:n=!1}=e,{getSavedAttachment:r,getOriginalAttachments:o,csid:i}=this.props,{locale:c}=this.context.intl,l=o(i),d=this._getUserInputtedValues(),E=this.props.getDraftErrors(d),_=this.attachmentsInfo.map(e=>r(e));if(E){const{name:e,params:t}=E;ku[e]&&this.context.toast({data:t,role:h.nc.STATUS,message:ku[e]})}else if(a||!this.props.shouldShowEmptySubjectAlert(d)){if(a||!this.props.shouldShowIncludeOriginalAttachmentsAlert(d))return _.filter(({filename:e})=>!Object(xa.l)(e)).length?Object(hu.a)(we.a.createElement(au.a,{title:this.context.intl.formatMessage(Tu.a.error_title),message:this.unSupportedAttachmentAlertMessage(),helpLink:Object(h.be)(c),onAccept:()=>{},onClose:()=>{}}),this.context):void(()=>{this.props.onSend(babelHelpers.extends({includeOriginalAttachments:n,captchaAnswer:s},d,{i13nModel:babelHelpers.extends({mKey:ao.e.SEND,sec:ao.g.COMPOSE_TOOLBAR,mKeyGroup:ao.f.send},t)}))})();Object(hu.a)(we.a.createElement(nu.a,{title:this.context.intl.formatMessage(Tu.a.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(Tu.a.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:Tu.a.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:Tu.a.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:()=>{this.attachmentsInfo=l.concat(this.attachmentsInfo),this.onChange(this._getUserInputtedValues()),this.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:()=>this.send({forcedSend:!0,includeOriginalAttachments:!1}),onClose:()=>{},hideIcon:!0,dataTestId:"include-original-attachment"}),this.context)}else Object(hu.a)(we.a.createElement(nu.a,{title:this.context.intl.formatMessage(Tu.a.emptySubjectAlert),primaryButtonLabel:Tu.a.emptySubjectAlertSend,secondaryButtonLabel:Tu.a.emptySubjectAlertCancel,onPrimaryButtonClick:()=>this.send({forcedSend:!0}),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject(),hideIcon:!0}),this.context)}),this.unSupportedAttachmentAlertMessage=(()=>{const{formatMessage:e,locale:t}=this.context.intl,s=e(Tu.a.unsupportedFileType);return we.a.createElement("div",null,s,we.a.createElement(Zr.a,{kind:Xr.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>window.open(Object(h.be)(t),"_blank")},we.a.createElement("span",{className:wu.button},we.a.createElement(Pr.c,{id:"alert.learn_more_url",defaultMessage:"Learn more"}))))}),this.getThemeConfig=(()=>Object(yu.b)(this.stationeryTheme,this.props.stationeryDefaultTheme)),this.execEditorCommand=((e,t)=>{switch(e){case u_.ToolbarActions.PLAIN_TEXT:this.stationeryTheme=u_.NO_STATIONERY,this.execEditorCommand(u_.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.forceUpdate();break;case u_.ToolbarActions.RICH_TEXT:this.uiState.useRichText=!0;break;case u_.ToolbarActions.UPDATE_STATIONERY:this.stationeryTheme=t?t.themeName:u_.NO_STATIONERY}const s=document.activeElement;this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,t),e===u_.ToolbarActions.UPDATE_STATIONERY&&this.refs.editor.rte.focus(),s.focus()}),this.handleToolbarAction=((e,t={})=>{const{data:s,i13nModel:a}=t;switch(a&&this.props.handleToolbarActions({i13nModel:a}),e){case u_.ToolbarActions.FILE_SELECT:this.addFileAttachments(s);break;case u_.ToolbarActions.SEND:this.send();break;case u_.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case u_.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;case u_.ToolbarActions.PLAIN_TEXT:return void this._renderPlainTextWarning();default:this.execEditorCommand(e,s)}}),this._renderPlainTextWarning=(()=>{const{formatMessage:e}=this.context.intl;Object(hu.a)(we.a.createElement(nu.a,{title:e(Tu.a.switch_to_plain_text_warning_title),message:e(Tu.a.switch_to_plain_text_message),primaryButtonLabel:Tu.a.switch_to_plain_text_warning_ok,secondaryButtonLabel:Tu.a.switch_to_plain_text_warning_cancel,onPrimaryButtonClick:()=>this._switchToPlainText(),onSecondaryButtonClick:Gu,onClose:Gu,hideIcon:!0}),this.context)}),this._switchToPlainText=(()=>{this.execEditorCommand(u_.ToolbarActions.PLAIN_TEXT)}),this._handleStationeryDefaultThemeChange=(e=>{this.props.changeSettings({name:h.id.STATIONERY_DEFAULT_THEME,value:e}),""===e&&(this.stationeryTheme=u_.NO_STATIONERY)}),this.handleClose=(()=>{this.props.onClose&&this.props.onClose({i13nModel:{mKey:ao.e.CANCEL_COMPOSE,sec:ao.g.COMPOSE_CLOSE,interactionType:ao.d.click}})}),this.handleDrop=(e=>{const{ATTACHMENT:t,INLINE:s}=h.u.Dispositions,a={[t]:[],[s]:[]};e.forEach(e=>a[Object(wa.getAttachmentDisposition)(e)].push(e)),a[t].length&&this.addFileAttachments(a[t]),a[s].length&&this.addInlineAttachments(a[s])}),this.addAttachments=((e,t,{disposition:s,i13nModel:a})=>{if(!this.isValidAttachmentsSize(e)){const e=this.context.intl.formatMessage(Tu.a.bigAttachment,{maxFileSize:25});return Object(hu.a)(we.a.createElement(au.a,{title:this.context.intl.formatMessage(Tu.a.error_title),message:e,onAccept:()=>{},onClose:()=>{}}),this.context)}const n=e.map(s===Hu.ATTACHMENT?xa.b:xa.a);n.filter(({disposition:e,isFromDataURI:t=!1})=>e===Hu.INLINE&&!t).forEach(e=>this.insertInlineAttachment(e)),this.newContentIds=n.map(e=>e.contentId),this.attachmentsInfo=this.attachmentsInfo.concat(n),this.rawFiles=this.newContentIds.reduce((t,s,a)=>babelHelpers.extends({},t,{[s]:e[a]}),this.rawFiles),this.onChange(babelHelpers.extends({},this._getUserInputtedValues(),{files:e,i13nModel:Object.assign({interactionType:ao.d.click},a)}),{type:t,skipContentChanged:"addInlineAttachment"===t})}),this.addInlineAttachments=(e=>{this.uiState.useRichText?this.addAttachments(e,"addInlineAttachment",{disposition:Hu.INLINE,i13nModel:{mKey:ao.e.COMPOSE_DRAG_ATTACHMENT,sec:ao.g.COMPOSE_MSG}}):this.addFileAttachments(e)}),this.isValidAttachmentsSize=(e=>{const t=e.concat(this.attachmentsInfo);return this.getAttachmentSize(t)<=26214400}),this.getAttachmentSize=(e=>e.length?e.reduce((e,{size:t=0})=>e+t,0):0),this.moveImageAttachmentInline=(e=>{this.attachmentsInfo=this.attachmentsInfo.map(t=>t.contentId===e.contentId?babelHelpers.extends({},t,{disposition:Hu.INLINE}):t),this.insertInlineAttachment(e),this.onChange(this._getUserInputtedValues(),{type:"attachment_to_inline"}),this.forceUpdate()}),this.addFileAttachments=(e=>{this.addAttachments(e,"addAttachment",{disposition:Hu.ATTACHMENT,i13nModel:{mKey:ao.e.COMPOSE_ADD_ATTACHMENT,sec:ao.g.COMPOSE_TOOLBAR}}),setTimeout(()=>{const e=Object(xe.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()},0)}),this.handleAttachmentRemoval=(e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t})=>t!==e.contentId),this.onChange(babelHelpers.extends({},this._getUserInputtedValues(),{removedContentIds:[e.contentId]}),{type:"attachment_removed"})}),this.handleInlineAttachmentRemoval=(e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t,disposition:s})=>!(t===e&&s===Hu.INLINE)),this.onChange(babelHelpers.extends({},this._getUserInputtedValues(),{removedContentIds:[e]}),{type:u_.EDITOR_EVENTS.inline_image_removed})}),this.moveInlineAttachmentToTray=((e,t)=>{this.attachmentsInfo=this.attachmentsInfo.map(e=>e.contentId===t?babelHelpers.extends({},e,{disposition:Hu.ATTACHMENT}):e),this.onChange(this._getUserInputtedValues(),{type:"inlined_attachment_to_tray"})}),this.handleAttachmentTray=(e=>{const t=document.createElement("input");t.type="file",t.multiple=!0,t.id="inputFile",t.click(),t.addEventListener("change",t=>{const s=Array.prototype.slice.call(t.target.files);this.handleAttachmentTrayAdd(s,e)})}),this.handleAttachmentTrayAdd=((e,t)=>{this.context.executeAction(cu,{files:e,csid:t,i13nModel:{mKey:ao.e.COMPOSE_ADD_ATTACHMENT,sec:ao.g.COMPOSE_TOOLBAR,interactionType:ao.d.shortcut}})}),this.getDraftStatus=(()=>{if(this.lastEditedTimeStamp)return this.props.getDraftStatus(this._getUserInputtedValues())}),this.renderEmojiPreloader=(()=>we.a.createElement(lo.a,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader.jsx",recentlyUsedEmoji:this.props.recentlyUsedEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,897))},_moduleResolver:function(){return 897}})),this.handleCaptchaComplete=(e=>{this.send({captchaAnswer:e})}),this.onMoreMenuClick=(()=>{this.props.onMoreMenuClick({i13nModel:{mKey:ao.e.COMPOSE_OPEN_MORE_MENU,sec:ao.g.RTE_TOOLBAR}})}),this.handleShortcuts=(e=>{e.preventDefault(),e.stopPropagation();const t="Unidentified"===e.key?String.fromCharCode(e.which):e.key,s=e.metaKey||e.ctrlKey;if(s&&e.keyCode===mo.a.ENTER)this.send({i13nModel:{interactionType:ao.d.shortcut}});else if(s&&"S"===t.toUpperCase())this.context.executeAction(_o.h,{forceSync:!0,i13nModel:{mKey:ao.e.MANUAL_SAVE_DRAFT,sec:ao.g.COMPOSE_MSG}});else if(e.keyCode===mo.a.ESCAPE){if(this.props.autotagEnabled&&this._autotag&&this._autotag.isContactSuggestionVisible())return void this._autotag._closeAutotag();this.props.isQuickReply||this.handleClose()}}),this.focusOnEditor=(()=>{this.refs.editor.rte.focus()}),this.focusOnSubject=(()=>{this.header.focus(u_.FocusableRefs.SUBJECT)}),this.onGifClick=(e=>{const{editor:{rte:t}={}}=this.refs;t&&lu.a.insertGif(t,this.context.intl.formatMessage,e)}),this.addEmoji=(e=>{const{editor:{rte:t}={}}=this.refs;t&&lu.a.insertEmoji(t,this.context.intl.formatMessage,e)}),this.insertInlineAttachment=(e=>{const{editor:{rte:t}={}}=this.refs;t&&lu.a.insertInlineAttachment(t,this.context.intl.formatMessage,e)}),this.getAttachments=(()=>{const{getSavedAttachment:e}=this.props;return this.attachmentsInfo.map(t=>e(t))}),this.addInlineContactSuggestionToCcField=(e=>{let t=u_.FocusableRefs.TO;this.props.isFreshCompose||(this.header.toggleCcBcc(!0),t=u_.FocusableRefs.CC),this.header.handleContactAdd(t,e)})};const Vu=({csid:e,selectors:t})=>s=>{if(Object(wa.hasInvalidComposeField)(s))return!1;const{doesComposeSessionExist:a,isReplyOrReplyAll:n,hasNonInlineAttachmentsByMessageId:r,getReplyingToMessageId:o,getMessageFromAddress:i,getMessageToAddress:c,getMessageCcAddress:l}=t;if(!a(e)||!n(e))return!1;const d=o(e),{to:E=[],cc:_=[],attachmentsInfo:u=[]}=s;if(u.some(e=>e.disposition===Hu.ATTACHMENT))return!1;if(!r(d))return!1;const p=Object(wa.buildRecipients)([E,_]),m=Object(wa.buildRecipients)([c(d),l(d),i(d)]),h=WE()(p,m);return Boolean(h.length)},Wu=({csid:e,selectors:t})=>s=>{const a=Object(wa.hasInvalidComposeField)(s),{subject:n}=s,{isReplyOrReplyAll:r,isForwardMessage:o,doesComposeSessionExist:i}=t;return!a&&(!(!i(e)||r(e)&&!o(e))&&Boolean(!n||!n.trim().length))};var qu=Object(yr.d)(Object(Lr.b)((e,{csid:t,listId:s,accounts:a,initialShowSubject:n=!1,canEditSubject:r=!0,composeMode:o})=>{const i=Object(So.b)(e),{getRoute:c,getFeaturesSelectors:l,isComposeSaveDue:d,getComposeUiState:E,getComposeFieldToFocus:_,getAttachmentByContentId:u,getDraftErrors:p,getDraftStatus:m,isSendRequested:S,getGroupIdContainingMessageId:g,getComposeSessionsSelectors:I,isReplyOrReplyAll:C,isForwardMessage:T,getDraftMessageId:A,getAttachmentsByMessageId:O,getMainStreamListIds:b,getLinkEnhancerSelectors:R}=i,{isEnabled:D,getSetting:f}=l(),{getInReplyToMessageId:N,getInReplyAllToMessageId:M,getLastSaveTimeStamp:L,isSendFailed:y}=I(),P=n||r,v=D("conversations"),F=D(h.kb.CEP_FORWARD),U=f(h.kb.INLINE_ATTACHMENT),H=D(h.id.STATIONERY_RESTRICTED_THEMES),k=f(h.id.LINK_ENHANCER_URL_BLACK_LIST),G=R().getEnhancedLinks(),w=D(h.kb.RTL),x=D(h.kb.EMOJI),B=D(h.kb.PRELOAD_EMOJI),j=D(h.kb.GIF),V=D(h.kb.STATIONERY),W=D(h.kb.RECENTLY_USED_EMOJI),q=L(t);return{cepForward:F,getDraftErrors:p,getContent:Nu({accounts:a,csid:t,listId:s,selectors:i}),shouldShowIncludeOriginalAttachmentsAlert:Vu({csid:t,selectors:i}),shouldShowEmptySubjectAlert:Wu({csid:t,selectors:i}),showSubject:P,getComposeFieldToFocus:()=>_(t),dragDropPill:D("dragDropPill"),conversations:v,isSaveDue:d,isSendFailed:y,isSendRequested:S,isQuotedTextExpanded:Boolean(!!E(t)&&E(t).isQuotedTextExpanded),getDraftStatus:e=>m(e),inlineAttachment:U,stationeryRestrictedThemes:H,linkEnhancerUrlBlacklist:k,enhancedLinks:G,rtl:w,getSavedAttachment:e=>{const{contentId:t}=e,s=u(t);return s?babelHelpers.extends({},e,s,{disposition:e.disposition}):e},emoji:x,preloadEmoji:B,gif:j,stationery:V,recentlyUsedEmoji:W,showStationeryCue:D(h.kb.STATIONERY_CUE),showEmojiCue:D(h.kb.EMOJI_CUE),autotagEnabled:D(h.kb.AUTOTAG),stationeryDefaultTheme:f(h.id.STATIONERY_DEFAULT_THEME),listenKeys:["ctrl+s","command+s","ctrl+enter","command+enter","escape"],getAdditionalPayloadForDeleteDraft:()=>{const e=A(t),a=e?g(e):void 0;return{streamId:Object(Pu.a)(b(c())),messageGroupIds:a?[a]:[],streamItem:{id:a,listId:s,messageIds:e?[e]:[]},messageIds:e?[e]:[]}},isFreshCompose:!(C(t)||T(t)),composeMode:o,getOriginalAttachments:e=>{const t=N(e)||M(e);return t?O(t):[]},lastSavedTime:q}}),Object(Lr.b)(void 0,(e,{isSaveDue:t,isSendRequested:s})=>({onMoreMenuClick:t=>e(Object(iu.m)(t)),handleToolbarActions:t=>e(Object(iu.d)(t)),onChange:s=>t(s)&&e(Object(iu.h)(s)),onSend:t=>!s(t.csid)&&e(Object(iu.k)(t)),onExpandQuotedText:t=>e(Object(iu.c)(t)),linkEnhancerFetch:t=>e(ru.a(t)),onLinkEnhancerlinkRemoved:t=>e(ru.h(t)),onLinkEnhancerlinkMoveToInline:t=>e(ru.f(t)),onLinkEnhancerlinkAdded:t=>e(ru.d(t)),onLinkEnhancerlinkResized:t=>e(ru.i(t)),onLinkEnhancerlinkMoveToBottom:t=>e(ru.e(t)),addRecipient:t=>e(iu.a(t)),dragDropContact:t=>e(iu.b(t)),changeSettings:t=>e(Object(uu.a)(t))})))(Bu),Ku=s(566),zu=s.n(Ku),Yu=s(207),Zu=s(105);const Xu=to()(zu.a);function Qu(e){const{previewMessage:t,listId:s,messageId:a}=e;t({listId:s,messageIds:[a]})}function $u(e){const{listId:t,messageId:s}=e;return we.a.createElement("div",{"data-test-id":"compose",className:Xu.errorContainer},s?function(){return we.a.createElement(Yu.a,{expanded:!0,expandable:!1})}():null,t&&s?function(e){return we.a.createElement("span",{className:Xu.errorWrapper},we.a.createElement(Fr.b,{kind:Ur.b.EXCLAMATION_ALT,size:Ur.d.S,colorState:Ur.a.COOL_FAINT}),we.a.createElement("span",{"data-test-id":"compose-app-error",className:Xu.errorMessage},we.a.createElement(Pr.c,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:we.a.createElement("a",{className:Xu.emptyBodyRetry,onClick:Qu.bind(null,e),"data-test-id":"body-error-retry"},we.a.createElement(Pr.c,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}(e):function(){return we.a.createElement("span",{className:Xu.errorWrapper},we.a.createElement(Fr.b,{kind:Ur.b.EXCLAMATION_ALT,size:Ur.d.S,colorState:Ur.a.COOL_FAINT}),we.a.createElement("span",{"data-test-id":"compose-app-error",className:Xu.errorMessage},we.a.createElement(Pr.c,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."})))}())}var Ju=Object(Lr.b)(void 0,e=>({previewMessage:t=>e(Object(Zu.g)(t))}))($u),ep=s(568),tp=s.n(ep);const sp=h.I.Modes,ap=to()(tp.a);function np(e){const{csid:t,composeDataState:s,composeMode:a,onClose:n}=e;return-1!==[h.Mc.LOADING,h.Mc.DOES_NOT_EXIST].indexOf(s)?we.a.createElement("div",{className:ap.loadingContainer},we.a.createElement(wc.b,null)):s===h.Mc.ERROR?we.a.createElement(Ju,e):we.a.createElement(qu,babelHelpers.extends({key:`${t}-${a}`},e,{csid:t,composeMode:a,onSendSuccess:n}))}var rp=Object(Lr.b)((e,t)=>{const{doesComposeSessionExist:s,getDraftMessageId:a,getReplyingToMessageId:n,isSecureMessage:r,doesMessageFullBodyExist:o,doesMessageBodyHasError:i,isReplyMessage:c,isReplyAllMessage:l,isForwardMessage:d,getRoute:E,getCurrentListId:_,getFeaturesSelectors:u,getEnvironmentSelectors:p,getTimeZoneName:m,getSelectedAccountId:S,getSendAccountsByAccountId:g,hasMultipleRootAccounts:I,getLastEditedTimestampForCompose:C}=Object(So.b)(e),{name:T,params:A}=E();let O=void 0,b=h.Mc.DOES_NOT_EXIST,R=sp.NEW;if(-1!==[h.Pc.NEW_DRAFT,h.Pc.EDIT_DRAFT].indexOf(T)&&(O=A.csid),!(O=O||t.csid)||!s(O))return{csid:O,composeDataState:O?h.Mc.DOES_NOT_EXIST:h.Mc.ERROR,composeMode:R};const D=u(),f=p(),N=S(),M=g(N);b=h.Mc.LOADED;const L=a(O)||n(O);return L&&!C(O)&&(o(L)&&!r(L)||(b=h.Mc.LOADING),i(L)&&(b=h.Mc.ERROR)),c(O)&&(R=sp.REPLY),l(O)&&(R=sp.REPLY_ALL),d(O)&&(R=sp.FORWARD),{csid:O,listId:_(),composeDataState:b,composeMode:R,accountId:N,accounts:M,showFrom:I()||M.length>1,dateFormattingOption:{timezone:m(),offset:0},isXobnified:f.getIsXobnified(),saveInterval:D.getSetting(h.id.COMPOSE_SAVE_INTERVAL),richTextMode:D.isEnabled("rteFormattingToolbar"),linkEnhancer:D.isEnabled(h.id.LINK_ENHANCR),composeFontFamily:D.getSetting(h.id.COMPOSE_FONT_FAMILY),composeFontSize:D.getSetting(h.id.COMPOSE_FONT_SIZE)}},e=>({onClose:t=>e(Object(xr.c)(t))}))(np),op=s(569),ip=s.n(op);const cp=to()(ip.a);function lp({children:e}){return we.a.createElement("div",{className:cp.compose,"data-test-id":"compose-styler"},e)}var dp=()=>we.a.createElement(lp,null,we.a.createElement(rp,{initialShowSubject:!0})),Ep=s(355),_p=s.n(Ep),up=s(141),pp=s(263);const mp=Object(Pr.h)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},go_to_people_view:{id:"message_group_header.title.go_to_people_view",defaultMessage:"Navigate to people view"}}),hp=to()(_p.a);class Sp extends we.a.Component{constructor(e){super(e),this.handleStarClick=(e=>{e.stopPropagation(),this.props.onToggleGroupStar(e)}),this.handleReadClick=(e=>{e.stopPropagation(),this.props.onToggleGroupRead(e)}),this.burstOnClick=((e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),this._navigateToPeopleView=(()=>{this.props.navigateToPeopleView({updatedSettingAttributes:[{name:h.id.SYSTEM_TABS,value:[h.W[h.td.PEOPLE]+":1"]}],accountId:this.props.accountId})}),this.burstURL=Object(rl.a)(e.starAnimation.lightGifURL),Object(C.d)(this.burstURL),this.state={shouldBurst:!1,flagged:e.flagged}}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const{subject:e,messageCount:t,isRead:s,flagged:a,compactGroupHeader:n,folderName:r,folderType:o,getAccountLabel:i,starredMailEnhanced:c,fromPeopleView:l}=this.props,{formatMessage:d}=this.context.intl,E=to()(_p.a,{compactGroupHeader:n,starredMailEnhanced:c}),_=Object(gt.m)(d,o)||r,u=i(this.context),p=(u?u+"/":"")+_,m=c?Ur.a.INHERITED:Ur.a.FAINT;return we.a.createElement(Sl.a,{axis:Sl.b.HORIZONTAL,groupTabIndex:Wr.TabIndices.MESSAGE_GROUP_HEADER},we.a.createElement("header",{"data-test-id":"message-group-header",className:hp.groupHeader},we.a.createElement("div",{className:hp.readUnread},we.a.createElement(vr.a,{"data-test-id":"icon-btn-read",title:d(mp[s?"mark_as_unread":"mark_as_read"]),"aria-label":d(mp[s?"message_is_read":"message_is_not_read"]),"aria-pressed":!s,kind:Ur.b.CIRCLE,size:Ur.d.XS,colorState:s?Ur.a.FAINT:Ur.a.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),we.a.createElement("div",{className:hp.subjectRow},we.a.createElement("span",{"data-test-id":"message-group-subject",className:hp.subject,title:e||""},e?we.a.createElement("span",{"data-test-id":"message-group-subject-text"},Object(up.c)(e)):we.a.createElement("span",null,we.a.createElement("span",null,"("),we.a.createElement("span",{className:hp.noSubject},we.a.createElement(Pr.c,{id:"message.no_subject",defaultMessage:"No Subject"})),we.a.createElement("span",null,")")),t>1?we.a.createElement("span",{"data-test-id":"message-group-count",className:hp.messageCount},t):null)),we.a.createElement("div",{className:hp.endSideButtonGroup},we.a.createElement("div",{className:E.messageGroupDestinationRow},l?we.a.createElement(Zr.a,{onClick:this._navigateToPeopleView,title:d(mp.go_to_people_view),kind:Xr.a.PILL,"data-test-id":"btn-people"},we.a.createElement(Pr.c,{id:"message_group_header.button.people",defaultMessage:"People"})):we.a.createElement("span",{className:hp.messageGroupDestinationContainer,title:p,"data-test-id":"message-group-destination"},u?we.a.createElement("span",{className:hp.messageGroupDestinationAccount},u):null,u?we.a.createElement("span",null,"/"):null,r?we.a.createElement("span",{className:hp.messageGroupDestinationFolder},_):null)),we.a.createElement("div",{className:E.star,title:d(mp[a?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-label":d(mp[a?"message_is_starred":"message_is_not_starred"]),"aria-pressed":a},this.state.shouldBurst?we.a.createElement("img",{src:this.burstURL,style:{height:"24px",width:"24px"}}):we.a.createElement(vr.a,{kind:Ur.b.STAR,size:c?Ur.d.S:Ur.d.XS,colorState:a?Ur.a.STARRED:m,paddingLess:!0,onClick:c?e=>{this.burstOnClick(e,a)}:this.handleStarClick,"data-iskeynav":!0})))))}}Sp.contextTypes={intl:Pr.i.isRequired,executeAction:Ve.a.func},Sp.defaultProps={compactGroupHeader:!1,getAccountLabel:()=>{},fromPeopleView:!1};const gp=(e,t)=>s=>{const{formatMessage:a}=s.intl,n={[h.fb.YAHOO]:a(go.a.yahoo_account_description),[h.fb.YAHOO_SB]:a(go.a.yahoo_account_description),[h.fb.OUTLOOK]:a(go.a.outlook_account_description),[h.fb.AOL]:a(go.a.aol_account_description),[h.fb.GOOGLE]:a(go.a.gmail_account_description),[h.fb.GOOGLE_APP]:a(go.a.gmail_account_description)};return e=e||n[t]};var Ip=Object(Lr.b)((e,t)=>{const s=Object(So.b)(e),{getFoldersSelectors:a,getAccountSelectors:n,getRelevantMessageIdFromMessageGroupId:r,getMessageIdsFromMessageGroupId:o,getFeaturesSelectors:i,isPeopleMessage:c,getMessageFolderId:l}=s,{getFolderTypes:d,getAccountIdByFolderId:E}=a(),{getAccountDescriptionByAccountId:_,getProviderFromAccount:u}=n(),{listId:p,messageGroup:m}=t,S=Object(Pu.a)([p]),g=m.id,I=r(g,p),C=o(g).length,T=l(I),A=d(T)[0],O=E(T),b=u(O),R=_(O),{subject:D,isRead:f,isStarred:N,folderName:M}=Object(pp.b)(e,{streamId:S,groupId:g,listId:p,relevantMessageId:I}),L=i(),y=L.isEnabled(h.kb.STARRED_MAIL_ENHANCED),P=L.getSetting(h.id.STAR_ANIMATION);return{subject:D,isRead:f,flagged:N,messageCount:C,folderName:M,folderType:A,getAccountLabel:gp(R,b),starredMailEnhanced:y,starAnimation:P,accountId:O,fromPeopleView:c(g,p)}},e=>({navigateToPeopleView:t=>{e(Object(xr.h)(t))}}))(Sp),Cp=s(570),Tp=s.n(Cp);const Ap=to()(Tp.a),Op=()=>{};class bp extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)}),this.handleButtonGroupClick=(e=>{const t=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"text"!==t&&("reply"===t?this.props.onReply(e):"forward"===t?this.props.onForward(e):this.props.onReplyAll(e))}),t}render(){const{stationeryRestrictedThemes:e,rtl:t,emoji:s,gif:a,stationery:n}=this.props;return we.a.createElement("div",{className:Ap.container,"data-test-id":"quick-reply",onClick:this.handleClick},we.a.createElement("div",{"data-test-id":"quick-reply-button-group",className:Ap.buttonGroup,onClick:this.handleButtonGroupClick},we.a.createElement(Qr.a,{kind:gl.a.TOOLBAR,tabIndex:0},we.a.createElement(Pr.b,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button></li><li class="{listItemClass}" data-kind="text">, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button></li><li class="{listItemClass}" data-kind="text"> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:Ap.button,listItemClass:Ap.listItem}}))),we.a.createElement(tu.a,{formatState:{},onExecuteAction:Op,focusOnEditor:Op,disabled:!0,stationeryEnabled:n,gifFinderEnabled:a,emojiEnabled:s,stationeryRestrictedThemes:e,rtl:t}))}}bp.contextTypes={config:Ve.a.object,intl:Pr.i.isRequired,executeAction:Ve.a.func.isRequired};var Rp=bp;const Dp=Object(T.c)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),fp=13*Wr.GRID_UNIT,Np={HAS_GROUP_SELECTION:{[Dp.LIST]:!0,[Dp.LIST_WITH_PREVIEW_RIGHT]:!0,[Dp.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_SORT:{[Dp.LIST]:!0,[Dp.LIST_WITH_PREVIEW_RIGHT]:!0,[Dp.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_CLOSE:{[Dp.LIST_WITH_PREVIEW_RIGHT]:!0,[Dp.MESSAGE_VIEW]:!0},HAS_SINGLE_GROUP_ACTIONS:{[Dp.LIST_WITH_PREVIEW_RIGHT]:!0,[Dp.LIST_WITH_PREVIEW_BOTTOM]:!0,[Dp.MESSAGE_VIEW]:!0},HAS_EXPAND_COLLAPSE:{[Dp.LIST_WITH_PREVIEW_RIGHT]:!0,[Dp.LIST_WITH_PREVIEW_BOTTOM]:!0,[Dp.MESSAGE_VIEW]:!0},HAS_PREVIOUS_NEXT:{[Dp.MESSAGE_VIEW]:!0}};var Mp=Dp,Lp=s(267),yp=s(206),Pp=s.n(yp);const vp=to()(Pp.a),Fp=1e3;var Up=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={takesLong:!1},t}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),Fp)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return we.a.createElement("div",{className:vp.loadingContainer},this.state.takesLong&&we.a.createElement(wc.b,null))}};const Hp=to()(Pp.a);function kp({onRetry:e,disableRetry:t}){return we.a.createElement("div",{"data-test-id":"message-view-error",className:Hp.emptyBody},we.a.createElement(Fr.b,{kind:Ur.b.EXCLAMATION_ALT,size:Ur.d.S,colorState:Ur.a.COOL_FAINT}),we.a.createElement("span",{className:Hp.emptyBodyMessage},we.a.createElement(Pr.c,{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:t?we.a.createElement(Pr.c,{id:"message.retry_later_message",defaultMessage:"Please try again later."}):we.a.createElement("a",{className:Hp.emptyBodyRetry,onClick:e,"data-test-id":"body-error-retry"},we.a.createElement(Pr.c,{id:"message.retry_message",defaultMessage:"Retry"}))}})))}var Gp=s(144),wp=s(447),xp=s.n(wp);const Bp=to()(xp.a),jp=Object(Pr.h)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class Vp extends we.a.Component{render(){const{formatMessage:e}=this.context.intl;return we.a.createElement(Kr.a,{className:Bp.popoverContainer},we.a.createElement(zr.a,null,we.a.createElement(vr.a,{kind:Ur.b.MORE,size:Ur.d.XS,title:e(jp.more_menu_label),"aria-label":e(jp.more_menu_label),colorState:Ur.a.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger"})),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[Yr.g.DOWN],align:Yr.a.START,offset:16,"data-test-id":"more-card-menu"},we.a.createElement(lo.a,babelHelpers.extends({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,903))},_moduleResolver:function(){return 903}}),we.a.createElement(lo.b,{loading:!0},we.a.createElement(wc.b,null)))))}}Vp.contextTypes={executeAction:Ve.a.func,intl:Pr.i.isRequired};var Wp=Vp,qp=s(571),Kp=s.n(qp);const zp=to()(Kp.a),Yp=Object(Pr.h)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class Zp extends we.a.Component{render(){const{intl:e}=this.context,{formatMessage:t}=e,{onReply:s,onReplyAll:a,onForward:n,onArchive:r,onDelete:o,onPrint:i,onRawMessage:c,forwardEnabled:l,replyEnabled:d,replyAllEnabled:E}=this.props;return we.a.createElement("div",{className:zp.wrapper,"data-test-id":"card-toolbar"},we.a.createElement(Gp.a,null),we.a.createElement("div",{className:zp.container},we.a.createElement(Qr.a,{kind:gl.a.TOOLBAR,tabIndex:0},we.a.createElement(ll.a,{kind:dl.a.TOOLBAR_ITEM},we.a.createElement("span",{className:zp.toolbarItem+" "+zp.rtlRawScaleX},we.a.createElement(vr.a,{"data-test-id":"card-toolbar-button-reply",kind:Ur.b.REPLY,size:Ur.d.XS,title:t(Yp.message_reply),"aria-label":t(Yp.message_reply),colorState:Ur.a.INHERITED,onClick:s,disabled:!d,paddingLess:!0}))),we.a.createElement(ll.a,{kind:dl.a.TOOLBAR_ITEM},we.a.createElement("span",{className:zp.toolbarItem+" "+zp.rtlRawScaleX},we.a.createElement(vr.a,{"data-test-id":"card-toolbar-button-reply-all",kind:Ur.b.REPLY_ALL,size:Ur.d.XS,title:t(Yp.message_reply_all),"aria-label":t(Yp.message_reply_all),colorState:Ur.a.INHERITED,onClick:a,disabled:!E,paddingLess:!0}))),we.a.createElement(ll.a,{kind:dl.a.TOOLBAR_ITEM},we.a.createElement("span",{className:zp.toolbarItem+" "+zp.rtlRawScaleX},we.a.createElement(vr.a,{"data-test-id":"card-toolbar-button-forward",kind:Ur.b.FORWARD,size:Ur.d.XS,title:t(Yp.message_forward),"aria-label":t(Yp.message_forward),colorState:Ur.a.INHERITED,onClick:n,disabled:!l,paddingLess:!0}))),we.a.createElement(ll.a,{kind:dl.a.TOOLBAR_ITEM},we.a.createElement("span",{className:zp.moreMenuItem},we.a.createElement(Wp,{"data-iskeynav":!0,onArchive:r,onDelete:o,onRawMessage:c,onPrint:i,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave})))),we.a.createElement(Gp.a,null),we.a.createElement("hr",{className:zp.bottomLine})),we.a.createElement(Gp.a,null))}}Zp.contextTypes={intl:Pr.i.isRequired},Zp.defaultProps={replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0};var Xp=Zp,Qp=s(283),$p=s.n(Qp),Jp=s(41),em=s(572),tm=s.n(em);let sm;function am(e,{id:t,renderToTheSide:s,appendNode:a,referenceNode:n={},clearTooltipOn:r={}},o){sm&&Be.a.unmountComponentAtNode(sm),sm=document.createElement("div"),a.appendChild(sm);const i=function(e,t){class s extends we.a.Component{constructor(e){super(e),this.state={reStyle:{}}}componentWillUnmount(){const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.removeEventListener("scroll",this.clear),t&&t.removeEventListener("click",this.clear),s&&s.removeEventListener("keydown",this.clear),this.clear()}clear(){clearTimeout(this.timeout),t&&(Be.a.unmountComponentAtNode(t),t=null)}componentDidMount(){this.timeout=setTimeout(()=>{this.clear()},3e3),this.reStyle();const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.addEventListener("scroll",this.clear),t&&t.addEventListener("click",this.clear),s&&s.addEventListener("keydown",this.clear)}reStyle(){if(this.tooltipChildRef&&this.tooltipChildRef.getBoundingClientRect){const{height:e}=this.tooltipChildRef.getBoundingClientRect(),{style:t={}}=this.props;"number"==typeof t.top&&e>26&&this.setState({reStyle:{top:t.top-10*(Math.ceil(e/26)-1)}})}}render(){const{reStyle:t}=this.state,{style:s,renderToTheSide:a}=this.props,n=to()(tm.a,{left:a===h.Od.LEFT,right:a===h.Od.RIGHT}),r=Object.assign({},s,t),o=we.a.cloneElement(e,{childRef:(e=>this.tooltipChildRef=e).bind(this)});return we.a.createElement("div",{className:n.tooltip,title:"",style:r},o)}}return s.contextTypes={intl:Pr.i.isRequired},s}(e,sm);let c={};const{parent:l,child:d,positionCalculator:E,expanded:_}=n;E&&(c=E(l,d,o.config.rtl,_)),Be.a.render(we.a.createElement(Pr.f,window.AppIntl,we.a.createElement(i,{key:t,renderToTheSide:s,style:c,context:o,clearTooltipOn:r})),sm)}class nm extends we.a.Component{render(){return we.a.createElement("div",{ref:this.props.childRef},we.a.createElement(Pr.c,{id:"mark_as_read_shortcut_changed",defaultMessage:'Shortcut to "Mark as Read" has changed to SHIFT+K'}))}}nm.contextTypes={intl:Pr.i.isRequired};var rm=nm;class om extends we.a.Component{render(){return we.a.createElement("div",{ref:this.props.childRef},we.a.createElement(Pr.c,{id:"mark_as_unstar_shortcut_changed",defaultMessage:"Shortcut to unstar has changed to SHIFT+L"}))}}om.contextTypes={intl:Pr.i.isRequired};var im=om;const cm=e=>{e.stopPropagation(),e.preventDefault()},lm=ao.g.MSG_BODY;class dm extends we.a.Component{constructor(e){super(e),this.handleBlur=(()=>{this.canTakeFocus=!0}),this.focus=(()=>{!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()}),this.handleSelectAll=(()=>{const e=document.getSelection(),t=document.createRange();t.selectNodeContents(this.refs.content),e.removeAllRanges(),e.addRange(t)}),this.handleRead=(e=>{const{message:t}=this.props;void 0!==e.keyCode&&t.flags.read||this.handleToggleRead(e)}),this.handleUnread=(e=>{const{message:t}=this.props;void 0===e.keyCode||t.flags.read?this.handleToggleRead(e):this.showCoachTooltip({selectedCard:[t],interaction:Jp.i})}),this.handleToggleRead=(e=>{cm(e),this.props.onToggleRead({i13nModel:{interactionType:Object(vs.i)(e)}})}),this.handleReply=(e=>{const{messageGroupId:t,message:s}=this.props,a={mKey:ao.e.MSG_REPLY,sec:lm,mKeyGroup:ao.f.reply,interactionType:Object(vs.i)(e)};cm(e),this.context.executeAction(jo.s,{messageGroupId:t,message:s,i13nModel:a})}),this.handleReplyAll=(e=>{const{messageGroupId:t,message:s}=this.props,a={mKey:ao.e.MSG_REPLY_ALL,sec:lm,mKeyGroup:ao.f.replyAll,interactionType:Object(vs.i)(e)};cm(e),this.context.executeAction(jo.t,{messageGroupId:t,message:s,i13nModel:a})}),this.handleForward=(e=>{const{messageGroupId:t,message:s}=this.props,a={mKey:ao.e.MSG_FORWARD,sec:lm,mKeyGroup:ao.f.forward,interactionType:Object(vs.i)(e)};cm(e),this.context.executeAction(jo.e,{messageGroupId:t,message:s,i13nModel:a})}),this.handleArchive=(e=>{const{messageGroupId:t,message:s,listId:a,navigateOnMessageAction:n}=this.props;cm(e),n(),this.context.executeAction(jo.b,{messageIds:[s.id],messageGroupIds:[t],listId:a,streamId:Object(Pu.a)([a]),streamItem:{id:t,listId:a,messageIds:[s.id]}})}),this.handleShareCard=((e,t)=>{this.context.navigateTo({route:Object(ho.e)(Object(vs.f)()),initialSubject:e,initialBody:t})}),this.handleShareCardLinkClick=((e,t)=>{const{message:s}=this.props;this.props.onLinkEnhancerlinkShare({i13nModel:{mKey:ao.e.LINK_ENHANCER_SHARE_LINK,sec:ao.g.MSG_BODY,actionData:{mHref:t,msgId:s.id,sharedBy:e.currentTarget.innerText}}})}),this.isPermanentDelete=(e=>e.indexOf(h.sb.BULK)>-1||e.indexOf(h.sb.TRASH)>-1||e.indexOf(h.sb.DRAFT)>-1),this.handleDelete=(e=>{const{messageGroupId:t,message:s,listId:a,navigateOnMessageAction:n}=this.props;cm(e),n(),this.context.executeAction(jo.d,{messageIds:[s.id],messageGroupIds:[t],listId:a,streamId:Object(Pu.a)([a]),streamItem:{id:t,listId:a,messageIds:[s.id]},permanent:this.isPermanentDelete(s.folder.types),isAsync:!1})}),this.handlePrint=(e=>{const t={mKey:ao.e.MSG_HDR_PRINT,sec:lm,interactionType:Object(vs.i)(e)};cm(e);const{messageGroupId:s,message:a}=this.props;this.context.executeAction(jo.r,{messageGroupId:s,message:a,i13nModel:t})}),this.handleRawMessage=(e=>{const{message:t}=this.props;cm(e),this.context.executeAction(jo.q,{messageId:t.id})}),this.handleToggleExpand=(()=>{this.props.onToggleExpand()}),this.showCoachTooltip=(({selectedCard:e=[],interaction:t=""})=>{if(!e.length)return;const{expanded:s}=this.props,a=e[0].id;let n,r,o,i;switch(t){case Jp.i:r=this.readIconContainer,n=we.a.createElement(rm,null),i=h.Od.RIGHT,o=((e,t,s=!1,a=!0)=>{if(!e||!t)return{};const{left:n,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:c,left:l}=t.getBoundingClientRect();return{left:s?"auto":i-n-2,top:c-r+(a?-4:1),right:s?o-l-2:"auto"}});break;case Jp.b:r=this.starIconContainer,n=we.a.createElement(im,null),i=h.Od.LEFT,o=((e,t,s=!1,a=!1)=>{if(!e||!t)return{};const{left:n,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:c,left:l}=t.getBoundingClientRect();return{right:s?"auto":o-i+4,top:c-r+(a?-4:1),left:s?l-n+4:"auto"}})}r&&am(n,{id:a,renderToTheSide:i,appendNode:r,referenceNode:{parent:this.refs.content,child:r,positionCalculator:o,expanded:s},clearTooltipOn:{click:this.refs.content,keydown:this.refs.content}},this.context)}),this.handleStar=(e=>{const{message:t}=this.props;void 0!==e.keyCode&&t.flags.flagged?this.showCoachTooltip({selectedCard:[t],interaction:Jp.b}):this.handleToggleStar(e)}),this.handleUnstar=(e=>{const{message:t}=this.props;(void 0===e.keyCode||t.flags.flagged)&&this.handleToggleStar(e)}),this.handleToggleStar=(e=>{cm(e),this.props.onToggleStar({i13nModel:{interactionType:Object(vs.i)(e)}})}),this.handleClick=(()=>{this.props.onClick()}),this.handleKeyDown=(e=>{if((e.metaKey||e.ctrlKey)&&"A"===String.fromCharCode(e.which))return cm(e),this.handleSelectAll();if(e.ctrlKey||e.metaKey||e.altKey)return;if("Enter"===e.key&&(cm(e),this.props.expandable))return this.handleToggleExpand();const t=String.fromCharCode(e.which);switch(t){case"K":if(!e.shiftKey)return this.handleUnread(e);this.handleRead(e);break;case"L":if(!e.shiftKey)return this.handleStar(e);this.handleUnstar(e)}if(!e.shiftKey&&this.props.bodyState===h.Mc.LOADED)switch(t){case"R":this.handleReply(e);break;case"A":this.handleReplyAll(e);break;case"F":this.handleForward(e);break;case"P":this.handlePrint(e)}}),this.handleHrefLinkClick=(e=>{const{message:t}=this.props,s=e.getAttribute("href");let a=e.innerText;for(let t=0;t<e.childElementCount;t++)if("IMG"===e.children[t].tagName){a=e.children[t].alt;break}if(e.hasAttribute("class")&&-1!==e.getAttribute("class").indexOf("yahoo-enhancr-cardlink")){const a=e.parentNode&&e.parentNode.hasAttribute("data-size")?e.parentNode.getAttribute("data-size").toUpperCase():"";this.props.onLinkEnhancerlinkOpen({i13nModel:{mKey:ao.e.LINK_ENHANCER_OPEN_LINK,sec:ao.g.MSG_BODY,actionData:{mHref:s,msgId:t.id,size:a}}})}else this.context.executeAction(jo.c,{hrefLink:s,message:t,i13nModel:{mKey:ao.e.OPEN_LINK,sec:ao.g.MSG_BODY,actionData:{altText:a}}})}),this.handleToolbarOnMouseEnter=(()=>{this.setState({showToolbar:!0})}),this.handleToolbarOnMouseLeave=(()=>{this.setState({showToolbar:!1})}),this.handleMoreMenuEnter=(()=>{this.props.active||this.setState({showToolbar:!0})}),this.handleMoreMenuLeave=(()=>{this.props.active||this.setState({showToolbar:!1})}),this.handleChangeImageSetting=(()=>{this.props.changeSettings({name:h.id.SHOW_IMAGES,value:h.od.ALWAYS,i13nModel:{name:ao.e.SHOW_IMG_ALWAYS,sec:ao.g.MSG_BODY}})}),this.handleReloadMessage=((e,{full:t,secure:s}={})=>{const{previewMessage:a,listId:n}=this.props;a({listId:n,full:t,secure:s,messageIds:[e]})}),this.canTakeFocus=e.canTakeFocus,this.state={showToolbar:!1}}componentDidMount(){this.focus()}componentDidUpdate(){this.focus()}render(){const{listId:e,messageGroupId:t,message:s,bodyState:a,retryCount:n,renderAttachmentTray:r,expandable:o,expanded:i,active:c,idx:l,totalMessages:d,conversations:E}=this.props,_=c||this.state.showToolbar,u=to()($p.a,{active:c}),p=n>h.Nb,m=!E;let S=null;if(i)switch(a){case h.Mc.DOES_NOT_EXIST:S=we.a.createElement(Up,null);break;case h.Mc.ERROR:S=we.a.createElement(kp,{onRetry:this.handleReloadMessage.bind(this,s.id),disableRetry:p});break;case h.Mc.LOADED:S=we.a.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},we.a.createElement(Lp.a,{headers:s.headers,messageId:s.id,folderId:s.folder.id,renderAttachments:r,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,s.id),onShowImages:this.handleReloadMessage.bind(this,s.id),removeCollapseButton:m,quoteExpanded:m,attachments:s.attachments,folder:s.folder,csid:s.csid}),we.a.createElement("div",{className:u.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},_?we.a.createElement(Xp,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onPrint:e=>this.handlePrint(e,"toolbar"),onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave}):null));break;default:S=we.a.createElement(Up,null)}return we.a.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":i,className:u.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},we.a.createElement(Yu.a,{listId:e,groupId:t,conversations:E,message:s,expanded:i,idx:l,totalMessages:d,onToggleStar:this.handleToggleStar,onToggleRead:this.handleToggleRead,onToggleExpand:this.handleToggleExpand,expandable:o,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray,starRef:e=>this.starIconContainer=e,readRef:e=>this.readIconContainer=e}),S)}}dm.defaultProps={active:!1,canTakeFocus:!1},dm.contextTypes={config:Ve.a.object,executeAction:Ve.a.func.isRequired,navigateTo:Ve.a.func,intl:Pr.i.isRequired};var Em=Object(Lr.b)(null,e=>({previewMessage:t=>e(Object(Zu.g)(t)),onLinkEnhancerlinkOpen:t=>e(ru.g(t)),onLinkEnhancerlinkShare:t=>e(ru.j(t)),changeSettings:t=>e(Object(uu.a)(t))}))(dm);const _m=()=>{};var um=Object(Lr.b)((e,{csid:t})=>{const{getDraftCardMessage:s}=Object(So.b)(e);return s(t)})(e=>{const{idx:t,csid:s,listId:a,active:n,message:r,conversations:o,totalMessages:i,messageGroupId:c,renderAttachmentTray:l}=e,d=to()($p.a,{active:n}),E=!o;return we.a.createElement("div",{"data-iskeynav":!0,tabIndex:-1,"data-test-id":"message-view","data-test-expanded":!0,className:d.messageCardContainer+" message-view"},we.a.createElement(Yu.a,{idx:t,expanded:!0,expandable:!0,onPrint:_m,listId:a,message:r,onToggleStar:_m,onToggleRead:_m,onToggleExpand:_m,viglinkClicked:_m,onAttachmentClick:_m,groupId:c,conversations:o,totalMessages:i}),we.a.createElement("div",{"data-test-id":"message-body-container"},we.a.createElement(Lp.a,{csid:s,messageId:r.id,folderId:r.folder.id,headers:r.headers,attachments:r.attachments,quoteExpanded:E,renderAttachments:l.bind(null,r),removeCollapseButton:E}),we.a.createElement("div",{className:d.toolbarHoverArea,"data-test-id":"toolbar-hover-area"})))});const pm=20,mm=160,hm=24,Sm=16,gm=12;class Im extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={engaged:!1},this.update=(()=>{this._isSetup&&this._handleScroll()}),this._shouldEnableSmartScroll=(()=>document.documentElement.scrollWidth<=window.innerWidth),this._handleWindowResize=(()=>{this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()}),this._handleContentChanged=(({caret:e})=>{this._isSetup&&e&&this._scrollTargetIntoView(e.y)}),this._scrollTargetIntoView=(e=>{if(!this._isMounted())return;const t=this._containerNode.getBoundingClientRect(),s=this._targetNode.getBoundingClientRect(),a=this._headerNode.getBoundingClientRect(),n=e+Sm+a.height,r=s.top-t.top+n,o=!this.state.engaged&&s.bottom+pm>t.bottom;r<0||r>=(this.state.engaged?t.height-u_.TOOLBAR_HEIGHT:t.height)?this.scrollTimer=setTimeout(()=>{this._containerNode.scrollTop=this._targetNode.offsetTop+n-Math.round(t.height/2)},2):o&&(this._containerNode.scrollTop+=s.bottom-t.bottom+pm)}),this._alignTargetInContainer=(()=>{if(!this._isMounted())return;const e=this._targetNode.getBoundingClientRect(),t=this._containerNode.getBoundingClientRect();this._containerNode.scrollTop=e.height<t.height?this._targetNode.offsetTop-(t.height-e.height-pm):this._targetNode.offsetTop-gm}),this._handleScroll=(()=>{if(!this._isMounted())return;const e=this._containerNode.getBoundingClientRect(),t=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),a=Math.max(s.height+hm,mm);t.bottom>e.top&&t.top+a<e.bottom&&t.bottom>e.bottom?this._engage(t.width-u_.HORIZONTAL_PADDING):this._disengage()}),this._setup=(()=>{this._compose&&(this._containerNode=Object(xe.findDOMNode)(this.props.scrollContainer),this._targetNode=Object(xe.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))}),this._teardown=(()=>{clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1}),this._engage=(()=>{this.state.engaged||this.setState({engaged:!0})}),this._disengage=(()=>{this.state.engaged&&this.setState({engaged:!1})}),t}_isMounted(){return this._containerNode&&this._targetNode&&this._headerNode}componentDidMount(){this._handleContentChanged=mu()(this._handleContentChanged,10),this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()}componentDidUpdate(){!this._isSetup&&this._shouldEnableSmartScroll()&&this._setup()}componentWillUnmount(){this._teardown()}render(){return we.a.createElement(rp,babelHelpers.extends({},this.props,{refToComposeContainer:e=>{this._compose=e},refToComposeHeader:e=>{this._headerNode=Object(xe.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}}Im.contextTypes={config:Ve.a.object.isRequired};var Cm=Im,Tm=s(284),Am=s(127),Om=s.n(Am),bm=s(225),Rm=s.n(bm);var Dm=s(66),fm=s(81),Nm=s(54);const Mm=e=>{e.dispatch(Fo.a.CONFIRM_DELETE_DIALOG_CLOSED)},Lm={archiveMessageGroups:Dm.a,restoreMessageGroups:Dm.u,deleteMessageGroups:Dm.c,moveMessageGroups:Dm.o,markMessageGroupsAsSpam:Dm.k,markMessageGroupsAsNotSpam:Dm.h,markMessageGroupsAsRead:Dm.j,markMessageGroupsAsUnread:Dm.n,markMessageGroupsAsFlagged:Dm.g,markMessageGroupsAsUnflagged:Dm.m,printMessage:Dm.r,toggleSelection:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(Fo.a.STREAM_ITEM_TOGGLED,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,messageGroupIds:s})},toggleMultipleSelection:function(e,{listId:t,multipleStreamItems:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(Fo.a.STREAM_ITEMS_MULTIPLE_TOGGLE,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,multipleStreamItems:s})},selectAll:function(e,{listId:t,streamId:s,i13nModel:a}){e.dispatch(Fo.a.ALL_STREAM_ITEMS_SELECTED,{i13nModel:a,isV2Action:!0,listId:t,streamId:s})},selectRange:function(e,{listId:t,targetGroupId:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(Fo.a.STREAM_ITEMS_RANGE_SELECTED,{i13nModel:r,isV2Action:!0,listId:t,targetGroupId:s,streamId:a,streamItem:n})},selectNone:function(e,{listId:t,streamId:s,i13nModel:a}){e.dispatch(Fo.a.STREAM_ITEMS_SELECTION_CLEARED,{i13nModel:a,isV2Action:!0,listId:t,streamId:s})},selectRead:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(Fo.a.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectUnread:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(Fo.a.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectStarred:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(Fo.a.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectUnstarred:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(Fo.a.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},moveCursor:function(e,{listId:t,movement:s,unit:a,i13nModel:n,streamId:r}){const{getFeaturesSelectors:o}=Object(So.b)(e.store.getState()),i=o().getSetting(h.id.PREVIEW_PANE);e.dispatch(Fo.a.STREAM_CURSOR_MOVED,{isV2Action:!0,listId:t,streamId:r,movement:s,unit:a,i13nModel:n,previewPane:i})},selectMove:function(e,{listId:t,movement:s,streamId:a,i13nModel:n}){e.dispatch(Fo.a.STREAM_SELECT_CURSOR_MOVED,{i13nModel:n,isV2Action:!0,listId:t,movement:s,streamId:a})},itemDragStart:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n}){e.dispatch(Fo.a.ITEMS_DRAG_STARTED,{streamId:a,streamItem:n,listId:t,messageGroupIds:s})}};var ym=s(90);const Pm={toolbarMenuShown:(e,{i13nModel:t})=>{e.dispatch(Fo.a.MESSAGE_LIST_TOOLBAR_MENU_SHOWN,{i13nModel:t})}},vm={archive:Lm.archiveMessageGroups,restore:Lm.restoreMessageGroups,delete:Lm.deleteMessageGroups,markAsSpam:Lm.markMessageGroupsAsSpam,markAsNotSpam:Lm.markMessageGroupsAsNotSpam,move:Lm.moveMessageGroups,[h.gd.ALL]:Lm.selectAll,[h.gd.NONE]:Lm.selectNone,[h.gd.READ]:Lm.selectRead,[h.gd.UNREAD]:Lm.selectUnread,[h.gd.STARRED]:Lm.selectStarred,[h.gd.UNSTARRED]:Lm.selectUnstarred},Fm={reply:Dm.t,replyAll:Dm.s,forward:Dm.f},Um={[Mp.LIST]:Object.assign({},Pm,vm),[Mp.LIST_WITH_PREVIEW_RIGHT]:Object.assign({},Pm,Fm,vm),[Mp.LIST_WITH_PREVIEW_BOTTOM]:Object.assign({},Pm,Fm,vm),[Mp.MESSAGE_VIEW]:Object.assign({},Pm,Fm,{archive:Dm.b,restore:Dm.v,delete:Dm.d,markAsSpam:Dm.l,markAsNotSpam:Dm.i,move:Dm.p})},Hm={[Mp.LIST]:babelHelpers.extends({},Um[Mp.LIST],{delete:ym.b,move:ym.i,archive:ym.a,restore:ym.j,markAsSpam:ym.f,markAsNotSpam:ym.d}),[Mp.LIST_WITH_PREVIEW_RIGHT]:babelHelpers.extends({},Um[Mp.LIST_WITH_PREVIEW_RIGHT],{delete:ym.b,move:ym.i,archive:ym.a,restore:ym.j,markAsSpam:ym.f,markAsNotSpam:ym.d}),[Mp.LIST_WITH_PREVIEW_BOTTOM]:babelHelpers.extends({},Um[Mp.LIST_WITH_PREVIEW_BOTTOM],{delete:ym.b,move:ym.i,archive:ym.a,restore:ym.j,markAsSpam:ym.f,markAsNotSpam:ym.d}),[Mp.MESSAGE_VIEW]:Um[Mp.MESSAGE_VIEW]};var km=Um,Gm=s(157),wm=s(574),xm=s.n(wm);const Bm=Object(Pr.h)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class jm extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleCheckboxClicked=(e=>{const{onSelectNone:t,onSelectAll:s,selectionCount:a}=this.props;e.preventDefault(),e.stopPropagation(),a>0?t(e,!0):s(e,!0)}),t}render(){const e=this.context.getCss(xm.a),t=this.context.getThemeMode()===Is.f.DARK,{formatMessage:s,formatNumber:a}=this.context.intl,{allItemsSelected:n,previewpane:r,selectionCount:o=0}=this.props;let i=Gm.a.NONE;return o>0&&n?i=Gm.a.ALL:o>0&&(i=Gm.a.PARTIAL),we.a.createElement("div",{className:e.container},we.a.createElement("ul",{className:e.list},we.a.createElement(ll.a,{kind:dl.a.MESSAGE_SELECTION_CHECKBOX},we.a.createElement("span",{className:e.checkboxWrapper},we.a.createElement(Gm.b,{type:i,highContrast:!0,isInverted:t,onClick:this.handleCheckboxClicked,"aria-label":s(o>0?Bm.deselect_all:Bm.select_all),isOnDarkBackground:t,"data-iskeynav":!0,paddingLess:!0}))),we.a.createElement(ll.a,{kind:dl.a.MESSAGE_SELECTION_CHEVRON},we.a.createElement(Kr.a,null,we.a.createElement(zr.a,null,we.a.createElement("span",{className:e.chevronWrapper},we.a.createElement(vr.a,{kind:Ur.b.CHEVRON_UP,size:Ur.d.XS,rotate:Ur.c.D180,title:s(Bm.select_messages),"aria-label":s(Bm.select_messages),colorState:Ur.a.INHERITED,isOnDarkBackground:t,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),we.a.createElement(qr.b,{permittedArrowDirections:[Yr.g.UP,Yr.g.DOWN],triggerOn:Yr.h.CLICK,offset:4*Wr.GRID_UNIT,align:Yr.a.START,zAltitude:Wr.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},we.a.createElement("div",{className:e.popoverListWrapper},we.a.createElement(Qr.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},we.a.createElement(ll.a,{name:"select-all"},we.a.createElement(Zr.a,{onClick:this.props.onSelectAll,kind:Xr.a.MENUITEM},we.a.createElement(Pr.c,{id:"select_all",defaultMessage:"All"}))),we.a.createElement(ll.a,{name:"select-none"},we.a.createElement(Zr.a,{onClick:this.props.onSelectNone,kind:Xr.a.MENUITEM},we.a.createElement(Pr.c,{id:"select_none",defaultMessage:"None"}))),we.a.createElement(ll.a,{name:"select-read"},we.a.createElement(Zr.a,{onClick:this.props.onSelectRead,kind:Xr.a.MENUITEM},we.a.createElement(Pr.c,{id:"select_read",defaultMessage:"Read"}))),we.a.createElement(ll.a,{name:"select-unread"},we.a.createElement(Zr.a,{onClick:this.props.onSelectUnread,kind:Xr.a.MENUITEM},we.a.createElement(Pr.c,{id:"select_unread",defaultMessage:"Unread"}))),we.a.createElement(ll.a,{name:"select-starred"},we.a.createElement(Zr.a,{onClick:this.props.onSelectStarred,kind:Xr.a.MENUITEM},we.a.createElement(Pr.c,{id:"select_starred",defaultMessage:"Starred"}))),we.a.createElement(ll.a,{name:"select-unstarred"},we.a.createElement(Zr.a,{onClick:this.props.onSelectUnstarred,kind:Xr.a.MENUITEM},we.a.createElement(Pr.c,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),we.a.createElement(ll.a,null,we.a.createElement("div",null,r===h.Bc.NO&&o>0?a(o):""))))}}jm.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func},jm.defaultProps={onMenuShow:()=>{}};var Vm=jm;const Wm=Object(Pr.h)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected messages to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected messages"}});class qm extends we.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>{const{restore:e}=this.props;return we.a.createElement(Pr.c,e?{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}:{id:"archive_button.archive_label",defaultMessage:"Archive"})}),t}render(){const{formatMessage:e}=this.context.intl,{restore:t,disabled:s,onClick:a,showLabel:n,isCompact:r,size:o}=this.props,i=e(t?Wm.restore_msgs:Wm.archive_msgs),c=this.context.getThemeMode()===Is.f.DARK;return we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${t?"archive-restore":"archive"}`,"aria-label":i,title:i,kind:t?Ur.b.RESTORE_TO_INBOX:Ur.b.ARCHIVE,disabled:s,onClick:a,size:o,colorState:Ur.a.INHERITED,isOnDarkBackground:c,isCompact:r},n&&this._renderLabel())}}qm.contextTypes={intl:Pr.i.isRequired,getThemeMode:Ve.a.func},qm.defaultProps={size:Ur.d.XS,showLabel:!0,onClick:function(){}};var Km=qm,zm=s(448);const Ym=Object(Pr.h)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"}});class Zm extends we.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>{const{markAsSpam:e}=this.props;return we.a.createElement(Pr.c,e?{id:"spam_icon_label",defaultMessage:"Spam"}:{id:"not_spam_icon_label",defaultMessage:"Not Spam"})}),t}render(){const{formatMessage:e}=this.context.intl,{disabled:t,markAsSpam:s,onClick:a,showLabel:n,isCompact:r,size:o}=this.props,i=e(s?Ym.mark_msgs_as_spam:Ym.mark_msgs_as_not_spam),c=s?"spam":"not-spam",l=this.context.getThemeMode()===Is.f.DARK;return we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${c}`,"aria-label":i,title:i,kind:Ur.b.SPAM,disabled:t,onClick:a,size:o,colorState:Ur.a.INHERITED,isOnDarkBackground:l,isCompact:r},n&&this._renderLabel())}}Zm.defaultProps={size:Ur.d.XS,showLabel:!0,onClick:function(){}},Zm.contextTypes={intl:Pr.i.isRequired,getThemeMode:Ve.a.func};var Xm=Zm,Qm=s(165),$m=s(575),Jm=s.n($m);const eh=to()(Jm.a),th=Object(Pr.h)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},all_mail_title:{id:"folder_menu.all_mail_title",defaultMessage:"All mail"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class sh extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={filterString:"",isFilterActive:!1},this._getListStyle=(e=>{let t=4*Wr.GRID_UNIT,s=2*Wr.GRID_UNIT*(e+2)+Wr.GRID_UNIT;return this.props.isRTL&&(t=2*Wr.GRID_UNIT*(e+2)+Wr.GRID_UNIT,s=4*Wr.GRID_UNIT),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:`${62.5*Wr.GRID_UNIT}px`}}),this._handleMenuHide=(()=>{this.setState({filterString:""},()=>{this.props.onMenuHide()})}),this._handleMenuShow=(()=>{setTimeout(()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer(),0),this.props.onMenuShow()}),this._focusFirstMenuItem=(()=>{if(!this.listContainer)return!1;const e=this.listContainer.querySelector("[data-iskeynav]");return e&&e.focus()}),this._focusContainer=(()=>this.listContainer&&this.listContainer.focus()),this.getShortcutsMap=((e,t)=>{const s=[];return t.forEach(e=>{e.shortcut>=0&&!e.disabled&&(s[e.shortcut]=e.id)}),e.forEach(e=>{e.shortcut>=0&&!e.disabled&&(s[e.shortcut]=e.id)}),s}),this.handleClick=((e,t)=>{this.props.onClick(e,t),this._handleMenuHide()}),this.handleKeyDown=((e,t)=>{if(t.target!==this.listContainer)return;if(t.key===h.zb.ARROW_DOWN||t.shiftKey&&"d"===t.key.toLowerCase())return t.preventDefault(),this._focusFirstMenuItem();const s=e[t.keyCode-48]||e[t.keyCode-96];s&&this.handleClick(s,t)}),this.renderMenuItems=(e=>{const t=[],{hasShortcuts:s,primaryShortcutKey:a,archiveShortcutKey:n}=this.props,{formatMessage:r}=this.context.intl;return e.forEach(({id:e,name:o,type:i,level:c,disabled:l,shortcut:d})=>{let E;s&&(d>=0?E=we.a.createElement(Pr.c,babelHelpers.extends({},th.multikey_shortcut,{values:{primaryShortcutKey:a,secondaryShortcutKey:""+d}})):i===h.sb.ARCHIVE&&(E=n)),t.push(we.a.createElement(ll.a,{key:e,"data-test-id":"item-move-to-folder-id-"+e},we.a.createElement(Zr.a,{kind:Xr.a.MENUITEM,onClick:this.handleClick.bind(this,e),style:this._getListStyle(c),disabled:l,title:Object(gt.m)(r,i)||o,"data-iskeynav":!0},we.a.createElement("span",{className:eh.fullLabel},we.a.createElement("span",{className:eh.itemLabel},we.a.createElement(ii.a,{folderId:e})),E?we.a.createElement("span",{className:eh.shortcut},E):null))))}),t}),this.renderSearchInput=(()=>{const{hasShortcuts:e}=this.props,t=e?"Shift+D":null,{filterString:s,isFilterActive:a}=this.state,{formatMessage:n}=this.context.intl,r=t&&!a&&""===s,o=Object.assign({},this._getListStyle(0),{paddingLeft:`${4*Wr.GRID_UNIT-2}px`},r?{}:{paddingRight:`${Wr.GRID_UNIT}px`});return we.a.createElement(ll.a,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},we.a.createElement("div",{className:eh.inputContainer,style:o,onClick:e=>e.stopPropagation()},we.a.createElement(Fr.b,{kind:Ur.b.SEARCH_MINI,size:Ur.d.XS,colorState:Ur.a.DISABLED}),we.a.createElement(KE.a,{ref:e=>this.input=e,className:eh.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:s,onClear:()=>this.setState({filterString:""}),onChange:e=>this.setState({filterString:e.target.value}),onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),isClearable:!0,placeholder:n(th.search_placeholder),"data-iskeynav":!0}),r?we.a.createElement("span",{className:eh.shortcut},t):null))}),this.renderEmptyResult=(()=>{const{formatMessage:e}=this.context.intl;return we.a.createElement(ll.a,null,we.a.createElement("div",{className:eh.noResultContainer,style:this._getListStyle(0)},e(th.no_result_label)))}),this.renderAllMailItem=(()=>{const{formatMessage:e}=this.context.intl,t=e(th.all_mail_title);return we.a.createElement(ll.a,{key:h.o.ALL_MAIL,"data-test-id":"all-mail"},we.a.createElement(Zr.a,{kind:Xr.a.MENUITEM,onClick:this.handleClick.bind(this,""),style:this._getListStyle(0)},we.a.createElement("span",{className:eh.fullLabel},we.a.createElement("span",{className:eh.itemLabel},we.a.createElement(Qm.a,{name:t})))))}),this.renderPopoverContent=(e=>{const{zAltitude:t,hasShortcuts:s,excludeAllMailItem:a,folders:n}=this.props,{filterString:r=""}=this.state,{customFolders:o,systemFolders:i}=n,c=o.filter(({name:e})=>-1!==e.toLowerCase().indexOf(r.toLowerCase())),l=i.filter(({name:e})=>-1!==e.toLowerCase().indexOf(r.toLowerCase())),d=this.getShortcutsMap(c,l),E=c.length+l.length;return we.a.createElement(qr.b,{triggerOn:e,permittedArrowDirections:[Yr.g.UP],zAltitude:t,onHide:this._handleMenuHide,onShow:this._handleMenuShow},we.a.createElement("div",{className:eh.clippedContainer},we.a.createElement("div",{"data-test-id":"folder-menu",className:eh.popoverContent,onKeyDown:s?this.handleKeyDown.bind(this,d):()=>{},tabIndex:Wr.TabIndices.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},we.a.createElement(Sl.a,{groupTabIndex:Wr.TabIndices.FOLDER_SELECTION_MENU,skipKeydownOnFormElement:!1},we.a.createElement("ul",{className:eh.systemGroup},this.renderSearchInput()),0===E&&we.a.createElement("ul",{className:eh.lastGroup},this.renderEmptyResult()),c.length>0&&we.a.createElement("ul",{className:Om()(eh.customGroup,{[eh.lastGroup]:!(l.length>0),[eh.systemGroup]:l.length>0})},this.renderMenuItems(c)),l.length>0&&we.a.createElement("ul",{className:eh.lastGroup},!a&&this.renderAllMailItem(),this.renderMenuItems(l))))))}),this.renderAnchorButton=(()=>{const{label:e,title:t,disabled:s,onMenuToggle:a}=this.props,n=this.context.getThemeMode()===Is.f.DARK;return we.a.createElement("span",null,we.a.createElement(vr.a,{"data-test-id":"folder-menu-button","data-iskeynav":!0,title:t,tabIndex:this.props.tabIndex,disabled:s,onClick:a,kind:this.props.fujiIconKind,size:Ur.d.XS,colorState:Ur.a.INHERITED,className:eh.anchorButton,isOnDarkBackground:n},e))}),this.renderPopoverContainer=(e=>we.a.createElement(Kr.a,{className:eh.popoverContainer},we.a.createElement(zr.a,null,this.renderAnchorButton()),this.renderPopoverContent(e))),t}render(){const{isMenuActive:e,onMenuToggle:t}=this.props;return t?e?this.renderPopoverContainer(Yr.h.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(Yr.h.CLICK)}}sh.contextTypes={intl:Pr.i.isRequired,getThemeMode:Ve.a.func},sh.defaultProps={excludeAllMailItem:!0,fujiIconKind:Ur.b.MOVE_TO_FOLDER,zAltitude:Wr.ZIndices.POPOVER.HIGH,onMenuShow:()=>{},onMenuHide:()=>{},isFilterFocused:!1};var ah=Object(Lr.b)(e=>{const{getFoldersForMoveMenu:t,getEnvironmentSelectors:s}=Object(So.b)(e);return{isRTL:"rtl"===s().getPageDirection(),folders:t()}})(sh),nh=s(449),rh=s.n(nh);const oh=to()(rh.a),ih=Object(Pr.h)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class ch extends we.a.Component{render(){const{formatMessage:e}=this.context.intl,{disabled:t}=this.props,a=this.context.getThemeMode()===Is.f.DARK;return we.a.createElement(Kr.a,{className:oh.popoverContainer},we.a.createElement(zr.a,null,we.a.createElement(vr.a,{"data-iskeynav":!0,"aria-label":e(ih.more_menu_label),title:e(ih.more_menu_label),"data-test-id":"more-menu-button",disabled:t,kind:Ur.b.MORE,size:Ur.d.XS,colorState:Ur.a.INHERITED,isOnDarkBackground:a})),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,permittedArrowDirections:[Yr.g.UP],zAltitude:Wr.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},we.a.createElement("div",{style:{display:"block",minWidth:"200px"}},we.a.createElement(lo.a,babelHelpers.extends({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,952))},_moduleResolver:function(){return 952}}),we.a.createElement(lo.b,{loading:!0},we.a.createElement(wc.b,null))))))}}ch.contextTypes={executeAction:Ve.a.func,intl:Pr.i.isRequired,config:Ve.a.object,getThemeMode:Ve.a.func},ch.defaultProps={onMenuShow:()=>{}};var lh=ch,dh=s(373),Eh=s.n(dh),_h=s(125),uh=s(450);const ph=[h.wd.DATE_DESC,h.wd.DATE_ASC],mh=[h.wd.DATE_DESC,h.wd.DATE_ASC,h.wd.ATTACHMENT,h.wd.RELEVANCE],hh=[h.wd.DATE_DESC,h.wd.DATE_ASC,h.wd.UNREAD,h.wd.STARRED,h.wd.SENDER,h.wd.SUBJECT,h.wd.ATTACHMENT],Sh=[h.wd.DATE_DESC,h.wd.DATE_ASC,h.wd.UNREAD,h.wd.STARRED,h.wd.RECIPIENT,h.wd.SUBJECT,h.wd.ATTACHMENT];var gh=s(577),Ih=s.n(gh),Ch=s(168);const Th=Object(Pr.h)({heading:{id:"photos_header.heading",defaultMessage:"Photos"},all:{id:"photos_header.all",defaultMessage:"All"},all_selected:{id:"photos_header.all_selected",defaultMessage:"All, selected"},emails:{id:"photos_header.emails",defaultMessage:"Emails"},emails_selected:{id:"photos_header.emails_selected",defaultMessage:"Emails, selected"},mobile:{id:"photos.mobile",defaultMessage:"Mobile"},mobile_selected:{id:"photos.mobile_selected",defaultMessage:"Mobile, selected"}});class Ah extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleTabChange=((e,{mKeyType:t,smartViewType:s})=>{const a=ao.e["FILTER_"+t],n=Object(ho.t)(s,{accountIds:Object(Io.g)(this.props.listId)});this.context.navigateTo({route:n,i13nModel:{mKey:a,sec:ao.g.PHOTO_LIST,interactionType:Object(vs.i)(e)}})}),this.render=(()=>{const e=Object(Io.r)(this.props.listId);let t;t=e===h.Eb.EMAIL_PHOTOS?1:e===h.Eb.MOBILE_PHOTOS?2:0;const{formatMessage:s}=this.context.intl,a=this.context.getCss(Ih.a);return we.a.createElement(Sl.a,{axis:Sl.b.HORIZONTAL,circularNavigation:!0,className:a.container,"data-test-id":"photos-header",groupTabIndex:Wr.TabIndices.MESSAGE_LIST_TOOLBAR,role:"header"},we.a.createElement(Ch.a,{activeIndex:t,"data-test-id":"photos-segment"},we.a.createElement(Zr.a,{className:a.filterItem,"data-iskeynav":!0,tabIndex:Wr.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e?null:s(Th.all_selected),title:s(Th.all),onClick:e=>this.handleTabChange(e,{mKeyType:h.td.PHOTOS,smartViewType:h.td.PHOTOS}),"data-test-id":"btn-all-tab"},s(Th.all)),we.a.createElement(Zr.a,{className:a.filterItem,"data-iskeynav":!0,tabIndex:Wr.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e===h.Eb.EMAIL_PHOTOS?s(Th.emails_selected):null,title:s(Th.emails),onClick:e=>this.handleTabChange(e,{mKeyType:h.Eb.EMAIL_PHOTOS,smartViewType:h.td.PHOTOS_EMAIL}),ref:"imagesHeader","data-test-id":"btn-emails-tab"},s(Th.emails)),we.a.createElement(Zr.a,{className:a.filterItem,"data-iskeynav":!0,tabIndex:Wr.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e===h.Eb.MOBILE_PHOTOS?s(Th.mobile_selected):null,title:s(Th.mobile),onClick:e=>this.handleTabChange(e,{mKeyType:h.Eb.MOBILE_PHOTOS,smartViewType:h.td.PHOTOS_MOBILE}),ref:"imagesHeader","data-test-id":"btn-mobile-tab"},s(Th.mobile))))}),t}}Ah.contextTypes={getCss:Ve.a.func,intl:Pr.i.isRequired,navigateTo:Ve.a.func};var Oh=Ah;const bh=ao.g.MSG_LIST_BULK_ACTION,Rh=ao.g.MSG_READ_TOOLBAR,Dh="d",fh="e",Nh=[...iE.d,Dh,fh,"del","backspace",`shift+${fh}`,`shift+${Dh}`,"left","right","esc"],Mh=e=>{e.stopPropagation(),e.preventDefault()};Object(T.e)(h.wd);class Lh extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1,showMsgReadDeleteEarnyCue:!1},this.getClassNames=(()=>{const{showLabels:e,showActionLabels:t,isHamEnabled:s,isSpamEnabled:a,isArchiveEnabled:n,isRestoreEnabled:r,isMoveEnabled:o,isDeleteEnabled:i,isPermDeleteEnabled:c,isPreviousEnabled:l,isNextEnabled:d,enableGroupActions:E,enableTriageActions:_,hasPrevNext:u}=this.props,p=this.isListVerticalPreviewMode(),m=this.isFullMessageViewMode();return this.context.getCss(Eh.a,{hamSpamDisabled:!s&&!a&&_,archiveRestoreDisabled:!n&&!r&&_,moveDisabled:!o&&_,deletePermDisabled:!i&&!c&&_,groupActionsActive:E,triageActionsActive:_,showTriageActionsLabels:e&&t,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!l,nextDisabled:!d,fullMessageView:m,listWithVerticalPreview:p,listWithNonVerticalPreview:!p&&!m,closeWrapperMargin:!u&&m})}),this.getItemSpaceBasedOnPreviewPaneOffset=(()=>{const{previewPaneOffset:e}=this.props;let t={};return this.isListVerticalPreviewMode()&&(t={flexBasis:`${e/2}%`}),t}),this.onPreviousItem=(()=>{const{listId:e,activeGroupId:t,isConversationMode:s}=this.props,{getPreviousListItemId:a,__patchV2MessageGroupItemId__:n}=Object(So.b)(this.context.store.getState()),r=a(e,t);if(!r)return;const o=Object(ho.o)({item:n(r,e),listId:e,isConversationMode:s});this.context.navigateTo({route:o})}),this.onNextItem=(()=>{const{listId:e,activeGroupId:t,isConversationMode:s}=this.props,{getNextListItemId:a,__patchV2MessageGroupItemId__:n}=Object(So.b)(this.context.store.getState()),r=a(e,t);if(!r)return;const o=Object(ho.o)({item:n(r,e),listId:e,isConversationMode:s});this.context.navigateTo({route:o})}),this.handleShortcuts=(e=>{const{canRestoreToInbox:t,isArchiveEnabled:s,isRestoreEnabled:a,hasPrevNext:n}=this.props;let r=!1;switch(String.fromCharCode(e.which).toLowerCase()){case Dh:r=!0,this.handleMoveMenuShow(e.shiftKey);break;case fh:if(s&&e.shiftKey&&!a){r=!1;break}(s||e.shiftKey&&a&&t)&&(r=!0,this.handleArchive(e));break;case"r":this.enableSingleGroupActions()&&(r=!0,this.handleSingleGroupAction("reply",ao.d.shortcut));break;case"a":this.enableSingleGroupActions()&&(r=!0,this.handleSingleGroupAction("replyAll",ao.d.shortcut));break;case"f":this.enableSingleGroupActions()&&(r=!0,this.handleSingleGroupAction("forward",ao.d.shortcut));break;default:e.keyCode===mo.a.BACKSPACE||e.keyCode===mo.a.DELETE?(r=!0,this.handleDelete(e)):this.props.hasAttachmentPreview||(e.keyCode===mo.a.ESCAPE?(r=!0,this.handleClose(e)):e.keyCode===mo.a.LEFT&&n&&this.props.isPreviousEnabled?(r=!0,this.onPreviousItem(e)):e.keyCode===mo.a.RIGHT&&n&&this.props.isNextEnabled&&(r=!0,this.onNextItem(e)))}r&&Mh(e)}),this.isListVerticalPreviewMode=(()=>this.props.kind===Mp.LIST_WITH_PREVIEW_RIGHT),this.isFullMessageViewMode=(()=>this.props.kind===Mp.MESSAGE_VIEW),this.isVerticalSortView=(()=>this.props.kind===Mp.LIST_WITH_PREVIEW_RIGHT),this.isverticalSelectionControlView=(()=>this.props.kind===Mp.LIST_WITH_PREVIEW_RIGHT),this.enableSingleGroupActions=(()=>{const{kind:e}=this.props;return Np.HAS_SINGLE_GROUP_ACTIONS[e]&&this.props.isRafEnabled}),this.disableSelectionControl=(()=>{const e=Object(Io.q)(this.props.listId);return e===h.Db.IMAGES||e===h.Db.DOCUMENTS}),this.getActionCreators=(()=>this.props.shouldDoSelectAll?Hm[this.props.kind]:km[this.props.kind]),this.getActionableGroupIds=(()=>{const{activeGroupId:e,streamId:t}=this.props;if(e)return[e];const{doesStreamExist:s,getSelectedStreamItems:a}=Object(So.b)(this.context.store.getState());return(s(t)?a(t):[]).map(({id:e})=>e)}),this.isPermDelete=(()=>!this.props.isDeleteEnabled&&this.props.isPermDeleteEnabled),this.isSpam=(()=>!!this.props.isSpamEnabled||!this.props.isHamEnabled),this.isRestore=(()=>!this.props.isArchiveEnabled&&this.props.isRestoreEnabled),this.onToolbarMenuShow=(e=>{const t={MoveMenu:{mKey:ao.e.TOOLBAR_MOVE_MENU,sec:bh},MoreMenu:{mKey:ao.e.TOOLBAR_MORE_MENU,sec:bh},SelectionMenu:{mKey:ao.e.TOOLBAR_BULK_CONTEXT_MENU,sec:bh},SortMenu:{mKey:ao.e.TOOLBAR_SORT_MENU,sec:ao.g.MSG_LIST_SORT}};if(!t[e])return;const{mKey:s,sec:a}=t[e];this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:s,sec:a}})}),this.handleSelection=((e,t,s)=>{const a={[`${h.gd.ALL}-checkbox`]:ao.e.TOOLBAR_SELECTALL_MSG,[`${h.gd.NONE}-checkbox`]:ao.e.TOOLBAR_SELECT_NONE,[h.gd.ALL]:ao.e.TOOLBAR_BULK_CONTEXT_ALL,[h.gd.NONE]:ao.e.TOOLBAR_BULK_CONTEXT_NONE,[h.gd.READ]:ao.e.TOOLBAR_BULK_CONTEXT_READ,[h.gd.UNREAD]:ao.e.TOOLBAR_BULK_CONTEXT_UNREAD,[h.gd.STARRED]:ao.e.TOOLBAR_BULK_CONTEXT_STARRED,[h.gd.UNSTARRED]:ao.e.TOOLBAR_BULK_CONTEXT_UNSTARRED},n=s?`${e}-checkbox`:`${e}`,r=this.getActionCreators(),{listId:o,route:i,streamId:c}=this.props,{getMainStreamItems:l}=Object(So.b)(this.context.store.getState()),d=l(i);this.context.executeAction(r[e],{listId:o,i13nModel:{mKey:a[n],sec:bh,interactionType:Object(vs.i)(t)},streamId:c,streamItems:d,selectionType:e})}),this.handleSingleGroupAction=((e,t=ao.d.click)=>{const{listId:s,activeGroupId:a}=this.props;if(a){const n={mKey:ao.e[`TOOLBAR_${e.toUpperCase()}`],sec:Rh,mKeyGroup:ao.f[e],interactionType:t};this.context.executeAction(this.getActionCreators()[e],{listId:s,messageGroupId:a,i13nModel:n})}}),this.handleArchive=(e=>{e.preventDefault(),this.props.navigateOnMessageAction();const t=this.getActionCreators(),s=this.getActionableGroupIds(),a={mKey:this.isRestore()?ao.e.TOOLBAR_RESTORE:ao.e.TOOLBAR_ARCHIVE,sec:bh,mKeyGroup:ao.f.archive,interactionType:Object(vs.i)(e)},{conversations:n}=this.props;let r;if(r=this.isRestore()?{confirmTitle:Nm.a.confirm_restore_title,confirmMessages:Nm.a.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:Nm.a.confirm_archive_title,confirmMessages:Nm.a.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},!this.props.shouldDoSelectAll||this.state.confirmTitle){if(s.length){const{listId:e,allItemsCount:r,streamId:o}=this.props,i=1===s.length?{id:s[0],listId:e}:void 0;this.context.executeAction(this.isRestore()?t.restore:t.archive,babelHelpers.extends({listId:e,streamId:o,streamItem:i,messageGroupIds:s},r&&{allItemsCount:r},{conversations:n,i13nModel:a}))}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()}else this.setState(r)}),this.handleMove=((e,t)=>{t.preventDefault(),this.props.navigateOnMessageAction();const{listId:s,allItemsCount:a,conversations:n,streamId:r}=this.props;if(this.props.shouldDoSelectAll&&!this.state.showMoveConfirm)return void this.setState({showMoveConfirm:e});const o=this.getActionableGroupIds(),i=1===o.length?{id:o[0],listId:s}:void 0;this.context.executeAction(this.getActionCreators().move,babelHelpers.extends({destinationFolderId:e,listId:s,messageGroupIds:o},a&&{allItemsCount:a},{conversations:n,streamId:r,streamItem:i,i13nModel:{mKey:ao.e.TOOLBAR_MOVE,sec:bh,mKeyGroup:ao.f.move,interactionType:Object(vs.i)(t)}})),this.hideMoveConfirm()}),this.hideMoveConfirm=(()=>{this.setState({showMoveConfirm:null})}),this.handleSpam=(e=>{e.preventDefault();const t=this.getActionCreators(),{listId:s,allItemsCount:a,conversations:n,streamId:r}=this.props;let o;if(o=this.isSpam()?{confirmTitle:Nm.a.confirm_spam_title,confirmMessages:Nm.a.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:Nm.a.confirm_ham_title,confirmMessages:Nm.a.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},this.props.shouldDoSelectAll&&!this.state.confirmTitle)return void this.setState(o);const i=this.getActionableGroupIds(),c=1===i.length?{id:i[0],listId:s}:void 0;this.props.navigateOnMessageAction(),this.context.executeAction(this.isSpam()?t.markAsSpam:t.markAsNotSpam,babelHelpers.extends({listId:s,streamId:r,streamItem:c,messageGroupIds:i},a&&{allItemsCount:a},{conversations:n,i13nModel:{mKey:this.isSpam()?ao.e.TOOLBAR_SPAM:ao.e.TOOLBAR_NOT_SPAM,sec:bh,mKeyGroup:this.isSpam()?ao.f.mark_spam:null,interactionType:Object(vs.i)(e)}})),this.hideConfirm()}),this.hideConfirm=(()=>{this.setState({confirmTitle:!1})}),this.handleDelete=(e=>{e.preventDefault();const{listId:t,navigateOnMessageAction:s,allItemsCount:a,conversations:n,streamId:r,isBulkAction:o,isORDMessageGroup:i,msgReadDeleteEarnyCueEnabled:c,folderType:l}=this.props,d=this.getActionableGroupIds();if(c&&l===h.sb.INBOX&&i&&!this.state.showMsgReadDeleteEarnyCue)return void this.setState({showMsgReadDeleteEarnyCue:!0});if((this.isPermDelete()||o)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});const E={mKey:ao.e.TOOLBAR_DELETE,sec:bh,mKeyGroup:ao.f.delete,interactionType:Object(vs.i)(e)};s();const{formatMessage:_}=this.context.intl,u=1===d.length?{id:d[0],listId:t}:void 0;this.context.executeAction(this.getActionCreators().delete,babelHelpers.extends({listId:t,streamId:r,streamItem:u,messageGroupIds:d,permanent:this.isPermDelete()},a&&{allItemsCount:a},{conversations:n,i13nModel:E,formatMessage:_})),this.hideDeleteConfirm(),this.onMsgReadDeleteEarnyCueClose()}),this.hideDeleteConfirm=(()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1}),this.context.executeAction(Mm))}),this.onMsgReadDeleteEarnyCueClose=(()=>{this.state.showMsgReadDeleteEarnyCue&&this.setState({showMsgReadDeleteEarnyCue:!1})}),this.handleSort=((e,t)=>{const s={[h.wd.DATE_DESC]:ao.e.TOOLBAR_SORT_NEW,[h.wd.DATE_ASC]:ao.e.TOOLBAR_SORT_OLD,[h.wd.UNREAD]:ao.e.TOOLBAR_SORT_UNREAD,[h.wd.STARRED]:ao.e.TOOLBAR_SORT_STARRED},{listId:a,route:n}=this.props;this.context.navigateTo({route:n.name===h.Pc.SEARCH||Object(Io.J)(n)?Object(ho.q)(a,{sortOrder:t}):Object(ho.j)(a,{sortOrder:t}),i13nModel:{mKey:s[t],sec:ao.g.MSG_LIST_SORT,interactionType:Object(vs.i)(e)}})}),this.handleFilterChange=((e,t)=>{const s=Object(Io.q)(this.props.listId),a={[h.Db.MESSAGES]:"msg",[h.Db.DOCUMENTS]:"docs",[h.Db.IMAGES]:"photo"},n=ao.e["FILTER_"+t],r=n?{mKey:n,sec:ao.g.MSG_LIST_BULK_ACTION,interactionType:Object(vs.i)(e),actionData:{cntxt:a[s]||a[h.Db.MESSAGES]}}:null;this.context.navigateTo({route:{name:h.Pc.SEARCH,params:{query:Object(Io.S)(Object(Io.Q)(this.props.listId,{listFilter:t}))}},i13nModel:r})}),this.handleClose=(e=>{const{listId:t,streamId:s,kind:a,route:n}=this.props,r={mKey:ao.e.TOOLBAR_CLOSE_MSG,sec:Rh,interactionType:Object(vs.i)(e)};if(e.key===h.zb.ESCAPE){if(n.name===h.Pc.FOLDER)return;this.props.onClose({listId:t,i13nModel:r})}else a===Mp.LIST_WITH_PREVIEW_RIGHT||a===Mp.LIST_WITH_PREVIEW_BOTTOM?this.props.closePreviewMessage({streamId:s,listId:t,i13nModel:r}):this.props.onClose({listId:t,i13nModel:r})}),this.handleNext=(()=>{const{listId:e,activeGroupId:t,allItemsSelected:s}=this.props;this.props.loadMoreItems({listId:e,currentGroupId:t,allItemsSelected:s}),this.onNextItem()}),this.handleMoveMenuToggle=(e=>{e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}),this.handleMoveMenuShow=(e=>{const t=this.props.enableTriageActions,s={moveMenuActive:t};e&&(s.moveMenuFilterFocused=t),this.setState(s),this.onToolbarMenuShow("MoveMenu")}),this.handleMoveMenuHide=(()=>{this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}),this.handleExpandContractClick=(e=>{e.stopPropagation(),this.props.onChangeAllMessageCardExpansion({listId:this.props.listId,messageGroupId:this.props.activeGroupId,expansionState:this.props.isCollapseAllEnabled?h.z.COLLAPSED:h.z.EXPANDED})}),this.handleBackToList=(e=>{const{listId:t}=this.props;this.context.navigateTo({route:Object(ho.l)(t),i13nModel:{mKey:ao.e.TOOLBAR_BACK_TO_LIST,sec:ao.g.MSG_READ_TOOLBAR,interactionType:Object(vs.i)(e)}})}),this.renderExpandMessages=(e=>{const{isCollapseAllEnabled:t,isExpandAllEnabled:s}=this.props,{formatMessage:a}=this.context.intl,n=this.context.getThemeMode()===Is.f.DARK;return t||s?we.a.createElement("div",{className:e.expandCollapse},we.a.createElement(vr.a,{title:a(Nm.a[t?"collapse_list":"expand_list"]),"aria-label":a(Nm.a[t?"list_is_expanded":"list_is_collapsed"]),kind:t?Ur.b.COLLAPSE_LIST:Ur.b.EXPAND_LIST,size:Ur.d.XS,paddingLess:!1,colorState:Ur.a.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:n})):null}),this.renderSelectionControls=(e=>{const t=Object(Io.q)(this.props.listId),{listId:s,allItemsSelected:a,previewpane:n,selectionCount:r}=this.props;if(Object(Io.E)(s))switch(t){case h.Db.IMAGES:case h.Db.DOCUMENTS:return null}return we.a.createElement("div",{className:e.selectionControlsWrapper},we.a.createElement(Vm,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:(e,t)=>this.handleSelection(h.gd.ALL,e,t),onSelectNone:(e,t)=>this.handleSelection(h.gd.NONE,e,t),onSelectRead:e=>this.handleSelection(h.gd.READ,e),onSelectUnread:e=>this.handleSelection(h.gd.UNREAD,e),onSelectStarred:e=>this.handleSelection(h.gd.STARRED,e),onSelectUnstarred:e=>this.handleSelection(h.gd.UNSTARRED,e),selectionCount:r,allItemsSelected:a,previewpane:n}))}),this.renderArchive=(e=>{if(this.isRestore()&&!this.props.canRestoreToInbox)return null;const{showLabels:t,showActionLabels:s,isArchiveEnabled:a,isRestoreEnabled:n}=this.props;return we.a.createElement(ll.a,null,we.a.createElement("div",{className:e.archiveRestore},we.a.createElement(Km,{disabled:!this.props.enableTriageActions||!(n||a),onClick:this.handleArchive,restore:this.isRestore(),showLabel:t&&s})))}),this.renderMoveMenu=(e=>{const{formatMessage:t}=this.context.intl,{isMoveEnabled:s,showLabels:a,showActionLabels:n,disabledMoveTitle:r}=this.props,o=!this.props.enableTriageActions||!s,i=t(o&&r?r:Nm.a.move_msgs);return we.a.createElement(ll.a,{name:"move-menu-item",title:i},we.a.createElement("div",{className:e.move},we.a.createElement(ah,{"data-iskeynav":!0,title:i,label:a&&n?we.a.createElement(Pr.c,{id:"move_menu_icon_label",defaultMessage:"Move"}):null,tabIndex:-1,disabled:o,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!0,primaryShortcutKey:Dh,archiveShortcutKey:fh})))}),this.renderDelete=(e=>{const{isDeleteEnabled:t,isPermDeleteEnabled:s,showLabels:a,showActionLabels:n,enableTriageActions:r}=this.props,o=s||t;return we.a.createElement(ll.a,{name:this.isPermDelete()?"perm-delete":"delete"},we.a.createElement("div",{className:e.deletePerm},we.a.createElement(zm.a,{disabled:!r||!o,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:a&&n})))}),this.renderSpam=(e=>{const{isSpamEnabled:t,isHamEnabled:s,showLabels:a,showActionLabels:n,enableTriageActions:r}=this.props,o=t||s;return we.a.createElement(ll.a,{name:this.isSpam()?"not-spam":"spam"},we.a.createElement("div",{className:e.hamSpam},we.a.createElement(Xm,{disabled:!r||!o,markAsSpam:this.isSpam(),onClick:this.handleSpam,showLabel:a&&n})))}),this.renderMoreMenu=(e=>{const{allItemsCount:t,listId:s,conversations:a,streamId:n,enableTriageActions:r}=this.props,o=this.getActionableGroupIds(),i=1===o.length?{id:o[0],listId:s}:void 0;return we.a.createElement(ll.a,{name:"more-menu-item"},we.a.createElement("div",{className:e.more},we.a.createElement(lh,{"data-iskeynav":!0,disabled:!r,selectedGroupIds:this.getActionableGroupIds(),onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),doSelectAll:this.props.shouldDoSelectAll,listId:s,allItemsCount:t,conversations:a,streamId:n,streamItem:i})))}),this.renderSortMenu=(()=>{const e=this.context.getThemeMode()===Is.f.DARK,{formatMessage:t}=this.context.intl,{currentSortOrder:s,showLabels:a,route:n,listId:r,conversations:o,folderType:i}=this.props,c=function(e,t,s,a){const n=a?Object(Io.q)(a):h.Db.MESSAGES;switch(e.name){case h.Pc.SEARCH:return n===h.Db.IMAGES||n===h.Db.DOCUMENTS?ph:mh;default:return t===h.sb.DRAFT?[h.wd.DATE_DESC,h.wd.DATE_ASC,h.wd.STARRED,h.wd.SUBJECT]:Object(Io.J)(e)?[h.wd.DATE_DESC,h.wd.DATE_ASC,h.wd.ATTACHMENT]:s?[h.wd.DATE_DESC,h.wd.DATE_ASC,h.wd.UNREAD,h.wd.STARRED]:t===h.sb.SENT?Sh:hh}}(n,i,o,r),l=a?t(Nm.a.sort_menu):null,d=this.getClassNames(),E=this.getItemSpaceBasedOnPreviewPaneOffset(),_=c.map(e=>we.a.createElement(ll.a,{key:e,name:"sort-by-"+e},we.a.createElement(Zr.a,{"data-test-id":"sort-by-"+e,kind:Xr.a.MENUITEM,onClick:t=>this.handleSort(t,e),style:{position:"relative"}},e===s?we.a.createElement("span",{className:d.sortByMenuItemIcon},we.a.createElement(Fr.b,{kind:Ur.b.CHECKMARK,size:Ur.d.XXS,colorState:Ur.a.NORMAL})):null,we.a.createElement("span",{className:d.sortByMenuItemLabel},t(Nm.a["sort_by_"+e])))));return we.a.createElement("div",{style:E,className:d.viewMenu},we.a.createElement("div",{className:d.sortMenuContainer},we.a.createElement(Kr.a,null,we.a.createElement(zr.a,null,we.a.createElement(Zr.a,{"data-test-id":"toolbar-sort-menu-button",kind:Xr.a.CHROMELESS,tabIndex:"-1","data-iskeynav":!0,isOnDarkBackground:e},we.a.createElement("span",{className:d.sortByMenu},l,we.a.createElement(Fr.b,{kind:Ur.b.CHEVRON_UP,size:Ur.d.XS,rotate:Ur.c.D180,colorState:Ur.a.INHERITED})))),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,permittedArrowDirections:[Yr.g.UP],offset:4*Wr.GRID_UNIT,align:Yr.a.END,zAltitude:Wr.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu")},we.a.createElement("div",{className:d.popoverListWrapper},we.a.createElement(Qr.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},_))))))}),this.renderListFilter=(()=>{const{formatMessage:e}=this.context.intl,t=Object(Io.r)(this.props.listId).toLowerCase(),s=this.getClassNames(),a=we.a.createElement(ll.a,{key:t,name:"list-filter-"+t},we.a.createElement(Zr.a,{"data-test-id":"list-filter-from",kind:Xr.a.MENUITEM,onClick:e=>this.handleFilterChange(e,h.Eb.FROM)},e(Nm.a.list_filter_from)),we.a.createElement(Zr.a,{"data-test-id":"list-filter-to",kind:Xr.a.MENUITEM,onClick:e=>this.handleFilterChange(e,h.Eb.TO)},e(Nm.a.list_filter_to)),we.a.createElement(Zr.a,{"data-test-id":"list-filter-all",kind:Xr.a.MENUITEM,onClick:e=>this.handleFilterChange(e,h.Eb.ALL)},e(Nm.a.list_filter_all)));return we.a.createElement("div",{className:s.listFilterViewMenu},we.a.createElement(Kr.a,null,we.a.createElement(zr.a,null,we.a.createElement(Zr.a,{"data-test-id":"toolbar-list-filter-button",kind:Xr.a.CHROMELESS,tabIndex:"-1","data-iskeynav":!0},we.a.createElement("span",{className:s.listFilterMenu},e(Nm.a["list_filter_"+t]),we.a.createElement(Fr.b,{kind:Ur.b.CHEVRON_UP,size:Ur.d.XS,rotate:Ur.c.D180,colorState:Ur.a.INHERITED})))),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,offset:5*Wr.GRID_UNIT,align:Yr.a.CENTER,zAltitude:Wr.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},we.a.createElement("div",{className:s.popoverListWrapper},we.a.createElement(Qr.a,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},a)))))}),this.renderListHeading=(()=>{const e=Object(Io.q)(this.props.listId),{formatMessage:t}=this.context.intl,s=this.getClassNames();switch(e){case h.Db.IMAGES:return we.a.createElement("span",{className:s.listHeading},t(Nm.a.photos));case h.Db.DOCUMENTS:return we.a.createElement("span",{className:s.listHeading},t(Nm.a.documents))}}),this.renderTriageActions=(()=>{const e=this.getClassNames();return we.a.createElement("ul",{className:e.triageActionList},this.renderArchive(e),this.renderMoveMenu(e),this.renderDelete(e),this.renderSpam(e),this.renderMoreMenu(e))}),this.renderDeleteConfirm=(()=>{if(this.state.showDeleteConfirm){const{allItemsSelected:e,allItemsCount:t,selectAll:s,conversations:a}=this.props,{formatMessage:n}=this.context.intl,r=this.getActionableGroupIds(),o={conversations:a,count:s&&e&&t>0?t:r.length};return we.a.createElement(_h.a,{title:n(Nm.a.confirm_delete_title),message:n(this.props.isPermDeleteEnabled?Nm.a.confirm_permanently_delete_messages:Nm.a.confirm_delete_messages,o),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null}),this.renderMoveConfirm=(e=>{if(this.state.showMoveConfirm){const{allItemsSelected:t,allItemsCount:s,conversations:a,selectAll:n}=this.props,{formatMessage:r}=this.context.intl,o=this.getActionableGroupIds(),i={conversations:a,count:n&&t&&s>0?s:o.length};return we.a.createElement(_h.a,{title:r(Nm.a.confirm_move_title),message:r(Nm.a.confirm_move_messages,i),onConfirm:t=>this.handleMove(e,t),onAbort:this.hideMoveConfirm})}return null}),this.renderConfirm=((e,t,s,a)=>{const{allItemsSelected:n,allItemsCount:r,conversations:o,selectAll:i}=this.props,{formatMessage:c}=this.context.intl,l=this.getActionableGroupIds(),d={conversations:o,count:i&&n&&r>0?r:l.length};return we.a.createElement(_h.a,{title:c(e),message:c(t,d),onConfirm:s,onAbort:a})}),this.renderSingleGroupActions=(()=>{const{formatMessage:e}=this.context.intl,t=this.getClassNames(),s=[{kind:Ur.b.REPLY,action:"reply",stringKey:"message_reply"},{kind:Ur.b.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:Ur.b.FORWARD,action:"forward",stringKey:"message_forward"}],a=this.context.getThemeMode()===Is.f.DARK,n=s.map(({kind:s,action:n,stringKey:r})=>{const o=e(Nm.a[r]);return we.a.createElement(ll.a,{name:s,key:s,className:t.singleGroupItem+" "+t.rtlRawScaleX},we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${s}`,"aria-label":o,title:o,kind:s,size:Ur.d.XS,disabled:!this.props.enableGroupActions,onClick:e=>this.handleSingleGroupAction(n,Object(vs.i)(e)),colorState:Ur.a.INHERITED,isOnDarkBackground:a}))});return we.a.createElement("div",{className:t.singleGroupActions},we.a.createElement("ul",{key:"group-actions",className:t.singleGroupActionList},n))}),this.renderPreviousNext=(e=>{const{formatMessage:t}=this.context.intl,s={conversations:this.props.conversations},a=!this.props.isPreviousEnabled,n=!this.props.isNextEnabled;return we.a.createElement("div",{className:e.nextPrevContainer},we.a.createElement("span",{className:a?e.nextPrevDisabled:e.nextPrev},we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:Ur.b.INPUT_ARROW_DOWN,rotate:Ur.c.D180,paddingLess:!0,disabled:a,size:Ur.d.S,onClick:this.onPreviousItem,title:t(Nm.a.previous,s),"aria-label":t(Nm.a.previous,s),colorState:Ur.a.INHERITED})),we.a.createElement("span",{className:n?e.nextPrevDisabled:e.nextPrev},we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:Ur.b.INPUT_ARROW_DOWN,paddingLess:!0,disabled:n,size:Ur.d.S,onClick:this.handleNext,title:t(Nm.a.next,s),"aria-label":t(Nm.a.next,s),colorState:Ur.a.INHERITED})))}),this.renderCheckboxAndFilters=(()=>{const{kind:e,showListFilter:t}=this.props,s=this.getClassNames(),a=this.getItemSpaceBasedOnPreviewPaneOffset();if(Np.HAS_GROUP_SELECTION[e]||t)return we.a.createElement("div",{style:a,className:s.cboxWrapper},Np.HAS_GROUP_SELECTION[e]&&this.renderSelectionControls(s),t&&this.renderListFilter())}),this.renderUsabiltyOptions=(()=>{const e=this.getClassNames(),{formatMessage:t}=this.context.intl,{kind:s,hasAttachmentPreview:a,hasPrevNext:n}=this.props,r=this.context.getThemeMode()===Is.f.DARK;if(Np.HAS_EXPAND_COLLAPSE[s]||Np.HAS_PREVIOUS_NEXT[s]||Np.HAS_CLOSE[s]&&!a)return we.a.createElement("div",{className:e.usabiltyOptions},Np.HAS_EXPAND_COLLAPSE[s]&&this.renderExpandMessages(e),n&&this.renderPreviousNext(e),Np.HAS_CLOSE[s]&&!a?we.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},we.a.createElement(vr.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.props.enableGroupActions,kind:Ur.b.CLOSE,size:Ur.d.XS,onClick:this.handleClose,title:t(Nm.a.close),"aria-label":t(Nm.a.close),colorState:Ur.a.INHERITED,isOnDarkBackground:r})):null)}),t}shouldComponentUpdate(e){return!e.skipRendering}componentDidMount(){this.context.bindShortcut(Nh,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Nh)}renderMsgReadDeleteEarnyCue(){if(this.state.showMsgReadDeleteEarnyCue)return we.a.createElement(lo.a,{defer:!0,import:"../bulk_delete_msg_earny_upsell_cue",cueName:h.kb.MSG_READ_DELETE_EARNY_CUE,onCloseButtonClick:this.handleDelete,onPrimaryButtonClick:this.onMsgReadDeleteEarnyCueClose,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,634))},_moduleResolver:function(){return 634}})}renderPhotosNavigation(e,t){const{formatMessage:s}=this.context.intl;return we.a.createElement("div",{className:t.photosHeaderContainer,"data-test-id":"photos-header"},we.a.createElement("div",{className:t.photosListHeading},s(Nm.a.photos)),we.a.createElement("div",{className:t.container},we.a.createElement("div",{className:t.photosTabs},we.a.createElement(Oh,e)),this.renderSortMenu()))}render(){const e=this.getClassNames(),{kind:t}=this.props,{confirmTitle:s,confirmMessages:a,handleConfirm:n,hideConfirm:r}=this.state;return Object(ld.d)(this.props.listId)&&this.props.isPensieveEnabled?this.renderPhotosNavigation(this.props,e):we.a.createElement(Sl.a,{axis:Sl.b.HORIZONTAL,circularNavigation:!1,className:e.container,"data-test-id":"message-toolbar",groupTabIndex:Wr.TabIndices.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?we.a.createElement(uh.a,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),we.a.createElement("div",{className:e.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),Np.HAS_SORT[t]&&this.renderSortMenu(),we.a.createElement("hr",{className:e.bottomLine}),this.renderDeleteConfirm(),this.renderMsgReadDeleteEarnyCue(),this.renderMoveConfirm(this.state.showMoveConfirm),s?this.renderConfirm(s,a,n,r):null)}}Lh.contextTypes={navigateTo:Ve.a.func.isRequired,executeAction:Ve.a.func.isRequired,intl:Pr.i.isRequired,config:Ve.a.object.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func,store:Ve.a.object.isRequired},Lh.defaultProps={currentSortOrder:h.wd.DATE_DESC,showLabels:!0,showActionLabels:!0,hasAttachmentPreview:!1,navigateOnMessageAction:()=>{},selectAll:!1,isORDMessageGroup:!1};var yh=Object(Lr.b)((e,t)=>{const{activeGroupId:s="",kind:a,listId:n,showLabels:r,showActionLabels:o,hasAttachmentPreview:i,navigateOnMessageAction:c}=t,{getAction:l,getFeaturesSelectors:d,getRoute:E,__patchV2MessageGroupItemId__:_,doesFolderIdExist:u,getPrimaryFolderTypeByFolderId:p,getFolderIdsByName:m,getAllItemsCountForListId:S,doesListExist:g,getListItemIds:I,doesMessageGroupIdExist:C,isSingleDraftGroup:T,getListItemIdIndex:A,isAllCardsExpanded:O,getMainStreamListIds:b,getMessagesSelectors:R,getMessageGroupsSelectors:D,isMessageRoute:f,isFeatureEnabled:N}=Object(So.b)(e),M=E(),L=Object(Io.m)(n),y=S(n),P=Object(Io.q)(n),v=Object(Io.E)(n),F=M.name===h.Pc.SEARCH,U=d(),H=N(h.kb.CONVERSATIONS),k=N(h.kb.PENSIEVE);let G,w,x=!1;if(s&&C(s)&&(w=_(s,n),x=T(s)),L)u(L)&&(G=p(L));else if(w){const{folder:e}=Object(gu.f)(w);G=p(e.id)}if(F){const{folderIds:e,folderNames:t}=Object(Io.n)(n);let s=e,a=[];t.length&&(s=ls()(t.reduce((e,t)=>e.concat(m(t)),s))),s.length&&(a=s.map(e=>p(e))),1===a.length&&a[0]===h.sb.ARCHIVE&&(G=a[0])}const B=Object(Pu.a)(b(E())),{doesStreamExist:j,getSelectedStreamItems:V,getAccountIdFromMessageGroupId:W}=Object(So.b)(e),q=(j(B)?V(B):[]).map(({id:e})=>e),K=g(n)?I(n):[],z=A(n,s),Y=a===Mp.MESSAGE_VIEW,Z=K.length>0&&K.length===q.length,X=F&&!!Object(Io.k)(n),Q=!(F&&v&&(P===h.Db.IMAGES||P===h.Db.DOCUMENTS)),$=function({kind:e,activeGroup:t,allCardsExpanded:s,primaryFolderType:a,listContentType:n}){const r=e!==Mp.LIST&&t&&t.messages.length>1,o=Boolean(r&&!1===s),i=Boolean(r&&!0===s),c=Np.HAS_PREVIOUS_NEXT[e]&&n===h.Db.MESSAGES;if(e===Mp.MESSAGE_VIEW){if(!t)return{};const e=Object(gu.j)(t),s=!e&&Object(gu.i)(t),n=!s&&Object(gu.k)(t),r=a===h.sb.ARCHIVE,l=s||n||e;return{spam:!e&&!s,ham:e&&!s,move:!s,archive:!(s||e||n||r),restore:e||n||r,delete:!l,permDelete:l,raf:!e&&!s,expandAll:o,collapseAll:i,prevNext:c}}const l=Boolean(a),d=a===h.sb.DRAFT,E=a===h.sb.TRASH,_=a===h.sb.ARCHIVE,u=a===h.sb.BULK,p=a===h.sb.SENT,m=d||E||u;return{spam:!l||!d&&!u&&!p,ham:u&&!p,move:!l||!d,archive:!l||!d&&!_&&!u&&!E,restore:_||u||E,delete:!l||!m,permDelete:m,raf:e!==Mp.LIST&&(!l||!u&&!d),expandAll:o,collapseAll:i}}({kind:a,activeGroup:w,allCardsExpanded:w?O(n,w.id):null,primaryFolderType:G,listContentType:P}),J=ls()(q.map(e=>W(e,n))),ee=$.move&&J.length>1?Nm.a.disable_move_msgs_across_accunts:Nm.a.disable_move_msgs_default;if($.move=$.move&&J.length<=1,a===Mp.MESSAGE_VIEW){const e=K.length;$.previous=!!e&&z>0,$.next=!!e&&z<e-1}const te=U.getSetting(h.id.PREVIEW_PANE),se=U.getSetting("bulkActionDialogThreshold"),ae=N("selectAll"),ne=N("restoreToInbox");let re=!1;if(f()){const{getDecos:e}=R(),{getMessageIdsFromMessageGroupId:t}=D();let a;re=t(s).some(function(t){return(a=e(t))&&Object(Wt.l)(a,h.Zb.ORD)})}return{enableGroupActions:""!==s&&0===q.length,enableTriageActions:""!==s||q.length>0,isBulkAction:!s&&q.length>=se,isSpamEnabled:!!$.spam,isHamEnabled:!!$.ham,isArchiveEnabled:!!$.archive,isRestoreEnabled:!!$.restore,isMoveEnabled:!!$.move,isDeleteEnabled:!!$.delete,isPermDeleteEnabled:!!$.permDelete,hasPrevNext:!!$.prevNext,isPreviousEnabled:!!$.previous,isNextEnabled:!!$.next,isRafEnabled:!!$.raf,isCollapseAllEnabled:!!$.collapseAll,isExpandAllEnabled:!!$.expandAll,shouldDoSelectAll:ae&&Z&&!s&&(y>=se||y>q.length),selectionCount:ae&&Z?y:q.length,skipRendering:l().type===Fo.a.STREAM_CURSOR_MOVED,activeGroupId:s,folderType:G,currentSortOrder:Object(Io.D)(n),disabledMoveTitle:ee,kind:a,listId:n,route:M,showLabels:r,showActionLabels:o,hasAttachmentPreview:i,showBackToList:Y,showListFilter:X,showTriageActions:Q,showListHeading:!Q,allItemsSelected:Z,navigateOnMessageAction:c,isDraftMessage:x,allItemsCount:y,previewpane:te,bulkActionDialogThreshold:se,selectAll:ae,conversations:H,canRestoreToInbox:ne,streamId:B,isConversationMode:N(h.kb.CONVERSATIONS),isORDMessageGroup:re,isPensieveEnabled:k,msgReadDeleteEarnyCueEnabled:N(h.kb.MSG_READ_DELETE_EARNY_CUE)}},e=>({onChangeAllMessageCardExpansion:t=>e(Object(Zu.a)(t)),onClose:t=>e(Object(xr.c)(t)),closePreviewMessage:t=>e(Object(xr.d)(t)),loadMoreItems:t=>e(Object(fm.a)(t))}))(Lh);const Ph=ao.g.MSG_BODY,vh=["shift+p"],Fh=Object(Pr.h)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),Uh=e=>`${e.csid}-${e.folderType}`,Hh=e=>`MessageGroupView-${e}`;class kh extends we.a.Component{constructor(e){super(e),Gh.call(this);const{cards:t,hasCalendarCard:s}=e;this._refs={},this.state={activeItem:!s&&t.length>0&&Uh(t[t.length-1]),messagesMarkedAsUnread:[]}}componentWillReceiveProps(e){this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)}):this.markNewlyLoadedBodiesAsRead(e,this.props)}componentWillMount(){this._attachmentTrays={}}componentDidMount(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible}),this.context.bindShortcut(vh,this.handleShortcuts);let e=this.state.activeItem;const{cards:t,hasCalendarCard:s,hasCoupon:a}=this.props,n=t.find(({message:e})=>e&&!e.flags.read);n&&(e=Uh(n),this.setState({activeItem:e}));const r=this.getSavedScrollTop()>0,o=Object(xe.findDOMNode)(this._refs[e]),i=Object(xe.findDOMNode)(this._scrollContainer);i&&(o&&!r&&(i.scrollTop=o.offsetTop-fp),!a&&!s||r||(i.scrollTop=0),0!==t.indexOf(n)&&1!==t.length||r||(i.scrollTop=0),r&&(i.scrollTop=this.getSavedScrollTop()))}componentWillUnmount(){const{markAsReadInterval:e}=this.props;this.context.unbindShortcut(vh),this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&e!==h.Yb.IMMEDIATELY&&clearTimeout(this.markReadTimer)}render(){const e=this.context.getCss(Rm.a),{messageGroup:t,folderType:a,hasToolbar:n,listId:r,streamId:o,hasAttachmentPreview:i,conversations:c,emoji:l,gif:d,stationery:E,hasCalendarCard:_,calendarAttachment:u,showEbayWarrantyUpsell:p,cards:m}=this.props,S=a===h.sb.BULK,g=Object(gu.f)(t);return m.length<=0?null:we.a.createElement(Lu.a,{getUnsyncedData:this.getUIState},we.a.createElement("div",{className:e.container,"data-test-id":"message-group-view"},n&&we.a.createElement(yh,{listId:r,streamId:o,kind:Mp.MESSAGE_VIEW,activeGroupId:t.id,showLabels:this._shouldShowLabels(),hasAttachmentPreview:i,navigateOnMessageAction:this.navigateOnMessageAction}),we.a.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(c?Fh.conversation_view_label:Fh.message_view_label),ref:this._setScrollContainerRef,className:e.scrollView},this.renderCardGroup(),p?we.a.createElement(lo.a,{import:"../ebay_warranty_upsell",position:h.eb.TOP,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,640))},_moduleResolver:function(){return 640}}):null,we.a.createElement(Ip,{onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:g.flags.read,flagged:g.flags.flagged,listId:r,messageGroup:t}),_&&we.a.createElement("div",{className:e.rsvpContainer},we.a.createElement(lo.a,{import:"../rsvp_view/index.jsx",eventAttachment:u.event,folder:u.message.folder,messageId:u.message.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,638))},_moduleResolver:function(){return 638}})),we.a.createElement(Sl.a,{groupTabIndex:Wr.TabIndices.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},we.a.createElement("ul",{className:Om()(e.cardsContainer,{danger:S}),"data-test-id":"cards"},this.renderCardStacks(e)),!this._lastCardIsCompose()&&c?we.a.createElement(Rp,{stationery:E,gif:d,emoji:l,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward}):null))))}}kh.contextTypes={executeAction:Ve.a.func.isRequired,navigateTo:Ve.a.func.isRequired,intl:Pr.i.isRequired,config:Ve.a.object.isRequired,getCss:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var Gh=function(){this.getSavedScrollTop=(()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),this.navigateOnMessageAction=(()=>{const{listId:e,messageGroup:t}=this.props;this.props.loadMoreItems({listId:e,currentGroupId:t.id})}),this.scrollToCardGroup=(()=>{if(this.cardGroup){Object(xe.findDOMNode)(this.cardGroup).scrollIntoView({behavior:"smooth",block:"start"})}}),this.getUIState=(()=>{const e=this._scrollContainer&&Object(xe.findDOMNode)(this._scrollContainer);return e?{type:h.Td.COMPONENT_UI_STATE,hash:Hh(this.props.messageGroup.id),id:this.props.messageGroup.id,uiState:{scrollTop:e.scrollTop}}:{}}),this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which).toLowerCase(),s=this._getFirstAttachment();"p"===t&&e.shiftKey&&s&&(e.stopPropagation(),e.preventDefault(),Object(xa.k)(s)?this.previewAttachment(s.id,Object(vs.i)(e)):this.previewAttachmentAlert(s.downloadUrl))}),this.previewAttachment=((e,t)=>{const{messageGroup:s,attachmentPreview:a}=this.props,n={mKey:ao.e.OPEN_DOC_PREVIEW,sec:ao.g.ATTM_PREVIEW,interactionType:t};a&&this.context.navigateTo({route:Object(ho.c)(this.props.listId,s.id,e),i13nModel:n})}),this.previewAttachmentAlert=(e=>{this.context.executeAction(Dm.q,{downloadUrl:e})}),this.renderAttachments=(e=>{const{attachments:t,folder:s}=e,a=void 0!==s&&s.types.filter(e=>e===h.sb.BULK).length>0;return t&&t.length?we.a.createElement(su.a,{ref:t=>this._attachmentTrays[e.id]=t,attachments:t,readOnly:!0,allowDownload:!a,mayContainVirus:a,message:e,onAttachmentPreview:this.previewAttachment,shouldShowSpamAttachmentWarning:this.props.shouldShowSpamAttachmentWarning}):null}),this.scrollToAttachmentTray=(e=>{const t=this._attachmentTrays[e];t&&Object(xe.findDOMNode)(t)&&Object(xe.findDOMNode)(t).scrollIntoView()}),this.hasDeco=((e,t)=>t.some(t=>t&&t.id===e)),this.handleMailtoClick=((e,t)=>{if(!t)return;const s=Object(vs.f)();this.context.navigateTo({route:Object(ho.e)(s),mailtoAttr:t,message:e})}),this.handleMessageRead=((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:a,listId:n}=this.props;this.context.executeAction(e.flags.read?jo.n:jo.j,{messageIds:[e.id],itemId:s.id,streamId:a,streamItem:{id:s.id,listId:n,messageIds:[e.id]},i13nModel:Object.assign({mKey:e.flags.read?ao.e.MSG_HDR_MARK_UNREAD:ao.e.MSG_HDR_MARK_READ,sec:Ph,mKeyGroup:e.flags.read?ao.f.mark_unread:ao.f.mark_read},t)})}),this.handleMessageStar=((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:a,listId:n}=this.props;this.context.executeAction(e.flags.flagged?jo.m:jo.g,{messageIds:[e.id],itemId:s.id,streamId:a,streamItem:{id:s.id,listId:n,messageIds:[e.id]},i13nModel:Object.assign({mKey:e.flags.flagged?ao.e.MSG_HDR_MARK_UNSTAR:ao.e.MSG_HDR_MARK_STAR,sec:Ph,mKeyGroup:e.flags.read?ao.f.mark_unstar:ao.f.mark_star},t)})}),this.renderCard=((e,t,s)=>{const{cards:a,bodyStates:n,retryCounts:r,listId:o,messageGroup:i,windowDimensions:c,hasAttachmentPreview:l,canTakeFocus:d,conversations:E,hasCalendarCard:_,canEditSubject:u,isSendRequested:p}=this.props;let m;const{message:S}=t,g=Uh(t),{messageId:I,expansionState:C}=t,T=n[I],A=r[I],O=this.state.activeItem===g,b=a.findIndex(e=>e.id===t.id);if(t.folderType===h.sb.DRAFT&&p(t.csid))m=we.a.createElement(um,{cardId:g,csid:t.csid,totalMessages:t.total,conversations:E,windowDimensions:c,hasAttachmentPreview:l,renderAttachmentTray:this.renderAttachments});else if(t.folderType===h.sb.DRAFT){const e=this.context.getCss(Rm.a,{conseqCompose:s&&s.folderType===h.sb.DRAFT,active:O,isDraftError:T===h.Mc.ERROR});m=we.a.createElement("div",{ref:e=>{e&&(this._refs[g]=e,this.adjustBottomMarginForDropdownOverflow(g))},className:e.composeCard,onFocus:this.handleCardActivation.bind(this,t)},we.a.createElement(Cm,{ref:e=>this._refs[`compose-${g}`]=e,csid:t.csid,showCloseButton:!1,isQuickReply:!0,scrollContainer:this._scrollContainer,windowDimensions:c,hasAttachmentPreview:l,canEditSubject:u,widthChanged:this.props.widthChanged}))}else m=we.a.createElement(Em,{ref:g,listId:o,messageGroupId:i.id,message:S,idx:b,totalMessages:t.total,bodyState:T,retryCount:A,expanded:C===h.z.EXPANDED,expandable:a.length>1||_,onToggleExpand:this.handleMessageCardExpansion.bind(this,t),onToggleRead:this.handleMessageRead.bind(this,S),onToggleStar:this.handleMessageStar.bind(this,S),onClick:this.handleCardActivation.bind(this,t),onMailtoClick:this.handleMailtoClick.bind(this,S),renderAttachmentTray:this.renderAttachments.bind(this,S),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,S.id),active:O,canTakeFocus:d,navigateOnMessageAction:this.navigateOnMessageAction,conversations:E});return we.a.createElement("li",{key:g,className:e.messageCard},m)}),this.handleStackExpand=((e,t)=>{t.preventDefault();const{cards:s}=e,a=h.z.COLLAPSED;this.props.onChangeMessageCardExpansion({itemsToUpdate:s.map(e=>babelHelpers.extends({},e,{expansionState:a}))})}),this.handleMessageCardExpansion=(e=>{this.props.onChangeMessageCardExpansion({itemsToUpdate:[babelHelpers.extends({},e,{expansionState:e.expansionState===h.z.EXPANDED?h.z.COLLAPSED:h.z.EXPANDED})]}),this.setState({activeItem:Uh(e)})}),this.handleCardActivation=(e=>{const t=Uh(e);this.adjustBottomMarginForDropdownOverflow(t),this.setState({activeItem:t}),this.context.executeAction(Dm.e,{listId:this.props.listId,card:e})}),this.adjustBottomMarginForDropdownOverflow=(e=>{if(this._isLastCard(e)&&this._lastCardIsCompose()&&this._refs[e]){const t=this._refs[e],s=t.getBoundingClientRect();if(s.bottom>=document.body.clientHeight)t.style.marginBottom="";else{const e=document.body.clientHeight-s.bottom;t.style.marginBottom=e+"px"}}}),this._isLastCard=(e=>{const{cards:t}=this.props;return!!t.length&&Uh(t[t.length-1])===e}),this.handleKeyDown=((e,t)=>{switch(t.key){case"Enter":return t.preventDefault(),t.stopPropagation(),void this.handleStackExpand(e,t);default:return}}),this.renderStack=((e,t)=>we.a.createElement("li",{className:e.stack,key:t.cards[0].messageId,onClick:this.handleStackExpand.bind(this,t),onKeyDown:this.handleKeyDown.bind(this,t),"data-test-id":"super-collapse-card","data-iskeynav":!0},we.a.createElement("div",{className:e.stackLine}),we.a.createElement("span",{className:e.stackLabel},we.a.createElement(Pr.c,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:t.cards.length,senderList:we.a.createElement(Tm.a,{visibleNum:10,senders:Object(gu.g)(t.cards.map(e=>(Object(m.a)(!e.isDraft,"Stacking drafts is not supported"),e.message))),myAddresses:this.props.myAddresses})}})),we.a.createElement("div",{className:e.stackLine}))),this.renderCardStacks=(e=>{const t=this.props.cards.reduce((e,t)=>{const s=t.expansionState;let a=e[e.length-1];return a&&s===a.cardExpansion||e.push(a={cardExpansion:s,cards:[]}),a.cards.push(t),e},[]).map(t=>t.cardExpansion!==h.z.STACKED||t.cards.length<2||this.props.cards.length<10?t.cards.map((t,s,a)=>this.renderCard(e,t,a[s+1])):this.renderStack(e,t));return Array.prototype.concat.apply([],t)}),this.markNewlyLoadedBodiesAsRead=(({messageGroup:e,bodyStates:t,isAppVisible:s},{bodyStates:a,isAppVisible:n})=>{const{messagesMarkedAsUnread:r}=this.state,{markAsReadInterval:o,streamId:i,listId:c,isAMT:l,cards:d}=this.props;if(!l&&s&&o!==h.Yb.NEVER){const s=e.messages.filter(e=>!(e.flags.read||t[e.id]!==h.Mc.LOADED||a[e.id]===t[e.id]&&n||-1!==r.indexOf(e.id)));if(s.length){const t=s.map(e=>e.id);this.markReadTimer=setTimeout(()=>{this.context.executeAction(jo.j,{itemId:e.id,messageIds:t,streamId:i,streamItem:{id:e.id,listId:c,messageIds:t},persistStreamItemExpansionStates:d})},n?1e3*o:1e3)}}}),this.getUserInitiatedUnreadStatus=((e,t)=>{const{messagesMarkedAsUnread:s}=this.state,a=[...s];return t.forEach(t=>{if(!t.flags.read){const s=e.find(e=>e.id===t.id&&e.flags.read!==t.flags.read);s&&a.push(s.id)}}),a}),this._executeGroupAction=((e,{stream:t={},i13nModel:s})=>{const{messageGroup:a}=this.props;this.context.executeAction(e,babelHelpers.extends({messageGroupIds:[a.id]},t,{i13nModel:s}))}),this.handleReply=(e=>{const t={mKey:ao.e.QUICK_REPLY,sec:ao.g.QUICK_COMPOSE,mKeyGroup:ao.f.reply,interaction_type:Object(vs.i)(e)};this.context.executeAction(Dm.t,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),this.handleReplyAll=(e=>{const t={mKey:ao.e.QUICK_REPLYALL,sec:ao.g.QUICK_COMPOSE,mKeyGroup:ao.f.replyAll,interaction_type:Object(vs.i)(e)};this.context.executeAction(Dm.s,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),this.handleForward=(e=>{const t={mKey:ao.e.QUICK_FORWARD,sec:ao.g.QUICK_COMPOSE,mKeyGroup:ao.f.forward,interaction_type:Object(vs.i)(e)};this.context.executeAction(Dm.f,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),this.handleToggleGroupRead=(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:a}=this.props,n=t.messages[0].flags.read;this._executeGroupAction(n?Dm.n:Dm.j,{stream:{streamId:s,streamItem:t?{id:t.id,listId:a}:void 0},i13nModel:{mKey:n?ao.e.MSG_GRP_HDR_MARK_UNREAD:ao.e.MSG_GRP_HDR_MARK_READ,sec:ao.g.MSG_BODY,mKeyGroup:n?ao.f.mark_unread:ao.f.mark_read}})}),this.handleToggleGroupStar=(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:a}=this.props,n=t.messages[0].flags.flagged;this._executeGroupAction(n?Dm.m:Dm.g,{stream:{streamId:s,streamItem:t?{id:t.id,listId:a}:void 0},i13nModel:{mKey:n?ao.e.MSG_GRP_HDR_MARK_UNSTAR:ao.e.MSG_GRP_HDR_MARK_STAR,sec:ao.g.MSG_BODY,mKeyGroup:n?ao.f.mark_unstar:ao.f.mark_star}})}),this._shouldShowLabels=(()=>!this.props.hasAttachmentPreview),this._getFirstAttachment=(()=>{const e=(this.props.messageGroup.messages||[]).find(e=>e.attachments&&e.attachments.length);return e&&e.attachments[0]}),this._lastCardIsCompose=(()=>{const{cards:e,isSendRequested:t}=this.props,{folderType:s,csid:a}=e[e.length-1];return Boolean(s===h.sb.DRAFT&&!t(a))}),this.renderCardGroup=(()=>{const{messageGroup:e,selfExtractCoupon:t,couponCards:a}=this.props;return"decos"in e.messages[0]?we.a.createElement(lo.a,{defer:!0,import:"../card_group",parentMessageId:e.messages[0].id,onViewLess:this.scrollToCardGroup,ref:e=>{this.cardGroup=e},couponCards:a,selfExtractCoupon:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,939))},_moduleResolver:function(){return 939}}):null}),this._setScrollContainerRef=(e=>{this._scrollContainer=e})};var wh=Object(Lr.b)((e,t)=>{let s=[],a=!1;const{rsvpEnabled:n,messageGroup:r,listId:o,conversations:i,hasCoupon:c}=t,l=n&&((e={})=>{const t={};return(e.messages||[]).some(e=>{const s=Object(xa.h)(e.attachments)[0];if(s)return t.message=e,t.event=s,!0}),Object.keys(t).length?t:null})(r),d=!!l,{getRoute:E,getMessagesSelectors:_,getMessageFromAddress:u,getMessageToAddress:p,getMessageCcAddress:m,getMessageBccAddress:S,getMessageDate:g,getMessageSnippet:I,getCouponsSelectors:C,getFeaturesSelectors:T,getEnvironmentSelectors:A,getReconciledUnysncedDataByHash:O,getMessageFlags:b,getAttachmentsByMessageId:R,getFoldersSelectors:D,getSubjectAndSnippetSelectors:f,isSingleDraftGroup:N,isSendRequested:M,getMainStreamListIds:L,getMessageGroupStreamItemsWithExpansionStates:y,getMessageFolderId:P,shouldShowEbayWarrantyUpsell:v,isFeatureEnabled:F}=Object(So.b)(e),U=Object(Pu.a)(L(E())),{getDownloadAllUrl:H,getCardConversationId:k}=_(),{getFolderTypes:G}=D(),{getSubject:w}=f(),x=A().isAMT(),{getCouponCardsForCardConversationId:B}=C(),{getSetting:j}=T(),V=j(h.id.EBAY_WARRANTY_UPSELL_POSITION),W=O(Hh(r.id)),q=!i||N(r.id),K={id:r.id,listId:o},z=v()&&V===h.eb.TOP;if(c){const e=k(r.messages[0].id);s=(a=F(h.kb.COUPON_SELF_EXTRACTION)&&!e)?[]:B(e)}return{cards:y(K).map(e=>{const{messageId:t}=e;if(e.folderType===h.sb.DRAFT)return babelHelpers.extends({},e);const s=P(t);return babelHelpers.extends({},e,{message:{id:t,flags:b(t),folder:{id:s,types:G(s)},headers:{subject:w(t,o),from:u(t),to:p(t),cc:m(t),bcc:S(t),date:g(t)},snippet:I(t,o),attachments:R(t),downloadAllUrl:H(t)}})}),isSendRequested:M,hasCalendarCard:d,calendarAttachment:l,streamId:U,preservedState:W,isAMT:x,canEditSubject:q,couponCards:s,selfExtractCoupon:a,showEbayWarrantyUpsell:z}},e=>({onChangeMessageCardExpansion:t=>e(Object(Zu.b)(t)),onClose:({route:t,i13nModel:s={}})=>{e(Object(xr.c)({route:t,i13nModel:s}))},loadMoreItems:t=>e(Object(fm.a)(t))}))(kh);const xh=to()(Rm.a);function Bh({onRetry:e}){return we.a.createElement("div",{className:xh.empty,"data-test-id":"group-error"},we.a.createElement("p",null,we.a.createElement(Pr.c,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),we.a.createElement("a",{className:xh.emptyRetry,onClick:e,"data-test-id":"group-error-retry"},we.a.createElement(Pr.c,{id:"group_error.retry",defaultMessage:"Retry"})))}class jh extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleErrorRetry=(()=>{}),this.renderError=(()=>we.a.createElement(Bh,{onRetry:()=>this.handleErrorRetry()})),this.renderLoading=(()=>we.a.createElement(wc.b,null)),t}shouldComponentUpdate(e){return!e.skipRendering}render(){const{isAttachmentRouteInFullScreenMode:e=!1,groupState:t,messageGroup:s}=this.props;if(e)return null;switch(t){case h.Mc.DOES_NOT_EXIST:case h.Mc.LOADING:return this.renderLoading();case h.Mc.ERROR:return this.renderError();case h.Mc.LOADED:default:{const e=Object(gu.i)(s);return we.a.createElement(wh,babelHelpers.extends({},this.props,{key:e?s.messages[0].csid:s.id}))}}}}jh.defaultProps={widthChanged:0};var Vh=Object(Lr.b)((e,t)=>{const{getAction:s,getFeaturesSelectors:a,doesMessageGroupIdExist:n,getRoute:r,getRouteParams:o,isMessageGroupRequested:i,getDraftMessageId:c,getGroupIdContainingMessageId:l,doesComposeSessionExist:d,isSent:E,getWindowDimensions:_,isAppVisible:u,shouldShowSpamAttachmentWarning:p,__patchV2MessageGroupItemId__:m,__patchV2MyAddresses__:S,getMessageBodyState:g,getMessageBodyRetryCount:I,getAccountIdFromMessageGroupId:C}=Object(So.b)(e),{listId:T,hasToolbar:A=!0}=t,O={},b={},R=r(),D=o(),f=_(),N=a(),M=N.isEnabled(h.kb.RSVP),L=!!N.getSetting(h.id.PREVIEW_PANE)&&(R.name===h.Pc.FOLDER||R.name===h.Pc.SEARCH),y=D.attachmentId&&"1"===R.query.fullscreen,P=D.attachmentId&&"1"!==R.query.fullscreen,v=Object(Io.P)(T)&&Object(Io.O)(T,{read:!1})&&-1!==[h.Pc.MESSAGE_FROM_SEARCH_LIST,h.Pc.SEARCH].indexOf(R.name)||Object(Io.D)(T)===h.wd.UNREAD&&-1!==[h.Pc.SEARCH,h.Pc.FOLDER].indexOf(R.name),F=N.getSetting(h.id.MARK_AS_READ_INTERVAL);let U=t.openedMessageId||D.groupId;if(t.csid){if(!d(t.csid)||E(t.csid))return{groupId:U,groupState:h.Mc.DOES_NOT_EXIST};if(t.csid&&!t.openedMessageId){const e=c(t.csid);e&&(U=l(e))}}else if(!n(U)||i(U))return{groupId:U,groupState:i(U)?h.Mc.DOES_NOT_EXIST:h.Mc.ERROR,hasAttachmentPreview:P,isAttachmentRouteInFullScreenMode:y,hasToolbar:A,canTakeFocus:L};const H=m(U,T),k=S(),G=C(U,T);H.messages.forEach(e=>{O[e.messageId]=g(e.messageId),b[e.messageId]=I(e.messageId)});const w=N.isEnabled("attachmentPreview"),x=N.isEnabled(h.kb.CONVERSATIONS),B=N.isEnabled(h.kb.EMOJI),j=N.isEnabled(h.kb.GIF),V=N.isEnabled(h.kb.STATIONERY),W=N.isEnabled(h.kb.COUPON_CARD_EXTRACTIONS)&&H.messages[0].decos.some(e=>e&&"CPN"===e.id);return{skipRendering:s().type===Fo.a.STREAM_CURSOR_MOVED,stationery:V,gif:j,emoji:B,attachmentPreview:w,conversations:x,bodyStates:O,retryCounts:b,groupState:h.Mc.LOADED,hasToolbar:A,hasCoupon:W,accountIds:[G],myAddresses:k,messageGroup:H,isAppVisible:u(),hasAttachmentPreview:P,isAttachmentRouteInFullScreenMode:y,windowDimensions:f,markAsReadOnUnmount:v,markAsReadInterval:F,canTakeFocus:L,rsvpEnabled:M,shouldShowSpamAttachmentWarning:p}})(jh),Wh=s(67),qh=s(375),Kh=s(470),zh=s(264),Yh=s.n(zh);const Zh=to()(Yh.a);class Xh extends we.a.Component{render(){const{count:e,formatNumber:t}=this.props;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),we.a.createElement("div",{className:this.iconStyles&&Zh.dragIcon,style:this.iconStyles?this.iconStyles:{}},we.a.createElement(Fr.b,{kind:Ur.b.INBOX,size:Ur.d.XS}),we.a.createElement("b",{className:Zh.counter},t(e)))}}Xh.defaultProps={formatNumber:e=>""+e};var Qh=Xh,$h=s(285),Jh=s.n($h),eS=s(51),tS=s(590),sS=s.n(tS);const aS=Object(Pr.h)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},start_ad_feedback_form:{id:"start_ad_feedback_form",defaultMessage:"I don't like this ad"}});class nS extends we.a.Component{constructor(...e){var t;return t=super(...e),this.onChevronClicked=(e=>{e.preventDefault(),e.stopPropagation()}),this.renderAdFeedbackChoices=(()=>{const{formatMessage:e}=this.context.intl;return[{option:"why_this_ad",onClick:this.props.onAdChoiceClicked},{option:"start_ad_feedback_form",onClick:this.props.onAdFeedbackRequest,testId:"feedback-menu-start"}].map(t=>we.a.createElement(ll.a,{key:t.option},we.a.createElement(Zr.a,{onClick:t.onClick,kind:Xr.a.MENUITEM,"data-test-id":t.testId},e(aS[t.option]))))}),t}render(){const{formatMessage:e}=this.context.intl,{isCompactLayout:t,hideFeedbackChevron:s}=this.props,a=to()(sS.a,{isCompactLayout:t,hideFeedbackChevron:s});return we.a.createElement("div",{onClick:this.onChevronClicked,"data-test-id":"feedback-menu"},we.a.createElement(Kr.a,null,we.a.createElement(zr.a,null,we.a.createElement("span",{className:a.chevronDown},we.a.createElement(vr.a,{kind:Ur.b.CHEVRON_UP,size:this.props.size,rotate:Ur.c.D180,colorState:Ur.a.INHERITED,title:e(aS.chevron_title),tabIndex:"-1"}))),we.a.createElement(qr.b,{triggerOn:Yr.h.CLICK,permittedArrowDirections:[Yr.g.UP,Yr.g.DOWN],offset:16,zAltitude:Wr.ZIndices.POPOVER.HIGH,align:Yr.a.END},we.a.createElement("div",{className:a.adFeedbackContainer},we.a.createElement(Qr.a,{focusOnMount:!0},this.renderAdFeedbackChoices())))))}}nS.contextTypes={intl:Pr.i.isRequired},nS.defaultProps={size:Ur.d.XXS};var rS=nS,oS=s(591),iS=s.n(oS);const cS=Object(Pr.h)({closeAdFeedback:{id:"close_ad_feedback",defaultMessage:"Close ad"}});class lS extends we.a.Component{onIconClicked(e){e.preventDefault(),e.stopPropagation(),this.props.onAdFeedbackRequest()}render(){const{pencilAdHovered:e,isCompact:t}=this.props,s=this.context.getThemeMode()===Is.f.DARK,a=to()(iS.a,{isCompact:t,adHoveredInDarkTheme:e&&s,adHoveredInLightTheme:e&&!s,adNotHoveredInCompact:!e&&t}),{formatMessage:n}=this.context.intl;return we.a.createElement("div",{className:a.closeIconContainer},we.a.createElement(Zr.a,{"data-test-id":"icon-btn-close",title:n(cS.closeAdFeedback),onClick:this.onIconClicked.bind(this),onDoubleClick:this.onIconClicked.bind(this),className:a.closeIcon},we.a.createElement("span",{className:a.closeCenter},we.a.createElement(Fr.b,{kind:Ur.b.CLOSE,size:Ur.d.XXS,colorState:Ur.a.INHERITED,"aria-label":n(cS.closeAdFeedback)}))))}}lS.defaultProps={pencilAdHovered:!1,isCompact:!1},lS.contextTypes={intl:Pr.i,getThemeMode:Ve.a.func};var dS=lS,ES=s(592),_S=s.n(ES),uS=s(50);const pS=Object(Pr.h)({flash_sale_countdown_in_seconds:{id:"ad.flash_sale_countdown_in_seconds",defaultMessage:"\n            {days, plural,\n                =0 {}\n                other {{days} days : }\n            }\n            {hrs, plural,\n                =0 {}\n                other {{hrs} hrs : }\n            }\n            {mins, plural,\n                =0 {}\n                other {{mins} mins : }\n            }\n            {secs} secs\n        "},flash_sale_countdown:{id:"ad.flash_sale_countdown",defaultMessage:"\n            {days, plural,\n                =0 {}\n                other {{days} days : }\n            }\n            {hrs, plural,\n                =0 {}\n                other {{hrs} hrs : }\n            }\n            {mins} mins\n        "}});class mS extends Ge.Component{constructor(e){super(e),this.timerId=0,this.clearTimers=this.clearTimers.bind(this),this.startTimers=this.startTimers.bind(this),this.state={now:Date.now()}}clearTimers(){this.timerId&&(clearTimeout(this.timerId),this.timerId=0)}startTimers(){if(!this.timerId){const e=this.props.countdownInSeconds?1e3:6e4,t=this.props.flashSaleEndTime-this.state.now;this.timerId=setInterval(()=>{t<=e&&(this.clearTimers(),this.props.flashSaleAdEnded()),this.setState({now:this.state.now+e})},e)}}componentDidMount(){this.startTimers()}componentWillUnmount(){this.clearTimers()}getFormatedTime(e){return e<0&&(e=0),{days:Math.floor(e/864e5),hrs:Math.floor(e/36e5)%24,mins:Math.floor(e/6e4)%60,secs:Math.round(e/1e3)%60}}render(){const e=this.props.flashSaleEndTime-this.state.now,t=to()(_S.a,{isDarkTheme:this.context.getThemeMode()===Is.f.DARK,flashSaleHighlight:e<864e5}),s=this.props.countdownInSeconds?pS.flash_sale_countdown_in_seconds:pS.flash_sale_countdown;return we.a.createElement("div",{className:t.flashSaleCountdown},we.a.createElement(Fr.b,{kind:Ur.b.CLOCK,colorState:Ur.a.INHERITED,size:Ur.d.XXXS}),we.a.createElement("span",{className:t.flashSaleCountdownText},this.context.intl.formatMessage(s,this.getFormatedTime(e))))}}mS.contextTypes={intl:Pr.i,getThemeMode:Ve.a.func};var hS=Object(Lr.b)(null,e=>({flashSaleAdEnded:()=>e(Object(uS.g)())}))(mS),SS=s(453);const gS=Object(Pr.h)({learn_more_btn_title:{id:"learn_more_btn_title",defaultMessage:"Learn More"},learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"},sponsored:{id:"ad.sponsored",defaultMessage:"Sponsored"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class IS extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={hover:!1},this.onAdChoiceClicked=(e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)}),this.renderSponsoredIcon=((e,t)=>we.a.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},we.a.createElement(Fr.b,{kind:Ur.b.SPONSORED,size:t,colorState:Ur.a.INHERITED}))),this.onPreviewVideoEnd=(()=>{this.setState({previewVideoEnded:!0})}),this.renderSponsoredImg=(e=>{const t=this.props.pencilAdData;if(t.type===eS.k.VideoAdType&&t.previewVideoUrl)return we.a.createElement("div",{className:e.previewVideo},this.state.previewVideoEnded?we.a.createElement("img",{"data-test-id":"play-icon",className:e.videoOverlay,src:Object(rl.a)("/img/gemini_pencil_play.png")}):null,we.a.createElement("video",{muted:!0,className:e.previewVideoPlayer,ref:e=>this.previewVideoPlayer=e},we.a.createElement("source",{src:t.previewVideoUrl,type:t.previewVideoContentType})));if(t.adImg){return we.a.createElement("div",{className:e.favicon},we.a.createElement(hl.c,{size:this.props.msgListDensity===h.ac.SLIM?hl.b.S:hl.b.C,fallback:t.adImg}))}}),this.renderActionButton=((e,{type:t,callToAction:s})=>{const{formatMessage:a}=this.context.intl,n=s||a(t===eS.k.VideoAdType?gS.watch_btn_label:gS.learn_more_btn_label);return we.a.createElement("div",null,we.a.createElement(Zr.a,{className:e.actionButton,title:n,"data-test-id":"learn-more-btn"},n))}),this.renderFeedbackMenu=((e,t)=>{const{isCompactLayout:s,feedbackEnabled:a}=this.props;if(a)return we.a.createElement("div",{className:e.iconContainer},we.a.createElement(rS,{size:t,onAdChoiceClicked:this.onAdChoiceClicked,onAdFeedbackRequest:this.props.onAdFeedbackRequest,isCompactLayout:s,hideFeedbackChevron:!this.state.hover&&s}))}),this.renderCloseIcon=(e=>{const{isCompactLayout:t,feedbackEnabled:s}=this.props;if(s)return we.a.createElement("div",{className:e.closeIconContainer},we.a.createElement(dS,{pencilAdHovered:this.state.hover,onAdFeedbackRequest:this.props.onAdFeedbackRequest,isCompact:t}))}),this.renderRating=((e,t)=>we.a.createElement("div",{className:t.starRatingContainer},we.a.createElement(SS.a,{value:parseInt(e,10)/2}))),this.getPencilAdVersionRotationId=(()=>{const{pencilAdVersion:e}=this.props,t=Object(N.t)();if("pencilAdVersionRotation1"===e)return t%3;if("pencilAdVersionRotation2"===e){const e=t%6;if([2,3].indexOf(e)>-1)return 1;if([4,5].indexOf(e)>-1)return 2}else if("pencilAdVersionRotation3"===e){const e=t%9;if([3,4,5].indexOf(e)>-1)return 1;if([6,7,8].indexOf(e))return 2}return 0}),t}componentDidMount(){this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd)}render(){const{pencilAdData:e,onClick:t,isCompactLayout:s,adPosition:a,isSearchRoute:n,closeIconPencilAd:r,timechunkPencilAd:o,pencilAdVersion:i,msgListDensity:c,snippetsEnabled:l,searchAdIconOnHover:d,flashSaleAdInSecondsEnabled:E,flashSaleAdEnabled:_,searchAdBackBucket:u}=this.props,{formatMessage:p}=this.context.intl,m=_&&e.type===eS.k.FlashSaleAdType&&e.flashSaleEndTime>Date.now(),S=e.type===eS.k.NativeAdType,g=e.type===eS.k.VideoAdType,I=S&&s,C=r&&s&&this.state.hover,T=d&&!this.state.hover,A="alignDollarSignWithCross"===i,O="alignDollarSignWithCaret"===i,b="heightOptimizationBackBucketExp"!==i&&!s&&(c===h.ac.SLIM||c===h.ac.NORMAL),R=this.getPencilAdVersionRotationId(),D=this.context.getCss(Jh.a,babelHelpers.extends({isCompactLayout:s,sponsoredCompactLayout:I,adHoveredInCompact:C,transparentLink:n&&!u||"noGreyBackground"===i,gradientltr:("gradientltr"===i||1===R)&&a===h.tb.MESSAGE_LIST,gradientrtl:("gradientrtl"===i||2===R)&&a===h.tb.MESSAGE_LIST,heightOptimization:b,secondPencilAd:a===h.tb.MESSAGE_LIST_2,timechunkPencilAd:o},Object(Is.i)(this.context),{iconHidden:T,alignDollarIcon:A||O,alignDollarIconCompact:(A||O)&&s,msgListDensity:`${s?"compact_":""}${s&&l?"snippets_":""}${c}`,isFlashSaleAd:m,compactFlashSaleAd:m&&!l&&c!==h.ac.RELAXED})),f=n&&!u||"noGreyBackground"===i?D.linkWithTransparentBackground:"",N=A||O?we.a.createElement("button",{className:D.sponsored,onClick:this.onAdChoiceClicked},p(gS.ad_text)):this.renderSponsoredIcon(D,Ur.d.XXS);return we.a.createElement("a",{ref:this.props.anchorRef,rel:"noreferrer","data-test-id":`pencil-ad-${a}`,className:`${D.link} ${f}`,href:e.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:t,onMouseLeave:()=>this.setState({hover:!1}),onMouseOver:()=>{this.state.hover||this.setState({hover:!0})}},we.a.createElement("div",{className:D.gridB1},we.a.createElement("div",{className:D.imageContainer},s?N:this.renderSponsoredImg(D)),s||A||O?null:this.renderSponsoredIcon(D,Ur.d.S),s?null:we.a.createElement("div",{className:D.advertiserContainer},we.a.createElement("span",{className:D.advertiser},e.adSource),we.a.createElement("button",{className:D.sponsored,onClick:this.onAdChoiceClicked},p(gS.ad_text)))),we.a.createElement("div",{className:D.spacer}),we.a.createElement("div",{className:D.gridB2},we.a.createElement("div",{className:D.message},we.a.createElement("div",{className:D.subjectContainer},we.a.createElement("span",{"data-test-id":"ad-subject",className:D.subject,"aria-label":s?e.adSource:e.adHeadline,title:s?e.adSource:e.adHeadline},s?e.adSource:e.adHeadline),!s||A||O?null:we.a.createElement("div",{className:D.sponsoredContainer},we.a.createElement("button",{className:D.sponsored,onClick:this.onAdChoiceClicked},p(gS.ad_text)))),s&&(m||l)?we.a.createElement("div",{"data-test-id":"ad-compact-headline",className:D.adHeadline,"aria-label":e.adHeadline,title:e.adHeadline},e.adHeadline):null,we.a.createElement("div",{className:D.snippetContainer},m&&we.a.createElement(hS,{flashSaleEndTime:e.flashSaleEndTime,countdownInSeconds:E}),!m&&!s&&l&&we.a.createElement("span",{className:D.snippet,"data-test-id":"ad-summary","aria-label":e.adSummary,title:e.adSummary},e.adSummary),!m&&s&&we.a.createElement("span",{className:D.snippet,"data-test-id":"ad-summary","aria-label":e.adSummary,title:e.adSummary},l?e.adSummary:e.adHeadline),!s||r||A||O?null:this.renderFeedbackMenu(D,Ur.d.XXS),s&&!u&&e.rating&&this.renderRating(e.rating,D))),s||u||!e.rating?null:this.renderRating(e.rating,D),(S||g||m)&&!s?this.renderActionButton(D,e):null,r||A||!(!O&&!s||O&&this.state.hover)?null:this.renderFeedbackMenu(D,Ur.d.S),r||!A&&!O||this.state.hover?null:this.renderSponsoredIcon(D,Ur.d.S),(r||A&&this.state.hover)&&this.renderCloseIcon(D)))}}IS.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var CS=nE.a(IS),TS=s(82),AS=s(145);function OS(e,t,s,a,n){const{rules:r,actionUrls:o}=e,i=Date.now();if("partialView"===n)return o&&o.PARTIAL_VIEW&&!a[n]&&s>0;if(r){const e="viewabilityDefStatic3P"===n&&r[n]?r[n][0]:r[n];return e&&!a[n]&&i-t>=1e3*e.d&&s>=e.p}}function bS(e){if(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth}}function RS(e,t){const s=e-t;return s<=0?0:Math.floor(s/e*100)}function DS(e,t){const s=e.actionUrls||{};"viewabilityDefStatic"===t?((e.impressionTrackingUrls||[]).forEach(e=>{if(e)try{Object(TS.a)(e,!1)}catch(t){AS.a.error("sendBeacon_failure",{url:e})}}),Object(TS.a)(e.beacon,!1)):"viewabilityDefStatic3P"===t&&Object(T.a)(s,"STATIC_VIEW_3P.0",null)?Object(TS.a)(s.STATIC_VIEW_3P[0],!1):"partialView"===t&&Object(T.a)(s,"PARTIAL_VIEW.0",null)&&Object(TS.a)(s.PARTIAL_VIEW[0],!1)}var fS=s(286),NS=s.n(fS),MS=s(454),LS=s(108);const yS=Object(Pr.h)({save_coupon:{id:"coupon_card.save",defaultMessage:"Save coupon"},saved_coupon:{id:"coupon_card.unsave",defaultMessage:"Saved!"},deals_text:{id:"deals.text",defaultMessage:"Deal from your inbox:"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"},expiresToday:{id:"expiration_message.expires_today",defaultMessage:"Expires today"},expiresTomorrow:{id:"expiration_message.expires_tomorrow",defaultMessage:"Expires tomorrow"},expiresThisWeek:{id:"expiration_message.expires_this_week",defaultMessage:"Expires on {day}"},expiresInNDays:{id:"expiration_message.expires_in_n_days",defaultMessage:"Expires in {numDays} days"}});class PS extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={couponSaved:!1,hover:!1},t}handleCouponClick(){const{topCoupon:e,couponClickedFromPencil:t,adPosition:s}=this.props;t({mKey:ao.e.COUPON_CLICKED_FROM_PENCIL,sec:ao.g.MSG_LIST_AD,actionData:{domain:e.domain,email:e.email,url:e.originalLink,adPosition:s}})}saveCouponClick(e){const{topCoupon:t,couponSave:s,adPosition:a}=this.props,{cmid:n,schemaId:r,domain:o,email:i,originalLink:c}=t;e.stopPropagation(),e.preventDefault(),s({cardMid:n,schemaId:r,i13nModel:{mKey:ao.e.COUPON_CLIPPED_FROM_PENCIL,sec:ao.g.MSG_LIST_AD,actionData:{domain:o,email:i,url:c,adPosition:a}}}),this.setState({couponSaved:!0})}formatExpirationMessage({timestamp:e=0,dateDiff:t=0}){const{formatMessage:s,formatDate:a}=this.context.intl,n=this.context.timezone.name||"UTC",r=new Date(e);let o="";if(0===t)o=s(yS.expiresToday);else if(1===t)o=s(yS.expiresTomorrow);else if(t>1&&t<7){const e=a(r,{timeZone:n,weekday:"long"});o=s(yS.expiresThisWeek,{day:e})}else t>=7&&(o=s(yS.expiresInNDays,{numDays:t}));return o}componentDidMount(){const{topCoupon:e,couponRenderedOnPencil:t,adPosition:s}=this.props;this._renderCouponTimer=setTimeout(()=>{t({mKey:ao.e.COUPON_RENDERED_ON_PENCIL,sec:ao.g.MSG_LIST_AD,actionData:{domain:e.domain,email:e.email,url:e.originalLink,adPosition:s}})},0)}componentWillUnmount(){this._renderCouponTimer&&clearTimeout(this._renderCouponTimer)}render(){const{isCompactLayout:e,topCoupon:t,renderCouponOnPencilPosition:s,coloredCoupon:a,uiVersion2:n,msgListDensity:r,snippetsEnabled:o}=this.props,{email:i,domain:c,description:l,expirationTime:d,clipped:E}=t,{formatMessage:_}=this.context.intl,u=this.context.getTheme(),p=a&&!Object(Is.k)({context:this.context})&&([Is.g.DEFAULT,Is.g.DEEP_PURPLE,Is.g.AQUA_BLUE,Is.g.BLUE_NIGHT,Is.g.SUNRISE,Is.g.AQUA_GREEN].indexOf(u)+1||u===Is.g.ROADTRIP&&Number.POSITIVE_INFINITY||[Is.g.NIGHT_LANDSCAPE,Is.g.SUNSET_AUSSIE,Is.g.LIGHTHOUSE].indexOf(u)+4),m=!e&&r===h.ac.SLIM,S=this.context.getCss(Jh.a,babelHelpers.extends({isCompactLayout:e,renderCouponOnPencilPosition:s,backgroundId:p,transparentLink:n,savedCoupon:this.state.couponSaved||E},Object(Is.i)(this.context),{heightOptimization:!e,couponNonCompact:!e&&s,msgListDensity:`${e?"compact_":""}${e&&o?"snippets_":""}${r}`,isSlim:m,couponCompact:e&&s}));return we.a.createElement("a",{rel:"noreferrer","data-test-id":"pencil-coupon",href:t.dealLink,className:`${S.link} ${n?S.linkWithTransparentBackground:""}`,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:this.handleCouponClick.bind(this),onMouseLeave:()=>this.setState({hover:!1}),onMouseOver:()=>{this.state.hover||this.setState({hover:!0})}},we.a.createElement("div",{className:S.gridB1},we.a.createElement("div",{className:S.imageContainer},we.a.createElement("div",{className:S.favicon},we.a.createElement(hl.c,{"data-test-id":"coupon-vendor-xavatar",contact:{email:i},size:m?hl.b.S:hl.b.C,useFallbackImage:!1}))),!e&&we.a.createElement("div",{className:S.advertiserContainer},we.a.createElement("span",{className:S.advertiser,"data-test-id":"coupon-domain"},c))),we.a.createElement("div",{className:S.spacer}),we.a.createElement("div",{className:S.gridB2},we.a.createElement("div",{className:S.message},we.a.createElement("div",{className:S.subjectContainer},e&&we.a.createElement("span",{className:S.advertiser,"data-test-id":"coupon-domain"},c),we.a.createElement("span",{"data-test-id":"coupon-subject",className:S.subject,"aria-label":t.description,title:t.description},l)),we.a.createElement("div",{className:S.snippetContainer},we.a.createElement("span",{className:S.snippet,"data-test-id":"coupon-summary","aria-label":this.formatExpirationMessage(d),title:this.formatExpirationMessage(d)},_(yS.deals_text)+" "+this.formatExpirationMessage(d)))),!e&&!n&&we.a.createElement("div",null,this.state.couponSaved||E?we.a.createElement(Zr.a,{className:`${S.filledActionButton} ${S.actionButton}`,title:_(yS.saved_coupon),"data-test-id":"saved-coupon-btn"},_(yS.saved_coupon)):we.a.createElement(Zr.a,{className:S.actionButton,title:_(yS.save_coupon),"data-test-id":"save-coupon-btn",onClick:e=>this.saveCouponClick(e)},_(yS.save_coupon))),!e&&n&&!(this.state.couponSaved||E)&&we.a.createElement(Zr.a,{className:S.unclippedScissorsIcon,onClick:e=>this.saveCouponClick(e),title:_(yS.save_coupon),"data-test-id":"clip-coupon-btn"},we.a.createElement(Fr.b,{kind:Ur.b.SCISSORS,size:m?Ur.d.XXXS:Ur.d.XXS,colorState:Ur.a.INHERITED})),!e&&n&&(this.state.couponSaved||E)&&we.a.createElement(Zr.a,{className:S.clippedScissorsIcon,title:_(yS.saved_coupon),"data-test-id":"clipped-coupon-btn"},we.a.createElement(Fr.b,{kind:Ur.b.SCISSORS,size:m?Ur.d.XXXS:Ur.d.XXS,colorState:Ur.a.INVERTED}))))}}PS.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,timezone:qo.e,navigateTo:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var vS=nE.a(PS);let FS=!1;class US extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleAdClicked=(e=>{const{pencilAdData:t,listId:s,feedbackEnabled:a,sectionId:n}=this.props;if(a&&this.props.geminiClicked({i13nModel:{mKey:ao.e.PENCIL_AD_GEMINI_CLICKED,sec:ao.g.MSG_LIST_AD,interactionType:Object(vs.i)(e),actionData:{sectionId:t.sectionId||n}}}),a&&-1!==[eS.k.NativeAdType,eS.k.VideoAdType].indexOf(t.type)){e.preventDefault();const a=Object(T.a)(t,"actionUrls.IMPR_INTERNAL",[]);switch(t.type){case eS.k.NativeAdType:case eS.k.VideoAdType:Object(TS.a)(t.clickUrl,!1),a.forEach(function(e){e=e.replace("$(impr_label)","msm_open"),Object(TS.a)(e,!1)})}this.context.navigateTo({route:Object(ho.u)(s,t.creativeId)})}}),this.onAdChoiceClicked=(e=>{e.preventDefault(),e.stopPropagation(),window.open(this.props.aboutAdsUrl,"_blank")}),this.onAdFeedbackRequest=(()=>{const{startAdFeedback:e,sectionId:t,pencilAdData:s}=this.props;e({i13nModel:{mKey:ao.e.PENCIL_AD_FEEDBACK_OPEN,sec:ao.g.MSG_LIST_AD,interactionType:ao.d.click,actionData:{sectionId:s.sectionId||t}},sectionId:t})}),this.createObserver=(e=>{const{anchor:t,viewabiltyContainerNode:s}=this.props;if(s&&t&&void 0!==window.IntersectionObserver){const a={root:s,threshold:[.1,e/100,1]};this.vBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{this.handleBeacons(100*e.intersectionRatio)})},a),this.viewabilityObserver.observe(t)}}),this.handleBeacons=(e=>{const t=Object(T.a)(this.props.pencilAdData,"rules.viewabilityDefStatic",null);if(this.allBeaconsFired=this.allBeaconsFired||NS()(this.beaconsFired,e=>e),!this.allBeaconsFired&&t){if(100!==e||this.beaconsFired.viewabilityDefStatic3P||this.v3PBeaconTimer)e<100&&this.v3PBeaconTimer&&!this.beaconsFired.viewabilityDefStatic3P&&(this.v3PBeaconTimeRemaining-=Date.now()-this.v3PBeaconVisTime,clearTimeout(this.v3PBeaconTimer),this.v3PBeaconTimer=null);else{const e=this.fireAndUpdateBeacon.bind(this,"viewabilityDefStatic3P","v3PBeaconTimer");this.v3PBeaconVisTime=Date.now(),this.v3PBeaconTimer=setTimeout(e,this.v3PBeaconTimeRemaining)}if(e>=this.vBeaconThreshold&&!this.beaconsFired.viewabilityDefStatic&&!this.vBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"viewabilityDefStatic","vBeaconTimer");this.vBeaconTimer=setTimeout(e,1e3*t.d)}else e<this.vBeaconThreshold&&!this.beaconsFired.viewabilityDefStatic&&(clearTimeout(this.vBeaconTimer),this.vBeaconTimer=null);e>0&&!this.beaconsFired.partialView&&this.fireAndUpdateBeacon("partialView"),e>0&&this.props.isAdBlockVerifiedBeacon&&!FS&&Object(C.b)()&&window.rapidInstance&&window.rapidInstance.beaconEvent&&(this.props.geminiAdRendered({i13nModel:{isBeaconEvent:!0,eventName:ao.a.GEMINI_AD_RENDERED}}),FS=!0)}}),this.fireAndUpdateBeacon=((e,t)=>{const{pencilAdData:s,isAppVisible:a}=this.props;this[t]=null,a&&(DS(s,e),this.beaconsFired[e]=!0)}),this.handleNewAd=(()=>{const{pencilAdData:e,geminiViewabilityIO:t,isCompactLayout:s,viewabiltyContainerScrollTop:a,anchor:n,adViewabilityTrackerEnabled:r,renderCouponOnPencilPosition:o}=this.props;if(t&&!r&&!o){const{rules:t,actionUrls:r,beacon:o}=e;if(this.beaconsFired={viewabilityDefStatic:!o,viewabilityDefStatic3P:!(r&&r.STATIC_VIEW_3P),partialView:!(r&&r.PARTIAL_VIEW)},this.allBeaconsFired=!1,t&&0!==Object.keys(t).length){const{viewabilityDefStatic:e,viewabilityDefStatic3P:r}=t;if(this.createObserver(e.p),this.v3PBeaconTimeRemaining=r?1e3*r[0].d:0,bS(n)){const e=RS(s?Wr.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:Wr.MESSAGE_LIST_GEMINI_AD_HEIGHT,a);this.handleBeacons(e)}}}}),t}componentDidUpdate(e){this.props.pencilAdData.clickUrl===e.pencilAdData.clickUrl&&this.props.viewabiltyContainerNode===e.viewabiltyContainerNode&&this.props.anchor===e.anchor||this.handleNewAd()}shouldComponentUpdate(e){return(!0!==e.adBlockCouponsOnPencilAds||!(this.props.selectedCoupons.length>0||this.props.topCoupons.length>0)||e.msgListDensity!==this.props.msgListDensity)&&(e.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||e.isCompactLayout!==this.props.isCompactLayout||e.viewabiltyContainerNode!==this.props.viewabiltyContainerNode||e.anchor!==this.props.anchor||e.msgListDensity!==this.props.msgListDensity||!this.props.renderCouponOnPencilPosition&&(e.selectedCoupons.length>0||e.topCoupons.length>0))}renderAdListItem(){const{anchorRef:e,isCompactLayout:t,feedbackEnabled:s,adPosition:a,pencilAdData:n,isSearchRoute:r,closeIconPencilAd:o,timechunkPencilAd:i,flashSaleAdEnabled:c,flashSaleAdInSecondsEnabled:l,pencilAdVersion:d,searchAdBackBucket:E,searchAdIconOnHover:_,msgListDensity:u,snippetsEnabled:p,renderCouponOnPencilPosition:m,onCouponSave:h,onCouponClickedFromPencil:S,onCouponRenderedOnPencil:g,topCoupons:I,selectedCoupons:C,adBlockCouponsOnPencilAds:T,listId:A,adBlockCouponsOnPencilAdsVersion:O}=this.props;let b=!1,R=!1;return 2===C.length?(b=C[0],R=C[1]):1===C.length?(b=C[0],R=I.length>0&&I[0]):I.length>0&&(b=I.length>0&&I[0],R=I.length>1&&I[1]),(m||T)&&b&&"messageList"===a?we.a.createElement(vS,{key:"coupon-list-item",isCompactLayout:t,renderCouponOnPencilPosition:m||T,topCoupon:b,couponSave:h,adPosition:a,coloredCoupon:"coloredCouponOnPencilAdPosition"===d,couponClickedFromPencil:S,couponRenderedOnPencil:g,listId:A,uiVersion2:"version2"===O,msgListDensity:u,snippetsEnabled:p}):T&&R&&"messageList2"===a?we.a.createElement(vS,{key:"coupon-list-item",isCompactLayout:t,renderCouponOnPencilPosition:T,topCoupon:R,couponSave:h,adPosition:a,coloredCoupon:"coloredCouponOnPencilAdPosition"===d,couponClickedFromPencil:S,couponRenderedOnPencil:g,listId:A,uiVersion2:"version2"===O,msgListDensity:u,snippetsEnabled:p}):we.a.createElement(CS,{key:n.type,anchorRef:e,pencilAdData:n,onAdChoiceClicked:this.onAdChoiceClicked,isCompactLayout:t,onAdFeedbackRequest:this.onAdFeedbackRequest,onClick:this.handleAdClicked,feedbackEnabled:s,adPosition:a,isSearchRoute:r,closeIconPencilAd:o,timechunkPencilAd:i,flashSaleAdEnabled:c,flashSaleAdInSecondsEnabled:l,pencilAdVersion:d,searchAdBackBucket:E&&r,searchAdIconOnHover:_&&r,msgListDensity:u,snippetsEnabled:p})}render(){const{pencilAdData:e,adViewabilityTrackerEnabled:t,sectionId:s,viewabiltyContainerNode:a,adBlockCouponsOnPencilAds:n}=this.props;return e&&e.clickUrl?t&&!n?we.a.createElement(MS.a,{pencilAdData:e,sectionId:s,rootNode:a},this.renderAdListItem()):this.renderAdListItem():null}}US.contextTypes={navigateTo:Ve.a.func,intl:Pr.i.isRequired,store:Ve.a.object};var HS=Object(Lr.b)((e,t)=>{const{getAdsSelectors:s,isFeatureEnabled:a,getSetting:n,getRoute:r,getCouponsSelectors:o,getMessagesSelectors:i}=Object(So.b)(e),c=s(),l=r().name===h.Pc.SEARCH,d=a(h.kb.SEARCH_AD_BACK_BUCKET)&&l,E=n(h.id.PENCIL_AD_VERSION),_=a(h.kb.AD_BLOCK_COUPONS_ON_PENCIL_ADS)&&c.isAdBlocked(),u=n(h.id.AB_BLOCK_COUPONS_ON_PENCIL_AD_VERSION),p="heightOptimizationBackBucketExp"===E,m=c.getCouponOnPencilState(),S=["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(E)>-1&&1===m;let g=o().getTopCoupons(h.E);const I=g.filter(e=>!e.clipped);g=g.filter(e=>e.clipped);const{getParentMessageIdForCardConversationId:C,getParentConversationIdForCardConversationId:T}=i(),A=a(h.kb.CONVERSATIONS)?T:C;let O=I.slice(0,2);return O=O.map(e=>{const t=o().getCardConversationId(e.schemaId),s=A(t);return babelHelpers.extends({},e,{groupId:s})}),{aboutAdsUrl:n(h.id.ABOUT_AD_URL),pencilAdError:!!c.getGeminiError(),geminiViewabilityIO:a(h.kb.GEMINI_VIEWABILITY_IO),isSearchRoute:l,pencilAdData:c.getPencilAdData(t.sectionId),closeIconPencilAd:a(h.kb.CLOSE_ICON_PENCIL_AD),flashSaleAdEnabled:a(h.kb.FLASH_SALE_AD),flashSaleAdInSecondsEnabled:a(h.kb.FLASH_SALE_AD_IN_SECONDS),pencilAdVersion:E,isAdBlockVerifiedBeacon:a(h.kb.AD_BLOCK_VERIFIED_BEACON),searchAdIconOnHover:a(h.kb.SEARCH_AD_ICON_ON_HOVER),searchAdBackBucket:d,msgListDensity:d||p?null:n(h.id.MSG_LIST_DENSITY),snippetsEnabled:d||p?null:a(h.id.SNIPPETS),adViewabilityTrackerEnabled:a(h.kb.AD_VIEWABILITY_TRACKER),renderCouponOnPencilPosition:S,topCoupons:g,selectedCoupons:O,adBlockCouponsOnPencilAds:_,adBlockCouponsOnPencilAdsVersion:u}},e=>({startAdFeedback:t=>e(Object(uS.A)(t)),geminiClicked:t=>e(Object(uS.j)(t)),geminiAdRendered:t=>e(Object(uS.h)(t)),onCouponSave:t=>e(Object(LS.b)(t)),onCouponClickedFromPencil:t=>e(Object(LS.d)(t)),onCouponRenderedOnPencil:t=>e(Object(LS.i)(t))}))(US),kS=s(594),GS=s.n(kS);const wS=Object(Pr.h)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."},upsell_message_trail_plan_caption:{id:"ad.upsell_message_trail_plan_caption",defaultMessage:"Want an ad-free inbox? Try {YahooMailProBrand} for free!"},thank_you_message_caption:{id:"ad.thank_you_message_caption",defaultMessage:"We'll review your feedback and make changes as needed."}});class xS extends we.a.Component{constructor(...e){var t;return t=super(...e),this.openPaymentPage=(()=>{this.props.mailProEligible&&window.open(this.context.config.adFreeMailUrl,"_blank")}),t}render(){const{isCompactLayout:e,mailProEligible:t}=this.props,{formatMessage:s}=this.context.intl,a=this.context.getCss(GS.a,{isCompactLayout:e});return we.a.createElement("div",{className:a.thankYouContainer,"data-test-id":"feedback_thank_you"},we.a.createElement("div",{className:a.textContainer,onClick:this.openPaymentPage},we.a.createElement("div",{className:a.header},we.a.createElement(Pr.c,{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."}),"",t&&!e?s(wS.upsell_message_trail_plan_caption,{YahooMailProBrand:s(wS.yahoo_mail_pro_branding)}):null),t?null:we.a.createElement("div",{className:a.caption,title:s(wS.thank_you_message_caption)},s(wS.thank_you_message_caption))),t?we.a.createElement(Zr.a,{onClick:this.openPaymentPage,className:a.upgradeNow,title:s(wS.upgrade_now_btn_label),"data-test-id":"upgrade-now"},s(wS.upgrade_now_btn_label)):null,we.a.createElement("div",{className:a.close,"data-test-id":"close"},we.a.createElement(vr.a,{kind:Ur.b.CLOSE,size:Ur.d.XXS,colorState:Ur.a.DISABLED,onClick:this.props.onAdFeedbackClose,title:s(wS.close_ad_thank_you)})))}}xS.contextTypes={intl:Pr.i.isRequired,config:Ve.a.object,getCss:Ve.a.func.isRequired};var BS=xS,jS=s(356),VS=s.n(jS);const WS=Object(Pr.h)({ad_offensive:{id:"ad.offensive",defaultMessage:"It's offensive"},ad_notRelevant:{id:"ad.notRelevant",defaultMessage:"It's not relevant"},ad_keepSeeing:{id:"ad.keepSeeing",defaultMessage:"I keep seeing this"},ad_somethingElse:{id:"ad.somethingElse",defaultMessage:"Something else:"},close_ad_feedback:{id:"ad.close_feedback",defaultMessage:"close"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},ad_form_question:{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"}});class qS extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={active:""},this.getChoice=(()=>this.state.active),this.onChange=(e=>{this.setState({active:e})}),this.onAdFeedbackSubmit=(e=>{e.preventDefault(),this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===h.lb.SOMETHING_ELSE?this.refs.input.value:"",sectionId:this.props.sectionId})}),this.renderRadio=(e=>{const t=e===h.lb.SOMETHING_ELSE,{isCompactLayout:s}=this.props,a=this.state.active===h.lb.SOMETHING_ELSE,n=this.context.getCss(VS.a,{freeTextFocused:a,isCompactLayout:s});return we.a.createElement("div",{className:n.optionContainer},we.a.createElement("input",{className:n.radio,type:"radio",name:"adFeedbackRadio",onChange:this.onChange.bind(this,e),checked:t?a:null}),we.a.createElement("span",{className:n.text},we.a.createElement(Pr.c,WS["ad_"+e])),t?we.a.createElement("input",{className:n.freeText,onFocus:this.onChange.bind(this,h.lb.SOMETHING_ELSE),ref:"input",onKeyDown:e=>e.stopPropagation()}):null)}),t}render(){const{isCompactLayout:e}=this.props,{formatMessage:t}=this.context.intl,s=this.context.getCss(VS.a,{isCompactLayout:e});return we.a.createElement("form",{className:s.container,"data-test-id":"feedback-list-item"},we.a.createElement("div",{className:s.header},we.a.createElement("span",{className:s.title,title:t(WS.ad_form_question)},t(WS.ad_form_question)),we.a.createElement("span",{className:s.close,"data-test-id":"feedback-close"},we.a.createElement(vr.a,{kind:Ur.b.CLOSE,size:Ur.d.XXS,colorState:Ur.a.DISABLED,onClick:this.props.onAdFeedbackClose,title:t(WS.close_ad_feedback)}))),we.a.createElement("div",{className:s.columns},we.a.createElement("div",{className:s.column},this.renderRadio(h.lb.OFFENSIVE),this.renderRadio(h.lb.NOT_RELEVANT)),we.a.createElement("div",{className:s.column},this.renderRadio(h.lb.KEEP_SEEING),this.renderRadio(h.lb.SOMETHING_ELSE)),we.a.createElement("div",{className:s.buttonGroup},we.a.createElement(Zr.a,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:t(WS.ad_done),marginLess:!0},we.a.createElement(Pr.c,WS.ad_done)))))}}qS.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func.isRequired};var KS=qS;class zS extends we.a.Component{constructor(...e){var t;return t=super(...e),this.onAdFeedbackClose=((e,t)=>{const{sectionId:s,closeAdFeedback:a}=this.props;e.preventDefault(),a({i13nModel:{mKey:ao.e.PENCIL_AD_FEEDBACK_CLOSED,sec:ao.g.MSG_LIST_AD,actionData:{sectionId:s,feedbackSubmitted:t}},sectionId:s})}),this.onAdFeedbackSubmit=(e=>{const{sectionId:t,submitAdFeedback:s}=this.props;s(babelHelpers.extends({i13nModel:{mKey:ao.e.PENCIL_AD_FEEDBACK_SUBMITTED,sec:ao.g.MSG_LIST_AD,actionData:babelHelpers.extends({sectionId:t},e)},sectionId:t},e))}),t}render(){return this.props.adFeedbackSubmitted?we.a.createElement(BS,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!0),isCompactLayout:this.props.isCompactLayout,mailProEligible:this.props.mailProEligible}):we.a.createElement(KS,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!1),submitAdFeedback:this.onAdFeedbackSubmit,isCompactLayout:this.props.isCompactLayout,sectionId:this.props.sectionId})}}zS.contextTypes={executeAction:Ve.a.func,store:Ve.a.object};var YS=Object(Lr.b)((e,t)=>{const{getFeaturesSelectors:s,getAdsSelectors:a}=Object(So.b)(e),{getAdFeedbackBeacon:n}=a(),{isEnabled:r}=s();return{adFeedbackBeacon:n(t.sectionId),mailProEligible:r(h.kb.MAIL_PRO_ELIGIBLE)}},e=>({closeAdFeedback:t=>e(Object(uS.c)(t)),submitAdFeedback:t=>e(Object(uS.B)(t))}))(zS);const ZS=796,XS=805,QS=818,$S=828,JS=873,eg=884,tg=914,sg={"amazon.com":eg,"linkedin.com":XS,"paypal.com":$S,"groupon.com":eg,"ebay.com":eg,"chase.com":$S,"indeed.com":XS,"capitalone.com":$S,"nextdoor.com":JS,"kohls.com":eg,"intuit.com":$S,"walmart.com":eg,"southwest.com":tg,"synchronybank.com":$S,"zillow.com":JS,"ups.com":eg,"bestbuy.com":eg,"netflix.com":QS,"apple.com":902,"homedepot.com":eg,"cvs.com":849,"bankofamerica.com":$S,"jcpenney.com":eg,"target.com":eg,"directv.com":QS,"discover.com":$S,"costco.com":eg,"siriusxm.com":ZS,"walgreens.com":811,"oldnavy.com":eg,"victoriassecret.com":eg,"ticketmaster.com":QS,"macys.com":eg,"evite.com":QS,"docusign.net":866,"tripadvisor.com":tg,"bedbathandbeyond.com":eg,"bathandbodyworks.com":eg,"fidelity.com":$S,"livingsocial.com":eg,"citibank.com":$S,"citi.com":$S,"cox.net":QS,"redbox.com":QS,"wayfair.com":eg,"michaels.com":eg,"uber.com":tg,"geico.com":ZS,"wellsfargo.com":$S,"staples.com":eg,"booking.com":tg,"travelzoo.com":tg,"delta.com":tg,"progressive.com":ZS,"hilton.com":tg,"meetup.com":793,"zulily.com":eg,"jobstreet.com":XS,"lowes.com":eg,"sears.com":eg,"nordstorm.com":eg,"trulia.com":JS,"dsw.com":eg,"creditkarma.com":$S,"ziprecruiter.com":XS,"synchronyfinancial.com":$S,"airbnb.com":tg,"capitaloneemail.com":$S,"aa.com":tg,"statefarm.com":ZS,"hrblock.com":$S,"email-marriott.com":tg,"americanexpress.com":$S,"houzz.com":JS};function ag(e){return e.map(e=>{const t=Object(T.a)(e,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/);return sg[t&&t[1]]||null}).filter(e=>null!==e)}const ng=e=>`MessageListUi-${e}`,rg=to()(Yh.a),og=["k","shift+k","l","shift+l","del","backspace","p"];let ig=!1,cg=!1,lg=!1;var dg=Object(yr.d)(Object(Lr.b)((e,t)=>{const{getFeaturesSelectors:s,getAdsSelectors:a,getReconciledUnysncedDataByHash:n,doesListExist:r,doesListHasMoreItems:o,getAccountIdsByFolderId:i,getRoute:c}=Object(So.b)(e),l=s(),d=a(),{getPencilAdData:E,getAdFeedbackStatus:_,getCachedGeminiAds:u}=d,p=_(),m=l.getSetting(h.id.GEMINI_SECTION_IDS),S=E(m[h.tb.MESSAGE_LIST]),g=l.isEnabled(h.kb.GEMINI_VIEWABILITY),I=l.isEnabled(h.kb.GEMINI_CONTEXTUAL_ADS),C=l.isEnabled(h.kb.INBOX_COUPONS_CUE),T=l.getSetting("bulkActionDialogThreshold"),A=l.getSetting("messageScrollLoadThreshold"),O=l.isEnabled(h.kb.CONVERSATIONS),b=l.getSetting(h.id.MESSAGE_INITIAL_RENDER_COUNT),R=Object(Io.m)(t.listId),D=l.isEnabled(h.kb.PENCIL_AD),f=l.isEnabled(h.kb.SECOND_PENCIL_AD)&&!!u(m[h.tb.MESSAGE_LIST_2]).length,N=n(ng(t.listId)),M=l.isEnabled("selectAll"),{allItemsSelected:L,allItemsCount:y,itemSelection:P}=t,v=Object.keys(P),F=M&&L&&(y>=l.getSetting("bulkActionDialogThreshold")||y>v.length),U=l.getSetting(h.id.STAR_ANIMATION),H=r(t.listId)?o(t.listId):void 0,k=l.isEnabled(h.kb.TIMECHUNK_PENCIL_AD),G=c().name===h.Pc.SEARCH,w=l.isEnabled(h.kb.SEARCH_AD_BACK_BUCKET)&&G,x="heightOptimizationBackBucketExp"===l.getSetting(h.id.PENCIL_AD_VERSION),B=l.isEnabled(h.kb.MESSAGE_OP_PERF);return{hasMoreItems:H,doSelectAll:F,geminiViewability:g,bulkActionDialogThreshold:T,messageScrollLoadThreshold:A,conversations:O,messageInitialRenderCount:b,geminiContextualAds:I,showInboxCouponsCue:C,pencilAdData:S,adFeedbackStatus:p,accountIds:i(R),geminiSectionIds:m,pencilAd:D,secondPencilAd:f,preservedState:N,starAnimation:U,timechunkPencilAd:k,searchAdBackBucket:w,heightOptimizationBackBucket:x,messageOpPerfEnabled:B}}),Object(Lr.b)(void 0,(e,{actions:t})=>({actions:t,onPreviewMessage:t=>e(Object(Zu.g)(t))})))((()=>{var e,t;let a=0;return t=e=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={showDeleteConfirm:!1,idsToDelete:[],updatedMessages:{},deleting:!1},this.getSavedScrollTop=(()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),this.updateMessageListHeight=(()=>{const e=document.querySelector("[data-test-id=message-group-list-container]");a=e?e.clientHeight:a}),this.getUIState=(()=>{const e=this.scrollContainer&&Object(xe.findDOMNode)(this.scrollContainer);return e?{type:h.Td.COMPONENT_UI_STATE,hash:ng(this.props.listId),id:this.props.streamId,uiState:{scrollTop:e.scrollTop}}:{}}),this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which).toLowerCase();e.stopPropagation(),e.preventDefault(),"k"===t?e.shiftKey?this.handleShortcutReadMessages():this.handleShortcutUnreadMessages():"l"===t?e.shiftKey?this.handleShortcutUnflagMessages():this.handleShortcutFlagMessages():"p"!==t||e.shiftKey?e.keyCode!==mo.a.BACKSPACE&&e.keyCode!==mo.a.DELETE||this.handleShortcutDeleteMessages():this.handleShortcutPrintMessages()}),this.getActionCreator=(e=>{const{actions:t}=this.props;switch(e){case Jp.a:return t.deleteMessageGroups;case Jp.c:return t.moveMessageGroups;case Jp.g:return t.markMessageGroupsAsSpam;case Jp.d:return t.markMessageGroupsAsNotSpam;case Jp.f:return t.markMessageGroupsAsRead;case Jp.i:return t.markMessageGroupsAsUnread;case Jp.b:return t.markMessageGroupsAsFlagged;case Jp.h:return t.markMessageGroupsAsUnflagged;case Jp.k:return t.toggleSelection;case Jp.j:return t.toggleMultipleSelection;case Jp.e:return t.printMessage;default:throw new TypeError("Unknown interaction type: "+e)}}),this.handleMessageGroupInteraction=((e,{messageGroup:t,i13nModel:s})=>{const a={messageGroupIds:[t.id],listId:this.props.listId,streamId:this.props.streamId,streamItem:{listId:this.props.listId,id:t.id}};if(s&&(a.i13nModel=s),e===Jp.a)return this.handleDelete(a);this.context.executeAction(this.getActionCreator(e),a)}),this.handleMultipleMessageSelection=((e,{lastMessageGroup:t,multipleStreamItems:s,i13nModel:a})=>{const n={multipleStreamItems:s.map(e=>({listId:this.props.listId,id:e})),listId:this.props.listId,streamId:this.props.streamId,streamItem:{listId:this.props.listId,id:t.id}};a&&(n.i13nModel=a),this.context.executeAction(this.getActionCreator(e),n)}),this._onActionOnSelectedMessages=((e,t)=>{const{executeAction:s}=this.context,{messageGroups:a,cursorIndex:n,itemSelection:r,listId:o,streamId:i}=this.props,c=a[n],l={};a.forEach(({id:e},t)=>l[e]=t);let d=Object.keys(r).map(e=>l[e]).map(e=>a[e]);!d.length&&c&&(d=[c]);const E=d.filter(t=>e(t));if(E.length>0){const e={listId:o,messageGroupIds:E.map(e=>e.id),streamId:i};if(t===Jp.a)return this.handleDelete(e);if(t===Jp.e&&1!==E.length)return;s(this.getActionCreator(t),e)}else this.showCoachTooltip({selectedMessages:d,interaction:t})}),this.showCoachTooltip=(({selectedMessages:e=[],interaction:t=""})=>{if(!e.length)return;const{messageGroups:s,cursorIndex:a,itemSelection:n}=this.props,r=s[a]&&n[s[a].id]?s[a]:s.find(({id:t})=>t===e[0].id),o=(e,t,s=!1)=>{if(!e||!t)return{};const{left:a,top:n,right:r}=e.getBoundingClientRect(),{right:o,top:i,left:c}=t.getBoundingClientRect();return{left:s?"auto":o-a,top:i-n-2,right:s?r-c:"auto"}};let i,c;switch(t){case Jp.i:c=this.readIconContainer[r.id],i=we.a.createElement(rm,null);break;case Jp.b:c=this.starIconContainer[r.id],i=we.a.createElement(im,null)}c&&am(i,{id:r.id,renderToTheSide:h.Od.RIGHT,appendNode:this.messageItemContainer,referenceNode:{parent:this.messageItemContainer,child:c,positionCalculator:o},clearTooltipOn:{scroll:this.scrollContainer}},this.context)}),this.updateDeletePayload=((e,{deletedMessageGroups:t,streamItems:s})=>{e.streamItems=s,e.messageGroupIds=t,e.streamItem=null,e.batchDelete=!0}),this.getDeletedMessagesPayload=(e=>{const t=[],s=[];return Object.keys(e).forEach(a=>{e[a]===Jp.a&&(t.push(a),s.push({listId:this.props.listId,id:a}))}),{deletedMessageGroups:t,streamItems:s}}),this.handleDelete=(e=>{const{executeAction:t}=this.context,{messageGroupIds:s}=e;if(e.permanent=this.props.permDelete,this.state.showDeleteConfirm||!(this.props.permDelete||s.length>=this.props.bulkActionDialogThreshold))if(this.props.messageOpPerfEnabled){const a=Object.assign({},this.state.updatedMessages);s.forEach(e=>{a[e]=Jp.a}),this.setState({updatedMessages:a,deleting:!0},()=>{this.postponeDelete&&clearTimeout(this.postponeDelete);const{deletedMessageGroups:s,streamItems:n}=this.getDeletedMessagesPayload(a);if(s.length>=5)return this.updateDeletePayload(e,{deletedMessageGroups:s,streamItems:n}),this.setState({deleting:!1}),t(this.getActionCreator(Jp.a),e);this.postponeDelete=setTimeout(()=>{const{updatedMessages:s}=this.state,{deletedMessageGroups:a,streamItems:n}=this.getDeletedMessagesPayload(s);this.setState({deleting:!1}),a.length>1&&this.updateDeletePayload(e,{deletedMessageGroups:a,streamItems:n}),t(this.getActionCreator(Jp.a),e),this.hideDeleteConfirm()},500)})}else t(this.getActionCreator(Jp.a),e),this.hideDeleteConfirm();else this.setState({showDeleteConfirm:!0,idsToDelete:s})}),this.handleShortcutDeleteMessages=(()=>{this._onActionOnSelectedMessages(()=>!0,Jp.a)}),this.handleShortcutReadMessages=(()=>{this._onActionOnSelectedMessages(e=>!Object(gu.d)(e).read,Jp.f)}),this.handleShortcutUnreadMessages=(()=>{this._onActionOnSelectedMessages(e=>Object(gu.d)(e).read,Jp.i)}),this.handleShortcutFlagMessages=(()=>{this._onActionOnSelectedMessages(e=>!Object(gu.d)(e).flagged,Jp.b)}),this.handleShortcutUnflagMessages=(()=>{this._onActionOnSelectedMessages(e=>Object(gu.d)(e).flagged,Jp.h)}),this.handleShortcutPrintMessages=(()=>{this._onActionOnSelectedMessages(()=>!0,Jp.e)}),this.handleShiftClick=(e=>{const{actions:t,listId:s,streamId:a}=this.props;this.context.executeAction(t.selectRange,{listId:s,targetGroupId:e.id,streamId:a,streamItem:{listId:s,id:e.id}})}),this.getMessageGroupIndex=(e=>{const{messageGroups:t}=this.props;return t.findIndex(t=>t.id===e.id)}),this.handleMessageOpen=((e,t)=>{const{previewpane:s,listId:a,geminiContextualAds:n,streamId:r}=this.props,{id:o}=e,i=this.getMessageGroupIndex(e);let c;if(s===h.Bc.NO)this._openMessageGroup(o,{i13nModel:babelHelpers.extends({actionData:{pos:i}},t)});else{n&&(c=function({messages:e}){return ag(Object(T.a)(e,"0.headers.from",[]))}(e));const s=Object.assign({mKey:ao.e.OPEN_MSG,sec:ao.g.MSG_LIST_MSG,mKeyGroup:ao.f.open_msg,actionData:{pos:i}},t);this.props.onPreviewMessage({listId:a,itemId:o,streamId:r,streamItem:{listId:a,id:o},geminiCategories:c,i13nModel:s})}}),this.handleOnDoubleClick=((e,t)=>{const{id:s}=e,a=this.getMessageGroupIndex(e);this._openMessageGroup(s,{i13nModel:babelHelpers.extends({},t,{actionData:{pos:a}})})}),this.handleCursorOpen=(e=>{const{messageGroups:t,cursorIndex:s}=this.props,a=t[s];if(!a||-1===e.target.className.indexOf("message-list-item"))return;const{id:n}=a;e.preventDefault(),this._openMessageGroup(n,{i13nModel:{interactionType:ao.d.nav,actionData:{pos:s}}})}),this._openMessageGroup=((e,{i13nModel:t})=>{const{messageGroupRoutes:s,listId:a,streamId:n}=this.props;this.context.navigateTo({route:s[e],itemId:e,streamId:n,streamItem:{listId:a,id:e},i13nModel:Object.assign({mKey:ao.e.OPEN_MSG,sec:ao.g.MSG_LIST_MSG,mKeyGroup:ao.f.open_msg},t)})}),this.handleItemSelect=(()=>{const{actions:e,messageGroups:t,cursorIndex:s,listId:a,streamId:n}=this.props,r=t[s];r&&this.context.executeAction(e.toggleSelection,{listId:a,streamId:n,streamItem:{listId:a,id:r.id},messageGroupIds:[r.id]})}),this.handleItemSelectAll=(()=>{const{actions:e,listId:t,streamId:s}=this.props;this.context.executeAction(e.selectAll,{listId:t,streamId:s})}),this.handleCheckboxClick=((e,t)=>{this.handleMessageGroupInteraction(Jp.k,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:ao.e.SELECT_MSG,sec:ao.g.MSG_LIST_MSG})})}),this.handleCtrlClick=((e,t)=>{const{openedGroupId:s,itemSelection:a}=this.props;0===Object.keys(a).length&&s&&s!==e.id?this.handleMultipleMessageSelection(Jp.j,{multipleStreamItems:[s,e.id],i13nModel:babelHelpers.extends({},t,{mKey:ao.e.SELECT_MSG,sec:ao.g.MSG_LIST_MSG}),lastMessageGroup:e}):this.handleMessageGroupInteraction(Jp.k,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:ao.e.SELECT_MSG,sec:ao.g.MSG_LIST_MSG})})}),this.handleReadClick=((e,t)=>{const{flags:s}=Object(gu.f)(e,{listId:this.props.listId});this.handleMessageGroupInteraction(s.read?Jp.i:Jp.f,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:s.read?ao.e.MARK_MSG_UNREAD:ao.e.MARK_MSG_READ,sec:ao.g.MSG_LIST_MSG,mKeyGroup:s.read?ao.f.mark_unread:ao.f.mark_read})})}),this.handleStarClick=((e,t)=>{const{flags:s}=Object(gu.f)(e,{listId:this.props.listId});this.handleMessageGroupInteraction(s.flagged?Jp.h:Jp.b,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:s.flagged?ao.e.MARK_MSG_UNSTARRED:ao.e.MARK_MSG_STARRED,sec:ao.g.MSG_LIST_MSG,mKeyGroup:s.flagged?ao.f.mark_unstar:ao.f.mark_star})})}),this.handleTrashClick=((e,t)=>{this.handleMessageGroupInteraction(Jp.a,{messageGroup:e,i13nModel:babelHelpers.extends({},t,{mKey:ao.e.MSG_LIST_DEL,sec:ao.g.MSG_LIST_MSG,mKeyGroup:ao.f.delete})})}),this.handleAttachmentPreviewClick=(({attachmentId:e,messageGroupId:t,i13nModel:s})=>{this.context.navigateTo({route:Object(ho.c)(this.props.listId,t,e,{fullscreen:"1"}),i13nModel:s})}),this.handleDragStart=((e,t)=>{const s=Object.assign({},this.props.itemSelection,{[e.id]:!0}),{listId:a,actions:n,doSelectAll:r,allItemsCount:o,streamId:i}=this.props,c=r?o:Object.keys(s).length;this.context.executeAction(n.itemDragStart,{streamId:i,streamItem:{id:e.id,listId:a},listId:a,messageGroupIds:[e.id]}),Object(C.h)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),Object(C.g)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(c),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text",JSON.stringify({listId:a,allItemsCount:o,doSelectAll:r})),t.dataTransfer.effectAllowed="move"}),this.handleContactSearchClick=((e,t)=>{const{participants:s,recipients:a}=Object(gu.f)(e,{listId:this.props.listId}),{folderType:n,myAddresses:r}=this.props,o=n===h.sb.SENT||n===h.sb.DRAFT?Object(qt.o)({recipients:a,participants:s,myAddresses:r}):s;let i={};o[0]&&(i={emailAddresses:o[0].email,name:o[0].name||o[0].email}),this.context.navigateTo({route:Object(ho.r)(i),i13nModel:babelHelpers.extends({},t,{mKey:ao.e.CONTACT_SEARCH,sec:ao.g.MSG_LIST_MSG,mKeyGroup:ao.f.search})})}),this.handleSubjectSearchClick=((e,t)=>{const s={keyword:`subject:"${Object(gu.f)(e,{listId:this.props.listId}).subject}"`};this.context.navigateTo({route:Object(ho.r)(s),i13nModel:babelHelpers.extends({},t,{mKey:ao.e.SUBJECT_SEARCH,sec:ao.g.MSG_LIST_MSG,mKeyGroup:ao.f.search})})}),this.restoreTargetStyle=(e=>{setTimeout(()=>{e.style.maxWidth="",e.style.height=""},0)}),this.handleDragEnd=(()=>{this.removeDragIcon(),cg=!1}),this.renderDragIcon=(e=>{const{formatNumber:t}=this.context.intl;Be.a.render(we.a.createElement(Qh,{count:e,formatNumber:t}),this.dragIcon)}),this.removeDragIcon=(()=>{this.dragIcon&&(Be.a.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)}),this.getLayoutAndMessageItemHeight=(()=>{const e=this.isCompactLayout(this.props.previewpane),{snippetsEnabled:t,msgListDensity:s}=this.props;let a,n,r;return r=s===h.ac.SLIM?"SLIM":s===h.ac.RELAXED?"RELAXED":"NORMAL",e?t?(a=h.bc[`COMPACT_SNIPPET_${r}`],n=Wr[`MESSAGE_LIST_ITEM_COMPACT_SNIPPET_${r}_HEIGHT`]):(a=h.bc[`COMPACT_${r}`],n=Wr[`MESSAGE_LIST_ITEM_COMPACT_${r}_HEIGHT`]):(a=h.bc[`${r}`],n=Wr[`MESSAGE_LIST_ITEM_${r}_HEIGHT`]),{layout:a,messageItemHeight:n}}),this.isScrolling=(()=>ig),this.isDragging=(()=>cg),this.starIconRef=((e,t)=>{this.starIconContainer[e]=t}),this.readIconRef=((e,t)=>{this.readIconContainer[e]=t}),this.isInvalidItem=(e=>{const{updatedMessages:t}=this.state;return t[e]===Jp.a}),this.renderItem=((e,t)=>{const{messageGroupRoutes:s,myAddresses:a,highlightSearchTerm:n,itemSelection:r,openedGroupId:o,messageDestinationLabel:i,listId:c,previewpane:l,snippetsEnabled:d,hideSearchIcon:E,windowDimensions:_,conversations:u,msgListDensity:p}=this.props;if(this.isInvalidItem(e.id))return null;const m=this.context.getUrlFromRoute(s[e.id]),{layout:h}=this.getLayoutAndMessageItemHeight();let S=!1;return this.props.showInboxCouponsCue&&!lg&&t<this.props.messageInitialRenderCount&&e.messages&&e.messages.length>0&&e.messages[0].decos&&e.messages[0].decos.some(e=>"CPN"===e.id)&&e.messages[0].cardConversationId&&(lg=!0,S=!0),this.starIconContainer||(this.starIconContainer={}),this.readIconContainer||(this.readIconContainer={}),we.a.createElement(Kh.a,{key:e.id,listId:c,messageGroupListId:c,messageGroupId:e.id,active:!Object.keys(r).length&&e.id===o,selected:!!r[e.id],hovered:!0,messageURL:m,isScrolling:this.isScrolling,myAddresses:a,highlightSearchTerm:n,messageDestinationLabel:i,layout:h,msgListDensity:p,isCompactLayout:this.isCompactLayout(l),isConversationMode:u,onClick:this.handleMessageOpen,onDoubleClick:this.handleOnDoubleClick,onShiftClick:this.handleShiftClick,snippetsEnabled:d,isDragging:this.isDragging,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onCheckboxClick:this.handleCheckboxClick,onCtrlClick:this.handleCtrlClick,onReadClick:this.handleReadClick,onStarClick:this.handleStarClick,onDeleteClick:this.handleTrashClick,onContactSearchClick:this.handleContactSearchClick,onSubjectSearchClick:this.handleSubjectSearchClick,hideSearchIcon:E,onAttachmentPreviewClick:this.handleAttachmentPreviewClick,attachmentTraySize:_.innerWidth>Wr.NARROW_SCREEN_WIDTH?4:3,showInboxCouponsCue:this.props.showInboxCouponsCue&&S,starRef:this.starIconRef,readRef:this.readIconRef})}),this.renderAd=(e=>{const{previewpane:t,adFeedbackStatus:s,adRotationId:a,feedbackEnabled:n,listId:r,isAppVisible:o,geminiSectionIds:i,timechunkPencilAd:c}=this.props,{STARTED:l,SUBMITTED:d}=h.k,E=this.isCompactLayout(t),{MESSAGE_LIST:_,MESSAGE_LIST_2:u}=h.tb;return this.pencilAdNodes=this.pencilAdNodes||{},s[e]===l||s[e]===d?we.a.createElement(YS,{key:"ad-feedback",adFeedbackSubmitted:s[e]===d,isCompactLayout:E,sectionId:e}):we.a.createElement(HS,{key:"pencil",id:"PENCIL",anchorRef:t=>this.pencilAdNodes[e]=t,viewabiltyContainerScrollTop:this.scrollTop||0,anchor:this.pencilAdNodes[e],adRotationId:a,isCompactLayout:E,feedbackEnabled:n,listId:r,isAppVisible:o,viewabiltyContainerNode:this.messageItemContainer,sectionId:e,adPosition:e===i[_]?_:u,geminiSectionIds:i,timechunkPencilAd:c})}),this.handleNewAd=(()=>{const{pencilAdData:e,geminiViewability:t}=this.props;if(t){const{rules:t,actionUrls:s,beacon:a}=e;if(this.beaconsFired={viewabilityDefStatic:!a,viewabilityDefStatic3P:!(s&&s.STATIC_VIEW_3P),partialView:!(s&&s.PARTIAL_VIEW)},this.allBeaconsFired=!1,t&&0!==Object.keys(t).length){const{viewabilityDefStatic:e,viewabilityDefStatic3P:s}=t;clearTimeout(this.initialVBeaconCheck),clearTimeout(this.initialV3PBeaconCheck),this.initialVBeaconCheck=setTimeout(this.checkAdBeacons,1e3*e.d),this.initialV3PBeaconCheck=s?setTimeout(this.checkAdBeacons,1e3*s[0].d):null,this.checkAdBeacons()}}}),this.checkAdBeacons=(()=>{const{pencilAdData:e,previewpane:t,isAppVisible:s,geminiViewability:a,geminiSectionIds:n}=this.props,r=this.pencilAdNodes[n[h.tb.MESSAGE_LIST]];if(this.allBeaconsFired=this.allBeaconsFired||NS()(this.beaconsFired,e=>e),!this.allBeaconsFired&&s&&a&&bS(r)){const s=this.isCompactLayout(t);this.beaconsFired=function(e,t,s,a,n){const r=RS(t,s);for(const t in a)OS(e,n,r,a,t)&&(DS(e,t),a[t]=!0);return a}(e,s?Wr.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:Wr.MESSAGE_LIST_GEMINI_AD_HEIGHT,this.scrollTop||0,this.beaconsFired,this.adRenderTime)}}),this.isCompactLayout=(e=>e===h.Bc.RIGHT),this.hideDeleteConfirm=(()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1,idsToDelete:[]}),this.context.executeAction(Mm))}),this.renderDeleteConfirm=(()=>{if(this.state.showDeleteConfirm){const{formatMessage:e}=this.context.intl,{idsToDelete:t}=this.state,{permDelete:s,listId:a,conversations:n,streamId:r}=this.props,o={conversations:n,count:t.length},i=1===t.length?{id:t[0],listId:a}:void 0;return we.a.createElement(_h.a,{title:e(Nm.a.confirm_delete_title,o),message:e(s?Nm.a.confirm_permanently_delete_messages:Nm.a.confirm_delete_messages,o),onConfirm:()=>this.handleDelete({listId:a,messageGroupIds:t,streamId:r,streamItem:i}),onAbort:this.hideDeleteConfirm})}return null}),this.onScrollTopChange=(e=>{const{geminiViewability:t}=this.props;ig=!1,this.scrollTop=e,t&&this.debouncedCheckAdBeacons()}),this.renderItemList=(()=>{const e=this.props,{hasMoreItems:t,previewpane:s,listId:n,messageGroups:r,adFeedbackStatus:o,messageScrollLoadThreshold:i,messageInitialRenderCount:c,searchAdBackBucket:l,heightOptimizationBackBucket:d}=e,E=this.isCompactLayout(s),{messageItemHeight:_}=this.getLayoutAndMessageItemHeight();return we.a.createElement(Lu.a,{getUnsyncedData:this.getUIState},we.a.createElement(qh.a,babelHelpers.extends({onSelect:this.handleItemSelect,onSelectAll:this.handleItemSelectAll,onOpen:this.handleCursorOpen,initialRenderCount:c,loadThreshold:i,renderItem:(e,t)=>e&&e.listAd?this.renderAd(e.sectionId):this.renderItem(e,t),getHeightForIndex:(e,t)=>{if(e[t]&&e[t].listAd){const{sectionId:s}=e[t];if(o[s]===h.k.STARTED)return E?Wr.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT:Wr.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT;if(o[s]===h.k.SUBMITTED||d||l)return E?Wr.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:Wr.MESSAGE_LIST_GEMINI_AD_HEIGHT_M}return _},getItemListSize:e=>e.length,getItemsForIndex:(e,t)=>e[t],getTimeStampFromItem:e=>1e3*Object(gu.c)(e,{listId:n}),hasMoreItems:t,itemsToFetch:h.Q,items:r,layoutKey:s,Element:()=>{},onScroll:()=>{ig=!0},initialScrollTop:this.getSavedScrollTop(),onScrollTopChange:this.onScrollTopChange,scrollRef:e=>this.scrollContainer=e,messageListContainerNode:this.messageItemContainer,messageListHeight:a,isInvalidItem:this.isInvalidItem},e)))}),this.getMessageItemContainer=(e=>{this.messageItemContainer=e}),t}componentDidMount(){this.adRenderTime=Date.now(),this.pencilAdNodes={},this.context.bindShortcut(og,this.handleShortcuts),this.handleNewAd(),this.updateMessageListHeight()}componentWillUnmount(){this.context.unbindShortcut(og),this.updateMessageListHeight(),clearTimeout(this.postponeDelete)}componentDidUpdate(e){this.props.pencilAdData.clickUrl!==e.pencilAdData.clickUrl&&(this.adRenderTime=Date.now(),this.handleNewAd()),e.messageGroups!==this.props.messageGroups&&this.props.messageOpPerfEnabled&&!this.state.deleting&&this.setState({updatedMessages:{}})}componentWillMount(){this.debouncedCheckAdBeacons=i_()(this.checkAdBeacons,200),lg&&(lg=!1)}componentWillUpdate(){lg&&(lg=!1)}render(){return we.a.createElement("div",{className:rg.container,"data-test-id":"message-group-list-container",ref:this.getMessageItemContainer},we.a.createElement(lo.a,{defer:!0,import:"./atoms/loading_bar.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,905))},_moduleResolver:function(){return 905}}),this.renderItemList(),this.renderDeleteConfirm())}},e.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func.isRequired,intl:Pr.i.isRequired,config:Ve.a.object,store:Ve.a.object,getUrlFromRoute:Ve.a.func.isRequired,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func},e.defaultProps={highlightSearchTerm:!1},t})());var Eg=Object(Lr.b)((e,t)=>{const{listId:s,items:a}=t,{getRoute:n,getFeaturesSelectors:r,doesStreamExist:o,getCursor:i,getAllItemsCountForListId:c,getMainStreamListIds:l,getSelectedItems:d}=Object(So.b)(e),E=Object(Pu.a)(l(n())),_=r(),u=d(E),p=a.map(({id:e})=>e),m=Object.keys(u),S=p.length>0&&p.length===m.length,g=c(s),I=_.getSetting(h.id.ITEM_LIST_PAGE_THRESHOLD),C=_.getSetting(h.id.BUFFER_SIZE),{index:T=-1,streamItem:A={}}=o(E)?i(E):{},{id:O}=A;return{streamId:E,allItemsCount:g,allItemsSelected:S,openedGroupId:O,itemSelection:u,itemListPageThreshold:I,bufferSize:C,cursorIndex:T,snippetsEnabled:_.isEnabled(h.id.SNIPPETS),msgListDensity:_.getSetting(h.id.MSG_LIST_DENSITY)}})(e=>{switch(e.listContentType){case h.Db.IMAGES:return we.a.createElement(lo.a,babelHelpers.extends({import:"../../../molecules/photo_grid/index.jsx"},e,{key:e.listId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,941))},_moduleResolver:function(){return 941}}));case h.Db.DOCUMENTS:return we.a.createElement(lo.a,babelHelpers.extends({import:"../../../molecules/document_list/index.jsx"},e,{key:e.listId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,904))},_moduleResolver:function(){return 904}}));default:return we.a.createElement(dg,babelHelpers.extends({messageGroups:e.items},e,{key:e.listId}))}});var _g=Object(Lr.b)((e,t)=>{const{getFeaturesSelectors:s,getRoute:a,getWindowDimensions:n,doesFolderIdExist:r,getPrimaryFolderTypeByFolderId:o,isAppVisible:i,doesListExist:c,getTimeZoneName:l,__patchV2MyAddresses__:d,getRootAccounts:E,getListStatus:_,getMessageGroupRoutes:u,getListItems:p}=Object(So.b)(e),m=s(),{listId:S}=t,g=Object(Io.m)(S),I=g&&r(g)&&o(g),C=d(),T=E(),A=Object(Io.q)(S),O=p(S),b=n(),R=a(),D=R.name===h.Pc.SEARCH,f=Object(Io.G)(S),N=!D,M=Object(Io.D)(S),L={timezone:l(),offset:0},y=O.length>=Wh.c&&(M===h.wd.DATE_DESC||M===h.wd.DATE_ASC),P=m.getSetting(h.id.MESSAGE_DESTINATION_LABEL_TYPE);return{listId:S,state:c(S)?_(S):h.Mc.DOES_NOT_EXIST,permDelete:I===h.sb.DRAFT||I===h.sb.TRASH||I===h.sb.BULK,myAddresses:C,items:O,folderType:I,dateFormattingOption:L,sortOrder:M,messageGroupRoutes:u(S),highlightSearchTerm:!0,messageDestinationLabel:P,accounts:T,windowDimensions:b,listContentType:A,hasTimeChunking:y,feedbackEnabled:N,actions:Lm,height:t.height,hideSearchIcon:f,isAppVisible:i(),route:R}})(class extends we.a.Component{shouldComponentUpdate(e){return!!e.listId}render(){return this.props.listId?we.a.createElement(Eg,this.props):null}}),ug=s(343),pg=s.n(ug),mg=s(455);const hg=Object(Pr.h)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}}),Sg=["shift+v"],gg="hSliderPos",Ig="vSliderPos";Object(uo.b)({group:po.c,keys:{togglePreviewPaneSetting:{key:"SHIFT+V",description:we.a.createElement(Pr.c,{id:"shortcut.toggle_preview_pane_setting",defaultMessage:"Show/hide {previewPane}",values:{previewPane:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.toggle_preview_pane_setting_strong",defaultMessage:"Preview Pane"}))}})}}});class Cg extends we.a.Component{constructor(e){super(e),Tg.call(this);const{previewpaneResizable:t}=e;this.state={hSliderPos:t&&parseFloat(Object(rE.a)(gg))||Wr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:t&&parseFloat(Object(rE.a)(Ig))||Wr.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET,size:0,widthChanged:0}}componentDidMount(){this.context.bindShortcut(Sg,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Sg)}componentDidUpdate(e,t){t.hSliderPos!==this.state.hSliderPos&&this.setState({widthChanged:t.hSliderPos-this.state.hSliderPos})}shouldComponentUpdate(e,t){const s=this.props,a=this.state;return s.route!==e.route||0===s.numberOfMessageSelection&&e.numberOfMessageSelection>0||s.numberOfMessageSelection>0&&0===e.numberOfMessageSelection||s.openedGroupId!==e.openedGroupId||s.csid!==e.csid||s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||s.previewpaneResizable!==e.previewpaneResizable||!!e.previewpaneResizable&&(a.hSliderPos!==t.hSliderPos||a.vSliderPos!==t.vSliderPos||a.size!==t.size)}render(){const{formatMessage:e}=this.context.intl,{previewpane:t}=this.props,s=this.context.getCss(pg.a);return we.a.createElement("div",{className:s.container,"data-test-id":"mail-reader-container",role:"main","aria-label":e(hg.message_list,{previewpane:t})},this.renderReader())}}Cg.contextTypes={executeAction:Ve.a.func,intl:Pr.i.isRequired,getCss:Ve.a.func,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func};var Tg=function(){this.getToolbarKind=(()=>{const{previewpane:e}=this.props;let t;return e===h.Bc.RIGHT?t=Mp.LIST_WITH_PREVIEW_RIGHT:e===h.Bc.BOTTOM&&(t=Mp.LIST_WITH_PREVIEW_BOTTOM),t}),this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which||e.keyCode).toLowerCase();e.preventDefault(),e.stopPropagation(),"v"===t&&e.shiftKey&&this.handlePreviewPaneSettingChange(e)}),this.handlePreviewPaneSettingChange=(e=>{e.preventDefault();const{previewpane:t}=this.props;let s;switch(t){case h.Bc.NO:s=h.Bc.RIGHT;break;case h.Bc.RIGHT:s=h.Bc.BOTTOM;break;case h.Bc.BOTTOM:s=h.Bc.NO}const a={mKey:ao.e.SETTINGS_PREVIEW_PANE,sec:ao.g.SETTINGS_INBOX_TAB,interactionType:Object(vs.i)(e)};this.props.changeSettings({name:h.id.PREVIEW_PANE,value:s,i13nModel:a})}),this.handleSlide=((e,t,s)=>{this.setState({[e]:t,size:s})}),this.renderReader=(()=>{const{hSliderPos:e,vSliderPos:t,size:a}=this.state,{previewpane:n,previewpaneResizable:r,ItemList:o,ListHeader:i,numberOfMessageSelection:c,openedGroupId:l,csid:d,toolbarV3:E,isEmpty:_,isRTL:u}=this.props,p=this.context.getCss(pg.a,{previewpane:n});if(!n){const e=we.a.createElement(o,babelHelpers.extends({},this.props,this.state,{openedMessageId:l}));return we.a.createElement("div",{className:p.mailReader,"data-test-id":"mail-reader","data-test-preview":n},i?we.a.createElement(i,this.props):null,we.a.createElement("div",{className:p.toolbar,"data-test-id":"mail-reader-toolbar"},E?we.a.createElement(lo.a,babelHelpers.extends({import:"../../../../molecules/list/atoms/message_toolbar"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,882))},_moduleResolver:function(){return 882}})):we.a.createElement(yh,babelHelpers.extends({},this.props,{kind:Mp.LIST,activeGroupId:l}))),we.a.createElement("div",{className:p.listContainer,"data-test-id":"mail-reader-list-container"},e))}let m,S={},g=0;if(n===h.Bc.RIGHT){if(S={flexBasis:`${e}%`},r){const t=parseFloat(e);g=t>Wr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET?t:Wr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET}}else S={flexBasis:a>0?`${t/100*a}px`:`${t}%`},r&&(m=parseFloat(t));const I=we.a.createElement(o,babelHelpers.extends({},this.props,this.state,{height:m,openedMessageId:l}));return we.a.createElement("div",{"data-test-id":"mail-reader","data-test-preview":n,className:p.mailReader},i?we.a.createElement(i,this.props):null,we.a.createElement("div",{className:p.toolbar},we.a.createElement(yh,babelHelpers.extends({},this.props,{kind:this.getToolbarKind(),activeGroupId:l,previewPaneOffset:g,showActionLabels:!(g>Wr.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET)}))),we.a.createElement("div",{className:p.listContainer,ref:"listContainer"},we.a.createElement("div",{height:m,className:p.leftPane,style:S,ref:"leftPane"},I),we.a.createElement(lo.a,{import:"../resizer",isEmpty:_,previewpane:n,previewpaneResizable:r,resize:this.handleSlide,isRTL:u,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,881))},_moduleResolver:function(){return 881}}),we.a.createElement("div",{className:p.rightPane},0===c&&(l||d)?we.a.createElement("div",{className:p.messageView},we.a.createElement(Vh,babelHelpers.extends({},this.props,{hasToolbar:!1,openedMessageId:l,csid:d,widthChanged:this.state.widthChanged}))):we.a.createElement("div",{className:p.blank},we.a.createElement(mg.a,{listId:this.props.listId,streamId:this.props.streamId})))))})},Ag=Cg,Og=s(596),bg=s.n(Og),Rg=s(597),Dg=s.n(Rg);function fg(e,t){const s=t.getCss(Dg.a);return we.a.createElement("div",{"data-test-id":"did-you-mean",className:s.didYouMean},we.a.createElement(Pr.c,{id:"search.did_you_mean",defaultMessage:"{keyword} not found. Showing search results for {suggestedWord}.",values:{keyword:we.a.createElement("span",{className:s.didYouMeanKeyword},e.keyword),suggestedWord:we.a.createElement("span",{className:s.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}fg.contextTypes={getCss:Ve.a.func};var Ng=s(598),Mg=s.n(Ng);const Lg=Object(Pr.h)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}});class yg extends we.a.Component{constructor(...e){var t;return t=super(...e),this.renderPill=((e,t,s,a)=>{const{name:n,position:r,xobniId:o,email:i,emails:c=[]}=e,l=i||c[0],d=this.context.getThemeMode()===Is.f.DARK;return we.a.createElement(E_.a,{key:o,email:l,isCompose:!1,name:n},we.a.createElement(Zl.a,{value:n,title:r,contactId:o,contactEmail:l,isLastElement:t===s.length-1,isSelected:a,onPillClick:()=>this.props.onClick(e),contact:e,useEllipsis:!0,maxWidth:Wr.PillMaxWidths.S,isDark:d,dragDropPill:this.props.dragDropPill}))}),t}static filterContacts(e,t){const s=t.map(({email:e})=>e);return e.length&&(e=e.filter(e=>{const{email:t,emails:a=[]}=e;return!!(t||a[0])&&-1===s.indexOf(t)})),e}render(){const e=this.props.maxContactsVisible,t=yg.filterContacts(this.props.contacts,[]).slice(0,e),s=t.length>1?Lg.related_searches:Lg.related_search,a=this.context.getCss(Mg.a);return t.length>0&&we.a.createElement("div",{className:a.container,"data-test-id":"search-suggest-contact"},we.a.createElement("div",{className:a.labelPadding},we.a.createElement(Pr.c,s)),t.map((e,s)=>this.renderPill(e,s,t,!1)))}}yg.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func},yg.defaultProps={tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]};var Pg=yg;const vg=[h.Db.MESSAGES,h.Db.IMAGES,h.Db.DOCUMENTS],Fg=Object(Pr.h)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"search.content_filter_images",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}});class Ug extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={imagesHeader:null},this.handleContentTypeChange=((e,t)=>{const s=ao.e["FILTER_"+t],a=s?{mKey:s,sec:ao.g.HEADER_LIST,interactionType:Object(vs.i)(e)}:null;this.props.onContentTypeChange({listContentType:t,i13nModel:a})}),this.renderContentTypeFilter=(e=>{const{activeContentType:t}=this.props,{formatMessage:s}=this.context.intl,a=t===h.Db.MESSAGES,n=t===h.Db.IMAGES,r=t===h.Db.DOCUMENTS;return we.a.createElement(Ch.a,{activeIndex:vg.indexOf(t)},we.a.createElement(Zr.a,{className:e.filterItem,"data-iskeynav":!0,tabIndex:Wr.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":a?s(Fg.messages_aria_label):null,title:s(Fg.content_filter_messages),onClick:e=>this.handleContentTypeChange(e,h.Db.MESSAGES),"data-test-id":"btn-messages-tab"},s(Fg.content_filter_messages)),we.a.createElement(Zr.a,{className:e.filterItem,"data-iskeynav":!0,tabIndex:Wr.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":n?s(Fg.images_aria_label):null,title:s(Fg.content_filter_images),onClick:e=>this.handleContentTypeChange(e,h.Db.IMAGES),ref:e=>{this.state.imagesHeader||this.setState({imagesHeader:e})},"data-test-id":"btn-photos-tab"},s(Fg.content_filter_images)),we.a.createElement(Zr.a,{className:e.filterItem,"data-iskeynav":!0,tabIndex:Wr.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":r?s(Fg.documents_aria_label):null,title:s(Fg.content_filter_documents),onClick:e=>this.handleContentTypeChange(e,h.Db.DOCUMENTS),"data-test-id":"btn-documents-tab"},s(Fg.content_filter_documents)),this.renderSearchCue())}),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.renderSearchCue=(()=>this.props.showSearchCue&&this.state.imagesHeader?we.a.createElement(qr.a,{popoverAnchor:this.state.imagesHeader,align:Yr.a.CENTER,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.UP],offset:16,ref:e=>{this.popoverContent=e},zAltitude:Wr.ZIndices.POPOVER.HIGH},we.a.createElement(lo.a,{import:"../molecules/search_header/atoms/search_cue",cueName:h.kb.SEARCH_CUE,onShow:this.updateContent,close:this.props.activeContentType!==h.Db.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,948))},_moduleResolver:function(){return 948}})):null),this.renderSuggestedWords=(()=>{const{suggestedWords:e,keyword:t}=this.props,[s]=e;return s?we.a.createElement(fg,{suggestedWord:s,keyword:t}):null}),this.renderSuggestedContacts=(()=>{const{suggestedContacts:e,suggestedWords:t,dragDropPill:s}=this.props;return t.length?null:!this.props.isPeopleSearch&&e&&e.length>0&&we.a.createElement(Pg,{contacts:e,onClick:this.props.onContactClick,dragDropPill:s})}),t}render(){const e=this.context.getCss(bg.a);return we.a.createElement("div",{className:e.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(e),this.renderSuggestedWords(),this.renderSuggestedContacts())}}Ug.contextTypes={getCss:Ve.a.func,intl:Pr.i.isRequired};var Hg=Ug;class kg extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleContentTypeChange=(({listContentType:e,i13nModel:t})=>{this.context.navigateTo({route:{name:h.Pc.SEARCH,params:{query:Object(Io.S)(Object(Io.Q)(this.props.listId,{listContentType:e}))}},i13nModel:t})}),this.handleContactClick=(e=>{const{name:t,email:s,emails:a=[]}=e,n=s||a[0];this.context.navigateTo({route:Object(ho.r)({emailAddresses:n,name:t})})}),t}render(){return we.a.createElement(Hg,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:Object(Io.G)(this.props.listId),activeContentType:Object(Io.q)(this.props.listId),keyword:Object(Io.p)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue,dragDropPill:this.props.dragDropPill})}}kg.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func.isRequired};var Gg=Object(Lr.b)((e,t)=>{const s=Object(Io.Q)(t.listId,{listContentType:h.Db.PEOPLE,listFilter:h.Eb.WITH_KEYWORD}),{getFeaturesSelectors:a,doesListExist:n,getPeopleListItems:r,getListSuggestedWords:o,getCurrentListId:i}=Object(So.b)(e),c=a(),l=n(s)?r(s):[],d=c.isEnabled("dragDropPill"),E=i();return{suggestedWords:n(E)?o(E):[],suggestedContacts:l,dragDropPill:d,showSearchCue:c.isEnabled(h.kb.SEARCH_CUE)}})(kg),wg=s(456),xg=s(287),Bg=s.n(xg),jg=s(472),Vg=s(457);const Wg=Object(Pr.h)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}});class qg extends we.a.Component{constructor(...e){var t;return t=super(...e),this.getListHeader=(()=>{const{listId:e,route:t,shouldIncludeCouponsHeader:s}=this.props;return s?Vg.a:t.name!==h.Pc.SEARCH||Object(Io.E)(e)?Object(ld.e)(e)?wg.a:null:Gg}),t}render(){const{mailReaderV3:e,previewpane:t,listId:a,isRTL:n}=this.props,{formatMessage:r}=this.context.intl,o=this.context.getCss(Bg.a);return e?we.a.createElement("div",{className:o.container,"data-test-id":"mail-reader-container",role:"main","aria-label":r(Wg.message_list,{previewpane:t})},we.a.createElement(lo.a,{defer:!0,import:"../../../molecules/list/list.jsx",listId:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,637))},_moduleResolver:function(){return 637}})):we.a.createElement(Ag,babelHelpers.extends({key:a},this.props,{ItemList:_g,ListHeader:this.getListHeader(),isRTL:n}))}}qg.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,config:Ve.a.object};var Kg=Object(Lr.b)((e,t)=>{const{getFeaturesSelectors:s,getCurrentListId:a,getRoute:n,getRouteParams:r,doesMessageGroupIdExist:o,isSingleDraftGroup:i,getCsidForSingleDraftGroup:c,getSelectedStreamItems:l,doesStreamExist:d,getSmartViewTypeFromRoute:E,getSmartViewPosition:_,getEnvironmentSelectors:u,isFeatureEnabled:p}=Object(So.b)(e),{streamId:m,items:S,cursorItem:g}=Object(jg.b)(e,t),I=a(),C=n(),T=0===S.length,A=s(),O=A.isEnabled(h.kb.RESIZABLE_PREVIEW_PANE),b=A.isEnabled(h.kb.TOOLBAR_V3),R=A.isEnabled(h.kb.MAIL_READER_V3),{id:D}=g||{},f=r(),N=D||f.groupId,M=!!o(N)&&i(N),L=d(m)?l(m).length:0,y=Object(Io.I)(C)?E(C):null,P=y===h.td.COUPONS&&(_(y)===h.sd.TAB_BAR||p(h.kb.TAIWAN_SHOPPING_VIEW));return{previewpane:A.getSetting(h.id.PREVIEW_PANE),route:C,listId:I,streamId:m,openedGroupId:M||0!==L?void 0:D,csid:M?c(N):void 0,numberOfMessageSelection:L,previewpaneResizable:O,toolbarV3:b,mailReaderV3:R,isEmpty:T,shouldIncludeCouponsHeader:P,isRTL:"rtl"===u().getPageDirection()}},e=>({changeSettings:t=>e(Object(uu.a)(t))}))(qg);const zg={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};var Yg=class extends we.a.Component{render(){return we.a.createElement(lo.a,{import:"../../../../molecules/settings/settings.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,924))},_moduleResolver:function(){return 924}},we.a.createElement(lo.b,{loading:!0},we.a.createElement("div",{style:zg},we.a.createElement(wc.b,null))))}};class Zg extends we.a.Component{constructor(...e){var t;return t=super(...e),this.navigateToNewSponsoredCompose=(()=>{const e=Object(vs.f)();this.context.navigateTo({route:Object(ho.e)(e),forwardCreativeId:this.props.creativeId})}),this.saveSponsoredMessage=(()=>{this.props.saveSponsoredMessage({subject:this.props.subject,asset:this.props.asset}),this.context.navigateTo({route:Object(ho.l)(this.props.listId)})}),this.onClose=(({i13nModel:e={}}={})=>{this.props.onClose({listId:this.props.listId,i13nModel:e})}),this.getVideoConfig=(()=>{const{videoAd:e,pageSpaceId:t,geminiVideoAdId:s,site:a,expName:n,landingUrl:r}=this.props,{region:o}=this.context,{videoMediaAssets:i,thumbnail:c,clickUrl:l,rules:d,actionUrls:E}=e;return{site:a,expName:n,autoplay:!0,html5:!0,mute:!0,pageSpaceId:t,playlist:{mediaItems:[{id:s,images:{thumbnail:c}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:i,clickUrl:l,landingUrl:r},rules:d,beacons:E}},replayonlyendscreen:!0,ccOnMute:!0,region:o}}),t}shouldComponentUpdate(e){const t=Object(T.a)(e,"videoAd.clickUrl"),s=Object(T.a)(this.props,"videoAd.clickUrl");return!!e.asset&&e.asset!==this.props.asset||!!t&&t!==s}render(){return this.props.isLoadingGeminiAsset?null:we.a.createElement(lo.a,{import:"../../../molecules/ads/sponsored_message_read.jsx",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,actionUrls:this.props.actionUrls,forwardCreative:this.props.videoAd?null:this.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoAd?null:this.saveSponsoredMessage,onClose:this.onClose,videoConfig:this.props.videoAd&&this.getVideoConfig(),source:this.props.source,description:this.props.description,action:Object(T.a)(this.props,"videoAd.callToAction"),emailAddress:this.props.emailAddress,accountName:this.props.accountName,embeddedLandingUrls:this.props.embeddedLandingUrls,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,932))},_moduleResolver:function(){return 932}})}}Zg.displayName="SponsoredMessage",Zg.contextTypes={region:Ve.a.string,navigateTo:Ve.a.func};var Xg=Object(Lr.b)(e=>{const{getFeaturesSelectors:t,getAdsSelectors:s,getRoute:a,getAccountSelectors:n,getCurrentSpaceId:r,isLoadingGeminiAsset:o,getSelectedAccountId:i}=Object(So.b)(e),c=a(),l=Object(T.a)(c,"params.creativeId"),d=r(),E=Object(Io.t)(c),_=s(),u=t(),{getSponsoredAd:p}=_,m=u.getSetting(h.id.GEMINI_VIDEO_AD_ID),S=u.getSetting(h.id.GEMINI_VIDEO_AD_SITE),g=u.getSetting(h.id.GEMINI_VIDEO_AD_EXP_NAME),{nativeAd:I={},pencilAd:C={},videoAd:A}=p(l)||{},O=Object(T.a)(I,"actionUrls",{}),{getAccountNameByAccountId:b,getAccountEmailByAccountId:R}=n(),D=i(),f=b(D),N=R(D);return{videoAd:A,pageSpaceId:d,geminiVideoAdId:m,site:S,expName:g,creativeId:l,listId:E,asset:I.geminiSponsoredAsset,subject:C.adHeadline,actionUrls:O,source:C.adSource,description:C.adSummary,accountName:f,emailAddress:N,embeddedLandingUrls:I.embeddedLandingUrls,isLoadingGeminiAsset:o(),landingUrl:C.landingUrl}},e=>({saveSponsoredMessage:t=>e(Object(uS.w)(t)),onClose:t=>e(Object(xr.c)(t))}))(Zg),Qg=s(600),$g=s.n(Qg);const Jg=to()($g.a);var eI=Object(Lr.b)(e=>{const{getFeaturesSelectors:t}=Object(So.b)(e);return{newMailVideoId:t().getSetting("newMailVideoId")}})(class extends we.a.Component{render(){return we.a.createElement(lo.a,{import:"../../../../molecules/tutorial/index.jsx",newMailVideoId:this.props.newMailVideoId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,936))},_moduleResolver:function(){return 936}},we.a.createElement(lo.b,{loading:!0},we.a.createElement("div",{className:Jg.container},we.a.createElement(wc.b,null))))}});const tI=Object(Pr.h)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}});class sI extends we.a.Component{render(){const{formatMessage:e}=this.context.intl,{listId:t,previewpane:a}=this.props,n=this.context.getCss(Bg.a);return we.a.createElement("div",{className:n.container,"data-test-id":"mail-reader-container",role:"main","aria-label":e(tI.message_list,{previewpane:a})},we.a.createElement(lo.a,{defer:!0,import:"../list/list.jsx",listId:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,637))},_moduleResolver:function(){return 637}}))}}sI.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func},sI.defaultProps={previewpane:0};const aI={[h.xc.COMPOSE]:dp,[h.xc.MESSAGE]:Vh,[h.xc.V3_MAIL_READER]:sI,[h.xc.MAIL_READER]:Kg,[h.xc.SETTINGS]:Yg,[h.xc.SPONSORED_MESSAGE]:Xg,[h.xc.TUTORIAL]:eI};const nI={[h.Pc.LIST]:aI[h.xc.MAIL_READER],[h.Pc.BASE]:aI[h.xc.MAIL_READER],[h.Pc.FOLDER]:aI[h.xc.MAIL_READER],[h.Pc.SEARCH]:aI[h.xc.MAIL_READER],[h.Pc.MESSAGE_FROM_LIST]:aI[h.xc.MESSAGE],[h.Pc.MESSAGE_FROM_SEARCH_LIST]:aI[h.xc.MESSAGE],[h.Pc.MESSAGE_FROM_FOLDER_LIST]:aI[h.xc.MESSAGE],[h.Pc.PHOTO]:aI[h.xc.MESSAGE],[h.Pc.NEW_DRAFT]:aI[h.xc.COMPOSE],[h.Pc.EDIT_DRAFT]:aI[h.xc.COMPOSE],[h.Pc.SPONSORED_MESSAGE]:aI[h.xc.SPONSORED_MESSAGE],[h.Pc.SETTINGS]:aI[h.xc.SETTINGS],[h.Pc.TUTORIAL]:aI[h.xc.TUTORIAL]};var rI=Object(Lr.b)(e=>{const{getRoute:t}=Object(So.b)(e);return{route:t()}},e=>({changeSettings:t=>e(Object(uu.a)(t))}))(class extends we.a.Component{render(){return we.a.createElement(nI[this.props.route.name],this.props)}}),oI=s(288),iI=s.n(oI),cI=s(601),lI=s.n(cI),dI=s(602),EI=s.n(dI);const _I="INDENTATION_NORMAL",uI="INDENTATION_NONE",pI="TOPFOLDER_WITH_ICON",mI="TOPFOLDER_WITHOUT_ICON",hI="SUBFOLDER_WITH_ICON",SI="SUBFOLDER_WITHOUT_ICON",gI={ESCAPE:27,ENTER:13,TAB:9},II=Object(T.c)(["InvalidFolderName","DuplicateFolderName"]),CI="/ \\ %",TI=Object(Pr.h)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}});class AI extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={folderName:this.props.initialFolderName||"",folderError:null},this.handleKeyDown=(e=>{e.keyCode===gI.ESCAPE&&this.props.onDismiss(),e.keyCode!==gI.ENTER&&e.keyCode!==gI.TAB||this.performFolderOperation(e)}),this.handleChange=(e=>{const t=e.target.value;let s=null;t&&!Object(vs.n)(t)&&(s=II.InvalidFolderName),this.setState({folderName:t,folderError:s})}),this.handleBlur=(e=>{if(e.relatedTarget&&e.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(e)}),this.performFolderOperation=(e=>{const{folderLevel:t,initialFolderName:s,isFolderNameExistAtLevel:a}=this.props,n=this.state.folderName.trim();let r=this.state.folderError;if(n!==s&&a(n,t)&&this.setState({folderError:r=II.DuplicateFolderName}),n&&null===r){const t={interactionType:Object(vs.i)(e)};this.props.onInputSubmit({folderName:n,i13nModel:t})}}),this.focusInput=(e=>{e&&e.focus()}),this.getFolderError=(()=>{const{folderName:e,folderError:t}=this.state;return null===t?null:t===II.InvalidFolderName?we.a.createElement(Pr.c,babelHelpers.extends({},TI.folder_invalid_chars,{values:{invalid_chars:CI}})):t===II.DuplicateFolderName?we.a.createElement(Pr.c,babelHelpers.extends({},TI.duplicate_foldername,{values:{folder_name:we.a.createElement("b",null,e)}})):void 0}),t}render(){const{formatMessage:e}=this.context.intl,t=null===this.state.folderError,s=to()(EI.a,{invalidFolderName:!t,validFolderName:t,indentation:this.props.indentation}),{onDismiss:a}=this.props,n=this.context.getThemeMode()===Is.f.LIGHT?Ur.a.NORMAL:Ur.a.INVERTED,r=e(TI.folder_submit_input),o=e(TI.folder_dismiss_input);return we.a.createElement("div",{className:s.container,ref:e=>this.containerNode=e},we.a.createElement(vr.a,{onClick:a,kind:Ur.b.CLOSE_MINI,size:Ur.d.XS,colorState:n,"aria-label":o,title:o,"data-test-id":"icon-btn-close",className:s.closeButton,paddingLess:!0}),we.a.createElement(Kr.a,{className:s.popoverContainer},we.a.createElement(zr.a,null,we.a.createElement("div",{className:s.inputSubmitContainer},we.a.createElement("div",{className:s.inputContainer},we.a.createElement(KE.a,{className:s.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),we.a.createElement(vr.a,{onClick:this.performFolderOperation,kind:Ur.b.ENTER,colorState:Ur.a.INVERTED,size:Ur.d.XXS,className:s.okIcon,title:r,"aria-label":r}))),!this.state.folderName||this.props.isScrolling||t?null:we.a.createElement(qr.b,{triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.UP,Yr.g.DOWN],zAltitude:Wr.ZIndices.POPOVER.HIGH},we.a.createElement("div",{className:s.popover},this.getFolderError()))))}}AI.defaultProps={indentation:uI,folderLevel:0},AI.contextTypes={intl:Pr.i.isRequired,getThemeMode:Ve.a.func};var OI=Object(Lr.b)(e=>{const{getFoldersSelectors:t,getFolderIdsByNameForSelectAccountId:s}=Object(So.b)(e),{getFolderLevelByFolderId:a}=t();return{isFolderNameExistAtLevel:(e,t)=>s(e).some(e=>a(e)===t)}})(AI),bI=s(603),RI=s.n(bI);class DI extends we.a.Component{constructor(...e){var t;return t=super(...e),this.getClassName=(()=>{const{isActive:e,highlight:t,whiteBackground:s,isAccountSwitcher:a}=this.props,n=this.context.getTheme(),r=this.context.getThemeMode(),o=this.context.getCss(RI.a,{whiteBackground:s&&!t,highlightThemeCombo:`${t}_${n}`,highlightDarkPartnerThemeCombo:`${t&&("MEDIUM"===r||"DARK"===r)}_${n}`,isAccountSwitcher_LIGHT:e&&a&&"LIGHT"===r,isAccountSwitcher_MEDIUM:e&&a&&"MEDIUM"===r,isAccountSwitcher_DARK:e&&a&&"DARK"===r});return e?o.activeContainer:o.container}),t}render(){const{value:e}=this.props;if(!e||e<0)return null;const t=this.getClassName();return we.a.createElement("span",{className:t,"data-test-id":"displayed-count"},e>h.Mb?h.Tb:e)}}DI.contextTypes={getCss:Ve.a.func,getTheme:Ve.a.func,getThemeMode:Ve.a.func},DI.defaultProps={whiteBackground:!1};var fI=DI;var NI=class extends we.a.Component{render(){return we.a.createElement(ll.a,null,we.a.createElement(Zr.a,babelHelpers.extends({kind:Xr.a.MENUITEM},this.props),this.props.children))}},MI=s(604),LI=s.n(MI);const yI=to()(LI.a),PI={maxWidth:"230px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},vI=Object(Pr.h)({mark_folder_read:{id:"mark_folder_read",defaultMessage:"Mark emails as read"},archive_inbox_messages:{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"},archive_folder_messages:{id:"archive_folder_messages",defaultMessage:"Archive all emails"},empty_folder_messages:{id:"folder_menu.empty_folder_messages",defaultMessage:"Empty {folderName}"},delete_folder_messages:{id:"delete_folder_messages",defaultMessage:"Delete all emails"},rename_folder:{id:"rename_folder",defaultMessage:"Rename folder"},move_folder:{id:"move_folder",defaultMessage:"Move folder"},delete_folder:{id:"delete_folder",defaultMessage:"Delete folder"},create_subfolder:{id:"create_subfolder",defaultMessage:"Create subfolder"}});function FI(){}class UI extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handleDeleteClick=(e=>{e.preventDefault();const t={interactionType:Object(vs.i)(e),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:t,hasSubFolder:this.props.hasChildren})}),this.handleRenameClick=(e=>{e.preventDefault(),this.props.onRename()}),this.handleSubfolderClick=(e=>{e.preventDefault(),this.props.onSubfolderCreate()}),this.handleMarkReadClick=(e=>{e.preventDefault();const t={interactionType:Object(vs.i)(e),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:t})}),this.handleArchiveClick=(e=>{e.preventDefault(),this.props.onArchive(this.props.folder)}),this.handleClearClick=(e=>{e.preventDefault(),this.props.onClear(this.props.folder)}),this.getMarkAsReadMenuItem=(e=>{const t=0===this.props.folder.total||0===this.props.folder.unread,{formatMessage:s}=this.context.intl;return we.a.createElement(NI,{key:e,name:"mark_folder_read",disabled:t,onClick:this.handleMarkReadClick},we.a.createElement("div",{style:PI,title:s(vI.mark_folder_read)},s(vI.mark_folder_read)))}),this.getArchiveMenuItem=(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:a}=this.context.intl;return we.a.createElement(NI,{key:e,name:"archive_folder_messages",disabled:s,onClick:this.handleArchiveClick},t===h.sb.INBOX?we.a.createElement("div",{style:PI,title:a(vI.archive_inbox_messages)},a(vI.archive_inbox_messages)):we.a.createElement("div",{style:PI,title:a(vI.archive_folder_messages)},a(vI.archive_folder_messages)))}),this.getDeleteMenuItem=(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:a}=this.context.intl;return we.a.createElement(NI,{key:e,name:"delete_folder_messages",disabled:s,onClick:this.handleClearClick},t===h.sb.BULK||t===h.sb.TRASH?we.a.createElement("div",{style:PI,title:a(vI.empty_folder_messages,{folderName:we.a.createElement(ii.a,{folderId:this.props.folder.id})})},a(vI.empty_folder_messages,{folderName:we.a.createElement(ii.a,{folderId:this.props.folder.id})})):we.a.createElement("div",{style:PI,title:a(vI.delete_folder_messages)},a(vI.delete_folder_messages)))}),this.getRenameFolderMenuItem=(e=>{const t=this.props.hasChildren,{formatMessage:s}=this.context.intl;return we.a.createElement(NI,{key:e,name:"rename_folder",disabled:t,onClick:this.handleRenameClick},we.a.createElement("div",{style:PI,title:s(vI.rename_folder)},s(vI.rename_folder)))}),this.getMoveFolderMenuItem=(e=>{const{formatMessage:t}=this.context.intl;return we.a.createElement(NI,{key:e,disabled:!0,onClick:FI},we.a.createElement("div",{style:PI,title:t(vI.move_folder)},t(vI.move_folder)))}),this.getDeleteFolderMenuItem=(e=>{const{formatMessage:t}=this.context.intl;return we.a.createElement(NI,{key:e,name:"delete_folder",onClick:this.handleDeleteClick},we.a.createElement("div",{style:PI,title:t(vI.delete_folder)},t(vI.delete_folder)))}),this.getCreateFolderMenuItem=(e=>{const{formatMessage:t}=this.context.intl;return we.a.createElement(NI,{key:e,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},we.a.createElement("div",{style:PI,title:t(vI.create_subfolder)},t(vI.create_subfolder)))}),this.getSeparatorItem=(e=>we.a.createElement(ll.a,{key:e,className:yI.separator})),this.renderMenuItems=(()=>{const e=Object(gt.f)(this.props.folder.type),t=[];return e.map((e,s)=>{switch(e){case h.rb.MARK_READ:t.push(this.getMarkAsReadMenuItem(s));break;case h.rb.ARCHIVE:t.push(this.getArchiveMenuItem(s));break;case h.rb.DELETE:t.push(this.getDeleteMenuItem(s));break;case h.rb.RENAME_FOLDER:t.push(this.getRenameFolderMenuItem(s));break;case h.rb.MOVE_FOLDER:t.push(this.getMoveFolderMenuItem(s));break;case h.rb.DELETE_FOLDER:t.push(this.getDeleteFolderMenuItem(s));break;case h.rb.CREATE_FOLDER:t.push(this.getCreateFolderMenuItem(s));break;case h.rb.SEPARATOR:t.push(this.getSeparatorItem(s))}}),t}),t}render(){return we.a.createElement("div",{className:yI.container},we.a.createElement(Qr.a,{kind:gl.a.MENU,focusOnMount:!0,onShow:this.props.onShow},this.renderMenuItems()))}}UI.contextTypes={intl:Pr.i.isRequired};var HI=UI,kI=s(92);const GI=()=>{},wI=Object(Pr.h)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural,\n                =0 {{folderType, select,\n                            DRAFT {no drafts}\n                            other {no emails}}}\n                =1 {{folderType, select,\n                            DRAFT {{totalNum, number} draft}\n                            other {{totalNum, number} email}}}\n                =-1 {{folderType, select,\n                            DRAFT {}\n                            other {}}}\n                other {{folderType, select,\n                            DRAFT {{totalNum, number} drafts}\n                            other {{totalNum, number} emails}}}\n            } {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural,\n                other {(# unread)}\n            }"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}});class xI extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={dragover:!1,unreadCount:Object(gt.g)(this.props.folder),prevCount:0},this._getChevronTitle=(()=>{const{formatMessage:e}=this.context.intl;switch(this.props.chevron){case h.H.LEFT:return e(wI.show_folders);case h.H.DOWN:return e(wI.hide_folders);default:return""}}),this.getTitleText=(()=>{const{folder:e,isActive:t}=this.props,{formatMessage:s}=this.context.intl;let a="",n="";const r=t?s(wI.selected_folder):null;switch(this.props.chevron){case h.H.LEFT:n=s(wI.folder_is_closed);break;case h.H.DOWN:n=s(wI.folder_is_open);break;default:n=""}switch(e.type){case h.sb.DRAFT:case h.sb.SENT:case h.sb.BULK:case h.sb.TRASH:case h.sb.ARCHIVE:break;default:a=s(wI.unread_tooltip,{numUnreads:Object(gt.g)(e)})}return s(wI.folder_tooltip,{folderName:Object(gt.m)(s,e.type)||e.name,folderType:e.type,totalNum:e.total,unreadTooltip:a,folderStateTooltip:n,isSelected:r})}),this._getI13nModel=(()=>{const{folder:e}=this.props;return{mKey:ao.e[`${e.type}_FOLDER`],sec:h.Dd[e.type]?ao.g.LEFTRAIL_SYSFOLDER:ao.g.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth}}}),this.handleKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.handleNavClick(e);break;case"ArrowLeft":case"ArrowRight":e.stopPropagation(),this.props.onToggleExpansion(e);break;default:return}}),this.handleNavClick=(e=>{if(e.preventDefault(),this.folderMenu&&(e.target===this.folderMenu||this.folderMenu.contains(e.target)))return;const t=this._getI13nModel();t.interactionType=Object(vs.i)(e),this.props.onClick(e,this.props.folder.id,t)}),this.handleDoubleClick=(e=>{const{folder:t}=this.props;e.stopPropagation(),h.Dd[t.type]||this.props.hasChildren||this.props.onRenameStart()}),this.handleRename=(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:this.props.depth}},t),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:e,folderId:this.props.folder.id,i13nModel:t})}),this.renderInput=(()=>{const{formatMessage:e}=this.context.intl;return we.a.createElement(OI,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:e(wI.rename_folder_input_aria_label),cancelTitle:e(wI.rename_folder_dismiss_input),activeAccountId:this.props.activeAccountId,folderLevel:this.props.folder.level})}),this.renderLabel=(e=>{const{folder:t,chevron:s}=this.props,a=this.props.chevron!==h.H.NONE;return we.a.createElement("span",{className:e.labelContainer,title:this.getTitleText()},a?we.a.createElement(Zr.a,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:e.chevron,"data-test-id":"folder-expand-btn"},we.a.createElement(Fr.b,{kind:Ur.b.CHEVRON_UP,colorState:Ur.a.INHERITED,size:Ur.d.XS,rotate:s===h.H.DOWN?Ur.c.D180:Ur.c.D90})):null,we.a.createElement("span",{className:e.label},we.a.createElement(ii.a,{folderId:t.id,"data-test-id":"folder-label"})))}),this.shouldHandleDrag=(()=>{const{folder:e}=this.props;return-1===[h.sb.SENT,h.sb.DRAFT].indexOf(e.type)}),this.handleDrop=(e=>{if(e.preventDefault(),!this.shouldHandleDrag())return;const t=e.dataTransfer.getData("text");let s;try{s=JSON.parse(t)}catch(e){return}const{listId:a,allItemsCount:n,doSelectAll:r}=s;a&&(this.props.onFolderDrop((r?Hm:km)[Mp.LIST].move,{destinationFolderId:this.props.folder.id,listId:a,allItemsCount:n,i13nModel:{interactionType:Object(vs.i)(e),mKey:ao.e.DRAG_DROP_MOVE,sec:ao.g.MSG_LIST,mKeyGroup:ao.f.move}}),this.targets=[],this.setState({dragover:!1}))}),this.handleDragEnter=(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(e.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))}),this.handleDragLeave=(e=>{e.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))}),this.handleDragOver=(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))}),this.shouldRenderTrashCanIcon=(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:a}=this.props;return!(s||!t||!e||-1===[h.sb.TRASH,h.sb.BULK].indexOf(a.type))}),this.handleEmptyFolder=(e=>{e.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)}),this.shouldRenderUnreadCount=(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:a}=this.props;return!(s||-1===[h.sb.DRAFT,h.sb.SENT].indexOf(a.type)&&(e||t))}),this.getUnreadCountClass=(e=>{const{folder:t}=this.props;return this.state.prevCount>=this.state.unreadCount||-1!==[h.sb.DRAFT,h.sb.SENT,h.sb.SPAM,h.sb.TRASH].indexOf(t.type)?e.unreadWrapper:e.unreadFadeIn}),this.renderFolderStateIcon=(e=>{const{isRefreshing:t,folder:s,isActive:a}=this.props,{formatMessage:n}=this.context.intl,r=this.shouldRenderUnreadCount(),o=this.shouldRenderTrashCanIcon();if(t)return we.a.createElement("span",{className:e.loader},we.a.createElement(wc.b,{size:wc.a.S,"data-test-id":"folder-loading-indicator"}));if(r)return we.a.createElement("span",{className:e.unreadWrapper},we.a.createElement(fI,{value:this.state.unreadCount,isActive:a,highlight:this.props.highlightUnreadCount,whiteBackground:this.context.getThemeMode()!==Is.f.LIGHT}));if(o){const t=n(s.type===h.sb.TRASH?wI.empty_trash_tooltip:wI.empty_spam_tooltip);return we.a.createElement("span",{className:e.trashIconWrapper,title:t},we.a.createElement(vr.a,{"data-test-id":"trashcan-icon",kind:Ur.b.DELETE,size:Ur.d.XXS,colorState:Ur.a.INHERITED,onClick:this.handleEmptyFolder,title:t,ariaLabel:t}))}return we.a.createElement("span",{className:e.folderMenu,ref:e=>this.folderMenu=e},we.a.createElement(kI.c,{permittedArrowDirections:[Yr.g.UP,Yr.g.DOWN],triggerOn:kI.b.CLICK,triggerOff:kI.a.CLICK,arrowSize:Yr.b.XS,offset:4*Wr.GRID_UNIT,align:Yr.a.CENTER,overflowScroll:!1,onShown:()=>this.props.handleMenuVisibility(!0),onHide:()=>this.props.handleMenuVisibility(!1)},we.a.createElement("div",{className:e.folderMenuIcon,"data-test-id":"folder-menu-hook"},we.a.createElement(Fr.b,{kind:Ur.b.INPUT_ARROW_DOWN,size:Ur.d.XS,colorState:Ur.a.INHERITED,title:n(wI.show_folder_menu),ariaLabel:n(wI.show_folder_menu)})),we.a.createElement(HI,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.props.onRenameStart,hasChildren:this.props.hasChildren,depth:this.props.depth})))}),this.getContainerClassName=(e=>{const{isActive:t}=this.props;return this.state.dragover?t?e.activeDragoverContainer:e.dragoverContainer:t?e.activeContainer:e.container}),t}componentWillReceiveProps(e){this.props.folder.unread!==e.folder.unread&&e.folder.unread<0&&G_.a.error("The user received a negative folder count."),this.setState({prevCount:this.state.unreadCount,unreadCount:Object(gt.g)(e.folder)})}componentWillUnmount(){this.targets=null,clearTimeout(this.timerID)}render(){const{folder:e,depth:t,isActive:s,isActualFolder:a,showFolderMenu:n,sortOrder:r}=this.props,o=this.props.chevron!==h.H.NONE;let i;e.isSystem||(i=0===t?o?pI:mI:o?hI:SI);const c=this.context.getCss(lI.a,{indentation:i,showFolderMenu:n,isActive:s});return this.props.renamingFolder?this.renderInput():a?we.a.createElement("div",{className:this.getContainerClassName(c),"data-test-folder-container":e.name,"data-test-id":"folder-item-container",onMouseEnter:()=>this.props.handleHover(!0),onMouseLeave:()=>this.props.handleHover(!1),onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onClick:this.handleNavClick,"data-iskeynav":!0,tabIndex:-1},we.a.createElement("a",{href:this.context.getUrlFromRoute({name:h.Pc.FOLDER,params:{fid:Object(Io.R)(Object(Io.s)(e.id,r))}}),className:s?c.activeNavContainer:c.navContainer,"data-test-folder-name":e.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onDoubleClick:this.handleDoubleClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-unread-count":e.unread,"data-test-total-count":e.total,"data-test-is-active":s,tabIndex:-1,rel:"noopener"},this.renderLabel(c),this.renderFolderStateIcon(c))):we.a.createElement("div",{className:c.folderLabelContainer},we.a.createElement("span",{className:c.label},we.a.createElement(Qm.a,{name:e.name,"data-test-id":"folder-label"})))}}xI.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getUrlFromRoute:Ve.a.func.isRequired},xI.defaultProps={onClick:GI,onRenameStart:GI,onRenameSubmit:GI,onRenameCancel:GI,renamingFolder:!1,isActive:!1,isActualFolder:!0,showFolderMenu:!1,depth:0,hasChildren:!1};var BI=xI,jI=s(605),VI=s.n(jI);class WI extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={playAnimation:!1},this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl,{isActive:t,type:s}=this.props;return e(t?To.a["smart_view_selected_"+s]:To.a[s])}),this.getFujiIconKind=(e=>{switch(e){case"DOCUMENTS":return Ur.b.DOCUMENTS_S;case"PHOTOS":return Ur.b.TAB_IMAGES;case"TUTORIAL":return Ur.b.CAL_MAYBE;case"COUPONS":return Ur.b.SCISSORS;case"GROCERIES":return Ur.b.BASKET;case"RECEIPTS":return Ur.b.DRAFTS;case"TRAVEL":return Ur.b.TRAVEL;default:return""}}),this.handleKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.props.onClick(e,this.props.type);break;default:return}}),this.handleNavClick=(e=>{this.props.onClick(e,this.props.type)}),this.handleHover=(e=>{this.props.handleHover(e)}),this.renderGuidedStarAnimation=((e,t)=>{const s=this.context.getThemeMode(),{STARRED:a,STARRED_DARK:n}=Ur.a,{gifUrlLight:r,gifUrlDark:o}=t;return t.name===h.Vc.SLIDEUP?we.a.createElement("div",{className:e.starAnimation},we.a.createElement(Fr.b,{kind:Ur.b.STAR,size:Ur.d.S,colorState:s===h.Hd.LIGHT?a:n})):t.name===h.Vc.GUIDEDSTAR?we.a.createElement("img",{className:e.sparkleGuidedStarAnimation,src:Object(rl.a)(s===h.Hd.LIGHT?r:o),"data-test-id":s===h.Hd.LIGHT?"guided-stars-light":"guided-stars-dark"}):null}),this.renderLabel=(e=>{const{type:t}=this.props,s=this.context.intl.formatMessage(To.a["smart_view_"+t]),a=we.a.createElement("span",null,s);return we.a.createElement("div",{className:e.labelContainer,title:this.getTitleText()},we.a.createElement("span",{className:e.label},a))}),this.getListId=(()=>{const{type:e,activeAccount:t}=this.props,s={accountIds:[t.id]},a=Object(ld.b)(e,s);return Object(Io.S)(Object(Io.d)(a))}),this.getIconColor=(()=>{let e;return e="LIGHT"===this.context.getThemeMode()?this.props.isActive?Ur.a.NORMAL:Ur.a.DISABLED:this.props.isActive?Ur.a.INVERTED:Ur.a.SMARTVIEW_DARK}),this.getIcon=((e,t,s,a,n,r)=>t?we.a.createElement("span",{className:e.smartViewIcon+" "+e.rtlRawScaleX},we.a.createElement(Fr.b,{kind:s,size:a,title:n,colorState:r})):null),t}componentWillReceiveProps(e){"STARRED"===e.type&&e.guidedStarAnimation&&e.hasGuidedStarAnimation&&!this.state.playAnimation&&this.setState({playAnimation:!0},()=>setTimeout(()=>{this.setState({playAnimation:!1})},e.guidedStarAnimation.duration))}render(){const{type:e,isActive:t,guidedStarAnimation:s={}}=this.props,{name:a=""}=s,n=this.getFujiIconKind(e),r=this.getIconColor(),o=!!n,i=this.context.getCss(VI.a,{isActive:t,isActiveAndNoIcon:!o&&t,hasIcon:o,animation:a}),c=this.getListId();let l,d={query:c};switch(e){case h.td.TUTORIAL:l=h.Pc.TUTORIAL;break;case h.td.RECEIPTS:case h.td.COUPONS:case h.td.GROCERIES:case h.td.TRAVEL:l=h.Pc.LIST,d={serializedListId:c};break;default:l=h.Pc.SEARCH}return we.a.createElement("a",{href:this.context.getUrlFromRoute({name:l,params:d}),onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:t?i.activeContainer:i.container,"data-test-smartview-type":e,"data-test-id":"smartview-list-item",onClick:this.handleNavClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":t,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},this.getIcon(i,o,n,Ur.d.XS,this.getTitleText(),r,e),this.renderLabel(i),this.state.playAnimation?this.renderGuidedStarAnimation(i,s):null)}}WI.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getUrlFromRoute:Ve.a.func.isRequired},WI.defaultProps={onClick:()=>{},isActive:!1};var qI=Object(Lr.b)(e=>{const{isFeatureEnabled:t,getSetting:s}=Object(So.b)(e);return{hasGuidedStarAnimation:t(h.id.HAS_GUIDED_STAR_ANIMATION),starredMailEnhanced:t(h.kb.STARRED_MAIL_ENHANCED),guidedStarAnimation:s(h.id.GUIDED_STAR_ANIMATION)}})(WI);var KI=Object(Lr.b)(function(e){const{getSelectedAccountId:t,getAccountById:s}=Object(So.b)(e);return{activeAccount:s(t())}})(class extends we.a.Component{render(){return we.a.createElement(qI,this.props)}});const zI={},YI=Object(Pr.h)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class ZI extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={creatingSubfolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1},this.handleToggle=(e=>{const t=this.props.folder.id;e.stopPropagation(),e.preventDefault(),e.key?"ArrowRight"!==e.key||this.props.expanded?"ArrowLeft"===e.key&&this.props.expanded&&this.props.toggleExpansion(t,!1):this.props.toggleExpansion(t,!0):this.props.toggleExpansion(t,!this.props.expanded)}),this.handleCreateSubfolderStart=(()=>{this.setState({creatingSubfolder:!0})}),this.handleRenameFolderStart=(()=>{this.setState({renamingFolder:!0})}),this.handleRenameFolderSubmit=(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{e!==t&&this.props.onRename({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a}),this.setState({renamingFolder:!1})}),this.handleRenameFolderCancel=(()=>{this.setState({renamingFolder:!1})}),this.handleCreateSubfolderDone=(({folderName:e,i13nModel:t})=>{this.setState({creatingSubfolder:!1}),t=Object.assign({actionData:{depth:this.props.depth+1}},t),this.props.onSubfolderCreate({folderId:this.props.folder.id,subfolderName:e,i13nModel:t})}),this.handleCreateSubfolderDismiss=(()=>{this.setState({creatingSubfolder:!1})}),this.handleMenuVisibility=(e=>{this.setState({isMenuVisible:e})}),this.handleHover=(e=>{this.setState({isHovered:e})}),this.handleFolderOpen=((e,t,s)=>{const{folder:a}=this.props;zI[a.id]&&(zI[a.id]=!1),this.props.onOpen(e,t,s)}),this.getChevronState=(()=>{let e=h.H.NONE;return this.props.hasChildren&&!this.props.folder.isSystem&&(e=this.props.expanded?h.H.DOWN:h.H.LEFT),e}),t}static getDerivedStateFromProps(e,t){return e.isScrolling&&t.isMenuVisible?{isMenuVisible:!1}:null}static shouldHighlightUnreadCount(e,t){const{highlightFolderId:s,unread:a,uidNext:n,highestModSeq:r}=t;return s!==e.folder.id&&a>0&&e.highestModSeq!==r&&e.uidNext!==n}componentDidUpdate(e){ZI.shouldHighlightUnreadCount(this.props,e)&&(zI[this.props.folder.id]=!0)}render(){const{formatMessage:e}=this.context.intl,{folder:t,unread:s,total:a,hasChildren:n}=this.props;return we.a.createElement("li",{style:t.isRTL?{padding:`0 ${8*this.props.depth}px 0 0`}:{padding:`0 0 0 ${8*this.props.depth}px`}},"smartview"===t.kind?we.a.createElement(KI,{onClick:this.props.onSmartViewOpen,type:t.type,total:a,isActive:this.props.highlightFolderId===t.id,handleHover:this.handleHover}):we.a.createElement(BI,{folder:babelHelpers.extends({},t,{unread:s,total:a,hasChildren:n}),sortOrder:this.props.sortOrder,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===t.id,isRefreshing:this.props.highlightFolderId===t.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onClear,isHovered:this.state.isHovered,highlightUnreadCount:zI[t.id]||!1,activeAccountId:this.props.activeAccountId,hasChildren:n}),this.state.creatingSubfolder?we.a.createElement(OI,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:e(YI.create_folder_input_aria_label),indentation:_I,activeAccountId:this.props.activeAccountId,folderLevel:t.level+1}):null)}}ZI.contextTypes={intl:Pr.i.isRequired},ZI.defaultProps={isScrolling:!1};var XI=Object(Lr.b)((e,{folder:t})=>{const s=t.id,{getFolderHighestModSeq:a,getFoldersSelectors:n}=Object(So.b)(e),{getFolderUidNext:r,getFolderUnreadCount:o,getFolderTotal:i,hasChildren:c}=n();return"folder"===t.kind?{highestModSeq:a(s),uidNext:r(s),unread:o(s),total:i(s),hasChildren:c(s)}:{unread:0,total:0}})(ZI),QI=s(101);const $I=5,JI=Object(Pr.h)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class eC extends we.a.Component{constructor(e){super(e),tC.call(this);const t=Object(QI.a)(e.expandedFolders),{showAllSystemFolders:s}=e;this.state={expandedFolders:t,showAllSystemFolders:!!s}}render(){const{indentation:e,folderNodes:t,onOpen:s,onRename:a,onDelete:n,onMarkRead:r,onArchive:o,onFolderDrop:i,onClear:c,highlightFolderId:l,folderRefreshing:d,onFolderMenuShow:E,onSmartViewOpen:_,collapsible:u}=this.props,p=this.context.getCss(iI.a,babelHelpers.extends({indentation:e},Object(Is.i)(this.context,!0))),m=this.getFolderTreeNodes({onOpen:s,onRename:a,onDelete:n,onMarkRead:r,onArchive:o,onFolderDrop:i,onClear:c,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:l,folderRefreshing:d,onFolderMenuShow:E,onSmartViewOpen:_}),{showAllSystemFolders:h}=this.state;let S;return t.length?(S=u?h?m:m.slice(0,$I):m,we.a.createElement("ul",{className:p.folderTree},S,this.renderStarredCue(),u&&m.length>$I?we.a.createElement("li",{onClick:this.toggleShowAll,className:p.collapseFolders,"data-test-id":h?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},we.a.createElement(Pr.c,h?JI.less_label:JI.more_label)):null)):null}}eC.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var tC=function(){this.toggleExpansion=((e,t)=>{const{expandedFolders:s}=this.state;let a;a=t?Object(QI.a)(s,e):Object(QI.e)(s,s.indexOf(e),1),this.setState({expandedFolders:a}),this.props.onFolderExpandToggle(e,t)}),this.toggleShowAll=(()=>{const e=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:e}),this.props.handleToggleSystemFolders(e)}),this.getFolderTreeNodes=(({onOpen:e,onRename:t,onDelete:s,onMarkRead:a,onArchive:n,onFolderDrop:r,onClear:o,onSubfolderCreate:i,onFolderMenuShow:c,highlightFolderId:l,folderRefreshing:d,onSmartViewOpen:E})=>{return this.filterNonExpandedFoldersChildren(this.props.folderNodes,this.state.expandedFolders).map((_,u)=>we.a.createElement(XI,{activeAccountId:this.props.activeAccountId,key:_.id,folder:_,onOpen:e,onRename:t,onDelete:s,onMarkRead:a,onArchive:n,onFolderDrop:r,onClear:o,onSubfolderCreate:i,highlightFolderId:l,sortOrder:this.props.sortOrder,folderRefreshing:d,index:u,onSmartViewOpen:E,onFolderMenuShow:c,depth:_.level,toggleExpansion:this.toggleExpansion,expanded:-1!==this.state.expandedFolders.indexOf(_.id),showStarredCue:this.props.showStarredCue,ref:`${_.name.toLowerCase()}Button`,isScrolling:this.props.isScrolling}))}),this.filterNonExpandedFoldersChildren=((e,t)=>{const s=[];let a=0;for(let n=0;n<e.length;n++){const r=e[n];if(r.level<a&&(a=r.level),r.level===a){s.push(r),-1!==t.indexOf(r.id)&&(a=r.level+1)}}return s}),this.onSubfolderCreate=(({folderId:e,subfolderName:t,i13nModel:s})=>{this.toggleExpansion(e,!0),this.props.onSubfolderCreate({folderId:e,subfolderName:t,i13nModel:s})}),this.updateContent=(()=>{this.popoverContent&&this.popoverContent.updatePosition()}),this.renderStarredCue=(()=>this.props.showStarredCue&&this.refs.starredButton?we.a.createElement(qr.a,{popoverAnchor:this.refs.starredButton,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:Wr.ZIndices.POPOVER.HIGH},we.a.createElement(lo.a,{import:"../../starred_cue",cueName:h.kb.STARRED_CUE,onShow:this.updateContent,close:this.refs.starredButton.props.folder.id===this.props.highlightFolderId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,906))},_moduleResolver:function(){return 906}})):null),this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl;return e(this.state.showAllSystemFolders?JI.click_to_show_less_title:JI.click_to_show_more_title)})};var sC=Object(Lr.b)(e=>{const{getEnvironmentSelectors:t}=Object(So.b)(e);return{isRTL:"rtl"===t().getPageDirection()}})(eC),aC=s(606),nC=s.n(aC);const rC=Object(Pr.h)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class oC extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={createMode:!1},this.enableCreateMode=(()=>{this.setState({createMode:!0})}),this.disableCreateMode=(()=>{this.setState({createMode:!1})}),this.createFolder=(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:0}},t),this.disableCreateMode(),this.props.onCreate({folderName:e,i13nModel:t})}),this.handleKeyDown=(e=>{"Enter"!==e.key||this.state.createMode||(e.stopPropagation(),this.enableCreateMode())}),this.renderNewFolderButton=(e=>{const{formatMessage:t}=this.context.intl,s=this.context.getThemeMode();return we.a.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:e.newFolderContainer},we.a.createElement(vr.a,{kind:Ur.b.ADD,size:Ur.d.XS,colorState:s===Is.f.LIGHT?Ur.a.IMPROVED_GRAY_DARK:Ur.a.INHERITED,"aria-label":t(rC.create_new_folder),title:t(rC.create_new_folder),paddingLess:!0}),t(rC.create_folder_label))}),t}render(){const e=this.props.indentation,t=this.context.getCss(nC.a,{indentation:e}),{formatMessage:s}=this.context.intl;return we.a.createElement("div",{className:t.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?we.a.createElement(OI,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:s(rC.create_folder_input_aria_label),indentation:e,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId}):this.renderNewFolderButton(t))}}oC.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func};var iC=oC;const cC=Object(Pr.h)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}});class lC extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={expanded:this.props.showCustomFolders},this.expand=(()=>{this.state.expanded||this.toggle()}),this.collapse=(()=>{this.state.expanded&&this.toggle()}),this.toggle=(()=>{const e=this.state.expanded;this.props.onToggleCustomFolders(!e),this.setState({expanded:!e})}),this.handleClick=(e=>{e.stopPropagation(),e.preventDefault(),this.toggle()}),this.handleKeyDown=(e=>{switch(e.preventDefault(),e.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}}),this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl;return e(this.state.expanded?cC.click_to_hide_folders_title:cC.click_to_show_folders_title)}),t}render(){const{formatMessage:e}=this.context.intl,t=this.context.getCss(iI.a,babelHelpers.extends({indentation:uI},Object(Is.i)(this.context,!0))),s={id:"-1",type:h.sb.USER,name:e(cC.folders_label),total:-1};return we.a.createElement("div",null,we.a.createElement("div",{"data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:t.folderContainer},we.a.createElement(BI,{isActive:!1,folder:s,onToggleExpansion:()=>{},chevron:h.H.NONE,isActualFolder:!1}),we.a.createElement("span",{"data-test-id":"toggle-folder-tree",className:t.toggleFolderTree,onClick:this.handleClick,title:this.getTitleText(),"aria-label":this.getTitleText()},we.a.createElement(Pr.c,this.state.expanded?{id:"hide_label",defaultMessage:"Hide"}:{id:"show_label",defaultMessage:"Show"}))),this.props.children&&this.state.expanded?we.a.createElement("ul",{className:t.folderTree,"data-test-id":"custom-folder-list"},we.a.createElement("li",null,this.props.children)):null)}}lC.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var dC=lC,EC=s(607),_C=s.n(EC);const uC=Object(Pr.h)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"}});class pC extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={expanded:!0,isHovered:!1},this.expand=(()=>{this.state.expanded||this.setState({expanded:!0})}),this.collapse=(()=>{this.state.expanded&&this.setState({expanded:!1})}),this.toggleExpand=(()=>{this.setState({expanded:!this.state.expanded})}),this.handleClick=(e=>{e.stopPropagation(),e.preventDefault(),this.toggleExpand()}),this.handleKeyDown=(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),e.preventDefault(),this.toggleExpand();break;case"Arrowleft":e.stopPropagation(),e.preventDefault(),this.collapse();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),this.expand();break;default:return}}),this.handleHover=(e=>{this.setState({isHoverd:e})}),this.getTitleText=(()=>{const{formatMessage:e}=this.context.intl;return e(this.state.expanded?uC.click_to_hide_views_title:uC.click_to_show_views_title)}),this.renderLabel=(e=>{const{formatMessage:t}=this.context.intl,s=t(uC.views_label),a=we.a.createElement("span",null,s),{expanded:n}=this.state;return we.a.createElement("div",{className:e.labelContainer,title:this.getTitleText()},we.a.createElement("span",{className:e.label},a),we.a.createElement("span",{"data-test-id":"toggle-smartview-list",className:e.toggleSmartViews,onClick:this.handleClick,title:this.getTitleText(),"aria-label":this.getTitleText()},we.a.createElement(Pr.c,n?{id:"hide_views_label",defaultMessage:"Hide"}:{id:"show_views_label",defaultMessage:"Show"})))}),this.renderSmartviews=(()=>{const{smartViews:e,onSmartViewOpen:t,highlightSmartView:s}=this.props;return e.map(e=>{const{folder:a}=e;return we.a.createElement("li",{key:a.id},we.a.createElement(KI,{onClick:t,type:Object(ld.c)(a),isActive:s===a.id,handleHover:this.handleHover,total:a.total,ref:`${a.name.toLowerCase()}Button`}),a.name===h.td.PHOTOS?this.renderPhotosCue():null,a.name===h.td.COUPONS?this.renderCouponsViewCue():null,a.name===h.td.RECEIPTS?this.renderPurchasesViewCue():null,a.name===h.td.GROCERIES?this.renderGroceriesViewCue():null)})}),this.updateContent=(e=>{e&&e.updatePosition()}),this.renderPhotosCue=(()=>this.props.showPhotosCue&&this.refs.photosButton?we.a.createElement(qr.a,{popoverAnchor:this.refs.photosButton,isRTL:this.props.isRTL,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.START],ref:e=>{this.popoverContent=e},zAltitude:Wr.ZIndices.POPOVER.HIGH},we.a.createElement(lo.a,{import:"../../photos_cue",cueName:h.kb.PHOTOS_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.photosButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,907))},_moduleResolver:function(){return 907}})):null),this.renderPurchasesViewCue=(()=>this.refs.receiptsButton&&(this.props.showPurchasesViewCue||this.props.showShopRunnerViewCue)?we.a.createElement(qr.a,{popoverAnchor:this.refs.receiptsButton,isRTL:this.props.isRTL,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.START],ref:e=>{this.popoverContent=e},zAltitude:Wr.ZIndices.POPOVER.HIGH,bg:Yr.d.DEFAULT},we.a.createElement("div",{style:{display:"block",minHeight:"138px"}},we.a.createElement(lo.a,this.props.showPurchasesViewCue?{import:"../../purchases_view_cue/",cueName:h.kb.PURCHASES_VIEW_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.receiptsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,908))},_moduleResolver:function(){return 908}}:{import:"../../shop_runner_cue/shop_runner_view_cue.jsx",cueName:h.kb.SHOPRUNNER_VIEW_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.receiptsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,909))},_moduleResolver:function(){return 909}}))):null),this.renderCouponsViewCue=(()=>(this.props.showCouponsViewCue||this.props.showCouponsViewLaunchCue)&&this.refs.couponsButton?we.a.createElement(qr.a,{popoverAnchor:this.refs.couponsButton,isRTL:this.props.isRTL,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Wr.ZIndices.POPOVER.HIGH,bg:Yr.d.GRADIENT},we.a.createElement("div",{style:{display:"block",minHeight:"217px"}},we.a.createElement(lo.a,{import:"../../coupons_view_cue",cueName:this.props.showCouponsViewCue?h.kb.COUPONS_VIEW_CUE:h.kb.COUPONS_VIEW_LAUNCH_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,955))},_moduleResolver:function(){return 955}}))):null),this.renderGroceriesViewCue=(()=>this.props.showGroceriesViewCue&&this.refs.groceriesButton?we.a.createElement(qr.a,{popoverAnchor:this.refs.groceriesButton,isRTL:this.props.isRTL,triggerOn:Yr.h.MOUNT,permittedArrowDirections:[Yr.g.START],ref:e=>{this.popoverContent=e},zAltitude:Wr.ZIndices.POPOVER.HIGH},we.a.createElement("div",{style:{display:"block",minHeight:"177px"}},we.a.createElement(lo.a,{import:"../../grocery_view_cue",cueName:h.kb.QTNT_VIEW_LEFT_RAIL_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.groceriesButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,910))},_moduleResolver:function(){return 910}}))):null),t}render(){const e=this.context.getCss(_C.a,babelHelpers.extends({indentation:uI},Object(Is.i)(this.context,!0)));return we.a.createElement("div",null,we.a.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:e.smartviewContainer},this.renderLabel(e)),this.state.expanded?we.a.createElement("ul",{className:e.smartviewList},this.renderSmartviews()):null)}}pC.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var mC=Object(Lr.b)(e=>{const{getEnvironmentSelectors:t,getSetting:s}=Object(So.b)(e),{getPageDirection:a}=t();return{isRTL:"rtl"===a(),cueVariant:s(h.id.PURCHASES_VIEW_CUE_VARIANT)}})(pC),hC=s(608),SC=s.n(hC);const gC=to()(SC.a);class IC extends we.a.Component{constructor(...e){var t;return t=super(...e),this.getSmartViews=(()=>{const e=Object(gt.o)(),{showCouponsView:t,showGroceriesView:s,showReceiptsView:a}=this.props;if(!this.props.tutorial){const t=e.findIndex(e=>e.folder.id===h.td.TUTORIAL);e.splice(t,1)}if(!t){const t=e.findIndex(e=>e.folder.id===h.td.COUPONS);e.splice(t,1)}if(!s){const t=e.findIndex(e=>e.folder.id===h.td.GROCERIES);e.splice(t,1)}if(!a){const t=e.findIndex(e=>e.folder.id===h.td.RECEIPTS);e.splice(t,1)}if(!this.props.travelView){const t=e.findIndex(e=>e.folder.id===h.td.TRAVEL);e.splice(t,1)}return e}),t}render(){const{customFolderList:e,systemFolderListWithSmartView:t,isScrolling:s}=this.props,a=this.getSmartViews();return we.a.createElement("div",{className:"folder-list "+gC.scrollOuter,"data-test-id":"folder-list"},we.a.createElement(sC,{activeAccountId:this.props.activeAccountId,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:t.map(e=>babelHelpers.extends({},e,{isSystem:!0})),onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:uI,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,collapsible:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders,isScrolling:s}),we.a.createElement("div",null,we.a.createElement("div",{className:gC.listSpacer}),we.a.createElement(mC,{smartViews:a,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showCouponsViewLaunchCue:this.props.showCouponsViewLaunchCue,showPurchasesViewCue:this.props.showPurchasesViewCue,showShopRunnerViewCue:this.props.showShopRunnerViewCue,showGroceriesViewCue:this.props.showGroceriesViewCue})),we.a.createElement("div",{className:gC.listSpacer}),we.a.createElement(dC,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders},we.a.createElement(iC,{onCreate:this.props.onFolderCreate,indentation:uI,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId}),e.length>0?we.a.createElement(sC,{activeAccountId:this.props.activeAccountId,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:e,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:_I,collapsible:!1}):null))}}IC.contextTypes={executeAction:Ve.a.func,config:Ve.a.object};var CC=IC;const TC={darkTheme:{textColor:"#E0E4E9",hoverColor:"#FFFFFF"},lightTheme:{textColor:"#26282A",hoverColor:"#188FFF"},getCss:(e,t)=>[".ad-tl2b {overflow:hidden; text-align:left; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;}","p {margin:0px;}",".y-fp-pg-controls {margin-top:5px; margin-bottom:5px;}",`#tl1_slug {font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,sans-serif; font-size:12px; color: ${e};}`,`a {font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,sans-serif; font-size:11px; color: ${e}; }`,"a:link {text-decoration:none;}",`a:hover {color: ${t};}`].join(" ")},AC={SKY:{yaftName:"norrin_ad_sky",darla:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},TL1:{yaftName:"norrin_ad_tl1",darla:{pos:"TL1",dest:"tgtTL1",clean:"slot_TL1",w:140,h:170,fdb:!0,css:TC.getCss(TC.lightTheme.textColor,TC.lightTheme.hoverColor)}},LREC:{yaftName:"norrin_ad_lrec",darla:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",darla:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",darla:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},BTN:{yaftName:"norrin_ad_btn",darla:{pos:"BTN",dest:"tgtBTN",clean:"slot_BTN",w:120,h:60,fdb:!0,fr:"no_exp",css:TC.getCss(TC.lightTheme.textColor,TC.lightTheme.hoverColor)}},REC:{yaftName:"norrin_ad_rec",darla:{pos:"REC",dest:"tgtREC",clean:"slot_REC",w:180,h:150,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}};class OC extends we.a.Component{componentDidMount(){this.context.registerAdPosition({darlaPos:this.props.id})}componentWillUnmount(){this.context.removeAdPosition({darlaPos:this.props.id})}shouldComponentUpdate(e){return this.props.className!==e.className}render(){const{yaftName:e,darla:t}=AC[this.props.id],{clean:s,dest:a}=t;return we.a.createElement("div",{id:s,"data-yaft-module":e,className:this.props.className},we.a.createElement("div",{id:a}))}}OC.contextTypes={registerAdPosition:Ve.a.func,removeAdPosition:Ve.a.func,executeAction:Ve.a.func};var bC=OC;class RC extends we.a.Component{render(){return we.a.createElement(bC,{id:"MON"})}}class DC extends we.a.Component{render(){return we.a.createElement(bC,{id:"TL1"})}}class fC extends we.a.Component{render(){return we.a.createElement(bC,{id:"BTN"})}}class NC extends we.a.Component{render(){return we.a.createElement(bC,{id:"REC",className:this.props.recClassName})}}class MC extends we.a.Component{render(){return we.a.createElement(bC,{id:"SKY"})}}class LC extends we.a.Component{render(){return we.a.createElement(bC,{id:"LREC"})}}class yC extends we.a.Component{render(){return we.a.createElement("div",{"data-test-id":"stackedLRECs"},we.a.createElement(bC,{id:"LREC",className:this.props.lrecClassName}),we.a.createElement(bC,{id:"LREC4"}))}}var PC=s(609),vC=s.n(PC);const FC=Object(Pr.h)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}});class UC extends we.a.Component{render(){const{formatMessage:e}=this.context.intl,{appRootPath:t}=this.props,s=e(FC.compose),a=this.context.getCss(vC.a),n=Object(vs.f)();return we.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"compose-button",href:`${t}/compose/${n}`,className:a.link,onClick:this.props.onClick,onDrop:this.props.handleDrop,onDragOver:this.props.handleDragOver,onDragEnter:this.props.handleDragEnter,role:"button","aria-label":s,rel:"noopener"},s)}}UC.contextTypes={intl:Pr.i,config:Ve.a.object,getCss:Ve.a.func},UC.defaultProps={appRootPath:"/d"};var HC=UC,kC=s(358),GC=s.n(kC),wC=s(142),xC=s(458);const BC=Object(Pr.h)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingIndicatorIcon:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingIndicatorIcon:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"}});class jC extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={hoveredAccountId:null},this.handleClick=((e,t)=>{this.props.onClick(t,e,{mKey:ao.e.ACCOUNT_SWITCH,sec:ao.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.i)(t)})}),this.handleMouseOver=(e=>{this.setState({hoveredAccountId:e})}),this.handleMouseLeave=(()=>{this.setState({hoveredAccountId:null})}),this.handleGearIconClick=((e,t)=>{this.navigateToSettingsTab(e,t,{mKey:ao.e.EDIT_IMAP_ACCOUNT,sec:ao.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.i)(t)})}),this.handleExpiredIconClick=((e,t)=>{let s=!1;const{id:a,type:n}=e,r=Object(Ec.d)(e),{autoOpenReauth:o}=this.props;o&&n===h.g.IMAPIN&&r===h.fb.GOOGLE&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`),s=!0),this.navigateToSettingsTab(a,t,{mKey:ao.e.FIX_IMAP_ACCOUNT,sec:ao.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.i)(t)},s)}),this.navigateToSettingsTab=((e,t,s,a=!1)=>{t.preventDefault(),t.stopPropagation(),this.context.navigateTo({route:Object(ho.s)({settingsGroupId:h.ld.ACCOUNTS,accountId:e,openReauth:a}),i13nModel:s})}),this.shouldRenderAccount=(e=>{const{status:t,type:s}=e;return t!==h.f.DELETE_IN_PROGRESS&&s!==h.g.POPIN}),t}render(){const{rootAccounts:e,activeAccountId:t,toggleAccountsList:s,expiredAccounts:a}=this.props,n=this.context.getCss(GC.a),{formatMessage:r}=this.context.intl,o=e.map(e=>{const{status:n,type:o,createTime:i}=e,c=e.id===t,l=this.context.getCss(GC.a),d=e.defaultFolder,E=e.description||e.email,_=("ltr"===Object(wC.getTextDirection)(E)?l.rtlIgnoreDirLTR:l.rtlIgnoreDirRTL)+" "+(c?l.activeText:l.text),u=Object(Ec.a)({status:n,type:o,createTime:i}),p=this.state.hoveredAccountId===e.id,m=a.find(t=>t.id===e.id);let S;return d&&d.id&&(s||c)&&this.shouldRenderAccount(e)?(S=m?we.a.createElement("span",{className:l.expiredIcon},we.a.createElement(vr.a,{kind:Ur.b.EXCLAMATION_ALT,size:Ur.d.XS,colorState:Ur.a.WARNING_GRAD_RED,onClick:this.handleExpiredIconClick.bind(this,e),title:r(BC.notSyncingIndicatorIcon)})):u?we.a.createElement("div",{className:l.statusIcon},we.a.createElement(xC.a,{size:Ur.d.XS,title:r(BC.syncingIndicatorIcon)})):p?we.a.createElement("span",{className:l.settingGear},we.a.createElement(vr.a,{onClick:this.handleGearIconClick.bind(this,e.id),"data-iskeynav":!0,paddingLess:!0,size:Ur.d.XXS,kind:Ur.b.SETTINGS,title:r(BC.accountSettingsMenu),"aria-label":r(BC.accountSettingsMenu),colorState:Ur.a.INHERITED})):we.a.createElement("span",{className:l.unreadCount},we.a.createElement(fI,{value:d.unread,isActive:c,isAccountSwitcher:!0,whiteBackground:this.context.getThemeMode()!==Is.f.LIGHT})),we.a.createElement(ll.a,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},we.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":c,"data-test-unread-count":d.unread,"data-test-is-expired":!!m,className:l.listItem,href:this.context.getUrlFromRoute({name:h.Pc.FOLDER,params:{fid:d.id}}),onClick:this.handleClick.bind(this,d.id),tabIndex:"-1",rel:"noopener"},we.a.createElement("span",{className:_,title:E},E),S))):null});return we.a.createElement("div",{"data-test-id":"account-list"},we.a.createElement("ul",{className:n.accountList},o))}}jC.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func.isRequired,getCss:Ve.a.func,getThemeMode:Ve.a.func,intl:Pr.i.isRequired};var VC=jC,WC=s(611),qC=s.n(WC),KC=s(135);const zC=(e,t,s,a,n=!0)=>{const{top:r,bottom:o,height:i}=t,c=i/8;let l=0;return e<=r+c?(s-=l=n?r/e*10:10)<0&&(s=0):e>=o-c&&(l=n?e/o*10:10,s+i!==a&&(s+=l)),Math.floor(s)};var YC=s(147);const ZC=250,XC=Object(Pr.h)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),QC=["n","m"];Object(uo.b)({group:po.c,keys:{openCompose:{key:"N",description:we.a.createElement(Pr.c,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:we.a.createElement(Pr.c,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:we.a.createElement("strong",null,we.a.createElement(Pr.c,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})}}});class $C extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={scrollingUnder:!1,confirmRequested:!1,isScrolling:!1,toggleAccountsList:!0},this.handleShortcuts=(e=>{const t=String.fromCharCode(e.which).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"n":this.handleComposeLinkClick(e);break;case"m":this.navigateToInbox(e)}}),this.navigateToFolder=((e,t,{i13nModel:s={},refresh:a=!1}={})=>{const{route:n}=this.props,r=n.name===h.Pc.FOLDER,o=Object(Io.t)(n),i=Object(Io.m)(o);if(e.metaKey&&this.props.listV3&&this.context.navigateTo({route:Object(ho.v)(o,{folders:[t]}),i13nModel:s,refresh:a}),r&&i===t)return void this.context.executeAction(_o.h,{forceSync:!0,userInitiated:!0,i13nModel:{mKey:ao.e.NAVIGATE_TO_FOLDER,sec:ao.g.LEFTRAIL_FOLDER}});const{getSortOrderForFolderRoute:c}=Object(So.b)(this.context.store.getState());this.context.navigateTo({route:Object(ho.i)(t,c()),i13nModel:s,refresh:a})}),this.navigateToNewCompose=(({i13nModel:e,files:t,name:s,stationeryTheme:a}={})=>{const{route:n}=this.props;let{csid:r}=n.params;const{isFreshCompose:o}=Object(So.b)(this.context.store.getState());if(r&&o(r))return;r=Object(vs.f)();const i={route:Object(ho.e)(r)};e&&(i.i13nModel=e),t&&(i.files=t),s&&(i.name=s),a&&(i.stationeryTheme=a),this.context.navigateTo(i)}),this.handleComposeLinkClick=(e=>{e.preventDefault();const t={mKey:ao.e.COMPOSE_BUTTON,sec:ao.g.LEFTRAIL_COMPOSE,mKeyGroup:ao.f.compose,interaction_type:Object(vs.i)(e)};this.navigateToNewCompose({i13nModel:t})}),this.handleComposeDrop=(e=>{e.preventDefault();const t=e.dataTransfer;Array.prototype.slice.call(t&&t.types||[]).some(e=>"Files"===e)&&this.navigateToNewCompose({files:Array.prototype.slice.call(t.files)})}),this.handleDragOver=(e=>{e.preventDefault()}),this.handleDragScroll=(e=>{if(e.preventDefault(),e&&e.clientY){const t=this.folderList,{scrollTop:s,scrollHeight:a}=t,n=zC(e.clientY,t.getBoundingClientRect(),s,a);s!==n&&(t.scrollTop=n)}}),this.handleDragEnter=(e=>{e.preventDefault()}),this.handleFolderClick=((e,t,s)=>{e.preventDefault(),-1===[h.Ed.STARRED,h.Ed.DRAFT,h.Ed.SENT,h.Ed.SPAM,h.Ed.TRASH].indexOf(t)&&t===this.props.activeFolderId&&"folder"===this.props.route.name?this.navigateToFolder(e,t,{i13nModel:s,refresh:!0}):this.navigateToFolder(e,t,{i13nModel:s,refresh:!1})}),this.handleSmartViewClick=((e,t)=>{const{activeAccount:s,hasCoupons:a,taiwanShoppingView:n}=this.props;let r,o=t;e.preventDefault();const i={UNREAD:ao.e.UNREAD_SMARTVIEW,STARRED:ao.e.STARRED_SMARTVIEW,PHOTOS:ao.e.PHOTO_SMARTVIEW,DOCUMENTS:ao.e.DOCUMENT_SMARTVIEW,TUTORIAL:ao.e.TUTORIAL_SMARTVIEW,COUPONS:ao.e.COUPONS_SMARTVIEW,GROCERIES:ao.e.QTNTVIEW_LEFTRAIL,RECEIPTS:ao.e.RECEIPTS_SMARTVIEW,TRAVEL:ao.e.TRAVEL_SMARTVIEW}[o];i&&(r={mKey:i,sec:ao.g.LEFTRAIL_SMARTVIEW,interactionType:Object(vs.i)(e)},o!==h.td.TUTORIAL&&(r.mKeyGroup=ao.f.search),o===h.td.GROCERIES&&(r.actionData={reason:{featurefamily:h.ib.IC,featurename:h.kb.QUOTIENT,viewtype:"grocerystorelist",origin:"leftrail"}}),o===h.td.COUPONS&&!a&&n&&(o=h.td.SHOPPING_YAHOO_DEALS));const c={accountIds:s.id};this.context.navigateTo({route:Object(ho.t)(o,c),i13nModel:r})}),this.handleFolderDelete=(({folder:e,i13nModel:t,hasSubFolder:s})=>{s||e.total>0?this.context.executeAction(KC.d,{folderId:e.id,i13nModel:t}):this.deleteFolder({folderId:e.id,folderName:e.name,i13nModel:t})}),this.deleteFolder=(({folderId:e,folderName:t,i13nModel:s})=>{s=Object.assign({mKey:ao.e.FOLDER_CONTEXTMENU_DELETE,sec:ao.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:ao.f.delete_fldr},s),e===this.props.activeFolderId&&this.navigateToFolder({},this.props.defaultFolderId),this.props.onDeleteFolder({folderId:e,folderName:t,i13nModel:s})}),this.handleFolderMenuShow=(()=>{this.context.executeAction(KC.g,{i13nModel:{mKey:ao.e.FOLDER_CONTEXTMENU,sec:ao.g.LEFTRAIL_CONTEXTMENU}})}),this.handleFolderCreate=(({folderName:e,i13nModel:t})=>{const{activeAccount:s}=this.props;t=Object.assign({mKey:ao.e.ADD_FOLDER,sec:ao.g.LEFTRAIL_USERFOLDER,mKeyGroup:ao.f.create_fldr},t),this.context.executeAction(KC.b,{folderName:Object(gt.h)(e,s),accountId:s.id,i13nModel:t})}),this.handleSubfolderCreate=(({folderId:e,subfolderName:t,i13nModel:s})=>{const{activeAccount:a}=this.props,{getFolderFullName:n}=Object(So.b)(this.context.store.getState()),r=n(e);s=Object.assign({mKey:ao.e.ADD_FOLDER,sec:ao.g.LEFTRAIL_USERFOLDER,mKeyGroup:ao.f.create_fldr},s),this.context.executeAction(KC.b,{folderName:Object(gt.h)(t,a,r),accountId:a.id,i13nModel:s})}),this.handleFolderRename=(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{const{activeAccount:n}=this.props,{getFolderFullName:r}=Object(So.b)(this.context.store.getState()),o=r(s),i=o.substr(0,o.lastIndexOf(e)-1)||"";a=Object.assign({mKey:ao.e.FOLDER_CONTEXTMENU_RENAME,sec:ao.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:ao.f.rename_fldr},a),this.props.onRenameFolder({folderName:Object(gt.h)(t,n,i),folderId:s,i13nModel:a})}),this.handleFolderMarkRead=(({folder:e,i13nModel:t})=>{const{streamId:s}=this.props;t=Object.assign({mKey:ao.e.FOLDER_CONTEXTMENU_ALL_READ,sec:ao.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:ao.f.mark_read},t),this.context.executeAction(KC.f,{streamId:s,listId:this.props.listId,folderId:e.id,unreadCount:e.unread,i13nModel:t})}),this.handleFolderArchive=(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,a={mKey:ao.e.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:ao.g.LEFTRAIL_CONTEXTMENU,interactionType:Object(vs.i)(e),mKeyGroup:ao.f.archive,actionData:{numMsg:s.total}};this.context.executeAction(KC.a,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()}),this.handleFolderDrop=((e,t)=>{const{streamId:s}=this.props,{doesStreamExist:a,getSelectedStreamItems:n}=Object(So.b)(this.context.store.getState()),r=(a(s)?n(s):[]).map(({id:e})=>e);r&&r.length>0&&this.context.executeAction(e,babelHelpers.extends({streamId:s},t,{messageGroupIds:r},1===r.length?{streamItem:{id:r[0],listId:t.listId}}:{}))}),this.handleExpandFolderToggle=((e,t)=>{const{expandedFolders:s}=this.props,{getFoldersSelectors:a}=Object(So.b)(this.context.store.getState()),{getFolderLevelByFolderId:n}=a();if(!(0===n(e)))return;const r=s.indexOf(e),o=-1!==r;let i;if(t&&!o)i=Object(QI.a)(s,e);else{if(t||!o)return;i=Object(QI.e)(s,r,1)}this.props.changeSettings({name:h.id.EXPANDED_FOLDERS,value:i})}),this.handleToggleCustomFolders=(e=>{this.props.changeSettings({name:h.id.SHOW_CUSTOM_FOLDERS,value:e})}),this.handleToggleAccountsLinkClick=(e=>{e.preventDefault();const t={mKey:this.state.toggleAccountsList?ao.e.COLLAPSE_ACCOUNT_SWITCHER:ao.e.EXPAND_ACCOUNT_SWITCHER,sec:ao.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.i)(e)};this.context.executeAction(KC.h,{i13nModel:t}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})}),this.showConfirmDialog=((e,t)=>{this.setState({confirmRequested:!0,confirmType:e,selectedFolder:t})}),this.hideConfirm=(()=>{this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})}),this.handleFolderClear=(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,a={mKey:-1!==[h.sb.BULK,h.sb.TRASH].indexOf(s.type)?ao.e.FOLDER_CONTEXTMENU_EMPTY:ao.e.FOLDER_CONTEXTMENU_ALL_DELETE,sec:ao.g.LEFTRAIL_CONTEXTMENU,interactionType:Object(vs.i)(e),mKeyGroup:ao.f.delete,actionData:{numMsg:s.total}};this.context.executeAction(KC.c,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()}),this.navigateToInbox=(e=>{this.handleFolderClick(e,this.props.defaultFolderId,{mKey:ao.e.INBOX_FOLDER,sec:ao.g.LEFTRAIL_SYSFOLDER,interactionType:Object(vs.i)(e)}),this.folderList&&(this.folderList.scrollTop=0)}),this.detectScrollStop=(()=>{this.setState({isScrolling:!1})}),this.handleScroll=(()=>{const e=this.folderList.scrollTop,{isScrolling:t}=this.state;t||this.setState({isScrolling:!0}),this.detectScrollStop(),this.state.scrollingUnder&&e<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&e>0&&this.setState({scrollingUnder:!0})}),this.handleToggleSystemFolders=(e=>{this.props.changeSettings({name:h.id.SHOW_ALL_SYSTEM_FOLDERS,value:e,i13nModel:{mKey:!0===e?ao.e.SETTINGS_EXPAND_SYSTEM_FOLDERS:ao.e.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:ao.g.LEFTRAIL_SYSFOLDER,interactionType:ao.d.click}})}),this.renderLeftRailAds=(e=>{const{leftRailAdArbitration:t,isNarrowScreen:s}=this.props,a=[we.a.createElement(DC,{key:"1"}),we.a.createElement(fC,{key:"2"}),we.a.createElement(NC,{recClassName:e.adRec,key:"3"})];return t?s?a:a.slice(0,2):s?we.a.createElement(NC,{recClassName:e.adRec,key:"3"}):we.a.createElement(DC,{key:"1"})}),this.renderConfirmDialog=(()=>{const{formatMessage:e}=this.context.intl,{selectedFolder:t,confirmType:s}=this.state,a=we.a.createElement("strong",null,we.a.createElement(Qm.a,{folderDisplayType:t.type,name:`"${t.name}"`})),n=this.props.isPermDeleteFolderType(t.id);switch(s){case h.K.CLEAR_FOLDER:return we.a.createElement(_h.a,{title:e(XC.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},we.a.createElement(Pr.c,n?{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete all\n                                {emailsNum, plural,\n                                    one {# message}\n                                    other {# messages}\n                                } from {folderName}?",values:{emailsNum:t.total,folderName:a}}:{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete all\n                                {emailsNum, plural,\n                                    one {# message}\n                                    other {# messages}\n                                }, moving them from {folderName} to the Trash?",values:{emailsNum:t.total,folderName:a}}));case h.K.ARCHIVE_FOLDER:{const s=t.type===h.sb.INBOX,{confirm_inbox_archive_all_title:n,confirm_inbox_archive_all_personalized_title:r,confirm_folder_archive_all_title:o,archive_emails_button_label:i}=XC,c=this.props.activeAccount.sendingName;let l;return we.a.createElement(_h.a,{title:e(l=s?c?r:n:o,{sendingName:c}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:i},we.a.createElement(Pr.c,s?{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving all\n                                        {emailsNum, plural,\n                                            one {# message}\n                                            other {# messages}\n                                        } (instead of deleting).\n                                        Don't worry, to find them later, simply go to the Archive folder.",values:{emailsNum:t.total,folderName:a}}:{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive all\n                                    {emailsNum, plural,\n                                        one {# message}\n                                        other {# messages}\n                                    }, moving them from {folderName} to your Archive folder?",values:{emailsNum:t.total,folderName:a}}))}default:return null}}),t}componentDidMount(){this.detectScrollStop=i_()(this.detectScrollStop,ZC),this.context.bindShortcut(QC,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(QC)}render(){const{appRootPath:e,autoOpenReauth:t,actionModule:a,feedbackURL:n,tutorial:r,activeAccount:o,enabledAccountsCount:i,isRTL:c,isPrimaryAccountDisabled:l}=this.props,d=this.context.getCss(qC.a,{scrollingUnder:this.state.scrollingUnder,isRTL:c});return we.a.createElement(Sl.a,{"data-test-id":"navigation",className:d.container+" navigation",circularNavigation:!1,groupTabIndex:Wr.TabIndices.FOLDER_LIST},we.a.createElement("div",{ref:e=>{this.composeBtn=e}},we.a.createElement(HC,{appRootPath:e,onClick:this.handleComposeLinkClick,handleDrop:this.handleComposeDrop,handleDragOver:this.handleDragOver,handleDragEnter:this.handleDragEnter})),we.a.createElement("div",{className:d.shadow}),we.a.createElement("div",{className:d.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:e=>this.folderList=e,onDragOver:this.handleDragScroll},i>1||l?we.a.createElement(VC,{activeAccountId:this.props.activeAccount.id,rootAccounts:this.props.rootAccounts,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,autoOpenReauth:t}):null,i>1||l?we.a.createElement("div",{className:d.divider,onClick:this.handleToggleAccountsLinkClick},we.a.createElement("button",{className:d.moreButton,"data-iskeynav":!0}),we.a.createElement(Fr.b,{kind:Ur.b.MORE,colorState:Ur.a.INHERITED,className:d.moreIcon})):null,we.a.createElement(CC,{tutorial:r,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,customFolderList:this.props.customFolderList,systemFolderListWithSmartView:this.props.systemFolderListWithSmartView,sortOrder:this.props.folderListSortOrder,mailboxId:this.props.mailboxId,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,h.K.ARCHIVE_FOLDER),onFolderDrop:this.handleFolderDrop,onFolderClear:this.showConfirmDialog.bind(this,h.K.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onSmartViewOpen:this.handleSmartViewClick,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showCouponsViewLaunchCue:this.props.showCouponsViewLaunchCue,showGroceriesView:this.props.showGroceriesView,showPurchasesViewCue:this.props.showPurchasesViewCue,showShopRunnerViewCue:this.props.showShopRunnerViewCue,showGroceriesViewCue:this.props.showGroceriesViewCue,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,isScrolling:this.state.isScrolling,collapsibleSystemFolders:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,showCouponsView:this.props.showCouponsView,showReceiptsView:this.props.showReceiptsView}),we.a.createElement("div",{className:d.adTL},this.props.hasAds?this.renderLeftRailAds(d):null),this.state.confirmRequested?this.renderConfirmDialog():null,we.a.createElement("div",null,we.a.createElement(lo.a,a?{defer:!0,import:"../../molecules/panel_stack/index.jsx",feedbackURL:n,accountId:o.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,950))},_moduleResolver:function(){return 950}}:{defer:!0,import:"../../molecules/feedback_panel/index.jsx",feedbackURL:n,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,949))},_moduleResolver:function(){return 949}}))))}}$C.contextTypes={executeAction:Ve.a.func,navigateTo:Ve.a.func.isRequired,getCss:Ve.a.func,intl:Pr.i.isRequired,config:Ve.a.object,bindShortcut:Ve.a.func,unbindShortcut:Ve.a.func,store:Ve.a.object.isRequired};var JC=Object(Lr.b)((e,{listId:t})=>{const{getRoute:s,getSelectedAccountIdByRoute:a,getAccountById:n,isListStale:r,isListRefreshing:o,getRootAccountsWithDefaultFolder:i,getExpiredAccounts:c,getDefaultFolderIdForSelectedAccount:l,isPermDeleteFolderType:d,isNarrowScreen:E,getMainStreamListIds:_,getCustomFolderList:u,getSystemFolderListWithSmartView:p,getContentProviders:m,getSmartViewTypeFromListId:S,getSmartViewPosition:g,isFeatureEnabled:I,getSetting:C,getEnvironmentSelectors:T,getCouponsSelectors:A,getAccountSelectors:O}=Object(So.b)(e),b=s(),R=i(),D=n(a(b)),f=r(t)&&o(t),N=Object(Io.m)(t),M=C("appRootPath"),L=I(h.kb.LIST_V3),{getCoupons:y}=A(),P=y(),v=R.filter(e=>e.status===h.f.ENABLED),{doesContentProviderExist:F,isContentProviderConnected:U,isCreditCardConnectedWithEarny:H,isPaymentConnectedWithEarny:k}=m(),G=!(F(h.M.EARNY)&&U(h.M.EARNY)&&H(h.M.EARNY)&&k(h.M.EARNY)),w=!(F(h.M.SHOPRUNNER)&&U(h.M.SHOPRUNNER));let x;b.name===h.Pc.FOLDER||b.name===h.Pc.MESSAGE_FROM_FOLDER_LIST?x=N:b.name===h.Pc.TUTORIAL?x=h.td.TUTORIAL:Object(Io.E)(t)&&(x=S(t));const B=Object(Pu.a)(_(s()));return{route:b,rootAccounts:R,isPrimaryAccountDisabled:O().isPrimaryAccountDisabled(),enabledAccountsCount:v.length,activeAccount:D,expandedFolders:C(h.id.EXPANDED_FOLDERS),showCustomFolders:I(h.id.SHOW_CUSTOM_FOLDERS),folderRefreshing:f,activeFolderId:x,expiredAccounts:c(),collapsibleSystemFolders:I(h.kb.COLLAPSIBLE_SYSTEM_FOLDERS),showAllSystemFolders:I("showAllSystemFolders"),appRootPath:M,autoOpenReauth:I(h.kb.AUTO_OPEN_REAUTH),actionModule:I(h.kb.ACTION_MODULE),feedbackURL:C(h.id.FEEDBACK_URL),tutorial:I(h.kb.TUTORIAL),travelView:I(h.kb.TRAVEL_VIEW),showCouponsView:I(h.kb.COUPONS_VIEW)&&g(h.td.COUPONS)===h.sd.SIDE_BAR,showGroceriesView:I(h.kb.GROCERIES_VIEW),showReceiptsView:I(h.kb.RECEIPTS_VIEW),showPhotosCue:I(h.kb.PHOTOS_CUE),showStarredCue:I(h.kb.STARRED_CUE),showCouponsViewCue:I(h.kb.COUPONS_VIEW_CUE),showCouponsViewLaunchCue:I(h.kb.COUPONS_VIEW_LAUNCH_CUE),showPurchasesViewCue:G&&I(h.kb.PURCHASES_VIEW_CUE),showShopRunnerViewCue:w&&I(h.kb.SHOPRUNNER_VIEW_CUE),showGroceriesViewCue:I(h.kb.QTNT_VIEW_LEFT_RAIL_CUE),defaultFolderId:l(),leftRailAdArbitration:I(h.kb.LEFT_RAIL_AD_ARBITRATION),isNarrowScreen:E(),streamId:B,isPermDeleteFolderType:d,customFolderList:u(D.id),systemFolderListWithSmartView:p(D.id),listV3:L,isRTL:"rtl"===T().getPageDirection(),hasCoupons:!!Object.keys(P).length,taiwanShoppingView:I(h.kb.TAIWAN_SHOPPING_VIEW)}},e=>({onRenameFolder:t=>e(Object(YC.f)(t)),onDeleteFolder:t=>e(Object(YC.c)(t)),changeSettings:t=>e(Object(uu.a)(t))}))($C),eT=s(612),tT=s.n(eT);function sT(e,t){e.dispatch(Fo.a.WINDOW_RESIZING,t)}function aT(e,t={}){e.dispatch(Fo.a.WINDOW_RESIZED,t)}var nT=s(289),rT=s.n(nT),oT=s(109);class iT extends we.a.Component{constructor(e){super(e),this.state={mounted:!1},this.onClick=(e=>{const{closePreviewOpenPane:t,openContactsPane:s,closePreviewRoute:a,showContactsPane:n,isCueEnabled:r,closeFeatureCue:o}=this.props,i={mKey:n?ao.e.CONTACTS_PANE_ICON_OFF:ao.e.CONTACTS_PANE_ICON_ON,sec:ao.g.CONTACTS_PANE,interactionType:Object(vs.i)(e)},c=r&&!n;a?t({i13nModel:i,uiContext:{mKey:ao.e.CONTACTS_PANE_ICON_ON},route:a}):s({i13nModel:i}),c&&o({userAction:"close",i13nModel:{mKey:`cue_${h.kb.CONTACTS_PANE_CUE}_try_it`,sec:ao.g.FEATURE_CUE,interactionType:Object(vs.i)(e)}})}),this.updateContent=(()=>{this.popoverRef&&this.popoverRef.current.updatePosition()}),this.iconRef=we.a.createRef(),this.popoverRef=we.a.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const{kind:e,formattedText:t,verticalLayout:a,showContactsPane:n,isCueEnabled:r,openContactsPane:o}=this.props,i=this.context.getCss(rT.a,{verticalLayout:a});return we.a.createElement("button",{onClick:this.onClick,className:n?i.selectedProperty:i.property,"aria-label":t,title:t,"data-iskeynav":!0,tabIndex:"0","data-test-id":"contacts-pane-icon"},we.a.createElement(Fr.b,{kind:e,size:Ur.d.XS,colorState:Ur.a.INHERITED,ref:this.iconRef}),r&&!n&&this.state.mounted&&we.a.createElement(qr.a,{triggerOn:Yr.h.MOUNT,zAltitude:Wr.ZIndices.POPOVER.HIGH,popoverAnchor:this.iconRef.current,align:Yr.a.CENTER,persistent:!0,ref:this.popoverRef,permittedArrowDirections:[Yr.g.END]},we.a.createElement(lo.a,{import:"../../contacts_pane_cue",bundleName:"contacts",cueName:h.kb.CONTACTS_PANE_CUE,onShow:this.updateContent,launchContactsPane:o,_moduleLoader:function(){return s.e(1).then(s.bind(null,923))},_moduleResolver:function(){return 923}})))}}iT.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func.isRequired};var cT=Object(Lr.b)(e=>{const{getFeaturesSelectors:t,getRoute:s,normalizeRoute:a,getActionableRightRailPane:n}=Object(So.b)(e),{isEnabled:r}=t(),o=s(),i=n()===h.Oc.ContactsPane;let c;o&&o.params&&o.query&&(c=r(h.kb.ATTACHMENT_PREVIEW)&&o.params.attachmentId&&"1"!==o.query.fullscreen?a(Object(ho.n)(Object(Io.t)(o),o.params.groupId)):null);return{showContactsPane:i,closePreviewRoute:c,isCueEnabled:r(h.kb.CONTACTS_PANE_CUE)}},e=>({openContactsPane:t=>e(Object(oT.s)(t)),closePreviewOpenPane:t=>e(Object(oT.l)(Object(xr.i)(t))),closeFeatureCue:t=>e(Object(Eo.a)(t))}))(iT);const lT=Object(Pr.h)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other Yahoo properties like Messenger, Calendar, Contacts and Notepad"}});class dT extends we.a.Component{constructor(...e){var t;return t=super(...e),this.handle=((e,t)=>{const s=Object(vs.i)(e),a=this.props.onPropertyClick;e.stopPropagation(),a(s,t)}),this.renderProperty=((e,t)=>{const{href:s,kind:a,text:n,propertyClassNames:r="",dataTestId:o}=e,i=this.context.intl.formatMessage(n);return a===Ur.b.CONTACT_CARD&&this.props.contactsPaneEnabled?we.a.createElement(cT,{kind:a,formattedText:this.context.intl.formatMessage(n),verticalLayout:this.props.verticalLayout,key:n.id}):we.a.createElement("a",{key:n.id,onClick:t=>this.handle(t,e),href:s,className:t.property+" "+r,"aria-label":i,title:i,"data-test-id":o,target:a,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},we.a.createElement(Fr.b,{kind:a,size:Ur.d.XS,colorState:Ur.a.INHERITED}))}),t}render(){const{verticalLayout:e,calendarTabEnabled:t,notepadTabEnabled:s,calendarURL:a}=this.props,{formatMessage:n}=this.context.intl,r=this.context.getCss(rT.a,{verticalLayout:e}),o=[{kind:Ur.b.INBOX,text:lT.mail_icon,mKey:ao.e.MAIL_ICON,hidden:!this.props.showMailIcon,dataTestId:"right-rail-mail-contacts-icon"},{href:"https://mail.yahoo.com/neo/launch?action=contacts",kind:Ur.b.CONTACT_CARD,text:lT.contacts_icon,mKey:ao.e.CONTACTS_ICON,dataTestId:"right-rail-contacts-icon"},{href:a,kind:Ur.b.CALENDAR,text:lT.calendar_icon,mKey:ao.e.CALENDAR_ICON,hidden:!t,dataTestId:"right-rail-calendar-icon"},{href:"https://calendar.yahoo.com/?view=notepad",kind:Ur.b.NOTEPAD,text:lT.notepad_icon,mKey:ao.e.NOTEPAD_ICON,hidden:!s,dataTestId:"right-rail-notepad-icon"}];return we.a.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":n(lT.subproperties_nav),className:r.properties},o.map(e=>!e.hidden&&this.renderProperty(e,r)))}}dT.contextTypes={config:Ve.a.object,intl:Pr.i.isRequired,getCss:Ve.a.func};var ET=dT,_T=s(613),uT=s.n(_T),pT=s(361),mT=s(298),hT=s(296),ST=s.n(hT);const gT=Object(Pr.h)({optoutTitle:{id:"optout.title",defaultMessage:"Oh no... We will miss you!"},optoutSubmitTitle:{id:"optout.submit.title",defaultMessage:"Thank you for your feedback."},optoutSubmitMessage:{id:"optout.submit.message",defaultMessage:"Hope you try new Mail again soon!"},optionPlaceHolder:{id:"optout.option.placeholder",defaultMessage:"Tell us why you want to leave"},optionLikeOldMail:{id:"optout.option.oldmail",defaultMessage:"I like the look of classic Mail better"},ghostTextLikeOldMail:{id:"optout.ghost.oldmail",defaultMessage:"What do you like more about classic Mail i.e. inbox spacing, colors, etc.?"},optionConfuse:{id:"optout.option.confuse",defaultMessage:"I dont understand how to use new Mail"},ghostTextConfuse:{id:"optout.ghost.confuse",defaultMessage:"Tell us more about what is difficult to use in new Mail."},optionLater:{id:"optout.option.later",defaultMessage:"Im not ready to switch now but might later"},ghostTextLater:{id:"optout.ghost.later",defaultMessage:"Tell us more."},optionTheme:{id:"optout.option.theme",defaultMessage:"I miss having photo themes"},ghostTextTheme:{id:"optout.ghost.theme",defaultMessage:"What kind of photo themes would you like to have?"},optionSlow:{id:"optout.option.slow",defaultMessage:"I experience slowness or freezing in new Mail"},ghostTextSlow:{id:"optout.ghost.slow",defaultMessage:"Tell us what you are doing when you experience this i.e. deleting an email, reading email, etc."},optionFeatures:{id:"optout.option.features",defaultMessage:"I miss features from classic Mail"},ghostTextFeatures:{id:"optout.ghost.features",defaultMessage:"What specific features are you missing?"},optionOther:{id:"optout.option.other",defaultMessage:"Other"},ghostTextOther:{id:"optout.ghost.other",defaultMessage:"Please provide feedback to help us improve new Mail."},textAreaPlaceHolder:{id:"optout.textarea.placeholder",defaultMessage:"Give us some feedback to help us improve"},confirmButtonText:{id:"optout.confirm.text",defaultMessage:"Switch back to classic Mail"},cancelButtonText:{id:"optout.cancel.text",defaultMessage:"Cancel"},closeButton:{id:"optout.close",defaultMessage:"Close"},textCounter:{id:"optout.text.counter",defaultMessage:"{remainingLength, number} {remainingLength, plural,            =0 {character}            =1 {character}            other {characters}        } remaining"}}),IT=1e3,CT=3e3,TT=()=>{};function AT(e,t){const s={};return t.forEach(t=>{s[t]=gT[e+t]}),s}const OT=["Theme","LikeOldMail","Confuse","Later","Slow","Features","Other"],bT=AT("option",OT),RT=AT("ghostText",OT),DT={margin:`0 0 0 ${3*Wr.GRID_UNIT}px`},fT={marginLeft:`${Wr.GRID_UNIT}px`},NT={opacity:.8};class MT extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={selectedFeedback:null,feedback:"",isPanelFocus:!1,submit:!1},this.handleDropdownChange=(e=>{this.setState({selectedFeedback:e})}),this.handleConfirmClick=(()=>{const e={},{feedback:t,selectedFeedback:s}=this.state;null!==s&&(e.feedbackOption=OT[s]),t.length>0&&(e.optOutFeedbackText=t),this.props.submitOptOutFeedback({actionData:e}),this.setState({submit:!0}),this.redirectTimeout||(this.redirectTimeout=setTimeout(()=>{const e=h.gc+"?crumb="+window.AppBootstrapData.crumb;this.redirectWindow(e)},CT))}),this.redirectWindow=(e=>{window.location.href=e}),this.handleFeedbackPanelFocus=(()=>{this.setState({isPanelFocus:!0})}),this.handleFeedbackPanelBlur=(()=>{this.setState({isPanelFocus:!1})}),this.handleFeedbackChange=(e=>{const{feedback:t}=this.state,s=e.target.value.substr(0,IT);s!==t&&this.setState({feedback:s})}),this.getHeaderText=(()=>{const{formatMessage:e}=this.context.intl,{submit:t}=this.state;return e(t?gT.optoutSubmitTitle:gT.optoutTitle)}),this.getPanelPlaceholderText=(()=>{const{selectedFeedback:e}=this.state,{formatMessage:t}=this.context.intl;return t(null===e?gT.textAreaPlaceHolder:RT[OT[e]])}),this.getBodySection=(()=>{const{isPanelFocus:e,selectedFeedback:t,feedback:s,submit:a}=this.state,{formatMessage:n}=this.context.intl,r=e?"":this.getPanelPlaceholderText(),o=IT-s.length,i=to()(ST.a,{isPanelFocus:e});return a?we.a.createElement("div",{className:i.submitMessage},n(gT.optoutSubmitMessage)):we.a.createElement("div",{className:i.bodySection},we.a.createElement(pT.a,{onChange:this.handleDropdownChange,placeholder:n(gT.optionPlaceHolder),title:n(gT.optionPlaceHolder),coloredPlaceholder:!0,selected:t,"data-test-id":"opt-out-select"},OT.map((e,t)=>we.a.createElement(mT.a,{key:t,value:t,title:n(bT[e])},n(bT[e])))),we.a.createElement("textarea",{placeholder:r,className:i.textArea,onFocus:this.handleFeedbackPanelFocus,onBlur:this.handleFeedbackPanelBlur,onChange:this.handleFeedbackChange,value:s,"data-test-id":"opt-out-textarea"}),we.a.createElement("div",{className:i.messageCounter,"data-test-id":"opt-out-msg-counter"},e?n(gT.textCounter,{remainingLength:o}):null))}),this.renderButtons=(()=>{const{onCancel:e}=this.props,{submit:t}=this.state,{formatMessage:s}=this.context.intl,a=to()(ST.a);return t?null:we.a.createElement("div",{className:a.buttonWrapper},we.a.createElement(Zr.a,{"data-test-id":"opt-out-confirm",onClick:this.handleConfirmClick,title:s(gT.confirmButtonText),kind:Xr.a.PRIMARY,style:DT},s(gT.confirmButtonText)),we.a.createElement(Zr.a,{"data-test-id":"opt-out-cancel",onClick:e,title:s(gT.cancelButtonText),kind:Xr.a.SECONDARY_BORDERLESS,style:fT},s(gT.cancelButtonText)))}),t}componentWillUnmount(){this.redirectTimeout=null}render(){const{submit:e}=this.state,{formatMessage:t}=this.context.intl,{onCancel:s}=this.props,a=to()(ST.a,{submit:e});return we.a.createElement(Jc.a,{onClose:s,onOuterClick:TT},we.a.createElement("div",{className:a.surveyContainer,"data-test-id":"opt-out-container"},we.a.createElement("div",{className:a.headerSection},e?null:we.a.createElement("div",{className:a.closeButton},we.a.createElement(Bl.a,{onClick:s,kind:Ur.b.CLOSE,size:Ur.d.XXS,title:t(gT.closeButton),"aria-label":t(gT.closeButton),"data-test-id":"opt-out-close",style:NT,colorStates:{normal:Ur.a.DARK,hovered:Ur.a.SELECTED}})),we.a.createElement("div",{className:a.imageWrapper},we.a.createElement("div",{className:a.optOutBackground},we.a.createElement("img",{className:a.chick,src:Object(rl.a)("/img/opt_out_chick.png")}),we.a.createElement("img",{className:a.sadFace,src:Object(rl.a)("/img/opt_out_sad.png")}))),we.a.createElement("div",{className:a.titleText},this.getHeaderText())),this.getBodySection(),this.renderButtons()))}}MT.contextTypes={intl:Pr.i.isRequired,executeAction:Ve.a.func};var LT=Object(Lr.b)(void 0,e=>({submitOptOutFeedback:t=>e((e=>babelHelpers.extends({},e,{type:Fo.a.OPT_OUT_SUBMIT_FEEDBACK}))({i13nModel:{mKey:ao.e.OPT_OUT_SUBMIT_FEEDBACK,sec:ao.g.SETTINGS_POPUP,actionData:t.actionData}}))}))(MT);class yT extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={showOptOutSurvey:!1},this.onPropertyClick=((e,t)=>{this.props.handleHeaderNavigation({i13nModel:{mKey:t.mKey,sec:ao.g.HEADER_NAV,interactionType:e}})}),this.onOptOut=(e=>{this.props.optOutSurvey&&this.setState({showOptOutSurvey:!0}),this.props.optOut({i13nModel:{mKey:ao.e.SETTINGS_POPUP_SWITCH_TO_CLASSIC,sec:ao.g.SETTINGS_POPUP,interactionType:Object(vs.i)(e)}})}),this.onOptOutCancel=(()=>{this.setState({showOptOutSurvey:!1}),this.props.optOutCancelFeedback({i13nModel:{mKey:ao.e.OPT_OUT_CANCEL_FEEDBACK,sec:ao.g.SETTINGS_POPUP}})}),t}render(){const{verticalLayout:e}=this.props,t=this.context.getCss(uT.a,{verticalLayout:e}),{showOptOutSurvey:s}=this.state;return we.a.createElement("div",{ref:e=>this.commsPropertiesSection=e,className:t.container},we.a.createElement(Sl.a,{axis:e?Sl.b.VERTICAL:Sl.b.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:Wr.TabIndices.COMMS_PROPERTIES_BAR,className:t.properties},e&&we.a.createElement(Ml,babelHelpers.extends({},this.props,{onOptOutFeedback:this.onOptOut})),we.a.createElement(ET,babelHelpers.extends({},this.props,{onPropertyClick:this.onPropertyClick})),!e&&we.a.createElement(Ml,babelHelpers.extends({},this.props,{onOptOutFeedback:this.onOptOut,commsPropertiesSection:this.commsPropertiesSection})),s?we.a.createElement(LT,{onCancel:this.onOptOutCancel}):null))}}yT.contextTypes={executeAction:Ve.a.func,getCss:Ve.a.func,config:Ve.a.object,getTheme:Ve.a.func};const PT=yT;var vT=Object(Lr.b)(e=>{const{getFeaturesSelectors:t,getQueryParams:s}=Object(So.b)(e),a=t();return{previewPaneSetting:a.getSetting(h.id.PREVIEW_PANE),autoOpenSettingsPopover:"1"===s().openSettingsPopover||a.isEnabled("autoOpenSettingsPopover"),calendarTabEnabled:a.isEnabled(h.kb.CALENDAR_TAB),notepadTabEnabled:a.isEnabled(h.kb.NOTEPAD_TAB),calendarURL:a.getSetting(h.id.CALENDAR_URL),showSettingsCue:a.isEnabled(h.kb.SETTINGS_CUE),optOutSurvey:a.isEnabled("optOutSurvey"),contactsPaneEnabled:a.isEnabled(h.kb.CONTACTS_PANE_FEATURE)}},e=>({optOut:t=>e(Object(Ri.s)(t)),handleHeaderNavigation:t=>e(Object(xr.e)(t)),optOutCancelFeedback:t=>e(Object(Ri.t)(t))}))(PT),FT=s(616),UT=s.n(FT);class HT extends we.a.Component{render(){const{disabledPositions:e={},monAds:t,isCompactSize:s}=this.props,a=to()(UT.a,{isCompactSize:s}),n=[];let r=null,o=null;return t&&!e.LREC?(o=we.a.createElement(RC,{key:"mon_ads"}),r=we.a.createElement(LC,{key:"lrec_ad"})):e.LREC4&&!e.LREC?r=we.a.createElement(LC,{key:"lrec_ad"}):e.LREC4||e.LREC||(r=we.a.createElement(yC,{key:"stacked_lrec",lrecClassName:a.lrec})),s?n.push(we.a.createElement(MC,{key:"sky_ad"})):(n.push(r),n.push(o)),we.a.createElement("div",{"aria-hidden":!0,className:a.mainAd,"data-test-id":"right-rail-ad"},n)}}HT.contextTypes={config:Ve.a.object,executeAction:Ve.a.func};var kT=Object(Lr.b)(e=>{const{isFeatureEnabled:t,isNarrowScreen:s}=Object(So.b)(e),a=t(h.kb.WIDE_RIGHT_RAIL);return{monAds:t(h.kb.MON_ADS),isCompactSize:s()&&!a}})(HT),GT=s(617),wT=s.n(GT),xT=s(460),BT=s(293);var jT=Object(Lr.b)(e=>{const{isFeatureEnabled:t,getCurrentListId:s,getParticipantInFocus:a}=Object(So.b)(e),n=t(h.kb.MESSAGE_READ_CONTACT_CARD),r=n?a():{email:Object(Io.k)(s())},{email:o,name:i}=r||{};return{email:o,name:i,showContactSummary:!n}})(class extends we.a.Component{render(){const{email:e,name:t,showContactSummary:s}=this.props;return we.a.createElement(BT.a,{key:"contactCard"+e,isInRightRail:!0,email:e,name:t,isCompose:!1,showContactSummary:s})}});const VT=Object(Pr.h)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}});class WT extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={chevronHover:!1},this.handleChevronHover=(e=>{this.setState({chevronHover:e})}),this.collapseRightRail=(()=>{this.setState({chevronHover:!1}),this.props.hideAdsTemporarily()}),this.renderPane=(e=>{switch(e){case h.Oc.AttachmentUi:return we.a.createElement(lo.a,{import:"./attachment_ui.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,926))},_moduleResolver:function(){return 926}});case h.Oc.ContactsPane:return we.a.createElement(lo.a,{import:"../../../molecules/contacts_pane",key:e,bundleName:"contacts",_moduleLoader:function(){return s.e(1).then(s.bind(null,925))},_moduleResolver:function(){return 925}},we.a.createElement(lo.b,{loading:!0},we.a.createElement(xT.a,{includeHeaders:!0})));case h.Oc.ContactCard:return we.a.createElement(jT,{key:e});case h.Oc.MessageBrief:return we.a.createElement(lo.a,{import:"../../../molecules/message_list/brief.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,911))},_moduleResolver:function(){return 911}});case h.Oc.PhotoBrief:return we.a.createElement(lo.a,{import:"./photo_brief.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,912))},_moduleResolver:function(){return 912}});case h.Oc.DocumentBrief:return we.a.createElement(lo.a,{import:"./document_brief.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,913))},_moduleResolver:function(){return 913}});case h.Oc.AdBlockCoupons:return we.a.createElement(lo.a,{import:"../../../molecules/adblock_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,914))},_moduleResolver:function(){return 914}});case h.Oc.SubscriptionAds:return we.a.createElement(lo.a,{import:"../../../molecules/ads/subscription_ad.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,915))},_moduleResolver:function(){return 915}});case h.Oc.RightRailNativeAd:return we.a.createElement(lo.a,{import:"../../../molecules/ads/right_rail_native_ad.jsx",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,916))},_moduleResolver:function(){return 916}});case h.Oc.RelatedSearchesCard:return we.a.createElement(lo.a,{import:"../../../molecules/related_searches_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,917))},_moduleResolver:function(){return 917}});case h.Oc.RelatedCoupons:return we.a.createElement(lo.a,{import:"../../../molecules/related_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,918))},_moduleResolver:function(){return 918}});case h.Oc.RelatedRetailers:return we.a.createElement(lo.a,{import:"../../../molecules/related_retailers",bundleName:"retailers",key:e,_moduleLoader:function(){return s.e(5).then(s.bind(null,944))},_moduleResolver:function(){return 944}});case h.Oc.SearchRightRailCoupons:return we.a.createElement(lo.a,{import:"../../../molecules/search_right_rail_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,919))},_moduleResolver:function(){return 919}});case h.Oc.TravelCardsGroup:return we.a.createElement(lo.a,{import:"../../../molecules/right_rail_travel_card/travel_cards_group",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,928))},_moduleResolver:function(){return 928}});case h.Oc.PlaAds:return we.a.createElement(lo.a,{import:"../../../molecules/pla_ads",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,937))},_moduleResolver:function(){return 937}});case h.Oc.RightPaneAds:return we.a.createElement(kT,{key:e,disabledPositions:this.props.disabledAdPositions});case h.Oc.EbayWarrantyUpsell:return we.a.createElement(lo.a,{import:"../../../molecules/ebay_warranty_upsell",position:h.eb.RIGHT,key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,640))},_moduleResolver:function(){return 640}});case h.Oc.ShopliftAd:return we.a.createElement(lo.a,{import:"../../../molecules/shoplift_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,920))},_moduleResolver:function(){return 920}});case h.Oc.RetailerFilter:return we.a.createElement(lo.a,{import:"../../../molecules/deals/retailer_filter",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,921))},_moduleResolver:function(){return 921}});case h.Oc.SavedDeals:return we.a.createElement(lo.a,{import:"../../../molecules/right_rail_saved_deals",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,922))},_moduleResolver:function(){return 922}});default:return null}}),t}render(){const{hasAttachmentPreview:e,windowDimensions:t,showCommsProperties:s,panes:a}=this.props,{getCss:n,intl:r}=this.context,o=n(wT.a,{hasAttachmentPreview:e}),{formatMessage:i}=r,c=a.map(this.renderPane),l=e||!c.length;return we.a.createElement("div",{"data-test-id":"mail-right-rail",className:o.rightRailContainer},l?null:we.a.createElement("div",{className:this.state.chevronHover?o.activeHideAdsChevronWrapper:o.hideAdsChevronWrapper},we.a.createElement("div",{onMouseEnter:()=>this.handleChevronHover(!0),onMouseLeave:()=>this.handleChevronHover(!1),title:i(VT.hide_advertisement),onClick:this.collapseRightRail,className:o.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},we.a.createElement(Fr.b,{kind:Ur.b.CHEVRON_UP,colorState:Ur.a.INHERITED,size:Ur.d.XS,rotate:Ur.c.D90}))),we.a.createElement("div",{className:o.rightRail},s?we.a.createElement(vT,{key:"CommsProperties",verticalLayout:l,windowDimensions:t}):null,c.length?we.a.createElement("div",{className:o.panesContainer},c):null))}}WT.contextTypes={intl:Pr.i.isRequired,getCss:Ve.a.func};var qT=Object(Lr.b)(e=>{const{getListsSelectors:t,getCouponsSelectors:s,getRightRailPanes:a,isFeatureEnabled:n,getCurrentListId:r}=Object(So.b)(e),o=n(h.kb.SHOW_COMMS_PROPERTIES),i=n(h.kb.RELATED_COUPONS)&&!!s().getRelatedCoupons().length,c=t().getSearchCoupons(r()),l=n(h.kb.COUPONS_ON_SEARCH_RIGHT_RAIL)&&!!c&&!!c.length;let d=[];return n(h.kb.SEATGEEK_CARD)?d=["LREC4","LREC"]:(n(h.kb.HIPMUNK_CARD)||n(h.kb.BOOKING_CARD)||n(h.kb.RELATED_SEARCHES_CARD)||n(h.kb.RELATED_RETAILERS)||i||l)&&(d=["LREC4"]),{showCommsProperties:o,disabledAdPositions:Object(T.c)(d),panes:a()}},e=>({hideAdsTemporarily:()=>e(Object(uS.m)())}))(WT);const KT="norrin-wide",zT=Object(Pr.h)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}});class YT extends we.a.Component{constructor(...e){var t;return t=super(...e),this._renderMainNav=(e=>{const{formatMessage:t}=this.context.intl;return we.a.createElement("nav",{className:e.mainNavigation,role:"navigation","aria-label":t(zT.main_nav),"data-yaft-module":"norrin_navigation"},we.a.createElement(JC,this.props))}),this._renderLeftRail=(e=>we.a.createElement("div",{className:this.props.hasWideLogo?e.leftRailWide:e.leftRail,"data-test-id":"mail-left-rail"},this._renderMainNav(e))),this._renderRightRail=(()=>{const{hasAttachmentPreview:e,windowDimensions:t}=this.props;return we.a.createElement(qT,{hasAttachmentPreview:e,windowDimensions:t})}),this._renderCue=(e=>{switch(e){case h.kb.ADBLOCK_UPSELL_CUE:return we.a.createElement(lo.a,{import:"../adblock_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,890))},_moduleResolver:function(){return 890}});case h.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return we.a.createElement(lo.a,{import:"../right_rail_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,943))},_moduleResolver:function(){return 943}});case h.kb.APT_SECURITY_CUE:return we.a.createElement(lo.a,{import:"../apt_security_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,891))},_moduleResolver:function(){return 891}});case h.kb.NEW_USER_ONBOARDING_CUE:return we.a.createElement(lo.a,{import:"../new_user_onboarding_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,633))},_moduleResolver:function(){return 633}});case h.kb.LINKEDIN_REAUTH_CUE:return we.a.createElement(lo.a,{import:"../linkedin_upsell",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,892))},_moduleResolver:function(){return 892}});default:return}}),this._renderUpdateWiderMailCue=(()=>we.a.createElement(lo.a,{import:"../update_wider_mail_cue",cueName:h.kb.UPDATE_WIDER_MAIL_CUE,userDisplayName:this.props.userDisplayName,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,893))},_moduleResolver:function(){return 893}})),this._renderThemesCueV3=(()=>we.a.createElement(lo.a,{import:"../themes_cue_v3",cueName:h.kb.THEMES_CUE_V3,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,894))},_moduleResolver:function(){return 894}})),this._renderNewUserOnboardingCue=(()=>we.a.createElement(lo.a,{import:"../new_user_onboarding_cue",cueName:h.kb.NEW_USER_ONBOARDING_CUE,partnerBrand:this.props.partnerBrand,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,633))},_moduleResolver:function(){return 633}})),this._renderSSABreachAlert=(()=>we.a.createElement(lo.a,{import:"../ssa_breach_security_alert",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,945))},_moduleResolver:function(){return 945}})),this._renderBulkDeleteEarnyCue=(e=>we.a.createElement(lo.a,{defer:!0,cueName:e,import:"../bulk_delete_msg_earny_upsell_cue",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,634))},_moduleResolver:function(){return 634}})),this._renderMsgReadQuotientModal=(()=>we.a.createElement(lo.a,{import:"../card_group/atoms/quotient_modal",retailerId:this.props.retailerId,parentName:"msgview",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,880))},_moduleResolver:function(){return 880}})),this._renderMsgReadSRModal=(()=>{const{senderDomain:e,parentMessageId:t,shopRunnerRetailer:a,origin:n}=this.props;return we.a.createElement(lo.a,{import:"../card_group/atoms/shop_runner_modal",senderDomain:e,parentMessageId:t,shopRunnerRetailer:a,origin:n,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,953))},_moduleResolver:function(){return 953}})}),this._executeWindowResizingAction=(()=>{if(!this._innerContainer)return;const{windowDimensions:e,previewPaneSetting:t,rightRailUpsellVersion:s,autoRightRailCollapsed:a,hideAdsTemporarily:n}=this.props,r=e.innerWidth,o=window.innerWidth,i=t===h.Bc.RIGHT;this.context.executeAction(sT,{innerWidth:window.innerWidth,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight}),"showOnWindowExpand"===s&&r>0&&!a&&(!i&&o>=Wr.NARROW_SCREEN_WIDTH&&r<Wr.NARROW_SCREEN_WIDTH||i&&o>=Wr.WIDE_SCREEN_WIDTH&&r<Wr.WIDE_SCREEN_WIDTH)&&n({onWindowExpand:!0})}),this._updateAppMinWidth=(e=>{e.hasAttachmentPreview||e.previewPaneSetting===h.Bc.RIGHT?document.body.classList.add(KT):document.body.classList.remove(KT)}),t}componentWillReceiveProps(e){this.props.hasAttachmentPreview===e.hasAttachmentPreview&&this.props.previewPaneSetting===e.previewPaneSetting||this._updateAppMinWidth(e)}componentDidMount(){this._updateAppMinWidth(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction)}componentDidUpdate(){this.props.isWindowResizingDone&&this.context.executeAction(aT,{autoRightRailCollapsed:this.props.autoRightRailCollapsed})}componentWillUnmount(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)}render(){const{previewPaneSetting:e,isSettings:t}=this.props,a=this.context.getCss(tT.a,babelHelpers.extends({verticalPreviewPane:e===h.Bc.RIGHT},Object(Is.i)(this.context)));return we.a.createElement("div",{className:a.shadedContainer,"data-test-id":"content-area"},we.a.createElement("div",{className:a.container,"data-test-id":"content-below-tabs"},t?null:this._renderLeftRail(a),this.props.showLinkedinReauthUpsell&&this._renderCue(h.kb.LINKEDIN_REAUTH_CUE),this.props.showSocialAccountAuthWindow&&we.a.createElement(lo.a,{import:"../../molecules/social_account_auth_window",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,896))},_moduleResolver:function(){return 896}}),this.props.showThemesCueV3&&this._renderThemesCueV3(),this.props.showAptSecurityCue&&this._renderCue(h.kb.APT_SECURITY_CUE),this.props.showSsaBreachSecurityAlert&&this._renderSSABreachAlert(),this.props.bulkDeleteMsgEarnyUpsellCue&&this.props.shouldDisplayBulkDeleteEarnyCue&&this._renderBulkDeleteEarnyCue(h.kb.BULK_DELETE_MSG_EARNY_UPSELL),this.props.showNewUserOnboardingCue&&this._renderNewUserOnboardingCue(),this.props.showAdBlockUpsellCue&&this._renderCue(h.kb.ADBLOCK_UPSELL_CUE),this.props.showRightRailAdFreeUpsellCue&&this._renderCue(h.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE),this.props.showUpdateWiderMailCue&&this._renderUpdateWiderMailCue(),this.props.showMsgReadQuotientModal&&this._renderMsgReadQuotientModal(),this.props.showMsgReadShopRunnerModal&&this._renderMsgReadSRModal(),we.a.createElement("div",{className:a.widthRestrictor,ref:e=>{this._innerContainer=e}},we.a.createElement("div",{className:a.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},we.a.createElement(rI,this.props)),t?null:this._renderRightRail())))}}YT.contextTypes={executeAction:Ve.a.func,intl:Pr.i.isRequired,getCss:Ve.a.func,config:Ve.a.object,getThemeMode:Ve.a.func,getTheme:Ve.a.func};var ZT=Object(Lr.b)(e=>{const{isFeatureEnabled:t,getSetting:s,getWindowDimensions:a,isWindowResizingDone:n,getRoute:r,getRouteParams:o,getLaunchError:i,getSortOrderForFolderRoute:c,getSelectedAccountId:l,getAccountNameByAccountId:d,getSocialAccountSelectors:E,getMessageIdsFromMessageGroupId:_,getMessagesSelectors:u,getRetailersSelectors:p,getSRRetailersSelectors:m}=Object(So.b)(e),S=s(h.id.PREVIEW_PANE),g=i(),I=r(),C=o(),T=Object(Io.t)(I),A=t(h.id.HIDE_AD),O=t("attachmentPreview"),b=t("photoThemes"),R=s(h.id.PARTNER_BRAND),D=O&&C.attachmentId&&"1"!==I.query.fullscreen,f=d(l()),N=t(h.kb.MSG_READ_QUOTIENT_MODAL),M=t(h.kb.MSG_READ_SHOPRUNNER_MODAL);let L="",y="",P="",v="",F="leftrailcue";const U=m();if(N){const{getRetailerIdFromEmail:e}=p(),{getFromAddresses:t}=u(),s=t(_(C.groupId)[0]||"")||"",[{email:a=""}]=s.length>0?s:[{}];L=e(a)}if(M&&_(C.groupId)){const{getFromAddresses:e}=u(),t=_(C.groupId)[0]||"",s=e(t)||"",[{email:a=""}]=s.length>0?s:[{}],[,n]=a.split("@"),r=U.domainInShopRunnerWhitelist(n);v=r&&r.name,P=t,y=n,F="msgread"}return{listId:T,previewPaneSetting:S,windowDimensions:a(),isWindowResizingDone:n(),folderListSortOrder:c(),isSettings:I.name===h.Pc.SETTINGS,hideAdUpsellSetting:A,hasAttachmentPreview:D,photoThemes:b,partnerBrand:R,userDisplayName:f,launchError:g,showAptSecurityCue:t(h.kb.APT_SECURITY_CUE),showSsaBreachSecurityAlert:t(h.kb.SSA_BREACH_SECURITY_ALERT),bulkDeleteMsgEarnyUpsellCue:t(h.kb.BULK_DELETE_MSG_EARNY_UPSELL),showNewUserOnboardingCue:t(h.kb.NEW_USER_ONBOARDING_CUE),showThemesCueV3:t(h.kb.THEMES_CUE_V3),showUpdateWiderMailCue:t(h.kb.UPDATE_WIDER_MAIL_CUE),showAdBlockUpsellCue:t(h.kb.ADBLOCK_UPSELL_CUE),showRightRailAdFreeUpsellCue:t(h.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE),hasAds:t(h.kb.ADS),hasWideLogo:s(h.id.HAS_WIDE_LOGO),shouldDisplayBulkDeleteEarnyCue:t(h.kb.DISPLAY_EARNY_DIALOG),showLinkedinReauthUpsell:t(h.kb.LINKEDIN_REAUTH_CUE),showSocialAccountAuthWindow:E().showAuthWindow(),showMsgReadQuotientModal:N,showMsgReadShopRunnerModal:M,retailerId:L,autoRightRailCollapsed:t("autoRightRailCollapsed"),rightRailUpsellVersion:s(h.id.RIGHT_RAIL_UPSELL_VERSION),senderDomain:y,parentMessageId:P,shopRunnerRetailer:v,origin:F}},e=>({hideAdsTemporarily:t=>e(Object(uS.m)(t))}))(YT);function XT(e,{listId:t}){e.dispatch(Fo.a.BROWSER_NOTIFICATIONS_DISPLAYED,{listId:t})}var QT=s(260);function $T(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function JT(e){return{titleFormatOptions:function(e){return{newMessageCount:e.length}}(e),bodyFormatOptions:function(e){const t=function(e){return ls()(e.map(eA))}(e),s={senderCount:t.length};t.length>=1&&(s.senderOne=t[0]);t.length>=2&&(s.senderTwo=t[1]);t.length>=3&&(s.senderThree=t[2]);t.length>3&&(s.remainingSenderCount=t.length-3);return s}(e)}}function eA(e){const t=e.headers.from[0]||{};return t.name||t.email||""}class tA extends we.a.Component{constructor(...e){var t;return t=super(...e),this._displayNotification=(({title:e,options:t,onClick:s})=>{const a=new window.Notification(e,t);s&&a.addEventListener("click",s)}),t}componentDidMount(){const{notification:{title:e,options:t,onClick:s}}=this.props;this._displayNotification({title:e,options:t,onClick:s})}render(){return null}}tA.contextTypes={config:Ve.a.object};var sA=tA;const aA="https://s.yimg.com/nq/a/img/desktop-notification-mail-100x100_1.png",nA=Object(Pr.h)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural,\n            =1 {{senderOne}}\n            =2 {{senderOne} and {senderTwo}}\n            =3 {{senderOne}, {senderTwo}, and {senderThree}}\n            other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}\n        }"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}});class rA extends we.a.Component{constructor(...e){var t;return t=super(...e),this._transformMessageGroupsToNotifications=(e=>{const t=this._filterSystemFolders(e),s=this._filterMessageGroups(t);return 0===s.length?[]:s.length>1?[this._generateSummaryNotification(s)]:this._generateSingleNotifications(s)}),this._filterMessageGroups=(e=>this.props.peopleNotifications?e.filter(e=>(function(e){return"P"===e.classification})(e.messages[e.messages.length-1])):e),this._filterSystemFolders=(e=>e.filter(e=>{const t=e.messages[e.messages.length-1];return!t.folder.isSystem||Object(gt.n)(t.folder)===h.sb.INBOX})),this._generateSummaryNotification=(e=>{const{formatMessage:t}=this.context.intl,s=e.map(e=>e.messages[e.messages.length-1]),{titleFormatOptions:a,bodyFormatOptions:n}=JT(s),r=t(nA.summaryNotificationTitle,a),o=t(nA.summaryNotificationBody,n),i=this._getSummaryNotificationIcon(),{timestamp:c,id:l,folderId:d}=$T(s[0]);return this._transformNotification({title:r,body:o,icon:i,timestamp:c,id:l,folderId:d})}),this._generateSingleNotifications=(e=>{const{formatMessage:t}=this.context.intl;return e.map(e=>{const s=e.messages[e.messages.length-1],a=function(e){return eA(e)}(s),n=function(e){return e.headers.subject}(s)||t(nA.singleNotificationMissingSubject),r=this._getSingleNotificationIcon(s),{timestamp:o,id:i,folderId:c}=$T(s);return this._transformNotification({title:a,body:n,icon:r,timestamp:o,id:i,folderId:c,groupId:e.id})})}),this._transformNotification=(({title:e,body:t,icon:s,timestamp:a,id:n,folderId:r,groupId:o})=>({title:e,options:{body:t,icon:s,lang:this.context.intl.locale,timestamp:a,tag:n},onClick:this._getClickHandler({folderId:r,groupId:o})})),this._getSummaryNotificationIcon=(()=>aA),this._getSingleNotificationIcon=(e=>{const t={email:e.headers.from.length?e.headers.from[0].email:""};return Object(QT.a)(t,"160",aA)}),this._getClickHandler=(({folderId:e,groupId:t})=>s=>{s.preventDefault(),s.target.close(),window.focus(),this.context.navigateTo({route:t?Object(ho.n)(Object(Io.s)(e),t):Object(ho.i)(e)})}),t}componentDidMount(){const{listId:e}=this.props;this.context.executeAction(XT,{listId:e})}render(){const{messageGroups:e}=this.props,t=this._transformMessageGroupsToNotifications(e);return we.a.createElement("div",null,t.map(e=>we.a.createElement(sA,{key:e.options.tag,notification:e})))}}rA.contextTypes={intl:Pr.i,config:Ve.a.object,executeAction:Ve.a.func,navigateTo:Ve.a.func};var oA=rA;class iA extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={hasPermission:!1},this.requestPersmission=(()=>{window.Notification.requestPermission(e=>{"granted"===e&&this.setState({hasPermission:!0})})}),t}componentDidMount(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()}componentDidUpdate(){this.props.isAppVisible&&(this._allItemsNotSeen=[])}render(){const{items:e,listContentType:t,isAppVisible:s,listId:a,peopleNotifications:n}=this.props;return 0!==e.length&&this.state.hasPermission&&!s&&this.context.isLatestWindow()?(t===h.Db.MESSAGES&&(this._allItemsNotSeen=[...this._allItemsNotSeen,...e]),we.a.createElement("div",null,t===h.Db.MESSAGES?we.a.createElement(oA,{peopleNotifications:n,messageGroups:this._allItemsNotSeen,listId:a}):null)):null}}iA.contextTypes={config:Ve.a.object,isLatestWindow:Ve.a.func.isRequired},iA.defaultProps={items:[]};var cA=Object(Lr.b)(e=>{const{getActionTimeStamp:t,getApplicationLastVisibleTimeStamp:s,getCurrentListId:a,isAppVisible:n,doesListExist:r,getMessageListItemsSinceTimestamp:o,__patchV2MessageGroupItem__:i,isFeatureEnabled:c}=Object(So.b)(e),l=a(),d=Object(Io.q)(l),E=n()?t():s(),_=r(l)?o(l,E):[],u=c("peopleNotifications"),p=_.map(e=>i(e,l));return babelHelpers.extends({},p.length?{items:p}:{},{listContentType:d,listId:l,isAppVisible:n(),peopleNotifications:u})})(iA),lA=s(85);const dA="SUBSCRIPTION_IDS",EA=Object(Pr.h)({mark_as_read:{id:"read_icon_label",defaultMessage:"Mark as read"},delete:{id:"delete_icon_label",defaultMessage:"Delete"}});class _A extends we.a.Component{constructor(...e){var t;return t=super(...e),this._ensurePushIsSubscribed=(()=>{const{forceSync:e,subscriptionIds:t,subscriptionIdsString:s,disablePushNotifications:a,onGrantedPermissions:n}=this.props,r=Object(rE.a)(dA);Object(lA.c)(e);let o="";const i=Object(lA.d)();return Object(lA.f)().then(e=>{if(!e||s!==r)return e?(o=lA.b.RENEW,Object(lA.h)().then(()=>Object(lA.g)(t))):(o=lA.b.SUBSCRIBE,Object(lA.g)(t))}).then(()=>Object(rE.b)(dA,s)).then(()=>{const{intl:e}=this.context,t={actionStrings:Object.keys(EA).reduce((t,s)=>babelHelpers.extends({},t,{[s]:e.formatMessage(EA[s])}),{})};Object(lA.i)(t),i===lA.a.DEFAULT&&n()}).catch(()=>{const e={scenario:o};Object(lA.d)()===lA.a.DENIED&&(e.i13nModel={mKey:ao.e.PUSH_NOTIFICATIONS_REQUEST_REJECTED,sec:ao.g.NOTIFICATION_ACTION}),a(e)})}),t}componentDidMount(){this.props.notificationsEnabled?this._ensurePushIsSubscribed():Object(lA.h)()}componentDidUpdate(e){const{notificationsEnabled:t,subscriptionIdsString:s}=this.props;!t&&e.notificationsEnabled?Object(lA.h)():!t||e.notificationsEnabled&&s===e.subscriptionIdsString||this._ensurePushIsSubscribed()}render(){return null}}_A.contextTypes={intl:Pr.i.isRequired};var uA=Object(Lr.b)(e=>{const{getAccountSelectors:t}=Object(So.b)(e),s=t().getAccountSubscriptionIds();return{subscriptionIds:s,subscriptionIdsString:s.sort().join(",")}},e=>({forceSync:()=>e(Object(xr.l)({forceSync:!0})),disablePushNotifications:t=>e(babelHelpers.extends({type:Fo.a.FEATURE_DISABLED,name:h.kb.PUSH_NOTIFICATIONS},t)),onGrantedPermissions:()=>e({type:Fo.a.PUSH_NOTIFICATIONS_REQUEST_GRANTED,i13nModel:{mKey:ao.e.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:ao.g.NOTIFICATION_ACTION}})}))(_A);var pA=Object(Lr.b)(e=>{const{getFeaturesSelectors:t}=Object(So.b)(e),s=t();return{notificationsEnabled:s.getSetting(h.id.NOTIFICATION),notificationMode:s.getSetting(h.id.NOTIFICATION_MODE)}})(class extends we.a.Component{render(){const{notificationsEnabled:e,notificationMode:t}=this.props;return t===h.lc.PUSH?we.a.createElement(uA,{notificationsEnabled:e}):t===h.lc.BROWSER&&e?we.a.createElement(cA,null):null}});function mA(e,{online:t}){const{isOnline:s,getFeaturesSelectors:a}=Object(So.b)(e.store.getState()),n=a();s()!==t&&e.dispatch(Fo.a.ONLINE_STATUS_CHANGED,{online:t,rotateAdsOnline:n.isEnabled(h.kb.ROTATE_ADS_ONLINE)})}const hA=9e3,SA=Object(rl.a)("/html/status.html");var gA={STATUS_PAGE_URL:SA,ping:function(){return new D.b("HEAD",SA,{timeout:hA}).send()}};const IA=1e4;class CA extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={checking:!1},this.handleOfflineEvent=(()=>{this.state.checking&&this.stopChecking(),this.setOffline()}),this.handleOnlineEvent=(()=>{this.state.checking?this.check():this.startChecking()}),this.handleNetworkRequestFailure=(e=>{e.url!==gA.STATUS_PAGE_URL&&this.startChecking()}),this.handleNetworkRequestSuccess=(()=>{this.state.checking&&(this.stopChecking(),this.setOnline())}),this.check=(()=>{navigator&&void 0!==navigator.onLine&&!1===navigator.onLine||gA.ping().then(()=>{this.stopChecking(),this.setOnline()},()=>{this.state.checking&&(this.setOffline(),setTimeout(this.check,IA))})}),this.startChecking=(()=>{this.state.checking||(this.setState({checking:!0}),this.check())}),this.stopChecking=(()=>{this.setState({checking:!1})}),this.setOnline=(()=>{this.context.executeAction(mA,{online:!0})}),this.setOffline=(()=>{this.context.executeAction(mA,{online:!1})}),t}shouldComponentUpdate(){return!1}componentDidMount(){window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),D.b.on("error",this.handleNetworkRequestFailure),D.b.on("success",this.handleNetworkRequestSuccess)}componentWillUnmount(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),D.b.off("error",this.handleNetworkRequestFailure),D.b.off("success",this.handleNetworkRequestSuccess)}render(){return null}}CA.contextTypes={executeAction:Ve.a.func};var TA=CA,AA=s(78),OA=s(328);let bA=!1,RA=!1;const DA="https://fc.yahoo.com/sdarla/php/client.php",fA=ue.a.create("norrin/darla"),NA="meta.y.slotData.trusted_custom",MA=["REC","BTN","TL1"],LA=["LREC","MON"],yA=Object(Pr.h)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}});class PA extends we.a.Component{constructor(...e){var t;return t=super(...e),this.updateAds=((e,t)=>{e.forEach(e=>{const s=document.querySelector(`#slot_${e}`);s&&(e!==t?s.classList.add("rail_ad_hidden"):s.classList.remove("rail_ad_hidden"))})}),this._onSuccess=((e,t)=>{const s=window.DARLA,{spaceId:a,rootSpaceId:n,darlaLookAhead:r,monAds:o,leftRailAdArbitration:i}=this.props,c=i&&t.find(e=>MA.indexOf(e)>-1),l=o&&t.find(e=>LA.indexOf(e)>-1);if(c&&this.updateAds(MA,c),l&&this.updateAds(LA,l),this.allPosRenderLogger&&this.allPosRenderLogger.logSuccessAndLatency(),this.posRenderLoggers={},this.renderedPositions&&this.renderedPositions.length&&(this._executeDarlaAdHandlerAction({spaceId:a.toString(),positions:this.renderedPositions}),this.renderedPositions=[],this.props.isAdBlockVerifiedBeacon&&!RA&&(this.props.darlaAdRendered({i13nModel:{isBeaconEvent:!0,eventName:ao.a.DARLA_AD_RENDERED,positions:this.renderedPositions}}),RA=!0)),r){s.prefetched().length&&s.render(),s.add("prefetch",{name:"prefetch",ps:this.context.getAdPositions().darla.join(","),sp:n,npv:1}),s.prefetch("prefetch")}}),this._onStartParse=(()=>{const e=this.context.getAdPositions().darla.join(",");this.parseLogger=fA.feature("darla_ad_parse",{adPositions:e,intl:this.context.region})}),this._onFinishParse=((e,t)=>{if(!t)return this.parseLogger.logFailure(),void this._executeDarlaAdHandlerAction({error:"Missing ad details"});this.parseLogger.logSuccessAndLatency(),t.ps().forEach(e=>{const{bookID:s,adID:a,creativeID:n,placementID:r,hasErr:o}=t.item(e)||{},i=fA.feature("darla_ad_call",{adPosition:e,bookId:s,adId:a,creativeId:n,placementId:r,intl:this.context.region});o?i.logFailure():i.logSuccessAndLatency()})}),this._onStartRequest=(()=>{const e=this.context.getAdPositions().darla.join(",");this.fetchLogger=fA.feature("darla_ad_fetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),this._onFinishRequest=(()=>{this.fetchLogger.logSuccessAndLatency()}),this._onRequestTimeout=(()=>{this.fetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Request timeout"})}),this._onStartPrefetchRequest=(()=>{const e=this.context.getAdPositions().darla.join(",");this.prefetchLogger=fA.feature("darla_ad_prefetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),this._onFinishPrefetchRequest=((e,t)=>{200===t?this.prefetchLogger.logSuccessAndLatency():(this.prefetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:`Prefetch request error: ${t}`}))}),this._onBeforeStartPosRender=(e=>{if(this.props.premiumAdDetection){const t=window.DARLA,s="true"===Object(T.a)(e,NA,!1),a=e.pos,n=t.render.RenderMgr.get(a),r=Object(T.a)(n,NA,!1);if(r&&s)return this.props.adRotationSkipped({i13nModel:{isBeaconEvent:!0,eventName:ao.a.AD_ROTATION_SKIPPED,pos:a}}),!0;!r&&s?this.props.premiumAdStarted({i13nModel:{isBeaconEvent:!0,eventName:ao.a.PREMIUM_AD_STARTED,pos:a}}):r&&!s&&this.props.premiumAdStopped({i13nModel:{isBeaconEvent:!0,eventName:ao.a.PREMIUM_AD_STOPPED,pos:a}})}}),this._onStartPosRender=(e=>{const{pos:t}=e;this.posRenderLoggers[t]=fA.feature("darla_ad_pos_render",{adPosition:t,intl:this.context.region})}),this._onFinishPosRender=((e,t,s)=>{const a=this.posRenderLoggers[e];this.renderedPositions&&this.renderedPositions.push({bookId:s.bookID,position:s.pos}),a&&a.logSuccessAndLatency()}),this._onRenderTimeout=(()=>{Object.keys(this.posRenderLoggers).forEach(e=>{this.posRenderLoggers[e].logFailure()})}),this._executeDarlaAdHandlerAction=(e=>{this._darlaHandlerTimer=setTimeout(()=>{this.props.darlaAdHandler(e||{spaceId:"",positions:[]})},0)}),this._startMessageReadAdRotation=(()=>{const{messageReadAdRotationInterval:e,messageReadAdRotationV1:t}=this.props;t&&(this._stopMessageReadAdRotation(),this._messageReadAdRotationTimer=setTimeout(this._messageReadAdRotationCallback,e))}),this._messageReadAdRotationCallback=(()=>{const{messageReadAdRotationTimestampV1:e,messageReadAdRotationIdleInterval:t,messageReadAdRotationV2:s}=this.props;s?(this._messageReadAdRotationTimeToIdle-=this.props.messageReadAdRotationInterval,this._messageReadAdRotationTimeToIdle>0&&this.props.messageReadAdRotationTimer()):Date.now()<=e+t&&(this.props.messageReadAdRotationTimer(),this._startMessageReadAdRotation())}),this._stopMessageReadAdRotation=(()=>{clearTimeout(this._messageReadAdRotationTimer),this._messageReadAdRotationTimer=null}),this._connectToWiderMailExtension=(()=>{const e=location.pathname,t=new RegExp(`^(${h.Qd})/test`);let s=[];if(t.test(e)||"undefined"==typeof chrome||void 0===chrome.runtime||void 0===chrome.runtime.connect)return;const{chromeExtensionWhitelist:a,disableWiderMailExtension:n}=this.props;a.forEach(e=>{const t=chrome.runtime.connect(e);t&&s.push(t),t.onDisconnect.addListener(e=>{0===(s=s.filter(t=>t!==e)).length&&n()})})}),this.updateAdblockUiId=(()=>{const{adblockPreviousUi:e,adblockUIUpdate:t}=this.props;let s=1;e<h.m.length&&(s=e+1),t({uiId:s,i13nModel:{mKey:ao.e.ADBLOCK_UI_UPDATE,sec:ao.g.FEATURE_CUE,actionData:{uiId:s}}})}),t}componentWillUpdate(e){const{isMessageReadAdRotationActive:t,adRotationId:s,timeToWaitSinceLastAdCall:a,messageReadAdRotationTimestampV2:n,messageReadAdRotationIdleInterval:r,messageReadAdRotationTimestampV1:o,messageReadAdRotationV2:i,messageReadAdRotationV1:c}=this.props,l=s!==e.adRotationId&&e.adRotationId-s>a,d=n!==e.messageReadAdRotationTimestampV2;i?t&&!e.isMessageReadAdRotationActive?this._stopMessageReadAdRotation():!e.isMessageReadAdRotationActive||t&&!l||(this._messageReadAdRotationTimeToIdle=d?this._messageReadAdRotationTimeToIdle:r,this._startMessageReadAdRotation()):c&&(o&&!e.messageReadAdRotationTimestampV1?this._stopMessageReadAdRotation():o!==e.messageReadAdRotationTimestampV1&&this._startMessageReadAdRotation())}componentDidMount(){const{isAdBlocked:e,isMailPro:t,shouldShowAdBlockCoupons:s}=this.props;this._messageReadAdRotationTimer=null,this.fetchLogger=null,this.prefetchLogger=null,this.parseLogger=null,this.allPosRenderLogger=null,this.reconfigLogger=null,this.posRenderLoggers={},this.renderedPositions=[],this.props.isWiderMailExtnEnabled?this._connectToWiderMailExtension():e||(this._detectAdblockTimer=setTimeout(()=>{!window.DARLA&&this.props.hasGeminiError&&(this.props.adblockDetected({mKey:ao.e.ADBLOCK_DETECTED,sec:ao.g.FEATURE_CUE,actionData:{adBlockCoupons:s}}),this.props.adblockUpsellCue&&!t&&this.updateAdblockUiId())},2e4))}componentDidUpdate(e){const{spaceId:t,spaceIds:s,route:a,debugDarla:n,darlaLookAhead:r,darlaPrefetch:o,darlaSandbox:i,nukeDisplayAdsOnInactive:c,mailProEligible:l,timeToWaitSinceLastAdCall:d,adFeedbackStarted:E,adRotationId:_,abortDarlaInProgress:u}=this.props;if(!this.props.hasAds)return;const p=this.context.getAdPositions();if(c&&!e.nukeDisplayAdsOnInactive&&window.DARLA&&Object(T.a)(window.DARLA,"render.RenderMgr")){const e=window.DARLA,t=p.darla.some(t=>{const s=e.render.RenderMgr.get(t);return s&&Object(T.a)(s,NA,!1)});e&&"function"==typeof e.inProgress&&!e.inProgress()&&!t&&Object(T.a)(e,"render.RenderMgr.nuke",!1)&&e.render.RenderMgr.nuke()}else if((_!==e.adRotationId&&_-e.adRotationId>d||t!==e.spaceId)&&!E&&0!==p.darla.length&&!this.props.isWiderMailExtnEnabled)if(bA){if(window.DARLA){const e=window.DARLA,s=this.context.getThemeMode();if(!(e.inProgress&&e.abort&&e.config&&e.addPos&&e.add&&e.render&&e.event))return;if(e.inProgress()){if(!u)return;e.abort()}if(document.activeElement){const{id:e,tagName:t}=document.activeElement;if("TEXTAREA"===t.toUpperCase()&&(-1!==e.indexOf("LREC")||-1!==e.indexOf("SKY")))return}if(Object(T.a)(e,"config.positions.TL1",!1)||Object(T.a)(e,"config.positions.BTN",!1)){const t=e.config(),a=TC[s===Is.f.LIGHT?"lightTheme":"darkTheme"],{textColor:n,hoverColor:r}=a;t.positions.TL1.css=TC.getCss(n,r),t.positions.BTN.css=TC.getCss(n,r),e.addPos(t.positions.TL1),e.addPos(t.positions.BTN)}e.add("rotate",{name:"rotate",ps:p.darla.join(","),sp:t,npv:1}),this.rotateAds(p)}}else{const e=this.context.intl.formatMessage,t={CTTRate:100,upsell:l,upsellMsg:e(yA.upsell_message_caption,{YahooMailProBrand:e(yA.yahoo_mail_pro_branding)}),onStartRequest:this._onStartRequest,onFinishRequest:this._onFinishRequest,onStartPrefetchRequest:this._onStartPrefetchRequest,onFinishPrefetchRequest:this._onFinishPrefetchRequest,onStartParse:this._onStartParse,onFinishParse:this._onFinishParse,onStartPosRender:this._onStartPosRender,onFinishPosRender:this._onFinishPosRender,onRenderTimeout:this._onRenderTimeout,onRequestTimeout:this._onRequestTimeout,onSuccess:this._onSuccess,onBeforeStartPosRender:this._onBeforeStartPosRender};if(window.DARLA&&!i){const e=window.DARLA.config,s=e(Object.assign({},e(),t));this._darlaRenderTimer=setTimeout(()=>{window.DARLA.render()},0),this.reconfigLogger=fA.feature("darla_ad_reconfig",{adPositions:p.darla.join(","),intl:this.context.region,darlaLookAhead:r,darlaPrefetch:o}),"OK"===s?this.reconfigLogger.logSuccess():this.reconfigLogger.logFailure({status:s,actionInProgress:"FAIL--522"===s?window.DARLA.inProgress():null})}else if(!1===window.DARLA_CONFIG.auto_render)window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t,{auto_render:!0});else{const e=this.context.locale.name||"en-US",r=Object(AA.b)(s,a.name);let o=`${DA}?f=${r}&l=${p.darla.join(",")}&npv=1&lang=${e}`;window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t),n&&(o+="&debug=1&d=1"),lt.a.loadScript(o)}bA=!0}}rotateAds(e){const t=window.DARLA,{darlaLookAhead:s}=this.props;this.allPosRenderLogger=fA.feature("darla_ad_all_pos_render",{adPositions:e.darla.join(","),intl:this.context.region});const a=t.prefetched();if(s&&a.length){e.darla.every(e=>-1!==a.indexOf(e))?t.render():t.event("rotate")}else t.event("rotate")}componentWillUnmount(){this._detectAdblockTimer&&clearTimeout(this._detectAdblockTimer),this._darlaRenderTimer&&clearTimeout(this._darlaRenderTimer),this._darlaHandlerTimer&&clearTimeout(this._darlaHandlerTimer)}render(){return null}}PA.contextTypes={getThemeMode:Ve.a.func,getAdPositions:Ve.a.func,config:Ve.a.object,region:Ve.a.string,locale:Ve.a.object,intl:Pr.i.isRequired};var vA=Object(Lr.b)(e=>{const{getFeaturesSelectors:t,getAdsSelectors:s,getCurrentSpaceId:a,getRoute:n,isMessageReadAdRotationActive:r,getAction:o,shouldShowAdBlockCoupons:i}=Object(So.b)(e),{getSetting:c,isEnabled:l}=t(),{getAdRotationId:d,getFeedbackStartedSectionIds:E,getGeminiError:_,isAdBlocked:u,getMessageReadAdRotationTimestamp:p,getMessageReadAdRotationTimestampV2:m}=s();return{messageReadAdRotationTimestampV1:p(),messageReadAdRotationTimestampV2:m(),adRotationId:d(),adFeedbackStarted:E().length>0,hasAds:l(h.kb.ADS),darlaLookAhead:l(h.kb.DARLA_LOOKAHEAD),darlaPrefetch:l(h.kb.DARLA_PREFETCH),darlaSandbox:l(h.kb.DARLA_SANDBOX),debugDarla:l(h.kb.DEBUG_DARLA),route:n(),spaceId:a(),spaceIds:c(h.id.SPACE_IDS),rootSpaceId:c(h.id.SPACE_IDS).root,messageReadAdRotationV1:l(h.kb.MESSAGE_READ_AD_ROTATION),monAds:l(h.kb.MON_ADS),messageReadAdRotationInterval:c(h.id.MESSAGE_READ_AD_ROTATION_INTERVAL),messageReadAdRotationIdleInterval:c(h.id.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),isWiderMailExtnEnabled:l(h.kb.IS_WIDER_MAIL_EXTN_ENABLED),nukeDisplayAdsOnInactive:l(h.kb.NUKE_DISPLAY_ADS_ON_INACTIVE),mailProEligible:l(h.kb.MAIL_PRO_ELIGIBLE),premiumAdDetection:l(h.kb.PREMIUM_AD_DETECTION),timeToWaitSinceLastAdCall:c(h.id.TIME_TO_WAIT_SINCE_LAST_AD_CALL),chromeExtensionWhitelist:c(h.id.CHROME_EXTENSION_WHITELIST),abortDarlaInProgress:l(h.kb.ABORT_DARLA_IN_PROGRESS),leftRailAdArbitration:l(h.kb.LEFT_RAIL_AD_ARBITRATION),hasGeminiError:!!_(),isAdBlocked:u(),messageReadAdRotationV2:l(h.kb.MESSAGE_READ_AD_ROTATION_V2),isMessageReadAdRotationActive:r(),actionType:o().type,adblockUpsellCue:l(h.kb.ADBLOCK_UPSELL_CUE),adblockPreviousUi:c(h.id.AD_BLOCK_FEATURE_CUE_ID),isMailPro:l(h.kb.MAIL_PRO),shouldShowAdBlockCoupons:i(!0),isAdBlockVerifiedBeacon:l(h.kb.AD_BLOCK_VERIFIED_BEACON)}},e=>({darlaAdHandler:t=>e(Object(uS.d)(t)),messageReadAdRotationTimer:()=>e(Object(uS.n)()),disableWiderMailExtension:()=>e(Object(uS.f)()),adRotationSkipped:t=>e(Object(uS.b)(t)),premiumAdStarted:t=>e(Object(uS.o)(t)),premiumAdStopped:t=>e(Object(uS.p)(t)),adblockDetected:t=>e(Object(OA.a)({i13nModel:t})),adblockUIUpdate:t=>e(Object(OA.b)(t)),darlaAdRendered:t=>e(Object(uS.e)(t))}))(PA);const FA=Object(Pr.h)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}});class UA extends we.a.Component{constructor(...e){var t;return t=super(...e),this._handleVisibilityChange=(e=>{let t;if("blur"===e.type){const{activeElement:e}=document;if(e&&"iframe"===e.tagName.toLowerCase())return;t=!1}else t="focus"===e.type||"visible"===document.visibilityState;this.context.executeAction(_o.f,{isVisible:t})}),this.getStateFromStores=(()=>{const{getFeaturesSelectors:e,getEnvironmentSelectors:t,getAccountById:s,getSelectedAccountId:a}=Object(So.b)(this.context.store.getState()),n=e(),r=n.isEnabled("focusBasedVisibilityDetection"),o=n.isEnabled("unsubscribe"),i=n.isEnabled("ybar"),c=n.isEnabled("offlineChecking"),l=n.isEnabled(h.kb.TIMEZONE_CHECK),d=n.isEnabled(h.kb.SMARTVIEW_CATEGORIES_ENABLED),E=n.isEnabled(h.kb.EMPTY_FOLDER_VIDEO),_=n.isEnabled(h.kb.THEMES_CUE_V2),u=n.isEnabled(h.kb.IS_WIDER_MAIL_EXTN_ENABLED),p=n.isEnabled(h.kb.ADS),m=n.getSetting(h.id.HAS_WIDE_LOGO),S=n.getSetting("logoUrl"),g="rtl"===t().getPageDirection(),I=s(a()),C=Object(Ec.a)(I);return{focusBasedVisibilityDetection:r,unsubscribe:o,ybar:i,offlineChecking:c,timezoneCheck:l,smartViewCategoriesEnabled:d,emptyFolderVideo:E,isThemesCueShown:_,isWiderMailExtnEnabled:u,hasAds:p&&!C,hasWideLogo:m,logoUrl:S,isRTL:g}}),t}componentDidMount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.addEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),this.context.executeAction(_o.e)}componentWillUnmount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.removeEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))}render(){const{props:e}=this,t=!!e.multiTaskModeSetting,{formatMessage:a}=this.context.intl,{unsubscribe:n,ybar:r,offlineChecking:o,timezoneCheck:i,smartViewCategoriesEnabled:c,emptyFolderVideo:l,isThemesCueShown:d,isWiderMailExtnEnabled:E,hasAds:_,hasWideLogo:u,logoUrl:p,isRTL:m}=this.getStateFromStores(),h=this.context.getCss(aE.a,{tabs:t,ads:_,wideLogo:u});return we.a.createElement(tE,{logoUrl:p,isRTL:m},we.a.createElement(Lr.a,{store:this.context.store,key:E?"widerMailExtnEnabled":"widerMailExtnDisabled"},we.a.createElement(jE,{className:h.inputModeWrapper},we.a.createElement("div",{className:h.bgContainer},we.a.createElement("div",{id:"app","data-test-id":"mail-app",className:h.container,tabIndex:-1},we.a.createElement(lo.a,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:i,_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,883))},_moduleResolver:function(){return 883}}),_?we.a.createElement(nl,null):null,we.a.createElement("section",{className:h.appHeader,role:"banner","data-yaft-module":"norrin_header"},r?we.a.createElement("div",{className:h.ybar}):we.a.createElement(Cd,null),(t||c)&&we.a.createElement("div",{className:h.tabWrapper,role:"navigation","aria-label":a(FA.tabs_nav)},we.a.createElement("div",{className:h.tabSpace},""),we.a.createElement("div",{className:h.tab},we.a.createElement(Lo,null)))),we.a.createElement(ZT,e),we.a.createElement(vo,{toastMap:Hc}),we.a.createElement(xE,null),we.a.createElement(yo.a,null),we.a.createElement(Qc,null),we.a.createElement(pA,null),o&&we.a.createElement(TA,null),we.a.createElement(lo.a,{defer:!0,import:"./controller_views/print.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,934))},_moduleResolver:function(){return 934}}),we.a.createElement(lo.a,{defer:!0,import:"./controller_views/heartbeat",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,884))},_moduleResolver:function(){return 884}}),l&&!d?we.a.createElement(lo.a,{defer:!0,import:"../../molecules/empty_folder_video",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,938))},_moduleResolver:function(){return 938}}):null,n&&we.a.createElement(lo.a,{defer:!0,import:"./controller_views/unsubscribe",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,940))},_moduleResolver:function(){return 940}}),we.a.createElement(lo.a,{defer:!0,import:"../../molecules/downloader/index.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,942))},_moduleResolver:function(){return 942}}),_?we.a.createElement(vA,null):null)),we.a.createElement("div",{className:h.accessible,role:"heading","aria-label":a(FA.heading_cheatsheet)}))))}}UA.contextTypes={executeAction:Ve.a.func,config:Ve.a.object,store:Ve.a.object,intl:Pr.i.isRequired,getCss:Ve.a.func};var HA=(e=>(function(e){var t,s;return s=t=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this._isLatestWindow=(()=>{const e=Object(rE.a)(oE);let t=!0;return e&&this._windowId!==parseInt(e.split(",").pop(),10)&&(t=!1),t}),this._getWindowId=(()=>this._windowId),this._addNewWindow=(()=>{if(this._windowId)return;let e=Object(rE.a)(oE);this._windowId=Math.floor(Date.now()/1e3),e?e+=`,${this._windowId}`:e=this._windowId,Object(rE.b)(oE,e)}),this._removeWindow=(()=>{let e=Object(rE.a)(oE);if(!e)return;const t=e.split(",");e=t.filter(e=>this._windowId.toString()!==e).join(","),Object(rE.b)(oE,e)}),t}getChildContext(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}}componentDidMount(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)}componentWillUnmount(){this._removeWindow()}render(){return we.a.createElement(e,this.props)}},t.displayName="WindowManager",t.childContextTypes={getWindowId:Ve.a.func,isLatestWindow:Ve.a.func},s})(e))(nE.a(((e,{toastWrapper:t})=>{class s extends Ge.Component{constructor(e,t){super(e);const{getFeaturesSelectors:s}=Object(So.b)(t.store.getState()),a=s();this.showToast=this.showToast.bind(this),this.closeToast=this.closeToast.bind(this),this.clearToastTimeoutHandler=this.clearToastTimeoutHandler.bind(this),this.resumeToast=this.resumeToast.bind(this),this.getRole=this.getRole.bind(this),this.notificationTTL=a.getSetting("notificationTTL")||5e3,this.toastTimeoutHandler=null}getChildContext(){return{toast:this.showToast}}getRole(e){return e.requireInteraction?h.nc.ALERT_DIALOG:e.type===h.oc.NORMAL?h.nc.STATUS:h.nc.ALERT}renderToastWrapperSubtree({toast:e,role:s}){Be.a.unstable_renderSubtreeIntoContainer(this,we.a.createElement(t,{toast:e,role:s,onClose:this.closeToast,onPause:this.clearToastTimeoutHandler,onResume:this.resumeToast}),this.toastContainerNode)}showToast(e){Object(C.b)()&&(this.lastToast&&Object(T.a)(e,"priority",h.mc.LOW)<Object(T.a)(this.lastToast,"priority",h.mc.LOW)||(this.clearToastTimeoutHandler(),this.lastToast=e,this.renderToastWrapperSubtree({toast:e,role:this.getRole(e)}),e.requireInteraction||(this.toastTimeoutHandler=setTimeout(this.closeToast,this.notificationTTL))))}closeToast(){this.lastToast&&(this.renderToastWrapperSubtree({toast:null,role:this.getRole(this.lastToast)}),delete this.lastToast),this.clearToastTimeoutHandler()}clearToastTimeoutHandler(){this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)}resumeToast(){this.toastTimeoutHandler=setTimeout(()=>this.closeToast(),this.notificationTTL)}componentDidMount(){this.toastContainerNode=document.createElement("div"),document.getElementById("app").appendChild(this.toastContainerNode),this.renderToastWrapperSubtree({toast:null,role:h.nc.STATUS})}componentWillUnmount(){this.closeToast()}render(){return we.a.createElement(e,this.props)}}return s.contextTypes={store:Ve.a.object},s.childContextTypes={toast:Ve.a.func},s})(function(e){var t,s;return s=t=class extends we.a.Component{constructor(...e){var t;return t=super(...e),this.adPositions={darla:[],pencil:[]},t}getChildContext(){return{registerAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=ls()(this.adPositions.darla.concat(e))),t&&(this.adPositions.pencil=ls()(this.adPositions.pencil.concat(t)))},removeAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=this.adPositions.darla.filter(t=>t!==e)),t&&(this.adPositions.pencil=this.adPositions.pencil.filter(e=>e!==t))},getAdPositions:()=>this.adPositions}}render(){return we.a.createElement(e,this.props)}},t.childContextTypes={registerAdPosition:Ve.a.func,removeAdPosition:Ve.a.func,getAdPositions:Ve.a.func},s}(Object($c.a)(UA)),{appName:h.r.MAIL_APP,toastWrapper:qc})));nE.a(UA);var kA=s(143),GA=s(620),wA=s.n(GA),xA=s(378),BA=s(623),jA=s.n(BA);const VA=Object(rl.a)("/img/festive_graphic.png"),WA=to()(jA.a),qA=[h.fb.GOOGLE,h.fb.OUTLOOK,h.fb.AOL],KA={[h.fb.GOOGLE]:Object(rl.a)("/img/logo_google.png"),[h.fb.OUTLOOK]:Object(rl.a)("/img/logo_outlook.png"),[h.fb.AOL]:Object(rl.a)("/img/logo_aol.png")},zA={padding:0,height:`${9*Wr.GRID_UNIT}px`,width:`${36.25*Wr.GRID_UNIT}px`,margin:`${2*Wr.GRID_UNIT}px 0 0 0`},YA=Object(Pr.h)({header_message:{id:"external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"external_users_switch_account",defaultMessage:"Switch account"}}),ZA=({accountType:e,userName:t,onNext:s,onProviderSelect:a},n)=>{const{intl:{locale:r,formatMessage:o},region:i}=n,c=Object(Ec.f)(t),l=e=>{a(e),s&&s()},d=we.a.createElement("b",{className:WA.userName},t);return we.a.createElement("div",{className:WA.upsellPage},we.a.createElement("img",{className:WA.image,alt:o(YA.header_message),src:VA}),we.a.createElement("h1",{className:WA.header},we.a.createElement(Pr.c,babelHelpers.extends({},YA.header_message,{values:{mailBrandNameString:n.mailBrandNameString}}))),we.a.createElement("div",{className:WA.body},we.a.createElement("div",{className:WA.description},we.a.createElement(Pr.c,e===h.g.PHONE?{id:"external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}:{id:"external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}}),"",we.a.createElement("a",{className:WA.switchAccount,href:Object(h.ae)(i,r),title:o(YA.switch_account)},we.a.createElement(Pr.c,YA.switch_account))),we.a.createElement("div",{className:WA.description},we.a.createElement(Pr.c,c?{id:"external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:Object(Ec.h)(c)}}:{id:"external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, All from within Yahoo Mail."})),we.a.createElement("div",{className:WA.providersOption},we.a.createElement("ol",{className:WA.accountList},qA.filter(e=>!c||c===e).map(e=>we.a.createElement("li",{key:e,className:WA.listItem,"data-test-id":"supported-imap-providers"},we.a.createElement("img",{alt:e,src:KA[e],className:WA.accountItem}),we.a.createElement(Zr.a,{style:zA,kind:Xr.a.PRIMARY,"data-test-id":`add-account-${e}-btn`,onClick:l.bind(null,e)},we.a.createElement(Pr.c,c?{id:"user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:Object(Ec.h)(c)}}:{id:"user_registration_add_account",defaultMessage:"Add account"}))))))),we.a.createElement("div",{className:WA.footer},!c&&we.a.createElement(Pr.c,{id:"external_supported_providers",defaultMessage:"We only support these providers as of now"})))};ZA.contextTypes={intl:Pr.i,region:Ve.a.string,mailBrandNameString:Ve.a.string};var XA=ZA,QA=s(624),$A=s.n(QA);const JA=to()($A.a);var eO=({provider:e})=>we.a.createElement("div",{className:JA.leftRailItemsContainer},we.a.createElement("button",{className:JA.link,disabled:!0},we.a.createElement(Pr.c,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&we.a.createElement("div",{className:JA.accountslist,"data-test-id":"known-imap-provider"},we.a.createElement("span",{className:JA.accountsListItem,"data-test-id":"imap-provider-name"},Object(Ec.h)(e)),we.a.createElement("div",{className:JA.moreIcon},we.a.createElement("span",{className:JA.iconContainer},we.a.createElement(Fr.b,{kind:Ur.b.MORE,size:Ur.d.XXXS,colorState:Ur.a.SECOND_LEVEL_GRAY})))),we.a.createElement("ul",{className:JA.folderList},Object(QI.d)(9).map(e=>we.a.createElement("li",{key:e,className:JA.listItem},we.a.createElement("div",{className:JA.folderName,style:{width:`${e%3*10+28}px`}})))),we.a.createElement("div",{className:JA.header},we.a.createElement("div",{className:JA.folderName,style:{width:"41px"}}),we.a.createElement("div",{className:JA.folderName,style:{width:"25px"}})),we.a.createElement("ul",{className:JA.list},[Ur.b.TAB_IMAGES,Ur.b.DOCUMENTS_S,Ur.b.CAL_MAYBE].map((e,t)=>{const s=`${t%3*10+28}px`;return we.a.createElement("li",{key:e,className:JA.listItem},we.a.createElement(Fr.b,{kind:e,size:Ur.d.XS,colorState:Ur.a.SECOND_LEVEL_GRAY}),we.a.createElement("div",{className:JA.folderName,style:{width:s}}))}))),tO=s(84),sO=s(461),aO=s(462),nO=s(463);const rO=()=>{},oO=to()(wA.a),iO=Object(Pr.h)({back_button_title:{id:"external_users_back_btn_title",defaultMessage:"Back"},sign_in_button_title:{id:"external_users_sign_in_btn_title",defaultMessage:"Sign in"},cancel_button_title:{id:"external_users_cancel_btn_title",defaultMessage:"Cancel"},relaunch_button_title:{id:"external_users_oauth_relaunch_button_title",defaultMessage:"Relaunch window"}});class cO extends we.a.Component{constructor(...e){var t;return t=super(...e),this.state={email:"",selectedProvider:""},this.handleChange=((e,t)=>{this.state[e]!==t&&this.setState("provider"===e?{email:"",selectedProvider:t}:{[e]:t})}),this.handleCreateAccount=(e=>{const{email:t}=e,{onAddNewAccount:s}=this.props,a={interactionType:ao.d.nav,mKey:ao.e.USERNAME_PHONE_REG_ADD_ACCOUNT,sec:ao.g.USERNAME_PHONE_REG,actionData:{email:t}};s(babelHelpers.extends({},Object(Ec.i)(e),{i13nModel:a,emailOrPhoneRegAccount:!0}))}),this._renderSignInComponentTitle=(()=>we.a.createElement("h5",{className:oO.titleLabel},we.a.createElement(Pr.c,{id:"external_users_add_mailbox_header",defaultMessage:"You are almost done!"}))),this._resetProvider=((e=rO)=>{this.setState({selectedProvider:""},e)}),this._renderSignInComponentNav=(({onPrevious:e,onNext:t,isStepValid:s})=>{const{formatMessage:a}=this.context.intl;return we.a.createElement("div",{className:oO.navWrapper},we.a.createElement(Zr.a,{kind:Xr.a.SECONDARY,title:a(iO.back_button_title),"data-test-id":"username-phone-reg-back-btn",onClick:this._resetProvider.bind(this,e)},we.a.createElement(Pr.c,iO.back_button_title)),we.a.createElement(Zr.a,{onClick:t,disabled:!s(),kind:Xr.a.PRIMARY,"data-test-id":"username-phone-reg-signin-btn",title:a(iO.sign_in_button_title)},we.a.createElement(Pr.c,iO.sign_in_button_title)))}),this._renderOAuthComponentNav=(({onPrevious:e,onNext:t})=>{const{formatMessage:s}=this.context.intl;return we.a.createElement("div",{className:oO.navWrapper},we.a.createElement(Zr.a,{kind:Xr.a.SECONDARY,title:s(iO.back_button_title),onClick:this._resetProvider.bind(this,e)},we.a.createElement(Pr.c,iO.back_button_title)),we.a.createElement(Zr.a,{onClick:t,kind:Xr.a.PRIMARY,"data-test-id":"username-phone-reg-relaunch-btn",title:s(iO.relaunch_button_title)},we.a.createElement(Pr.c,iO.relaunch_button_title)))}),this._renderOAuthComponentTitle=(()=>we.a.createElement("h5",{className:oO.titleLabel},we.a.createElement(Pr.c,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"}))),t}_doesEmailAlreadyExist(e){return!!this.props.accounts.find(t=>t.email===e)}_getSteps(){const{email:e,selectedProvider:t}=this.state,{userName:s,accountType:a,appRootPath:n,accounts:r}=this.props,o=Object(Ec.f)(s),i=[we.a.createElement(XA,{key:"upsell",userName:s,accountType:a,onProviderSelect:this.handleChange.bind(this,"provider")})];if(this._doesEmailAlreadyExist(s)&&o){return i.push(we.a.createElement(()=>this._getError(),{key:"external-accounts-error"})),i}return o||i.push(we.a.createElement(aO.a,{key:"address",email:e,accounts:r,onAuthorizeAccount:rO,provider:t,onChange:this.handleChange,renderNavComponent:this._renderSignInComponentNav,renderTitleComponent:this._renderSignInComponentTitle})),i.push(we.a.createElement(sO.a,{key:"signin",hideCancelButton:!0,handleAddSuccess:rO,onAuthorizeAccount:rO,appRootPath:n,onAuthorize:this.handleCreateAccount,email:o?s:e,provider:o||t,renderNavComponent:this._renderOAuthComponentNav,renderTitleComponent:this._renderOAuthComponentTitle})),i.push(we.a.createElement(nO.a,{key:"add-confirm",isSyncing:!0})),i}_getError(){const{userName:e}=this.props;return we.a.createElement("div",{className:oO.errorContainer,"data-test-id":"external-accounts-error"},this._renderOAuthComponentTitle(),we.a.createElement("div",{className:oO.errorWrapper},we.a.createElement("div",{className:oO.errorIcon},we.a.createElement(Fr.b,{size:Ur.d.XS,kind:Ur.b.EXCLAMATION_ALT,colorState:Ur.a.WARNING_GRAD_RED})),we.a.createElement(Pr.c,{id:"unr_error_account_add_failed",defaultMessage:"Your email {email} already exists.\n                        If you deleted the mailbox recently, please wait for a few minutes\n                        until the process is complete and try again",values:{email:we.a.createElement("strong",null,e)}})),we.a.createElement("div",{className:oO.navWrapper},we.a.createElement(Zr.a,{kind:Xr.a.SECONDARY,onClick:()=>window.location.reload(),title:this.context.intl.formatMessage(iO.back_button_title)},we.a.createElement(Pr.c,iO.back_button_title))))}componentDidMount(){this.props.onLoadComplete({i13nModel:{interactionType:ao.d.nav,mKey:ao.e.USERNAME_PHONE_REG_ONBOARDING,sec:ao.g.USERNAME_PHONE_REG}})}render(){const{userName:e}=this.props,{selectedProvider:t}=this.state,s=Object(Ec.f)(e);return we.a.createElement("div",{id:"app",className:oO.wrapper},we.a.createElement("div",{className:oO.shadedContainer},we.a.createElement("div",{className:oO.container,"data-test-id":"username-phone-reg-upsell"},we.a.createElement("nav",{className:oO.leftRail},we.a.createElement(eO,{provider:s||t})),we.a.createElement("main",{className:oO.widthRestricter},we.a.createElement("section",{className:oO.mainContent},we.a.createElement(xA.a,null,this._getSteps())),we.a.createElement("aside",{className:oO.rightRail})))))}}cO.contextTypes={intl:Pr.i.isRequired};var lO=Object(Lr.b)(function(e){const{getAccountSelectors:t,getFeaturesSelectors:s,getAllAccounts:a}=Object(So.b)(e),n=s().getSetting("appRootPath"),{type:r}=t().getPrimaryAccount()||{};return{accountType:r,appRootPath:n,accounts:a()}},function(e){return{onLoadComplete:t=>e(babelHelpers.extends({type:Fo.a.USER_NAME_PHONE_REG_UPSELL_LOADED},t)),onAddNewAccount:t=>e(Object(tO.a)(t))}})(cO);let dO=Object(Lr.b)(function(e){const{getFeaturesSelectors:t,getAccountSelectors:s}=Object(So.b)(e),a=s().userHasRegisteredAccount();return{multiTaskModeSetting:t().isEnabled(h.id.MAIL_TABS),userHasRegisteredAccount:a}})(function({userHasRegisteredAccount:e,multiTaskModeSetting:t,context:s}){return e?we.a.createElement(HA,{multiTaskModeSetting:t,context:s}):we.a.createElement(lO,{userName:s.userName})});var EO=dO=Object(kA.provideContext)(dO,{config:Ve.a.object,store:Ve.a.object,loader:qo.c,timezone:qo.e,region:Ve.a.string,locale:qo.d,os:Ve.a.string,rapidParams:Ve.a.object,usmLogString:Ve.a.string,yqlClient:qo.f,credstoreClient:qo.a,cspToken:Ve.a.string,linkEnhancerClient:qo.b,partner:Ve.a.string,mailBrandNameString:Ve.a.string,yahooBrandNameString:Ve.a.string,appId:Ve.a.string});const _O="__lazyBundles";function uO(e,{bundleMapURL:t}={}){return t?function(e){return new D.b("GET",e).setHeader("Accept","application/json").send().then(e=>JSON.parse(e.text))}(t).then(t=>(window[_O]=t,pO(e,t))):new Promise(t=>t(pO(e,window[_O])))}function pO(e,t){const s=t.urls[t.urlIndexForEntry[e]];if(!s)throw new Error(`Unknown bundle URL for module ${e}`);return s}class mO{constructor({disabled:e}={}){this._cache={},this._disabled=e}locate(e,{bundleMapURL:t}){return uO(e,{bundleMapURL:t})}fetch(e,{cache:t}){if(!t)return lt.a.loadScript(e);const s=this._cache;return s[e]||(s[e]=lt.a.loadScript(e)),s[e]}loadModule(e,{cache:t=!0,bundleMapURL:s}={}){if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));const a={cache:t,bundleMapURL:s};return this.locate(e,a).then(e=>this.fetch(e,a))}}var hO={name:"MailFluxibleContextPlugin",plugContext(e){let{config:t,loginHash:s,mailWssid:a,mailboxAttributes:n,crumb:r,signoutCrumb:o,userName:i,guid:c,csid:l,timezone:d,environment:E,region:_,os:u,farm:p,partner:m,usmLogString:h,locale:S,localeData:g,cspToken:I,__initializeFeatures__:T,queryStringOverrides:A,buildNumber:O,launchTime:b,loggerParams:R,encryptedQueryParams:D,mailBrandNameString:f,yahooBrandNameString:N,appId:M}=e;return{plugComponentContext(e,s){const{store:a,apiClients:n={}}=s;e.crumb=r,e.signoutCrumb=o,e.config=t,e.loader=new mO({disabled:t.disableLazy}),e.timezone=d,e.region=_,e.usmLogString=h,e.os=u,e.locale=Object.assign({name:S},g),e.cspToken=I,e.store=a,e.mailAPIClient=n.mailAPIClient,e.yqlClient=n.yqlClient,e.credstoreClient=n.credstoreClient,e.linkEnhancerClient=n.linkEnhancerClient,e.partner=m,e.mailBrandNameString=f,e.yahooBrandNameString=N,e.userName=i,e.appId=M},plugActionContext(e,s){const a=s.store;e.encryptedQueryParams=D,e.config=t,e.store=a,e.mailboxAttributes=n,e.timezone=d,e.dispatch=((e,t)=>a.dispatch(babelHelpers.extends({},t,{type:e}))),Object.assign(e,babelHelpers.extends({},s.apiClients,{csid:l}))},plugStoreContext(){},dehydrate:()=>({buildNumber:O,config:t,launchTime:b,loginHash:s,mailWssid:a,guid:c,crumb:r,signoutCrumb:o,userName:i,mailboxAttributes:n,csid:l,locale:S,localeData:g,timezone:d,region:_,usmLogString:h,cspToken:I,os:u,farm:p,partner:m,environment:E,__initializeFeatures__:T,queryStringOverrides:A,loggerParams:Object(C.b)()?{}:R,encryptedQueryParams:D,mailBrandNameString:f,yahooBrandNameString:N,appId:M}),rehydrate(e){O=e.buildNumber,t=e.config,s=e.loginHash,a=e.mailWssid,r=e.crumb,o=e.signoutCrumb,c=e.guid,l=e.csid,i=e.userName,b=e.launchTime,S=e.locale,g=e.localeData,d=e.timezone,_=e.region,h=e.usmLogString,u=e.os,p=e.farm,m=e.partner,E=e.environment,T=e.__initializeFeatures__,A=e.queryStringOverrides,R=e.loggerParams,I=e.cspToken,D=e.encryptedQueryParams,n=e.mailboxAttributes,f=e.mailBrandNameString,N=e.yahooBrandNameString,M=e.appId}}}};const SO=Object(Pr.h)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"},confirmRouteChangeModalTitle:{id:"warning.confirm_route_change_modal_title",defaultMessage:"Do You Want to Leave This Page?"},confirmRouteChangeModalBody:{id:"warning.confirm_route_change_modal_body",defaultMessage:"Changes you made may not be saved."},confirmRouteChangeModalLeaveButton:{id:"warning.confirm_route_change_modal_leave_button_text",defaultMessage:"Leave"},confirmRouteChangeModalCancelButton:{id:"warning.confirm_route_change_modal_cancel_button_text",defaultMessage:"Cancel"},unloadPromptMessage:{id:"warning.unsaved_data_unload_prompt_message",defaultMessage:"Changes you made may not be saved."}});var gO=s(131),IO=s.n(gO);const CO=Object(T.c)(["mrdparam","search_keyword"]);Object(T.c)(["YM_MAIL_CONV","MOBILE_CONV","YM_MAIL_THM","YM_TZ","YM_LAST_OBSERVED_TZ","YM_MAIL_TABS","UDB_PREVIEW_PANE","YM_MAIL_SCOUT","YM_FE_PREVIOUS","YM_FE_HISTORY","YMV"]),Object(T.c)(["sky.mail.yahoo.com","rogers.mail.yahoo.com"]);function TO(e,t){if(!t)return[];const{getMaxTabCounts:s,isDraftGroup:a}=Object(So.b)(e),n=[...e.pages,t],r=[],o=s();if(n.forEach(e=>{Co(e)&&!a(e.params.groupId)&&r.push(e)}),r.length<=o)return[];const i=r.length-o;return r.sort((e,t)=>(e.timestamp||0)-(t.timestamp||0)).slice(0,i)}var AO=(e,t)=>{const{normalizeRoute:s,getRoute:a,getPreviousRoute:n,getSetting:r,getFeaturesSelectors:o,isSingleDraftGroup:i,findUnsyncedDataByCsid:c,getLastSaveTimeStampForDraft:l,getPages:d,doesRouteContainFailure:E,getSmartViewPageByType:_,getQueryParams:u,getStreamsSelectors:p,getSelectedAccountId:m,getDraftFolderIdByAccountId:S,getSmartViewTypeFromRoute:g,getSmartViewPosition:I}=Object(So.b)(e),{type:C,route:A,actionTimestamp:O}=t;switch(C){case Fo.a.INITIAL_STATE:{const e=a(),{folderId:n,launchError:r,encryptedQueryParams:o={}}=t,i=u(),c="1"===i.openGIFPicker,l="1"===i.openStationery;let d;if(e.timestamp=O,o[CO.mrdparam]&&Object(T.e)(o[CO.mrdparam]).some(Boolean)&&(d=o[CO.mrdparam]),c&&(d=babelHelpers.extends({},d||{},{showGIFPicker:c})),l&&(d=babelHelpers.extends({},d||{},{showStationeryPicker:l})),t=babelHelpers.extends({},t,{route:e,mrdParams:d}),!n)return t;const E=s(Object(ho.i)(n));return e.name===h.Pc.BASE&&(t=babelHelpers.extends({},t,{route:E,listId:Object(Io.s)(n)})),r&&E&&E.name&&(t=babelHelpers.extends({},t,{listId:Object(Io.s)(n),route:E})),t}case Fo.a.SUGGESTION_ADDED:case Fo.a.OPEN_PAGE_REQUESTED:{const n=a();switch(A.name){case h.Pc.NEW_DRAFT:{const{params:e={}}=A,{params:a={}}=n,r=n.name===A.name&&(l(a.csid)||Boolean(c(a.csid)));return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(A),{timestamp:O}),previousRoute:n,forceNewPage:r,csid:e.csid})}case h.Pc.SEARCH:{const e=Object(Io.t)(A),a=Object(Io.I)(A)?g(A):null,r=a?_(a):null,o=a?!!r:n&&n.name===h.Pc.SEARCH&&!Object(Io.K)(Object(Io.t)(n));return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(A),{timestamp:O}),previousRoute:r||n,forceNewPage:!r&&Object(Io.K)(e),replaceRoute:o})}case h.Pc.LIST:{const e=Object(Io.I)(A)?g(A):null,a=e?_(e):null;return babelHelpers.extends({},t,{route:babelHelpers.extends({},s(A),{timestamp:O}),previousRoute:a||n,replaceRoute:!!a})}default:{const a=A&&{route:babelHelpers.extends({},s(A),{timestamp:O})};return babelHelpers.extends({},t,a,{previousRoute:n,tabsToRemove:TO(e,a.route)})}}}case Fo.a.CLOSE_ALL_PAGES_REQUESTED:{const e=d().filter(e=>{if(e.name===h.Pc.FOLDER)return!1;const t=Object(Io.I)(e)?g(e):null;return!(t&&I(t)===h.sd.TAB_BAR)});return babelHelpers.extends({},t,{pagesToClose:e})}case Fo.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const e=t.previousRoute||n();return r(h.kb.CONVERSATIONS)?babelHelpers.extends({},t,{route:A&&babelHelpers.extends({},s(t.route),{timestamp:O})||a(),previousRoute:e}):babelHelpers.extends({},t,{previousRoute:e,route:babelHelpers.extends({},s(Object(ho.e)(t.csid)),{timestamp:O})})}case Fo.a.SETTINGS_CHANGE_REQUESTED:{const e=a(),n=d(),r=()=>n.some(e=>e.name===h.Pc.SETTINGS);return e.timestamp=O,t.name===h.id.MAIL_TABS&&t.value&&e.name!==h.Pc.SETTINGS&&!r()?babelHelpers.extends({},t,{previousRoute:e,route:e,pages:[...n,s(Object(ho.s)({settingsGroupId:h.ld.PERSONALIZE_INBOX}))]}):babelHelpers.extends({},t,{previousRoute:e,route:e})}case Fo.a.SYNC_DATA:{const e=t.previousRoute||n(),r=A&&s(t.route)||a();return r.timestamp=O,babelHelpers.extends({},t,{route:r,previousRoute:e,pages:d()})}case Fo.a.V3_MESSAGE_SEND_FAILED:{let e;const r=d(),c=a(),{isEnabled:l}=o(),{csid:_,groupId:u,previousRoute:g,listId:I}=t,C=g||n();c.timestamp=O,r.length||r.push(c);const T=Object(Io.t)(c),A=l(h.kb.CONVERSATIONS),b=Object(Pu.a)([T]),{doesStreamExist:R,getCursorSelectors:D}=p(),{id:f,listId:N}=R(b)&&D(b).getCursorItem()||{};if(u)if(i(u)||!A){const t=S(m()),s=Object(Io.s)(t);e=Object(ho.h)(s,_,c.query)}else e=Object(ho.n)(I,u,c.query);else e=Object(ho.e)(_,c.query);const[M,L]=rs()(r.slice(1),e=>e.params&&u&&e.params.groupId===u||E(e));return u&&u===f&&N===I?babelHelpers.extends({},t,{route:c,previousRoute:C,sendFailureRoute:e,pages:IO()([r[0],...M,...L],"url")}):babelHelpers.extends({},t,{route:c,previousRoute:C,pages:IO()([r[0],s(e),...M,...L],"url"),sendFailureRoute:e})}default:{const e=t.previousRoute||n(),s=A||a();return s.timestamp=O,babelHelpers.extends({},t,{route:s,previousRoute:e})}}};var OO=(e,t)=>{const{getMainStreamItems:s,getRoute:a}=Object(So.b)(e),{type:n,streamItems:r}=t;let o=t.streamId;switch(n){case Fo.a.CLOSE_PAGE_REQUESTED:{const{route:e}=t,s=Object(Io.t)(e);return o||(o=Object(Pu.b)(s,e.params.groupId)),babelHelpers.extends({},t,{streamId:o})}case Fo.a.STREAM_CURSOR_MOVED:case Fo.a.STREAM_SELECT_CURSOR_MOVED:case Fo.a.STREAM_ITEMS_RANGE_SELECTED:case Fo.a.STREAM_ITEM_TOGGLED:case Fo.a.STREAM_ITEMS_SELECTION_CLEARED:case Fo.a.STREAM_ITEMS_SELECTION_CHANGED:case Fo.a.ALL_STREAM_ITEMS_SELECTED:case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case Fo.a.V3_MESSAGE_SEND_SUCCEEDED:case Fo.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case Fo.a.CHANGE_FOLDER_SUCCEEDED:case Fo.a.SEARCH_LIST_ITEMS_RECEIVED:case Fo.a.UNDO_MOVE_SUCCEEDED:case Fo.a.MORE_MESSAGES_REQUEST_SUCCESS:case Fo.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case Fo.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case Fo.a.GIF_FETCH_SUCCEEDED:case Fo.a.MORE_COUPONS_SUCCESS:case Fo.a.MORE_RECEIPTS_SUCCESS:case Fo.a.RECEIPTS_LIST_SUCCEEDED:case Fo.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case Fo.a.COUPONS_LIST_SUCCEEDED:case Fo.a.EXTRACT_COUPON_SUCCEEDED:case Fo.a.TRAVEL_LIST_SUCCEEDED:case Fo.a.COUPONS_ADD_TAG_DECO_REQUESTED:case Fo.a.MORE_TRAVEL_ITEMS_SUCCEEDED:case Fo.a.ITEMS_DRAG_STARTED:case Fo.a.MOVE_ITEMS_REQUESTED:case Fo.a.DELETE_ITEMS_REQUESTED:case Fo.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case Fo.a.READ_CHANGE_REQUESTED:case Fo.a.STAR_CHANGE_REQUESTED:case Fo.a.PREVIEW_MESSAGE_REQUESTED:return babelHelpers.extends({},t,{streamItems:r||s(a())});case Fo.a.OPEN_PAGE_REQUESTED:if(t.streamItem)return babelHelpers.extends({},t,{streamItems:r||s(a())})}return t};const bO=(e,t,s,a,n,r,o,i,c,l)=>{const d=Object(Io.q)(e);let E=void 0;if(void 0!==r&&(E=r),E||void 0===s||(E=Boolean(s)),E||void 0===a||(E=Boolean(a)),void 0!==c&&(c===Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED||c===Fo.a.V3_MESSAGE_SEND_SUCCEEDED))return{};switch(d){case h.Db.MESSAGES:case h.Db.TRAVEL_CARDS:case h.Db.COUPON_CARDS:case h.Db.REFUND_CARDS:case h.Db.RECEIPT_CARDS:case h.Db.RECOMMENDED_ITEMS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case h.Db.DOCUMENTS:case h.Db.IMAGES:return{[e]:{itemIds:t.map(({attachment:e})=>e.id),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case h.Db.GIFS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:a,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case h.Db.PEOPLE:return{[e]:{itemIds:t.map(({contactDetails:e})=>e.xobniId),nextItemsUrl:s,offset:a,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case h.Db.CONTACTS:return{[e]:{itemIds:t.map(({id:e})=>e),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}};case h.Db.GROCERY_STORES:{let r=[];const c=Object(Io.r)(e);return c===h.Eb.UNLINKED_GROCERY_STORES?r=t.reduce(function(e,t){return t.linked||e.push(t.id),e},[]):c===h.Eb.LINKED_GROCERY_STORES&&(r=t.reduce(function(e,t){return t.linked&&e.push(t.id),e},[])),{[e]:{itemIds:r,nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}}}case h.Db.OFFER_CARDS:return Object(Io.r)(e)===h.Eb.ACTIVATED_OFFER_CARDS?{[e]:{itemIds:t.map(({offerId:e})=>e),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i}}:{[e]:{itemIds:t.map(({offerId:e})=>e),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:E,lmv3Query:o,suggestedWords:i,offerType:l}}}return{}},RO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.GIFS:return t.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:t}),{})}return{}},DO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.COUPON_CARDS:case h.Db.TRAVEL_CARDS:case h.Db.REFUND_CARDS:case h.Db.RECEIPT_CARDS:case h.Db.MESSAGES:case h.Db.RECOMMENDED_ITEMS:return t.reduce((e,t)=>{return babelHelpers.extends({},e,{[t.id]:(e[t.id]||[]).concat(t.messages.map(e=>e.id))})},{})}return{}},fO=(e,t,s)=>{const a=Object(Io.q)(t),{doesMessageIdExist:n,getMessageCsid:r}=e;switch(a){case h.Db.MESSAGES:case h.Db.TRAVEL_CARDS:case h.Db.COUPON_CARDS:case h.Db.REFUND_CARDS:case h.Db.RECEIPT_CARDS:case h.Db.RECOMMENDED_ITEMS:return s.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>{let s=null;return s=!s&&n(t.id)?r(t.id):t.csid?t.csid:Object(vs.f)(),babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},E()(t,["snippet","attachments","headers","schemaCards"]),{headers:E()(t.headers,["subject"])},s?{csid:s}:{})})},{})),{})}return{}},NO=(e,t,s)=>{const a=Object(Io.q)(t),{getContentIdByAttachmentId:n,doesAttachmentExistById:r}=e.getAttachmentsSelectors();switch(a){case h.Db.MESSAGES:return s.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,(t.attachments||[]).reduce((e,s)=>{const a=r(s.id)&&n(s.id)?n(s.id):Object(xa.c)();return babelHelpers.extends({},e,{[s.id]:babelHelpers.extends({},s,{conversationId:s.conversationId||t.conversationId,contentId:a,dataId:a})})},{})),{})),{});case h.Db.DOCUMENTS:case h.Db.IMAGES:return s.reduce((e,{attachment:t})=>{const s=r(t.id)?n(t.id):Object(xa.c)();return babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t,{contentId:s,dataId:s})})},{})}return{}},MO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.MESSAGES:return t.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:(t.attachments||[]).map(e=>e.id)}),{})),{});case h.Db.DOCUMENTS:case h.Db.IMAGES:return t.reduce((e,{attachment:t,message:s})=>babelHelpers.extends({},e,{[s.id]:[...e[s.id]||[],t.id]}),{})}return{}},LO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.MESSAGES:case h.Db.TRAVEL_CARDS:case h.Db.COUPON_CARDS:case h.Db.REFUND_CARDS:case h.Db.RECEIPT_CARDS:case h.Db.RECOMMENDED_ITEMS:return t.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:(t.schemaCards||[]).map(({id:e,type:t})=>({id:e,type:t}))}),{})),{})}return{}},yO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.MESSAGES:case h.Db.TRAVEL_CARDS:case h.Db.REFUND_CARDS:case h.Db.RECEIPT_CARDS:return t.reduce((t,s)=>babelHelpers.extends({},t,s.messages.reduce((t,{id:s,headers:a={}})=>babelHelpers.extends({},t,{[s]:{[e]:a.subject}}),{})),{});case h.Db.DOCUMENTS:case h.Db.IMAGES:return t.reduce((t,s)=>babelHelpers.extends({},t,{[s.message.id]:{[e]:s.message.subject}}),{})}return{}},PO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.MESSAGES:case h.Db.TRAVEL_CARDS:return t.reduce((t,s)=>babelHelpers.extends({},t,s.messages.reduce((t,s)=>babelHelpers.extends({},t,{[s.id]:{[e]:s.snippet}}),{})),{})}return{}},vO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.PEOPLE:return t.reduce((e,t)=>babelHelpers.extends({},e,{[t.contactDetails.xobniId]:t.contactDetails}),{})}return{}},FO=(e,t)=>{switch(Object(Io.q)(e)){case h.Db.MESSAGES:case h.Db.TRAVEL_CARDS:case h.Db.COUPON_CARDS:case h.Db.REFUND_CARDS:case h.Db.RECEIPT_CARDS:case h.Db.RECOMMENDED_ITEMS:return t.reduce((e,t)=>babelHelpers.extends({},e,t.messages.reduce((e,t)=>babelHelpers.extends({},e,(t.schemaCards||[]).reduce((e,t={})=>babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t)}),{})),{})),{})}return{}},UO=(e,t,s={})=>{switch(Object(Io.q)(e)){case h.Db.COUPON_CARDS:return[].concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})));default:return t.concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})))}},HO=(e,t,s,a,n,r,o,i={},c,l,d=[],E,_)=>{const{doesFolderIdExist:u}=e,p=Object(Io.q)(t),m={};let S=s;return d.forEach(e=>{m[e.folder.id]=!0}),p===h.Db.MESSAGES&&(S=s.filter(e=>{const t=e.messages.filter(e=>u(e.folder.id)||m[e.folder.id]);return e.messages=t,e.messages.length>0})),{lists:bO(t,S,a,n,r,o,c,l,E,_),groupIdToMessageIdsMap:DO(t,S),messages:fO(e,t,UO(t,S,i)),attachments:NO(e,t,S),attachmentIdToMessageIdMap:MO(t,S),subjects:yO(t,S),snippets:PO(t,S),gifItems:RO(t,S),schemaCards:FO(t,S),messageIdToSchemaIdsMap:LO(t,S),people:vO(t,S)}},kO=(e={},t,s="",a=[])=>{const n=[];return Object.keys(h.Db).forEach(r=>{Object.keys(e[r]||{}).forEach(o=>{const i=Object(Io.Q)(s,{listContentType:r,listFilter:o}),c=e[r][o];c&&n.push(HO(t,i,c.items,c.nextItemsUrl,c.offset,c.totalHits,c.hasMoreItems,void 0,c.lmv3Query,c.suggestedWords,a))})}),n},GO=(e,t)=>{const{getContentIdByAttachmentId:s,doesAttachmentExistById:a}=e,n=Object.keys(t.messageMetadataMap);return{attachments:n.reduce((e,n)=>{const{attachments:r=[]}=t.messageMetadataMap[n];return babelHelpers.extends({},e,r.reduce((e,t)=>{const n=a(t.id)?s(t.id):Object(xa.c)();return babelHelpers.extends({},e,{[t.id]:babelHelpers.extends({},t,{contentId:n,dataId:n})})},{}))},{}),attachmentIdToMessageIdMap:n.reduce((e,s)=>{const{attachments:a=[]}=t.messageMetadataMap[s];return babelHelpers.extends({},e,{[s]:a.map(({id:e})=>e)})},{})}},wO=e=>Object.keys(e).reduce((t,s)=>babelHelpers.extends({},t,e[s].length?Object.assign.apply({},e[s].map(e=>({[e]:s}))):{}),{}),xO=(e,t,s)=>{const{getMessageCsid:a,getMessageIdsFromMessageGroupId:n,isFeatureEnabled:r}=s,o=e.reduce((e,t)=>Object.keys(t).reduce((e,s)=>"attachmentIdToMessageIdMap"===s?babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],wO(t[s]))}):babelHelpers.extends({},e,{[s]:babelHelpers.extends({},e[s],t[s])}),e),{});if(r(h.kb.CONVERSATIONS))switch(t.type){case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case Fo.a.V3_MESSAGE_SAVE_SUCCEEDED:o.groupIdToMessageIdsMap=Object.keys(o.groupIdToMessageIdsMap||{}).reduce((e,s)=>{const r=(n(s)||[]).filter(e=>a(e)!==t.csid).concat(t.message.id);return babelHelpers.extends({},e,{[s]:r})},{})}if(t.type===Fo.a.CHECK_MAIL_RECEIVED_WITH_UPDATES&&o.lists){const e=t.listId,{doesListExist:a,getListItemIds:n}=s,r=a(e)?n(e):[];o.lists[e].itemIds=Object(Io.T)(r,o,e)}return o};var BO=(e,t)=>{const s=Object(So.b)(e),a=[];switch(t.type){case Fo.a.SUGGESTION_ADDED:case Fo.a.OPEN_PAGE_REQUESTED:{const e=Object(Io.t)(t.route),{attachments:a=[]}=t;if(a.length){const n=a[0],{getContentIdByAttachmentId:r}=s.getAttachmentsSelectors(),{contentId:o=r(n.id)||Object(xa.c)()}=n;return babelHelpers.extends({},t,{listId:e,listData:{attachments:{[n.id]:babelHelpers.extends({},n,{contentId:o,dataId:o})}}})}return babelHelpers.extends({},t,{listId:e})}case Fo.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case Fo.a.MESSAGE_SAVE_SUCCEEDED:{const{groupId:e,message:n,listId:r}=t;e&&n&&r&&a.push(HO(s,t.listId,[{id:e,messages:[n]}]));break}case Fo.a.MESSAGE_BODIES_RECEIVED:case Fo.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:if(!Object.keys(t.messageMetadataMap).length)return t;a.push(babelHelpers.extends({messageMetadataMap:t.messageMetadataMap},GO(s.getAttachmentsSelectors(),t))),a.push(...kO(t.response,s,t.listId));break;case Fo.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{const{getCurrentListId:e}=s;t.categories.forEach(({gifs:t,queryString:n})=>{const r=Object(Io.Q)(e(),{listContentType:h.Db.GIFS,keyword:n.toLowerCase(),listFilter:h.Eb.GIFS});a.push(HO(s,r,t.items,t.nextItemsUrl,t.offset,t.totalHits,t.hasMoreItems))});break}case Fo.a.GIF_FETCH_REQUESTED:{const{getCurrentListId:e}=s,a=Object(Io.Q)(e(),{listContentType:h.Db.GIFS,keyword:t.query,listFilter:h.Eb.GIFS});return babelHelpers.extends({},t,{listId:a})}case Fo.a.V3_MESSAGE_SAVE_SUCCEEDED:case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const{getMessageIdsFromMessageGroupId:e,doesMessageGroupIdExist:n,getFoldersSelectors:r,getAttachmentIdsByMessageId:o,getAttachmentById:i,getMessageSubject:c,getMessageSnippet:l,__getMessageWithFlagsAndFolderId:d}=s,{__get__:E}=r(),{conversationsMode:_,message:u,listId:p}=t,m=_?u.conversationId:u.id,S={id:m};if(n(m)){const t=e(m),s=[];t.forEach(e=>{const t=d(e),a=o(e).map(i).filter(Boolean);s.push(babelHelpers.extends({},t,{id:e,attachments:a,attachmentCount:a.length,folder:E(t.folderId||t.folderOfDelivery),snippet:l(e,p),headers:babelHelpers.extends({},t.headers,{subject:c(e,p)})}))}),s.push(u),S.messages=s}else S.messages=[u];a.push(HO(s,Object(Io.Q)(t.listId,{listContentType:h.Db.MESSAGES}),[S],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,void 0,void 0,void 0,t.type));break}case Fo.a.INITIAL_STATE:case Fo.a.UNDO_MOVE_SUCCEEDED:case Fo.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case Fo.a.CHANGE_FOLDER_SUCCEEDED:case Fo.a.MORE_MESSAGES_REQUEST_SUCCESS:case Fo.a.PARENT_MESSAGE_METADATA_SUCCEEDED:case Fo.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:if(t.messageGroupList&&a.push(HO(s,t.listId,t.messageGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroup&&a.push(HO(s,Object(Io.Q)(t.listId,{listContentType:h.Db.MESSAGES}),[t.messageGroup],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroups&&a.push(HO(s,Object(Io.Q)(t.listId,{listContentType:h.Db.MESSAGES}),t.messageGroups,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.draftMessage&&a.push(HO(s,t.listId,t.draftMessage,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.response&&a.push(...kO(t.response,s,t.listId,t.folders)),t.message&&t.type===Fo.a.INITIAL_STATE){const{messageMetadataMap:e,message:n}=t,{csid:r}=n;if(!Object.keys(e).length)return t;a.push(babelHelpers.extends({},GO(s.getAttachmentsSelectors(),t),{messages:{[n.id]:babelHelpers.extends({},E()(n,["snippet","attachments","headers","schemaCards"]),{headers:E()(n.headers,["subject"])},r?{csid:r}:{})},subjects:{[n.id]:{[t.listId]:n.headers.subject}},snippets:{[n.id]:{[t.listId]:n.snippet}}})),t.draftMessageId||(t.draftMessageId=t.message.id)}break;case Fo.a.COUPONS_LIST_SUCCEEDED:case Fo.a.MORE_COUPONS_SUCCESS:a.push(HO(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems));break;case Fo.a.EXTRACT_COUPON_SUCCEEDED:case Fo.a.RECEIPTS_LIST_SUCCEEDED:case Fo.a.MORE_RECEIPTS_SUCCESS:case Fo.a.TRAVEL_LIST_SUCCEEDED:case Fo.a.MORE_TRAVEL_ITEMS_SUCCEEDED:a.push(HO(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,t.parentMessagesMap));break;case Fo.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:{const{listId:e,listContentBlock:n={}}=t;e&&n&&a.push(HO(s,e,n.items,n.offset?n.nextItemsUrl:"",n.offset,n.totalHits,n.hasMoreItems&&!!n.offset));break}case Fo.a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const{listId:e,contacts:s}=t,a=s.reduce((e,t)=>{const{id:s,xobniId:a}=t;return e.contactEmailToId[s]=a,void 0!==e.idToContact[t.xobniId]?(e.idToContact[t.xobniId].emails=ls()([...e.idToContact[t.xobniId].emails,...t.emails]),e):(e.contacts=[...e.contacts,t],e.idToContact[a]=t,e)},{contacts:[],idToContact:{},contactEmailToId:{}}),n=s.map(({id:e})=>e);return babelHelpers.extends({},t,{listData:{lists:{[e]:{itemIds:n}}},contacts:a.contacts,contactEmailToId:a.contactEmailToId})}case Fo.a.CONTACTS_LIST_FETCH_SUCCEEDED:{const{listId:e,contacts:s,characters:a=[]}=t,n=a.length>0,r=s.reduce((t,{category:s,contacts:a,remainingCount:n})=>{const r=Object(Io.Q)(e,{name:s});return babelHelpers.extends({},t,bO(r,a,"",0,a.length+n,n>0))},{});return n?babelHelpers.extends({},t,{listData:{lists:r}}):babelHelpers.extends({},t,{listData:{lists:babelHelpers.extends({},r,{[e]:{itemIds:Object.keys(r),nextItemsUrl:"",offset:0,totalHits:s.length,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}})}})}case Fo.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case Fo.a.SEARCH_LIST_ITEMS_RECEIVED:case Fo.a.GIF_FETCH_SUCCEEDED:a.push(...kO(t.response,s,t.listId));break;case Fo.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:case Fo.a.COUPONS_ADD_TAG_DECO_REQUESTED:{const{messageDecosPayloads:e,schemaCard:n,listId:r}=t,o=e.map(({messageId:e})=>({id:e,messages:[{id:e,schemaCards:[n]}]}));a.push(HO(s,r,o));break}case Fo.a.RETAILERS_LIST_SUCCEEDED:{const{listIds:e,retailers:n,hasMoreItems:r}=t;e.forEach(e=>a.push(HO(s,e,n,void 0,void 0,void 0,r)));break}case Fo.a.LINK_RETAILER_SUCCEEDED:case Fo.a.UNLINK_RETAILER_SUCCEEDED:{const{listIds:e,retailers:n}=t;e.forEach(e=>a.push(HO(s,e,n)));break}case Fo.a.OFFERS_LIST_SUCCEEDED:case Fo.a.MORE_OFFERS_LIST_SUCCEEDED:{const{listId:e,offers:n,hasMoreItems:r,offset:o,offerType:i}=t;a.push(HO(s,e,n,void 0,o,void 0,r,void 0,void 0,void 0,void 0,void 0,i));break}case Fo.a.ACTIVATED_OFFERS_LIST_SUCCEEDED:case Fo.a.MORE_ACTIVATED_OFFERS_LIST_SUCCEEDED:{const{listId:e,offers:n,hasMoreItems:r,offset:o}=t;a.push(HO(s,e,n,void 0,o,void 0,r));break}case Fo.a.ACTIVATE_OFFER_SUCCEEDED:{const{listId:e,offers:n}=t;a.push(HO(s,e,n));break}case Fo.a.RETAILERS_LIST_FAILED:{const{listIds:e}=t;e.forEach(e=>a.push(HO(s,e,[])));break}default:return t}return babelHelpers.extends({},t,{listData:xO(a,t,s)})};var jO=(e,t)=>{const{type:s,folders:a=[]}=t;switch(s){case Fo.a.RENAME_FOLDER_REQUESTED:{const{folderId:s,folderName:a}=t,{getFoldersSelectors:n,getAccountIdByFolderId:r}=Object(So.b)(e),o=r(s),{getFolderIdsByAccountId:i,getFolderPath:c}=n(),l=i(o),d=c(s)+"/",E=a+"/",_=l.filter(e=>-1!==c(e).indexOf(d)&&e!==s).map(e=>({folderId:e,folderName:c(e).replace(d,E)}));return babelHelpers.extends({},t,{subfolders:_})}case Fo.a.INITIAL_STATE:case Fo.a.UNDO_MOVE_SUCCEEDED:case Fo.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case Fo.a.CHANGE_FOLDER_SUCCEEDED:case Fo.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case Fo.a.SEARCH_LIST_ITEMS_RECEIVED:return a.length?babelHelpers.extends({},t,{folderMap:Object(gt.d)(a)}):t;case Fo.a.CREATE_FOLDER_SUCCEEDED:case Fo.a.RENAME_FOLDER_SUCCEEDED:{const{folder:e,subfolders:s=[]}=t;return babelHelpers.extends({},t,{folderMap:babelHelpers.extends({[e.id]:e},s.reduce((e,t)=>babelHelpers.extends({},e,{[t.id]:t}),{}))})}default:return t}};var VO=(e,t)=>{const{streamId:s}=t,{doesStreamExist:a,getSelectedStreamItems:n,getCursor:r}=Object(So.b)(e);if(!s)return t;switch(t.type){case Fo.a.STREAM_ITEM_TOGGLED:case Fo.a.ITEMS_DRAG_STARTED:return babelHelpers.extends({},t,{selectionPayload:{oldSelectedItems:a(s)?n(s):[]}});case Fo.a.V3_MESSAGE_SAVE_SUCCEEDED:case Fo.a.MESSAGE_SAVE_SUCCEEDED:case Fo.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case Fo.a.STREAM_CURSOR_MOVED:case Fo.a.STREAM_SELECT_CURSOR_MOVED:case Fo.a.STREAM_ITEMS_RANGE_SELECTED:case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case Fo.a.V3_MESSAGE_SEND_SUCCEEDED:case Fo.a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case Fo.a.CHANGE_FOLDER_SUCCEEDED:case Fo.a.SEARCH_LIST_ITEMS_RECEIVED:case Fo.a.UNDO_MOVE_SUCCEEDED:case Fo.a.MORE_MESSAGES_REQUEST_SUCCESS:case Fo.a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case Fo.a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case Fo.a.GIF_FETCH_SUCCEEDED:case Fo.a.MORE_COUPONS_SUCCESS:case Fo.a.MORE_RECEIPTS_SUCCESS:case Fo.a.RECEIPTS_LIST_SUCCEEDED:case Fo.a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case Fo.a.COUPONS_LIST_SUCCEEDED:case Fo.a.EXTRACT_COUPON_SUCCEEDED:case Fo.a.TRAVEL_LIST_SUCCEEDED:case Fo.a.COUPONS_ADD_TAG_DECO_REQUESTED:case Fo.a.MORE_TRAVEL_ITEMS_SUCCEEDED:return babelHelpers.extends({},t,{selectionPayload:{oldCursor:a(s)?r(s):void 0,oldSelectedItems:a(s)?n(s):[]}});case Fo.a.DELETE_ITEMS_REQUESTED:case Fo.a.MOVE_ITEMS_REQUESTED:if(void 0!==t.route&&t.route.params.fid===h.Ed.SPAM&&(t.triageActionType===h.Pd.NOT_SPAM_SELECTED_ITEMS||t.triageActionType===h.Pd.DELETE_SELECTED_ITEMS))return babelHelpers.extends({},t,{streamItems:void 0})}return t},WO=s(265),qO=s.n(WO);const KO=({state:e,featureName:t,featureCueTimestamps:s})=>{const{isEnabled:a,getSetting:n}=Object(So.b)(e).getFeaturesSelectors(),r=a(h.kb.PUSH_NOTIFICATIONS),o=!!n(h.id.NOTIFICATION),i=a("browserNotifications"),c=n(h.id.PUSH_NOTIFICATIONS_EXPERIMENT),l=s[h.kb.MOBILE_ONBOARDING_CUE]||0;return!!(Object(So.b)(e).isMobileRoute()&&o&&r&&i&&l&&qO()(new Date,1e3*l)>=7&&((e,t)=>{return-1!=={[h.kb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:[h.Ec.DEFAULT,h.Ec.LAUNCHV01],[h.kb.PUSH_NOTIFICATIONS_CUE_PTR]:[h.Ec.PTRV01,h.Ec.PTRV02],[h.kb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:[h.Ec.COMPOSEV01]}[e].indexOf(t)})(t,c)&&Object(lA.d)()===lA.a.DEFAULT)},zO={[h.kb.PUSH_NOTIFICATIONS_CUE_LAUNCH]:KO,[h.kb.PUSH_NOTIFICATIONS_CUE_PTR]:KO,[h.kb.PUSH_NOTIFICATIONS_CUE_COMPOSE]:KO,[h.kb.DELAY_MOBILE_ONBOARDING_CUE]:({featureCueTimestamps:e})=>{return!(e[h.kb.MOBILE_ONBOARDING_CUE]||0)},[h.kb.MOBILE_ONBOARDING_CUE]:({state:e,featureCueTimestamps:t})=>{const s=Object(So.b)(e).getFeaturesSelectors().isEnabled(h.kb.DELAY_MOBILE_ONBOARDING),a=t[h.kb.DELAY_MOBILE_ONBOARDING_CUE]||0;return!(s&&!(a&&qO()(new Date,1e3*a)>=1))},[h.kb.ADBLOCK_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const{isEnabled:s}=Object(So.b)(e).getFeaturesSelectors();return!(s(h.kb.MAIL_PRO)&&t[h.kb.ADBLOCK_UPSELL_CUE])},[h.kb.PHOTOS_CUE]:()=>!1,[h.kb.LINKEDIN_REAUTH_CUE]:({action:e})=>{if(!e.response||!e.response[h.vd.LinkedIn])return!1;const{connectedTimestamp:t,spid:s}=e.response[h.vd.LinkedIn];return!!(s&&t<1535673600)},[h.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const{getSetting:s}=Object(So.b)(e),a=s(h.id.RIGHT_RAIL_UPSELL_CUE_INTERVAL);return Date.now()-1e3*t[h.kb.RIGHT_RAIL_AD_FREE_UPSELL_CUE]>a}},YO=(e,t={})=>{const s=(e,s="value")=>{return null===s?t[e]:(t[e]||{})[s]},a=t[h.Wb.BLOCK_IMAGES]?!t[h.Wb.BLOCK_IMAGES].value:void 0;return Object.keys(t).length?{[h.id.THEME]:s(e?h.Wb.MOBILE_THEME:h.Wb.THEME),[h.id.THEME_MODE]:s(e?h.Wb.MOBILE_THEME_MODE:h.Wb.THEME_MODE),[h.id.MSG_LIST_DENSITY]:s(h.Wb.MSG_LIST_DENSITY),[h.id.PREVIEW_PANE]:s(h.Wb.PREVIEW_PANE),[h.id.SNIPPETS]:s(e?h.Wb.MOBILE_SNIPPETS:h.Wb.SNIPPETS),[h.id.COMPOSE_FONT_FAMILY]:s(h.Wb.COMPOSE_FONT_FAMILY),[h.id.COMPOSE_FONT_SIZE]:s(h.Wb.COMPOSE_FONT_SIZE),[h.id.DESKTOP_NOTIFICATION]:s(h.Wb.DESKTOP_NOTIFICATION),[h.id.MOBILE_NOTIFICATION]:s(h.Wb.MOBILE_NOTIFICATION),[h.id.MARK_AS_READ_INTERVAL]:s(h.Wb.MARK_AS_READ_INTERVAL),[h.id.DELIVERY_BLOCKED_SENDERS]:s(h.Wb.DELIVERY_BLOCKED_SENDERS,"senders"),[h.id.SHOW_IMAGES]:e?s(h.Wb.MOBILE_SHOW_IMAGES):a,[h.id.LINK_ENHANCR]:s(h.Wb.LINK_ENHANCER),[h.id.VACATION_PREFERENCES]:s(h.Wb.VACATION_PREFERENCES,null),[h.id.DEA_BASE_NAME]:s(h.Wb.DEA_BASE_NAME,null),[h.id.MAILBOX_SIZE]:s(h.Wb.MAILBOX_SIZE,null),[h.id.MESSAGE_FILTERS]:s(h.Wb.MESSAGE_FILTERS,"filters"),[h.id.ACTION_AFTER_MSG_MOVE]:s(h.Wb.ACTION_AFTER_MSG_MOVE),[h.id.SHOW_CUSTOM_FOLDERS]:s(h.Wb.SHOW_CUSTOM_FOLDERS),[h.id.MAIL_TABS]:s(h.Wb.MAIL_TABS),[h.id.EMAIL_SUBSCRIPTIONS]:s(h.Wb.EMAIL_SUBSCRIPTIONS),[h.id.HIDE_AD]:s(h.Wb.HIDE_AD),[h.id.EXPANDED_FOLDERS]:s(h.Wb.EXPANDED_FOLDERS),[h.id.STATIONERY_DEFAULT_THEME]:s(h.Wb.STATIONERY_DEFAULT_THEME),[h.id.UNSUBSCRIBE_NOTIFICATION]:s(h.Wb.UNSUBSCRIBE_NOTIFICATION),[h.id.UNSUBSCRIBE_TIMESTAMP]:s(h.Wb.UNSUBSCRIBE_TIMESTAMP),[h.id.NUM_UNSUBSCRIBED_ITEMS]:s(h.Wb.NUM_UNSUBSCRIBED_ITEMS),[h.id.RECENTLY_USED_EMOJIS]:s(h.Wb.RECENTLY_USED_EMOJIS),[h.id.SYSTEM_TABS]:s(h.Wb.SYSTEM_TABS),[h.id.SCOUT_ONBOARDING]:s(h.Wb.SCOUT_ONBOARDING),[h.id.AD_BLOCK_FEATURE_CUE_ID]:s(h.Wb.AD_BLOCK_FEATURE_CUE_ID),[h.id.PREFERRED_AD_FORMAT]:s(h.Wb.PREFERRED_AD_FORMAT),[h.id.SUPPRESSED_UPSELLS]:s(h.Wb.SUPPRESSED_UPSELLS)}:{}};var ZO=({__initializeFeatures__:e,featureSequence:t={},featureCueTimestamps:s={},config:a={},queryStringOverrides:n={}})=>(r,o)=>{const{type:i,name:c,fromFeature:l,mailboxAttributes:d}=o,E=babelHelpers.objectWithoutProperties(o,["type","name","fromFeature","mailboxAttributes"]),_=t[i]||[],u=(({state:e={},action:t={},initializedFeatures:s={},featureCueTimestamps:a={}})=>n=>{const r=s[n]||{},{isEnabled:o}=Object(So.b)(e).getFeaturesSelectors(),i=o(h.kb.SCOUT_PREDICATE);if(o(h.kb.SCOUT_RECURRING)&&r.isFeatureCue&&r.recurringInterval&&a[n]){const e=Math.floor(Date.now()/1e3)-parseInt(a[n],10);if(e>0&&e<r.recurringInterval)return!1}return!i||"function"!=typeof zO[n]||zO[n]({state:e,action:t,featureName:n,featureCueTimestamps:a})})({state:r,action:o,initializedFeatures:e,featureCueTimestamps:s});switch(i){case Fo.a.LAUNCH_PAGE_REQUESTED:return babelHelpers.extends({},o,{features:babelHelpers.extends({},a)});case Fo.a.INITIAL_STATE:{const[t]=_.filter(u),{responses:s}=d||{},i=Object(So.b)(r).isMobileRoute(),c=YO(i,s);return n!=={}&&Object.assign(c,n),babelHelpers.extends({},o,{features:Object.assign({},Object.keys(e).reduce((s,a)=>babelHelpers.extends({},s,{[a]:(a===t||!!e[a].enabled)&&u(a)}),{}),Object.keys(a).filter(e=>"boolean"!=typeof a[e]&&!(e in c)).reduce((e,t)=>babelHelpers.extends({},e,{[t]:a[t]}),c)),nextFeature:t||"",featureCues:Object.keys(e).filter(t=>e[t].isFeatureCue).reduce((t,s)=>babelHelpers.extends({},t,{[s]:{isShown:!1,isKeySaved:!1,isPersistent:!!e[s].isPersistent,isUdbOnly:!!e[s].isUdbOnly,subkey:e[s].subkey}}),{})})}case Fo.a.SETTINGS_BLOCKED_SENDERS_RECEIVED:case Fo.a.POST_LAUNCH_SYNC_SUCCEEDED:case Fo.a.COMPOSE_ATTRIBUTES_RECEIVED:case Fo.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{mailboxAttributes:e}=o,t=Object(So.b)(r).isMobileRoute(),s=YO(t,e);return babelHelpers.extends({},o,{features:s})}case Fo.a.FEATURE_TRY_NOW_REQUESTED:case Fo.a.FEATURE_DISABLED:case Fo.a.FEATURE_CLOSED:case Fo.a.FEATURE_CUE_NOTIFICATION_CLOSED:{if(!l&&!c)return o;const{nextFeatureCues:t={}}=e[l||c];return babelHelpers.extends({},E,{type:i,nextFeatureCues:[t[i]]},l?{fromFeature:l}:{name:c})}default:{const[e]=Object(So.b)(r).getFeatureCueSelectors().shownFeatures().filter(Object(So.b)(r).getFeaturesSelectors().isEnabled),[t]=e?[]:_.filter(e=>!Object(So.b)(r).getFeatureCueSelectors().isShown(e)).filter(u);return t?babelHelpers.extends({},o,{nextFeature:t}):o}}};const XO={isReadMessage:e=>e.flags.read,isUnreadMessage:e=>!e.flags.read,isStarredMessage:e=>e.flags.flagged,isUnstarredMessage:e=>!e.flags.flagged,isRecentlySentMessage:e=>t=>e.isSendRequested(t.csid),isMoveableMessage:(e,t)=>s=>(function(e,t,s){const{isMessageRoute:a}=s,n=t.folder,r=t.destinationFolder,o=Object(gt.n)(r),i=Object(gt.n)(n);let c=function(e){const t={[h.sb.INBOX]:1,[h.sb.USER]:1,[h.sb.ARCHIVE]:1,[h.sb.BULK]:2,[h.sb.TRASH]:2,[h.sb.SENT]:3,[h.sb.DRAFT]:4};return e.reduce((e,s)=>{const a=t[e]||100,n=t[s]||100;return a<n?a:s},"")}(e);c||(c=QO);if(!function(e,t){return e.accountId===t.accountId}(n,r))return!1;if(n.id===r.id&&o!==h.sb.TRASH)return!1;switch(c){case h.sb.INBOX:case h.sb.USER:case h.sb.ARCHIVE:case h.sb.SENT:return a()&&!t.isExplicitlySelected?i!==h.sb.DRAFT:function(e){return e===h.sb.DRAFT}(i)?o===h.sb.TRASH:function(e){return e===h.sb.SENT}(i)?c===h.sb.SENT&&!$O(o):!$O(i)&&!$O(o);case h.sb.DRAFT:return a()&&!t.isExplicitlySelected?i!==h.sb.DRAFT:i===h.sb.DRAFT&&(o===h.sb.TRASH||o===h.sb.SENT);case h.sb.TRASH:case h.sb.BULK:return!$O(o);case QO:return $O(i)?o===h.sb.TRASH:!$O(o);default:return!1}})(e,s,t),isFromSenders:e=>t=>(function(e,t){if(t.fromAddresses&&t.fromAddresses.some(t=>-1!==e.indexOf(t.email)))return!0;return!1})(e,t),default:()=>!1},QO="KEYWORD";function $O(e){return e===h.sb.DRAFT||e===h.sb.SENT}var JO=XO;const{TRASH:eb,BULK:tb,DRAFT:sb,SENT:ab}=h.sb,nb=e=>-1!==[h.Pd.READ_CHANGE_FOLDER_ITEMS,h.Pd.ARCHIVE_FOLDER_ITEMS,h.Pd.DELETE_FOLDER_ITEMS,h.Pd.DELETE_ALL_FROM_SENDERS].indexOf(e),rb=({acctId:e,folderId:t,senderEmailIds:s,filterUnread:a=!1})=>{if(s.length>0)return t?`folderId:${t} count:10000`+s.reduce((e,t)=>e+` fromEmail:${t}`,""):`acctId:${e} count:10000`+s.reduce((e,t)=>e+` fromEmail:${t}`,"");let n=`folderId:${t} count:10000`;return a&&(n+=" is:unread"),n};function ob(e={},t,s){const{folder:a,destinationFolder:n}=e;if(!a)return!1;if(s===Fo.a.READ_CHANGE_REQUESTED||s===Fo.a.STAR_CHANGE_REQUESTED)return!1;const r=t(a.id),o=n?t(n.id):void 0;return!(Object(Io.q)(e.listId)!==h.Db.MESSAGES||!e.isAffected)&&((!o||r!==tb||o===eb)&&((s!==Fo.a.MOVE_ITEMS_REQUESTED||-1===[eb,tb].indexOf(r))&&-1!==[eb,tb,sb].indexOf(r)))}const ib=e=>-1!==[h.Db.MESSAGES,h.Db.IMAGES,h.Db.DOCUMENTS,h.Db.COUPON_CARDS,h.Db.TRAVEL_CARDS,h.Db.REFUND_CARDS].indexOf(Object(Io.q)(e)),cb=(e,t)=>s=>{const{destinationFolderType:a}=t,{getFoldersSelectors:n,getMessageGroupsSelectors:r,getMessagesSelectors:o,getFeaturesSelectors:i,getAttachmentIdsByMessageId:c,getMessageCsid:l,getMessageFlags:d,getMessageFolderId:E}=Object(So.b)(e),{getAccountIdByFolderId:_,getFolderIdsFromFolderType:u,getPrimaryFolderTypeByFolderId:p}=n(),{doesMessageGroupIdExist:m,getMessageIdsFromMessageGroupId:S}=r(),{getConversationId:g,getFromAddresses:I}=o(),{isEnabled:C}=i(),T=((e,t)=>{if(t.type!==Fo.a.DELETE_ITEMS_REQUESTED)return()=>!0;const{destinationFolderType:s}=t,{isFeatureEnabled:a,getPrimaryFolderTypeByFolderId:n,isSentMessage:r,getCurrentListId:o,getRoute:i}=Object(So.b)(e),c=i();if(!a(h.kb.CONVERSATIONS)||s!==eb||c.name===h.Pc.SEARCH||c.name===h.Pc.MESSAGE_FROM_SEARCH_LIST)return()=>!0;const l=Object(Io.m)(o());return l&&n(l)===ab?e=>r(e):e=>!r(e)})(e,t);return s.filter(e=>ib(e.listId)&&m(e.id)).map(e=>{const s=S(e.id).filter(T);return s.map(n=>{const r=E(n),o=_(r),i=a?u(a,o)[0]:t.destinationFolderId,m=i?Eb(i,p(i),_(i)):void 0,S=C(h.kb.CONVERSATIONS)?g(n):n,T=(e.messageIds||[]).indexOf(n)>=0||1===s.length,A=!e.messageIds&&s.indexOf(n)>=0,O=I(n);return babelHelpers.extends({},e,{messageId:n,csid:l(n),isExplicitlySelected:T,isImplicitlySelected:A,groupId:S,folder:Eb(r,p(r),o),destinationFolder:m,flags:d(n)||{},attachmentIds:c(n),fromAddresses:O})})}).reduce((e,t)=>e.concat(t),[])},lb=(e,t)=>s=>{const a=cb(e,t);return[...s.filter(e=>-1===[h.Db.MESSAGES,h.Db.COUPON_CARDS].indexOf(Object(Io.q)(e.listId))),...a(s)]},db=(e,t)=>{const{streamId:s,streamItem:a}=t,{doesStreamExist:n,getSelectedStreamItems:r,getCursorItem:o}=Object(So.b)(e),i=n(s)?o(s):void 0,c=n(s)?r(s):[];let l=[];return a?l=[a]:t.streamItems&&t.batchDelete?l=t.streamItems:t.allSelected?l=t.streamItems.map(({id:e,listId:t})=>({id:e,listId:t})):c.length?l=c:i&&(l=[i]),lb(e,t)(l)};function Eb(e,t,s){return{id:e,types:[t],accountId:s}}const _b=(e,t)=>{const{getFoldersSelectors:s,getListsSelectors:a}=Object(So.b)(e),{getFolderIdsByName:n,doesFolderIdExist:r}=s(),{getListIdsByContentType:o}=a();switch(t.type){case Fo.a.PENSIEVE_DELETE_REQUESTED:return o(h.Db.IMAGES).map(e=>({listId:e}));case Fo.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:return o(h.Db.COUPON_CARDS).map(e=>({listId:e}))}return o(h.Db.MESSAGES).map(e=>{const{folderIds:t=[],folderNames:s=[]}=Object(Io.n)(e);return{listId:e,folderIds:s.reduce((e,t)=>e.concat(n(t)),[]).concat(t).filter(r)}}).concat(o(h.Db.IMAGES).map(e=>({listId:e}))).concat(o(h.Db.DOCUMENTS).map(e=>({listId:e})))};function ub(e,t){const{type:s,itemToUpdate:a}=t,n=Object(So.b)(e),{getFoldersSelectors:r}=n,{doesFolderIdExist:o,getPrimaryFolderTypeByFolderId:i,getFolderIdsByName:c}=r();switch(s){case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case Fo.a.V3_MESSAGE_SEND_SUCCEEDED:return JO.isRecentlySentMessage(n);case Fo.a.UNDO_MOVE_REQUESTED:case Fo.a.MOVE_ITEMS_REQUESTED:case Fo.a.DELETE_ITEMS_REQUESTED:{const{folderIds:e=[],folderNames:t=[]}=Object(Io.n)(a.listId),s=t.reduce((e,t)=>e.concat(c(t)),[]).concat(e).filter(o).map(i);return JO.isMoveableMessage(s,n)}case Fo.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const{deleteItemsFromSenders:e=[]}=t;return JO.isFromSenders(e)}case Fo.a.READ_CHANGE_REQUESTED:return Object(m.a)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`),t.isRead?JO.isReadMessage:JO.isUnreadMessage;case Fo.a.STAR_CHANGE_REQUESTED:return Object(m.a)("boolean"==typeof t.isStarred,`Action ${s} does not have isStarred prop.`),t.isStarred?JO.isStarredMessage:JO.isUnstarredMessage;default:Object(m.a)(!1,`Action ${s} does not have an associated rule with it.`)}}var pb=(e,t)=>{const{type:s,streamId:a,streamItem:n,staleFolderIds:r=[],deleteDuplicates:o}=t;let i;if(s===Fo.a.CHECK_MAIL_RECEIVED_WITH_UPDATES&&r.length)return babelHelpers.extends({},t,{listsToUpdate:_b(e,t)});if(s===Fo.a.UPDATE_ITEMS_SUCCEEDED&&nb(t.triageActionType))return babelHelpers.extends({},t,{listsToUpdate:_b(e,t),forceSync:!0});if(!a&&s!==Fo.a.PENSIEVE_DELETE_REQUESTED)return t;switch(s){case Fo.a.UNDO_MOVE_REQUESTED:i=t.itemsToUpdate;break;case Fo.a.V3_MESSAGE_SAVE_SUCCEEDED:{const{doesStreamExist:s,getCursorItem:r}=Object(So.b)(e),o=s(a)?r(a):void 0,c=lb(e,t);if(!(i=o?c([o]):void 0))break;i=i.map(e=>e.csid===t.csid?babelHelpers.extends({},e,{newId:n.id,isAffected:!0}):e);break}case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case Fo.a.V3_MESSAGE_SEND_SUCCEEDED:case Fo.a.MOVE_ITEMS_REQUESTED:case Fo.a.DELETE_ITEMS_REQUESTED:case Fo.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case Fo.a.READ_CHANGE_REQUESTED:case Fo.a.STAR_CHANGE_REQUESTED:{const{getFoldersSelectors:a}=Object(So.b)(e),{getPrimaryFolderTypeByFolderId:n}=a();if(nb(t.triageActionType)){const{folderId:a,flags:r={},destinationFolderType:o,listId:c,permanent:l=!1}=t,d=((e,t)=>(s,a,n={},r,o,i,c=[])=>{const{getFoldersSelectors:l}=Object(So.b)(e),{getAccountIdByFolderId:d,getPrimaryFolderTypeByFolderId:E,getFolderIdsFromFolderType:_}=l(),u=a?d(a):s,p=r?_(r,u)[0]:void 0,m=p?Eb(p,E(p),d(p)):void 0;return{folder:a?Eb(a,E(a),u):void 0,listId:i,messageQuery:rb({acctId:s,folderId:a,senderEmailIds:c,filterUnread:t.triageActionType===h.Pd.READ_CHANGE_FOLDER_ITEMS}),isAffected:!0,permanentDelete:o,flags:n,destinationFolder:m}})(e,t),{getSelectedAccountId:_}=Object(So.b)(e),u=!(!a||-1===[h.sb.BULK,h.sb.TRASH].indexOf(n(a)));if(s===Fo.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const{deleteItemsFromSenders:r=[]}=t;i=(i=[d(_(),u?a:void 0,{},o,l,c,r)]).concat(db(e,t).filter(s=>ub(e,babelHelpers.extends({},t,{itemToUpdate:s}))(s)).map(e=>{let t=Object.assign({},e,{isAffected:!0});return ob(t,n,s)&&(t.permanentDelete=!0,t=E()(t,"destinationFolder")),t}))}else i=[d(void 0,a,r,o,l,c)];break}i=db(e,t).map(a=>{const r=ub(e,babelHelpers.extends({},t,{itemToUpdate:a}));let i=babelHelpers.extends({},a,{isAffected:(a.isExplicitlySelected||a.isImplicitlySelected)&&ib(a.listId)&&r(a)});!i.destinationFolder&&(s===Fo.a.DELETE_ITEMS_REQUESTED||s===Fo.a.MOVE_ITEMS_REQUESTED)||ob(i,n,s)?(i.permanentDelete=!0,i=E()(i,"destinationFolder")):i.permanentDelete=!1;const c=Object(T.a)(a,"destinationFolder.types",[]),l=Object(T.a)(a,"folder.types",[]);return i.isSpamMove=!1,i.isHamMove=!1,s!==Fo.a.DELETE_ITEMS_REQUESTED&&s!==Fo.a.MOVE_ITEMS_REQUESTED||i.permanentDelete||(-1!==c.indexOf(h.sb.BULK)?i.isSpamMove=!0:-1!==l.indexOf(h.sb.BULK)&&(i.isHamMove=!0)),i.deleteDuplicates=o,i});break}case Fo.a.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const{messageDecosPayloads:e}=t;i=e.map(e=>({id:e.messageId,isAffected:!0}));break}case Fo.a.PENSIEVE_DELETE_REQUESTED:{const{getCurrentListId:s}=Object(So.b)(e),a=s();t.streamId=a,t.streamItems=[{id:t.attachment.id,listId:a}],i=t.streamItems.map(e=>babelHelpers.extends({},e,{isAffected:!0}));break}}return i?babelHelpers.extends({},t,{itemsToUpdate:i,listsToUpdate:_b(e,t)}):t};var mb=(e={},t)=>{const{type:s,simpleBody:a,messageIds:n=[],messageBodiesMap:r={},messageMetadataMap:o={},errorMessageIds:i=[]}=t;switch(s){case Fo.a.INITIAL_STATE:case Fo.a.MESSAGE_BODIES_RECEIVED:case Fo.a.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case Fo.a.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:{const e=Object.keys(r);if(!e.length&&!i.length)return t;const s=e.reduce((e,t)=>{const{csid:s}=o[t]||{};return babelHelpers.extends({},e,{[t]:{body:r[t]}},s?{[s]:{body:r[t]}}:{})},{}),a=i.reduce((e,t)=>babelHelpers.extends({},e,{[t]:{}}),{});return babelHelpers.extends({},t,{v3MessageBodiesMap:babelHelpers.extends({},s,a)})}case Fo.a.MESSAGE_AUTO_SAVE_SUCCEEDED:case Fo.a.MESSAGE_SAVE_SUCCEEDED:case Fo.a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case Fo.a.V3_MESSAGE_SAVE_SUCCEEDED:case Fo.a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return babelHelpers.extends({},t,{v3MessageBodiesMap:babelHelpers.extends({[t.message.id]:{body:a}},t.csid?{[t.csid]:{body:a}}:{})});case Fo.a.MESSAGE_GROUP_OPENED:case Fo.a.MESSAGE_BODIES_FAILED:case Fo.a.PREVIEW_MESSAGE_REQUESTED:return n.length?babelHelpers.extends({},t,{v3MessageBodiesMap:n.reduce((e,t)=>babelHelpers.extends({},e,{[t]:{}}),{})}):t;default:return t}};const hb=h.I.Modes;var Sb=(e,t)=>{switch(t.type){case Fo.a.V3_MESSAGE_SEND_REQUESTED:{const{getRoute:s}=Object(So.b)(e),a=Object(Io.t)(s());return babelHelpers.extends({},t,{listId:a})}case Fo.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return babelHelpers.extends({},t,{inReplyToMessageId:t.composeMode===hb.REPLY?t.message.id:null,inReplyAllToMessageId:t.composeMode===hb.REPLY_ALL?t.message.id:null,inForwardToMessageId:t.composeMode===hb.FORWARD?t.message.id:null});default:return t}};var gb=({internal:e=!1})=>(t,s)=>{const{type:a}=s;switch(a){case Fo.a.INITIAL_STATE:return babelHelpers.extends({},s,{internal:e});default:return s}},Ib=(e,t)=>{switch(t.type){case Fo.a.DELETE_ITEMS_REQUESTED:case Fo.a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView){const{getAdsSelectors:s}=Object(So.b)(e),a=s(),n=a.getMessageReadAdRotationTimestamp(),r=a.getMessageReadAdRotationActive();return babelHelpers.extends({},t,{messageReadAdRotationTimestamp:n,messageReadAdRotationActive:r})}break;case Fo.a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case Fo.a.MESSAGE_CARD_EXPANSION_CHANGED:case Fo.a.MESSAGE_CARD_FOCUSED:case Fo.a.APPLICATION_VISIBILITY_DID_CHANGE:case Fo.a.OPEN_PAGE_REQUESTED:{const{getAdsSelectors:s}=Object(So.b)(e),a=s(),n=a.getMessageReadAdRotationTimestamp(),r=a.getMessageReadAdRotationActive();return babelHelpers.extends({},t,{messageReadAdRotationTimestamp:n,messageReadAdRotationActive:r})}}return t},Cb=(e,t)=>{switch(t.type){case Fo.a.OPEN_PAGE_REQUESTED:{if(t.route.name===h.Pc.SPONSORED_MESSAGE){const{getAdsSelectors:s}=Object(So.b)(e),{getGeminiAdDataFromCreativeId:a,getSponsoredAd:n}=s(),{creativeId:r}=Object(T.a)(t,"route.params",{});return n(r)?t:babelHelpers.extends({},t,{sponsoredAd:a(r)})}if(t.route.name!==h.Pc.MESSAGE_FROM_FOLDER_LIST&&t.route.name!==h.Pc.MESSAGE_FROM_SEARCH_LIST)return t;const{getMessageGroupsSelectors:s,getMessageFromAddress:a,doesMessageIdExist:n,getFeaturesSelectors:r}=Object(So.b)(e),{isEnabled:o}=r(),i=Object(T.a)(t,"route.params.groupId",null);if(i&&o(h.kb.GEMINI_CONTEXTUAL_ADS)){const e=s().getMessageIdsFromMessageGroupId(i),r=e&&e[0],o=n(r)&&a(r),c=o&&ag(o);return babelHelpers.extends({},t,{geminiCategories:c})}break}}return t};var Tb=(e,t)=>{const{type:s}=t;switch(s){case Fo.a.STAR_CHANGE_REQUESTED:case Fo.a.READ_CHANGE_REQUESTED:{const{streamItem:s,streamId:a}=t,{doesStreamExist:n,getCursorItem:r,getSetting:o,isMessageRoute:i,getStreamsSelectors:c,getMessageGroupStreamItemsWithExpansionStates:l}=Object(So.b)(e),{getSelectedItemsSelectors:d}=c(),{isItemSelected:E}=n(a)?d(a):{},_=n(a)?r(a):{},u=o(h.id.PREVIEW_PANE);if(s&&(u&&m_()(s,_)&&!E(s)||i())){const e=l(s);return babelHelpers.extends({},t,{persistStreamItemExpansionStates:e})}return t}default:return t}};const Ab="abcdefghijklmnopqrstuvwxyz0123456789.!#$%&'*+-/=?^_`{|}~".split("");var Ob=(e,t)=>{switch(t.type){case Fo.a.CONTACT_SUGGESTIONS_REQUESTED:{const{getComposeSuggestionsFromImportantsByQuery:s}=Object(So.b)(e),a=s({query:t.query,contextEmail:t.contextFrom});return babelHelpers.extends({},t,{contacts:a,nextContacts:a.length?Ab.reduce((e,a)=>{const n=t.query+a;return e[n]=s({query:n,contextEmail:t.contextFrom}),e},{}):{}})}}return t},bb=(e,t)=>{const{getSetting:s}=Object(So.b)(e),a=s(h.id.PENCIL_AD_VERSION);if(["couponOnPencilAdPosition","coloredCouponOnPencilAdPosition","couponOnPencilAdRotation1","couponOnPencilAdRotation2","couponOnPencilAdRotation3"].indexOf(a)>-1&&Object(AA.d)(t)){let e=null;return"couponOnPencilAdPosition"===a||"coloredCouponOnPencilAdPosition"===a?e=0:"couponOnPencilAdRotation1"===a?e=1:"couponOnPencilAdRotation2"===a?e=2:"couponOnPencilAdRotation3"===a&&(e=3),babelHelpers.extends({},t,{numberOfRotation:e})}return t};var Rb=e=>[gb(e),AO,OO,BO,VO,jO,Sb,pb,ZO(e),mb,Ib,Cb,Tb,Ob,bb],Db=s(291);var fb=Object(kA.provideContext)(nE.a(Object($c.a)(Id)),{config:Ve.a.object,store:Ve.a.object,loader:Ve.a.object});const{paths:Nb,container:Mb,cssBundles:Lb,jsBundles:yb}=Mr[h.r.MAIL_APP];var Pb={name:h.r.MAIL_APP,component:EO,confirmMiddleware:(e,t)=>s=>{Object(C.b)()&&window.addEventListener("beforeunload",e=>{const{showUnsyncedDataWarning:a,isFeatureEnabled:n}=Object(So.b)(s.getState()),r=window.AppIntl.messages[SO.hasUnsavedMessage.id];if(n("promptToSync")&&(a()||t().some(e=>e.preventRouteChange)))return e.returnValue=r,r});let a=!1;return t=>n=>{const{getRoute:r,isFeatureEnabled:o}=Object(So.b)(s.getState());if(r().name){if(a)return;if(n.route&&n.previousRoute!==n.route&&o("promptToSync")&&n.unsyncedData.some(e=>e.preventRouteChange))return Object(hu.a)(we.a.createElement(nu.a,{primaryButtonLabel:SO.confirmRouteChangeModalLeaveButton,secondaryButtonLabel:SO.confirmRouteChangeModalCancelButton,customTitle:we.a.createElement(Pr.c,SO.confirmRouteChangeModalTitle),showCustomTitle:!0,message:we.a.createElement(Pr.c,SO.confirmRouteChangeModalBody),onPrimaryButtonClick:()=>{a=!1,t(n)},onSecondaryButtonClick:()=>{a=!1},onClose:()=>{a=!1}}),e.getComponentContext()),void(a=!0)}return t(n)}},routes:{[h.Pc.LIST]:{method:"GET",path:Nb[h.Pc.LIST]},[h.Pc.BASE]:{method:"GET",path:Nb[h.Pc.BASE]},[h.Pc.FOLDER]:{method:"GET",path:Nb[h.Pc.FOLDER]},[h.Pc.SPONSORED_MESSAGE]:{method:"GET",path:Nb[h.Pc.SPONSORED_MESSAGE]},[h.Pc.MESSAGE_FROM_LIST]:{method:"GET",path:Nb[h.Pc.MESSAGE_FROM_LIST]},[h.Pc.MESSAGE_FROM_SEARCH_LIST]:{method:"GET",path:Nb[h.Pc.MESSAGE_FROM_SEARCH_LIST]},[h.Pc.MESSAGE_FROM_FOLDER_LIST]:{method:"GET",path:Nb[h.Pc.MESSAGE_FROM_FOLDER_LIST]},[h.Pc.NEW_DRAFT]:{method:"GET",path:Nb[h.Pc.NEW_DRAFT]},[h.Pc.EDIT_DRAFT]:{method:"GET",path:Nb[h.Pc.EDIT_DRAFT]},[h.Pc.SEARCH]:{method:"GET",path:Nb[h.Pc.SEARCH]},[h.Pc.SETTINGS]:{method:"GET",path:Nb[h.Pc.SETTINGS]},[h.Pc.TUTORIAL]:{method:"GET",path:Nb[h.Pc.TUTORIAL]},[h.Pc.PHOTO]:{method:"GET",path:Nb[h.Pc.PHOTO]}},stores:[],plugins:[hO],cssBundles:Lb,jsBundles:yb,container:Mb,apiClientConstructors:o()(Dr.apiClientConstructors,{}),batchMethods:o()(Dr.batchMethods,{}),rootReducer:So.a,selectors:So.b,enhancers:Rb,actionSyncers:Db.a,searchComponent:fb},vb=(s(846),s(848),s(359)),Fb=s(627),Ub=s.n(Fb),Hb=function(e){const t=new Ub.a;return e.plugins.forEach(e=>{t.plug(e)}),t},kb=s(628),Gb=s.n(kb),wb=s(629),xb=s.n(wb);const Bb=/'/g,jb="generic_error",Vb=Object(T.c)(["INTERNAL","EXTERNAL"]),Wb=Object(T.c)(["ERROR_IS_NULL","PLUGIN","ACCESS_DENIED","MAIL_APP_CORS","MAIL_APP_VENDOR_CORS","MAIL_APP_LAZY_GROUP1_CORS","REDUX_DISPATCH","RENDER_APP","YAFT_CORS","DARLA_CORS"]),qb=1e3;let Kb="",zb=0;const Yb={};function Zb(e="",t="",s="",a="",n){const r=`${e=e.replace(Bb,'"')} ${t}:${s}:${a}`,o=n?n.message.replace(Bb,'"'):"",i=n?`${n.name}:${o}`:"",c=new Qd(n).toString(),l=function(e,t,s,a,n="",r=null){if(0===e.indexOf("Access is denied"))return Wb.ACCESS_DENIED;if(0===e.indexOf("redux_browser_dispatch_error"))return Wb.REDUX_DISPATCH;if(0===e.indexOf("Rendering App error"))return Wb.RENDER_APP;if(0===e.indexOf("Script error")&&0===s&&0===a){if(-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_"))return Wb.MAIL_APP_CORS;if(-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_vendor_"))return Wb.MAIL_APP_VENDOR_CORS;if(-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_lazy_group1_"))return Wb.MAIL_APP_LAZY_GROUP1_CORS;if(-1!==t.indexOf("s.yimg.com/os/yaft/yaft-"))return Wb.YAFT_CORS;if(-1!==t.indexOf("s.yimg.com/rq/darla"))return Wb.DARLA_CORS}return-1!==t.indexOf(".kaspersky-labs.com")||-1!==e.indexOf("KasperskyLab is not defined")?Wb.PLUGIN:-1!==n.indexOf("hostingcloud.science")?Wb.PLUGIN:r?r.name||"":Wb.ERROR_IS_NULL}(e,t,s,a,c,n),d=function(e,t="",s=""){return t===Wb.PLUGIN?Vb.EXTERNAL:-1!==e.indexOf("fc.yahoo.com")?Vb.EXTERNAL:-1===e.indexOf(".yahoo.com")&&-1===e.indexOf(".yimg.com")?Vb.EXTERNAL:-1!==s.indexOf("consent.cmp.oath.com")?Vb.EXTERNAL:Vb.INTERNAL}(t,l,c),E={error:r,errorMessage:i,stack:c,source:d,type:l,isFirstJSE:!Yb[l],message:e},_=E.error;if(Yb[l]=!0,d===Vb.INTERNAL&&-1===e.indexOf("redux_browser_dispatch_error")){!function(e){try{const t=window.context.getActionContext(),{getFeaturesSelectors:s}=Object(So.b)(window.context.store.getState());s().isEnabled(h.kb.EXCEPTION_NOTIFICATION)&&t.dispatch(Fo.a.EXCEPTION_OCCURRED,{splunkUrl:e})}catch(e){}}(function(e){const t=[];for(const s in e)t.push(`${s}="'${e[s]}'"`);return h.Uc+"?q=search"+encodeURIComponent(" index=idx_norrin sourcetype=apache_error "+t.join(" "))}({platform:"browser",message:jb,data_errorMessage:i}))}Kb!==_&&(zb=0),++zb<=qb?G_.a.error(jb,E):zb%qb==0&&(E.jseOverLimit=zb,G_.a.error(jb,E)),Kb=_}var Xb=s(630);const Qb=ue.a.create("norrin/actions"),$b=ue.a.create("norrin/action_error");var Jb=e=>()=>t=>s=>{const{type:a,route:n={},tabRecencyRank:r}=s;let{error:o}=s;const i={action:a,crumb:e};o&&([Fo.a.MESSAGE_AUTO_SAVE_FAILED,Fo.a.MESSAGE_SAVE_FAILED,Fo.a.SEND_FAILURE].indexOf(a)>-1&&(o.csid=s.csid),o instanceof S.a||"MAIL-ERROR"===o.token||(o instanceof Error?o={error:{stack:o.stack,name:o.name,message:o.message}}:"string"==typeof o&&(o={error:o})),$b.fatal(babelHelpers.extends({},o,{actionType:a}))),a===Fo.a.OPEN_PAGE_REQUESTED&&(i.routeName=n.name,void 0!==r&&(i.tabRecencyRank=r)),[Fo.a.MESSAGE_AUTO_SAVE_FAILED,Fo.a.MESSAGE_AUTO_SAVE_REQUESTED,Fo.a.MESSAGE_AUTO_SAVE_SUCCEEDED,Fo.a.MESSAGE_SAVE_FAILED,Fo.a.MESSAGE_SAVE_REQUESTED,Fo.a.MESSAGE_SAVE_SUCCEEDED,Fo.a.SEND_FAILURE,Fo.a.SEND].indexOf(a)>-1&&(i.csid=s.csid),"undefined"!=typeof performance&&performance.now&&(i.elapsedTime=performance.now());const c=Qb.feature("flux_action",i);"undefined"!=typeof window&&window.requestAnimationFrame(c.logLatency);const l=t(s);return c.data.sametickTime=Date.now()-c.startTime,"undefined"==typeof window&&c.logLatency(),l};var eR=(e,{unsyncedDataManager:t,performance:s={},selectors:a})=>{const n=(e=>(t,s)=>e.reduce((e,s)=>s(t,e),s))(e);return e=>r=>o=>{if(o.unsyncedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsyncedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');const i=Date.now(),c=s.now?s.now():0,l=e.getState(),{getReconciledUnsyncedData:d,getRequestHashForUnsyncedDataItem:E}=a(l);return r(n(l,babelHelpers.extends({},o,{actionTimestamp:i,elapsedTimeFromSessionStart:c,unsyncedData:[].concat(d()).concat(t.getUnsyncedData()).filter(e=>{if(!e||!e.type)return!1;if(e.isAutoGenerated){const s=E(e);return!t.isUnsyncedDataItemSyncedByRequestHash(s)}return!0}).map(e=>e.timestamp?e:babelHelpers.extends({},e,{timestamp:i}))})))}},tR=s(271);function sR(e,t,s){const a=document.charset||document.defaultCharset||"",n={c1:2,c2:7241469,c5:t,c7:window.location.href,ns__t:Date.now(),ns_c:a};return e&&-1!==e.LTT&&(n.c14=e.LTT),e&&-1!==e.ageCode&&-1!==e.genderCode&&(n.c15=e.ageCode+"$"+e.genderCode),s&&(n.cs_ucfr=s),Object(TS.a)("https://sb.scorecardresearch.com/p?"+u.a.stringify(n),!1)}var aR=s(466);const nR=(e,t,{selectors:s},a={})=>{const{isFeatureEnabled:n,getRoute:r,getListItemIds:o,doesListExist:i}=s(e),c=r(),l=Object(Io.t)(c),d=i(l)?o(l):[];n(h.kb.MKTG_BEACON)&&(Td.b.sendI13nModel({i13nModel:{mKey:ao.e.MARKETING_BEACON,sec:ao.g.LAUNCH}}),function(){const e={src:6589630,type:"nrn",cat:"nrnfsttm",u1:window.AppBootstrapData.guidHash,u2:"",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(TS.b)("https://6589630.fls.doubleclick.net/activityi;"+u.a.stringify(e,";")+"?")}()),(n(h.kb.NEWUSER_MKTG_BEACON)||a.isFirstTimeNobleUser)&&(Td.b.sendI13nModel({i13nModel:{mKey:ao.e.NEWUSER_MARKETING_BEACON,sec:ao.g.LAUNCH}}),function(){const e={src:6518610,type:"mbrship",cat:"mshipcfm",u1:window.AppBootstrapData.guidHash,u2:"new",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(TS.b)("https://6518610.fls.doubleclick.net/activityi;"+u.a.stringify(e,";")+"?")}()),Td.b.sendI13nModel({i13nModel:{mKey:ao.e.LAUNCH,sec:ao.g.LAUNCH,mKeyGroup:ao.f.launch,actionData:{mid:d?d.slice(0,20):[],commercialAnalysisOptedIn:n(h.kb.COMMERCIAL_ANALYSIS_OF_CONTENT)}}})},rR=Object(tR.a)();var oR=(e,t,{AppBootstrapData:s,selectors:a})=>{if(!Object(C.b)())return;const{spaceId:n,pageParams:r}=rR(e,{browserLoggerParams:window.BrowserLoggerParams});if(!n)return;(e=>{Object(C.b)()&&Object(T.a)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)})(n);const{isFeatureEnabled:o}=a(e),i=Td.b.getRapidInstance(),c={spaceid:n,test_id:s.usmLogString,keys:r,dwell_on:!0,extendbcookie:!0};o(h.kb.RAPID_K8S)&&(c.yql_host="udc-k8s.yahoo.com");const l={};s.ymvMobile&&(l.isFirstTimeNobleUser=2===s.ymvMobile),i?i.reInit(c):(Td.b.init({rapid:c}),nR(e,0,{selectors:a},l)),((e,t)=>{ue.a.set(t),e&&e.beaconPageview()})(Td.b.getRapidInstance(),r),o(h.kb.COM_SCORE_BEACONING)&&(window&&window.__cmp?window.__cmp("getVendorConsents",null,function(e={},t){const{gdprApplies:a,vendorConsents:r}=e;t&&a&&r&&"boolean"==typeof r[77]?sR(s.comScore,n,r[77]?"1":"0"):sR(s.comScore,n)}):sR(s.comScore,n));const d=function(e,t){let s={};const{getRoute:a,isFeatureEnabled:n,getSetting:r,couldShowEmptyFolderVideo:o,getFoldersSelectors:i,getParticipantInFocus:c,getSmartViewTypeFromListId:l,isListUpdatedAndEmpty:d,shouldShowAdBlockCoupons:E,shouldShowEbayWarrantyUpsell:_,getReceiptFromMessageId:u,getPlaAdsSelectors:p}=Object(So.b)(e),{doesFolderIdExist:m,getFolderName:S}=i(),g=n(h.kb.EMPTY_FOLDER_VIDEO),I=a(),{fid:C}=I.params||{},T=Object(Io.t)(I),A=n(h.kb.RELATED_SEARCHES_CARD),O=n(h.kb.RELATED_RETAILERS),{email:b=""}=c()||{},R=Object(Io.q)(T),D=n(h.kb.PLA_ADS_AVAILABLE),{plaAdsData:f,currentGptItem:N}=p().getPlaAdsData();if(!D||t.type!==Fo.a.OPEN_PAGE_REQUESTED&&t.type!==Fo.a.PREVIEW_MESSAGE_REQUESTED||(s=babelHelpers.extends({},s,{plaAdsDisplay:D,currentGptItem:N,plaAdCount:f.length,route:I})),!A&&!O||t.type!==Fo.a.OPEN_PAGE_REQUESTED&&t.type!==Fo.a.PREVIEW_MESSAGE_REQUESTED||(s=babelHelpers.extends({},s,{relatedSearchesCard:A,relatedRetailers:O,emailAddress:b,route:I})),n(h.kb.SHOPLIFT_AD)&&(s=babelHelpers.extends({},s,{shopliftAd:!0})),o()){const e=Object(Io.K)(T);let t=m(C)?S(C):"";t=!t&&e?l(T).toLowerCase():"string"==typeof t?t.split("/").pop():t,s=babelHelpers.extends({},s,{emptyFolderVideo:g,folderName:t,route:I})}if(R===h.Db.TRAVEL_CARDS&&d(T)){const e=Object(Io.r)(T);s=babelHelpers.extends({},s,{eventName:ao.a.SEARCH_ZERO_RESULTS,etrg:"change",outcome:e===h.Eb.TRAVEL_VIEW_UPCOMING?ao.b.TRAVEL_UPCOMING:ao.b.TRAVEL_PAST})}if(!E()||t.type!==Fo.a.OPEN_PAGE_REQUESTED&&t.type!==Fo.a.CLOSE_PAGE_REQUESTED||(s=babelHelpers.extends({},s,{adBlockCoupons:!0})),_()){const e=r(h.id.EBAY_WARRANTY_UPSELL_POSITION),{orderedItems:t}=u(),a=Object(aR.a)(t);s=babelHelpers.extends({},s,{ebayWarrantyUpsell:!0,warrantyPosition:e,warrantyType:a})}return R===h.Db.YAHOO_DEAL_CARDS&&(s=babelHelpers.extends({},s,{yahooShoppingDealsView:!0})),n(h.kb.RETAILER_FILTER)&&(s=babelHelpers.extends({},s,{retailerFilter:!0})),Object.keys(s).length?s:null}(e,t);d&&Td.b.sendI13nModel({i13nModel:{mKey:ao.e.FEATURE_VIEWED,sec:ao.g.FEATURE_VIEWABILITY,interactionType:ao.d.nav,actionData:d}})},iR=s(107),cR=s(208);const lR=Object(C.b)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:()=>e=>e,dR=/'/g,ER=()=>({hash:h.Td.POST_LUNCH_TO_SYNC,timestamp:0,type:h.Td.POST_LUNCH_TO_SYNC,userInputtedValues:{}});const _R="WAITING",uR="ISSUED",pR="COMPLETED";function mR(){this.queue=[]}mR.prototype.sync=function(e,t,s=!1,a=!1){if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise((n,r)=>{this.queue.push({id:t,issueInParallel:s,isSafeToRejectEarly:a,timer:void 0,status:_R,callback:e,resolve:n,reject:r}),G_.a.debug(`Mutex: ${t} was just added to the queue.`),function(e){const t=`[${e.slice(0,10).map(({id:e})=>e).join(", ")}]`;G_.a.debug(`Mutex: The first ten elements of the queue are ${t}`)}(this.queue),this.next()})},mR.prototype.next=function(){if(!this.queue.length)return;let e=!1;this.queue=this.queue.filter(e=>e.status!==pR);for(let t=0;t<this.queue.length;t++){const s=this.queue[t];switch(s.status){case _R:if(!s.issueInParallel&&e)return;s.status=uR,e=!0;try{this.execute(s)}catch(e){this.reject(s,e)}if(!s.issueInParallel)return;break;case uR:if(e=!0,!s.issueInParallel)return}}},mR.prototype.execute=function(e){const t=this.resolve.bind(this,e),s=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout(()=>{G_.a.debug(`Mutex: clearing ${e.id} from queue because it timed out.`),G_.a.error(`Mutex: clearing ${e.id} from queue because it timed out.`);const t=this.queue.reduce((e,t)=>e.concat(`${t.id}:${t.status}`),[]).join(","),a=new S.a("RequestQueue.Timeout",{errorCode:"REQUEST_QUEUE_TIMEOUT",statusCode:0,qStatus:t});s(a)},12e4));const a=e.callback(t,s);(function(e){return void 0!==e&&(e instanceof Promise||!(!e.then||!e.catch))})(a)&&a.then(t,s)},mR.prototype.resolve=function(e,t){e.resolve(t),e.status=pR,G_.a.debug(`Mutex: ${e.id} was RESOLVED.`),e.timer&&clearTimeout(e.timer),this.next()},mR.prototype.reject=function(e,t){e.reject(t),e.status=pR,G_.a.debug(`Mutex: ${e.id} was REJECTED.`),e.timer&&clearTimeout(e.timer),this.next()};var hR=mR;const SR=Object(T.c)(["launch.skeleton","launch.folder","launch.message","launch.compose","launch.messageGroup","postLaunch.getComposeAttributes","postLaunch.postSync","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","mailSearch","messages.saveV3","messages.autoSaveV3","sponsoredMessages.save","messages.saveWithAttachment","messages.send","messages.update","messages.updateDecos","messages.updateV3","messages.UnifiedUpdate","messages.delete","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.trashAndDelete","messages.getExtractions","messageGroups.get","messageGroups.getFallback","messageGroups.getList","messageCards.getList","couponCards.getParentMessage","consolidatedCoupons.getList","refundCards.getList","undo.list","checkMail","getReceipts","getMoreReceipts","document.fetch","task.status","task.abort","settings.get","settings.getFeatureAttributes","settings.setBaseName","settings.setBaseNameJWS","settings.saveMessageFilters","settings.saveBlockedSenders","saveArrayAttributes","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","recentSearches","searchItems","searchGifs","searchTenorGifs","getContentProviders","linkContentProvider","search","deletePensieveImages","unseenCount.reset","udb.read","udb.write","account.getAlerts","account.updateAlerts","savedSearches.get","savedSearches.delete","savedSearches.create","cards.create"]),gR=Object(T.c)(["mailSearch","messages.saveV3","messages.autoSaveV3","messages.saveAndSend","messages.send","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messageGroups.get","document.fetch","searchGifs","searchTenorGifs","localStores","getRetailers","getSRRetailers","linkRetailer","unlinkRetailer","activateOffer","getOffers","getActivatedOffers","getSavings","searchSuggestions","recentSearches","settings.get","settings.getFeatureAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts","deletePensieveImages","postLaunch.postSync"]);function IR(){this.checkMailRequestWrappers=[],this.mutex=new hR}IR.prototype.add=function(e,t){return this._isSafeToRejectEarly(t)||this._rejectAndRemoveCheckMailsFromQueue(),this._canGoInParallel(t)?e():this._addToRequestQueue(e,t)},IR.prototype.addStream=function(e,t){return this._canGoInParallel(t)?e():this._addStreamToRequestQueue(e,t)},IR.prototype._canGoInParallel=function(e){if(!SR[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!gR[e]},IR.prototype._addToRequestQueue=function(e,t){return this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise((s,a)=>(this._isCheckMail(t)&&this.checkMailRequestWrappers.push({reject:a}),this._sync(e,t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).then(s,a)))},IR.prototype._addStreamToRequestQueue=function(e,t){this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue();const s=R()();return this.mutex.sync((t,a)=>{const n=e();n.pipe(s),n.on("end",t),n.on("error",e=>{s.emit("error",e),a()})},t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)),s},IR.prototype._sync=function(e,t,s,a){return this.mutex.sync(function(){return e()},t,!s,a)},IR.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach(e=>{e.reject(new S.a("RequestQueue.Rejected",{errorCode:"REQUEST_QUEUE_REJECTED",statusCode:0}))}),this.checkMailRequestWrappers=[]},IR.prototype._isCheckMail=function(e){return"checkMail"===e},IR.prototype._isSafeToRejectEarly=function(e){return"messages.saveV3"!==e&&"messages.autoSaveV3"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.send"!==e&&"messages.saveAndSendWithAttachment"!==e},IR.prototype._isWriteToBackend=function(e){return"messages.update"===e||"settings.saveWebMailboxAttributes"===e||"messages.updateDecos"===e||"messages.updateV3"===e||"messages.UnifiedUpdate"===e||"messages.delete"===e||"messages.trashAndDelete"===e||"cards.create"===e||"settings.saveBlockedSenders"===e||"saveArrayAttributes"===e};var CR=IR;class TR{constructor(e,{apiClientConstructors:t,batchMethods:s,isOnline:a}){const n=new CR;Object.keys(t).forEach(r=>{this[r]=new(0,t[r])(babelHelpers.extends({},e,{wssid:e.mailWssid,bootcampHost:e.config.bootcampHostURL,isOnline:a,batchMethods:s,requestQueue:n}))})}setMailBoxParams(e,t){const s=()=>{const{getAccountSelectors:s,getSelectedMailboxId:a,getSelectedAccountId:n}=t(e.getState()),r=a();if(!r)return{};const{getAccountEmailByAccountId:o,getAccountTypeByAccountId:i}=s(),c=n();return{mailboxid:r,mailboxId:r,mailboxemail:o(c),mailboxtype:i(c)}};Object.keys(this).filter(e=>this[e].setMailboxParams).forEach(e=>{this[e].setMailboxParams(s)})}}const AR=(e,t)=>{setTimeout(()=>{e(),AR(e,t)},t)};class OR{constructor(){this.listeners=[],this.syncAttempts={}}_getUnsyncedData(){return this.listeners.map(e=>e())}_registerHandler(e){return this.listeners.push(e),{remove:()=>{this.listeners=this.listeners.filter(t=>t!==e)}}}_isUnsyncedDataItemSyncedByRequestHash(e){return(this.syncAttempts[e]||{}).synced||!1}}function bR({store:e,apiClients:t,selectors:s,actionSyncers:a,logger:n,unsyncedDataManager:r}){const o=(o=!0)=>{const{isOnline:i,getAction:c,getUnsyncedDataToSync:l,getRequestHashForUnsyncedDataItem:d,isFeatureEnabled:E}=s(e.getState());if(!i()||Object(C.b)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const _=c();o&&E(h.kb.DEBUG_UNSYNCED_DATA)&&n.error("unsyncedData_syncAttempt",{actionName:_.type,unsyncedDataLog:JSON.stringify(Object.keys(r.syncAttempts).reduce((e,t)=>babelHelpers.extends({},e,{[t]:r.syncAttempts[t]}),{}))});const u=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&u-s.timestamp>s.syncDefer&&u-s.timestamp>s.syncThrottle?e:babelHelpers.extends({},e,{[t]:s})},{}),[...l()].sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t=d(e),s=r.syncAttempts[t]||{};return babelHelpers.extends({},e,{timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:h.Rd,requestHash:t})}).filter(e=>{const t=r.syncAttempts[e.requestHash];return!(e.isAutoGenerated&&!o)&&(t?!t.syncing&&(t.synced&&u-t.timestamp>e.syncDefer&&u-t.timestamp>e.syncThrottle):!r.syncAttempts[e.requestHash]&&u-e.timestamp>=e.syncDefer)}).map(i=>{const c=()=>{const{getUnsyncedDataToSyncByRequestHash:t,getRoute:a}=s(e.getState()),o=Date.now();r.syncAttempts[i.requestHash].synced=!0,r.syncAttempts[i.requestHash].syncing=!1,r.syncAttempts[i.requestHash].timestamp=o;const c=t(i.requestHash,o);i.isAutoGenerated||!c||c.repeat||(r.syncAttempts[i.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:i.type,requestHash:i.requestHash,actionType:_.type,routeName:a().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[i.requestHash]={synced:!1,syncing:!0,timestamp:_.actionTimestamp,syncDefer:i.syncDefer,syncThrottle:i.syncThrottle},E(h.kb.DEBUG_UNSYNCED_DATA)&&n.error("unsyncedData_scheduling",babelHelpers.extends({actionName:o?_.type:"TIMER",requestHash:i.requestHash},r.syncAttempts[i.requestHash]));const l=_.type!==Fo.a.SYNC_DATA&&a[i.type]?[].concat(a[i.type]):a[Fo.a.SYNC_DATA],d=_.type===Fo.a.SYNC_DATA||!a[i.type];((s,a,n=!0)=>Promise.all((s||[]).map(s=>{const r=s(e,a,t);if(n&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r})).catch(e=>{throw e}))(l,babelHelpers.extends({},i.userInputtedValues,{unsyncedDataItemRequestHash:i.requestHash,unsyncedDataType:i.type,syncAttempts:r.syncAttempts[i.requestHash]}),d).then(c,c)})};if(e.subscribe(o),Object(C.b)()){const e=!1;AR(()=>o(e),100)}}var RR=(e,{apiClientConstructors:t,batchMethods:s,confirmMiddleware:a,routes:n,rootReducer:r,storeSubscribers:o,selectors:i,enhancers:c,actionSyncers:d},E,{isOnline:_}={},p)=>{const m=new TR(e,{apiClientConstructors:t||{},batchMethods:s||{},isOnline:_}),S=function(){const e=new OR;return e.getUnsyncedData=e._getUnsyncedData.bind(e),e.registerHandler=e._registerHandler.bind(e),e.isUnsyncedDataItemSyncedByRequestHash=e._isUnsyncedDataItemSyncedByRequestHash.bind(e),e}(),g=Object(C.b)()&&window.performance?window.performance:void 0,I=[Jb(e.crumb),Xb.a.withExtraArgument(m),eR(c(e),{unsyncedDataManager:S,performance:g,selectors:i})];a&&l()(a)&&I.push(a(p,S.getUnsyncedData));const T=function(e,t,s){const a=Object(yr.e)(e,Object(C.b)()?babelHelpers.extends({},t,{unsyncedData:t&&t.unsyncedData?[...t.unsyncedData,ER()]:[ER()]}):t,Object(yr.d)(Object(yr.a)(...s),lR())),n=a.dispatch.bind(a);return a.currentActionType=null,a.dispatch=(e=>{try{a.currentActionType&&G_.a.error("redux_overlapping_dispatch",{curAction:a.currentActionType,action:e.type}),a.currentActionType=e.type;const t=n(e);return a.currentActionType=null,t}catch(t){throw a.currentActionType=null,Object(C.b)()?Zb(`redux_browser_dispatch_error: ${e.type}`,location.href||t.fileName,t.lineNumber||"",t.columnNumber||"",t):G_.a.error("redux_server_dispatch_error",{action:e.type,errorMessage:(t.message||"").replace(dR,'"')}),t}}),a}(r,E,I);T.registerUnsyncedDataHandler=S.registerHandler,m.setMailBoxParams(T,i);const{appRootPath:A}=Mr[e.app]||{},O=A||h.T,b=Object.keys(n).map(e=>({name:e,path:O+n[e].path})),R=Object(ho.x)(b),D={AppBootstrapData:e,store:T,selectors:i,apiClients:m,unsyncedDataManager:S,actionSyncers:d,i13n:oR,logger:G_.a,routesConfig:b,routesInfo:R,getRouteInfo:e=>{const{pathname:t,query:s}=Object(cR.parse)(e),a=R.find(e=>e.pattern.match(t));return a?{name:a.name,params:a.pattern.match(t),query:u.a.parse(s),url:e}:{}},navigateToRoute:xr.i,launchRoute:iR.c};Object(C.b)()&&((({store:e,selectors:t,AppBootstrapData:s,apiClients:a,i13n:n})=>{e.subscribe(()=>{const r=e.getState(),{isOnline:o,getAction:i,isOriginSearchRoute:c}=t(r);if(!o()||Object(C.b)()&&navigator&&!1===navigator.onLine)return;const l=i();l.i13nModel&&(l.i13nModel.isBeaconEvent?Td.b.sendBeaconEvent(l,e):Td.b.sendI13nModel(l,e,c())),n(r,l,{AppBootstrapData:s,apiClients:a,selectors:t})})})(D),(({store:e,selectors:t,navigateToRoute:s,routesInfo:a,getRouteInfo:n})=>{const{getRoute:r,getRouteUrl:o,getSelectedMailboxId:i,getAccountSelectors:c}=t(e.getState()),l=r(),d=Object(ho.y)(a,n(location.href));i()&&!Object(ho.A)(l,d)&&c().userHasRegisteredAccount()&&history.replaceState(null,null,o()),e.subscribe(()=>{const{getAction:s,getRoute:r,getRouteUrl:o,getAccountSelectors:i}=t(e.getState()),c=s(),l=r(),d=Object(ho.y)(a,n(location.href));switch(c.type){case Fo.a.INITIAL_STATE:case Fo.a.LAUNCH_COMPLETED:return void(!Object(ho.A)(l,d)&&i().userHasRegisteredAccount()&&history.replaceState(null,null,o()));default:return void(Object(ho.A)(l,d)||c.popstate||!i().userHasRegisteredAccount()||(c.replaceState?history.replaceState(null,null,o()):history.pushState(null,null,o())))}}),window.addEventListener("popstate",()=>{const{reconcileRoute:r,getRouteUrl:o}=t(e.getState()),i=Object(ho.y)(a,n(location.href));Object(ho.A)(i,r(i,!0))?e.dispatch(s({route:i,popstate:!0})):history.replaceState(null,null,o())})})(D)),o&&o.forEach(e=>{e(D)}),bR(D);const f=(({store:e,selectors:t,getRouteInfo:s,routesInfo:a,AppBootstrapData:n,launchRoute:r,routesConfig:o})=>i=>new Promise((c,l)=>{try{e.subscribe(()=>{const{getAction:s}=t(e.getState()),{type:a,error:n}=s();switch(a){case Fo.a.INITIAL_STATE:c();break;case Fo.a.LAUNCH_ERROR:l(n)}});let d=Object(ho.y)(a,s(i));d.name===h.Pc.NEW_DRAFT&&!d.params.csid&&n.params&&n.params.csid&&(d=Object(ho.y)(a,Object(ho.e)(n.params.csid),d.query)),e.dispatch(r(babelHelpers.extends({},n,{route:d,routesConfig:o})))}catch(e){l(e)}}))(D);return{store:T,prepareDataForUrl:f,apiClients:m}},DR=s(631);function fR(e,t,s){const a=function(e,t){return Object(DR.parse)(e)[t]||""}(e,t);if(a){const e=function(e,t){let s="";return e.split("&").forEach(e=>{const[a,n]=e.split("=");a===t&&(s=n)}),s}(a,s);if(e)return e}return""}function NR(){return fR(document.cookie,"Y","l").trim()}var MR=e=>(t,{selectors:s})=>{class a extends we.a.Component{constructor(...e){var t;return t=super(...e),this.lastVisited={},t}getChildContext(){return{navigateTo:t=>{let{i13nModel:a,route:n,hashParams:r={}}=t,o=babelHelpers.objectWithoutProperties(t,["i13nModel","route","hashParams"]);const i=Date.now(),{normalizeRoute:c}=s(e.store.getState()),l=c(n),d=babelHelpers.extends({},o,{perfHeader:{requestStart:i},cacheControl:{lastVisited:this.lastVisited[l.url]},route:l,hashParams:r});this.lastVisited[l.url]=i,this.props.navigateToRoute(babelHelpers.extends({i13nModel:a},d))},getUrlFromRoute:t=>{const{normalizeRoute:a}=s(e.store.getState());return a(t).url||""}}}render(){return we.a.createElement(t,E()(this.props,"store"))}}a.displayName="RouterProvider",a.childContextTypes={navigateTo:Ve.a.func,getUrlFromRoute:Ve.a.func};return Object(Lr.b)(e=>{const{getRoute:t}=s(e);return{route:t()}},e=>({navigateToRoute:t=>e(Object(xr.i)(t))}),void 0,{areStatePropsEqual:e=>Boolean(e.route)})(a)},LR=s(632),yR=s.n(LR),PR=ue.a.create("norrin/rum");let vR=!1,FR={},UR={};function HR(e,t={}){const s=Td.b.getRapidInstance();s&&s.beaconPerformanceData(e);let a={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){let t={};if(window.performance&&window.performance.timing){const{timing:e}=window.performance,{appServerTimings:s}=window;if(t={firstByte:e.responseStart-e.connectEnd,onLoad:e.loadEventStart-e.navigationStart,serverResp:e.responseEnd-e.requestStart,domInt:e.domInteractive-e.navigationStart},Array.isArray(s))for(let e=0;e<s.length;e++){const[a,n]=s[e];t[a]=n}}a=Object.assign(t,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(a,e.perf_usertime.utm),t.additionalLogData&&"object"==typeof t.additionalLogData&&Object.assign(a,t.additionalLogData),Object(T.b)(a)||PR.feature("rum_beacon",a).logSuccess()}function kR(){wR()}function GR(e,t,s){return"common"===e?(FR.perf_commontime||(FR.perf_commontime={}),FR.perf_commontime.initialPageLoad||(FR.perf_commontime.initialPageLoad={}),FR.perf_commontime.initialPageLoad[t]=s,!0):"user"===e&&(FR.perf_usertime||(FR.perf_usertime={}),FR.perf_usertime.utm||(FR.perf_usertime.utm={}),FR.perf_usertime.utm[t]=s,!0)}function wR(){HR({perf_navigationtime:2},{additionalLogData:UR}),FR={},UR={}}function xR(){HR(FR,{additionalLogData:UR}),FR={},UR={}}function BR(e,t,s=!0){const a=window.YAFT,n=window.performance;if(!n||vR)return!1;if(vR=!0,s&&(n&&n.timing&&n.timing.loadEventEnd?wR():window.addEventListener("load",kR,!1)),a){const s={modules:e.modules,modulesExclude:[],canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:4e3,generateHAR:!0,useNativeStartRender:!0};let r=0;n.getEntriesByName&&n.getEntriesByName("norrinStartRender").length&&(r=n.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return r}),a.init(s,function(e,s){const a=function(e,t){if(t)return!1;const s=Math.round(e.aft),a=Math.round(e.visuallyComplete),n=Math.round(e.startRender);return s&&(GR("common","AFT",s),GR("common","AFT1",s)),a&&GR("common","VIC",a),n&&GR("common","STR",n),!0}(e,s);t?t():a&&xR()}),r&&a.triggerCustomTiming("norrin_main",r,r)}return!0}const jR=["norrin_"],VR={MESSAGE_LIST:"message_list",COMPOSE_READY:"MTTC",TIME_TO_INTERACTIVE:"MTTI",CLIENT_RENDER_TIME:"app_client_render",CLIENT_HEAD_TO_END:"app_head_end",MESSAGE_SEND:"message_send",MAIL_SEARCH:"search_latency",COMPOSE_SHOW:"compose_show",MESSAGE_READ:"message_read",FOLDER_SWITCH:"folder_switch",[h.Pc.FOLDER]:"folder_switch",[h.Pc.LIST]:"search_latency",[h.Pc.SEARCH]:"search_latency",[h.Pc.EDIT_DRAFT]:"compose_show",[h.Pc.NEW_DRAFT]:"compose_show",[h.Pc.MESSAGE_FROM_FOLDER_LIST]:"message_read",[h.Pc.MESSAGE_FROM_SEARCH_LIST]:"message_read",[h.Pc.MESSAGE_FROM_LIST]:"message_read",[h.Pc.SETTINGS]:"settings",[h.Pc.SPONSORED_MESSAGE]:"message_read",[h.Pc.TUTORIAL]:"tutorial"};let WR=!1;const qR=e=>{if(!e)return;let t=0;const{additionalLogData:s={}}=e;"undefined"!=typeof performance&&performance.now&&(t=s.elapsedTime=Math.floor(performance.now())),s&&function(e){UR=Object.assign({},e)}(babelHelpers.extends({},s,{elapsedTime:t}));const a=Math.round(e.latency?e.latency:Date.now()-e.requestedTime);PR.debug(`UserPerf: ${e.rumMetricKey}:  ${a} : ${JSON.stringify(s)}`),GR("user",e.rumMetricKey,a),xR()},KR=e=>{let t=[];const s=(()=>{let e,t={};return(s,a)=>{const n=[],{getAction:r,getRoute:o,getCursorItem:i,doesStreamExist:c,getSetting:l}=s,d=r()||{},{type:E,csid:_}=d,u=o()||{};if(!e&&u.name&&(e=u),E!==Fo.a.LAUNCH_COMPLETED||WR){if(E===Fo.a.V3_MESSAGE_SEND_REQUESTED)n.push({hash:_,rumMetricKey:VR.MESSAGE_SEND,requestedTime:d.actionTimestamp,csid:_});else if(!Object(ho.A)(u,e)&&VR[u.name])e=u,n.push({hash:u.url,rumMetricKey:VR[u.name],requestedTime:d.actionTimestamp,route:u});else if(d.streamId&&c(d.streamId)&&l(h.id.PREVIEW_PANE)!==h.Bc.NO&&(u.name===h.Pc.FOLDER||u.name===h.Pc.SEARCH||u.name===h.Pc.LIST)){const e=i(d.streamId);!e||e.id===t.id&&e.listId===t.listId||Object(Io.q)(e.listId)!==h.Db.MESSAGES||(n.push({hash:`${e.listId}-${e.id}`,rumMetricKey:VR.MESSAGE_READ,requestedTime:d.actionTimestamp,cursorItem:e}),t=e)}}else{const e=window.performance,t=Date.now(),s=e.now(),r=e.timing.responseStart-e.timing.navigationStart;let o=s;WR=!0,e.getEntriesByName&&e.getEntriesByName("norrinStartRender").length&&(o=e.getEntriesByName("norrinStartRender")[0].startTime),n.push({hash:VR.MESSAGE_LIST,rumMetricKey:VR.MESSAGE_LIST,latency:o},{hash:VR.COMPOSE_READY,rumMetricKey:VR.COMPOSE_READY,latency:s},{hash:VR.TIME_TO_INTERACTIVE,rumMetricKey:VR.TIME_TO_INTERACTIVE,latency:s},{hash:VR.CLIENT_RENDER_TIME,rumMetricKey:VR.CLIENT_RENDER_TIME,latency:t-a},{hash:VR.CLIENT_HEAD_TO_END,rumMetricKey:VR.CLIENT_HEAD_TO_END,latency:s-r})}return n.map(e=>babelHelpers.extends({},e,{requestedActionType:e.requestedActionType||E}))}})();return a=>{const n=Object(So.b)(a),{getRouteName:r}=n;t=t.concat(s(n,e)),IO()(yR()(t,"requestedTime","desc"),"hash").map(e=>((e,t)=>{const{getAction:s,doesListExist:a,doesMessageGroupIdExist:n,getMessageIdsFromMessageGroupId:r,doesMessageFullBodyExist:o,doesMessageBodyExist:i,getDraftMessageId:c,getListsSelectors:l,doesComposeSessionExist:d,isSent:E,isMessageRoute:_,getSetting:u,getAttachmentCountByMessageId:p,doesMessageIdExist:m,getMessagesSelectors:S,getMessageBodiesSelectors:g,getPages:I}=t,C=s()||{},{type:T}=C,{getListStatus:A}=l(),{getMessageBodiesCount:O}=g(),{getMessagesCount:b}=S(),{params:R={}}=e.route||{};switch(e.rumMetricKey){case VR.COMPOSE_SHOW:{const{csid:t}=R;if(!t)return e;const s=c(t);return s?o(s)?babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===T},requestCompleted:!0}):e:babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===T},requestCompleted:!0})}case VR.FOLDER_SWITCH:case VR.MAIL_SEARCH:{const t=Object(Io.t)(e.route);return a(t)&&A(t)===h.Mc.LOADED?babelHelpers.extends({},e,{additionalLogData:{metaDataCount:b(),GSBCount:O(),pageCount:I().length,isCached:e.requestedActionType===T},requestCompleted:!0}):e}case VR.MESSAGE_READ:{let{groupId:t}=R;const{cursorItem:s}=e,a=!_()&&u(h.id.PREVIEW_PANE)!==h.Bc.NO;if(!t&&s&&(t=s.id),!n(t))return e;const o=r(t)||[];return o.some(e=>i(e))?babelHelpers.extends({},e,{additionalLogData:{metaDataCount:b(),GSBCount:O(),pageCount:I().length,numberOfMessages:o.length,previewPane:a,isCached:e.requestedActionType===T},requestCompleted:!0}):e}case VR.MESSAGE_SEND:if(!d(e.csid)||E(e.csid)){const{id:t}=C.message||{},s=m(t)&&p(t)||0;return babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===T,sendMethod:T,attachmentCount:s},requestCompleted:!0})}return e;case VR[h.Pc.SETTINGS]:case VR[h.Pc.TUTORIAL]:return babelHelpers.extends({},e,{additionalLogData:{isCached:e.requestedActionType===T},requestCompleted:!0})}return e})(e,n)).filter(e=>e.requestCompleted||e.latency).map(e=>{t=t.filter(t=>t.rumMetricKey!==e.rumMetricKey);const s=Date.now();window.requestAnimationFrame(()=>{e.additionalLogData=Object.assign({},e.additionalLogData||{},{renderFrameTime:Math.round(Date.now()-s),actionType:e.requestedActionType,routeName:r()}),qR(e)})})}};var zR=(e,t={})=>window.performance?(BR({yaftCanShowVisualReport:t.isInternalIP,modules:jR}),{recordRUM:KR(e)}):{recordRUM:()=>{}};const YR={TEST:"/sw_test.js",PROD:"/sw.js"};let ZR=null;function XR(e,t){if(!e)return;return e.postMessage({type:"cache-config",data:t||[]})}function QR(e){"sw-caching-active"===e.data.type&&ZR&&$R(ZR)}function $R(e){if(window.navigator.serviceWorker)if(navigator.serviceWorker.addEventListener("message",QR.bind(this)),navigator.serviceWorker.controller)XR(navigator.serviceWorker.controller,e);else if(function(e){return Array.isArray(e)&&e.length>0}(e)){const t=window.AppBootstrapData&&("alpha"===window.AppBootstrapData.environment||"beta"===window.AppBootstrapData.environment);navigator.serviceWorker.register(t?YR.TEST:YR.PROD).then(t=>{XR(t.active,e)}).catch(e=>(console.log("SW register error",e),Promise.reject(e)))}}function JR(e){window.navigator.serviceWorker&&(ZR=function(e){const t=Object(So.b)(e.getState());return t.getSetting(h.kb.SERVICE_WORKER_CACHING)?t.getSetting(h.id.SERVICE_WORKER_CACHE_CONFIG):null}(e),"complete"===document.readyState?$R(ZR):window.addEventListener("load",()=>$R(ZR)))}t.default=function(e){window.onerror=Zb,window.YAHOO.i13n.WEBWORKER_FILE=h.Ic,window.initialScrambledLogin=NR();const{AppState:t={},AppBootstrapData:s,ReactIntlLocaleData:a,BrowserLoggerParams:n,LaunchErrorObj:r={}}=window,{fluxibleState:o,reduxState:i}=t,c=s&&s.config||o.context.plugins.MailFluxibleContextPlugin.config;let l=location.pathname;const d=location.search,E=new RegExp(`^(${h.Qd})/test`),_=E.test(l);_||function(e){const{timeout:t,interval:s,limit:a}=e.loggerSettings;ue.a.set(n),"debug"===e.logLevel&&ue.a.read(xb()()),ue.a.read(Gb()({endpoint:e.endpoint,interval:s,timeout:t,limit:a})),ue.a.level(e.logLevel||"error")}(babelHelpers.extends({},c,{endpoint:s.appId===h.ee?h.Rb:h.S})),"object"==typeof a&&Object.keys(a).forEach(e=>Object(Pr.g)(a[e]));const u=Hb(e),p=s.route?"launch_"+s.route.toLowerCase():"unknown",m=G_.a.feature(p,{ssr:!!o}),I=()=>{if(!window.context)return()=>!0;const{getOnlineSelectors:t}=e.selectors(window.context.store.getState()),{isOnline:s}=t();return s()},A=Object(vs.g)(e);function O(t,a){const{recordRUM:n}=zR(Date.now(),{isInternalIP:s.internal});if(!a.store){const t=RR(s,e,i,{isOnline:I},a);a.store=t.store,a.apiClients=t.apiClients}if(t)return void b(a,t);window.context=a,JR(a.store);const r=MR(a.getComponentContext());e.render=(t=>{const o=r((t||e).component,e);a.store.subscribe(()=>{const t=a.store.getState(),{getAction:s}=e.selectors(t),r=s();!function(){if(!Object(C.b)())return;const e=window.initialScrambledLogin,t=NR();if(e&&t&&e!==t){const s={reason:g.f.DIFFERENT_USER,statusCode:401,errorCode:"AUTH",refresh:!0,originalLogin:e,currentLogin:t},a=G_.a.feature("error_handler",s),n=new S.a(g.b,s);a.logFailure(n)}}();const o=r.error||r.err||null;if(o)switch(o.name){case g.d:return Object(C.e)({partner:a.partner||"",reason:"missing_crumb"});case g.c:return Object(C.e)({partner:a.partner||"",reason:"invalid_crumb"});case g.b:if(o.getDataByName("refresh",!1))return Object(C.e)({partner:a.partner||"",reason:"invalid_cred"})}n(t)});try{Be.a.render(we.a.createElement(vb.AppContainer,null,we.a.createElement(Pr.f,window.AppIntl,we.a.createElement(kA.FluxibleComponent,{context:a.getComponentContext()},we.a.createElement(o,{store:a.store})))),document.getElementById(A));const t=document.getElementById("mail-search");if(c.ybar&&t){const s=e.searchComponent?r(e.searchComponent,e):null;Be.a.render(we.a.createElement(vb.AppContainer,null,we.a.createElement(Pr.f,window.AppIntl,we.a.createElement(kA.FluxibleComponent,{context:a.getComponentContext()},s?we.a.createElement(s,{store:a.store}):null))),t)}m.logSuccessAndLatency()}catch(e){AS.a.error("rendering_app_error",{timezone:s.timezone.name,locale:s.locale}),Zb("Rendering App error",e.fileName||location.href,e.lineNumber||"",e.column||"",e)}}),window.setTimeout(e.render,10)}function b(e,t=null){const a=!!t;t=t||r,window.context=e,Be.a.render(we.a.createElement(Pr.f,window.AppIntl,we.a.createElement(kA.FluxibleComponent,{context:e.getComponentContext()},we.a.createElement(Vd,{appName:s.appName,error:t,hideLogo:a,crumb:s.crumb,isRTL:s.config.rtl}))),document.getElementById(A))}if(o)u.rehydrate(o,O);else if(s){_&&(ue.a.disable(),l=l.replace(E,(e,t)=>t),history.replaceState(null,null,l+d));const t=u.createContext(function(){return{loginHash:s.loginHash,mailWssid:s.mailWssid,crumb:s.crumb,signoutCrumb:s.signoutCrumb,guid:s.guid,timezone:s.timezone,region:s.region,config:c,os:s.os,userName:s.userName,queryStringOverrides:s.queryStringOverrides,__initializeFeatures__:s.__initializeFeatures__,csid:Object(vs.f)(),localeData:s.localeData,cspToken:s.cspToken,encryptedQueryParams:s.encryptedQueryParams,mailboxAttributes:s.mailboxAttributes,mailBrandNameString:s.mailBrandNameString,yahooBrandNameString:s.yahooBrandNameString}}()),{prepareDataForUrl:a,store:n,apiClients:o}=RR(s,e,i,{isOnline:I},t);t.store=n,t.apiClients=o,Object(T.b)(r)?a(l+d).then(()=>O(void 0,t)).catch(e=>b(t,e)):b(t)}}(Pb)}]);