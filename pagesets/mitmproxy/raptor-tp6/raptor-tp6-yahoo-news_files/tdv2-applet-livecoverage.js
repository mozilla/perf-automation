webpackJsonp([37],{1300:function(e,t,n){e.exports={controllerViews:{LiveCoverage:n(3272)},stores:{LiveCoverageStore:n(2143)}}},1591:function(e,t,n){"use strict";function r(e,t){return t?Object.assign({},o[e],t):o[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.getI13nModel=r;var i="live-coverage",o={"module-view":{sec:i,slk:"module"},"post-view":{sec:i,slk:"post"},"view-more-click":{sec:i,slk:"Show More",elm:"btn",itc:1},"new-posts-click":{sec:i,slk:"View New Posts",elm:"btn",itc:1},"twitter-action-click":{sec:i,slk:"Twitter",elm:"btn",itc:1},"context-link-click":{sec:i,slk:"Context Link",elm:"txt",itc:1}}},1825:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){e=e||{};var t=(0,u.default)(e,"media_entities[0].expanded_url","").indexOf("/video/1")>0,n=e.url_entities||[],r=e.media_entities||[];return!!(t||n.length&&!r.length)}e=e||{};var n=(0,u.default)(e,"twitter_post",null);if(!Array.isArray(n))return t(e.twitter_post);for(var r=0;r<n.length;r++){if(t(n[r]))return!0}return!1}function o(e){return e=e||"",e.indexOf("graphiq.com")>0}function a(e,t){if(e&&t){var n=e.match(p);if(n){for(var r=[],i=0,o=0;o<n.length;o++){var a=n[o].match(f);if(a){r.push({});r[i].id=a[0].match(d)[1],i++}else{var s=n[o].match(v);if(r[i-1]){r[i-1].link=s[1];var l=n[o].match(h);l&&(r[i-1].text=l[1])}}}return(0,c.default)(r,"id").map(function(e){return{id:e.id,text:e.text||"",link:e.link||""}}).map(function(e){return t.replace(/LINK/g,e.link||" ").replace(/LABEL/,e.text||" ").replace(/WIDGET_ID/,e.id)})}}}function s(e){return"true"===(0,u.default)(e,"query.useMockData")&&e.isYnet}function l(e){return e?(0,u.default)(e,"resolutions",[]).find(function(e){return"original"===e.tag}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseTweetWidget=i,t.isGraphiq=o,t.parseGraphiq=a,t.shouldUseMockData=s,t.getOrignalResolution=l;var u=r(n(20)),c=r(n(325)),f=/graphiq.com\/[a-z]*\/(.*?)"/g,d=/graphiq.com\/[a-z]*\/(.*?)"/,p=/href=(.*?)<\/a>/g,v=/(?:href=")(.*?)(?:">)/,h=/>(.[\s]*[\w]+[\s\|\s]*[\w]+[\s]*)</i},2143:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(18)),a=r(n(20)),s=r(n(1243)),l=(0,i.default)("LiveCoverage:LiveCoverageStore");t.default=(0,o.default)({storeName:"LiveCoverageStore",statics:{handlers:{GET_LIVE_COVERAGE_POSTS_SUCCESS:"_getLiveCoverageSuccess",GET_MORE_LIVE_COVERAGE_POSTS_SUCCESS:"_getMoreLiveCoverageSuccess",GET_NEW_LIVE_COVERAGE_POSTS_SUCCESS:"_getNewLiveCoverageSuccess",GET_NEW_LIVE_COVERAGE_POSTS_FAILURE:"_getNewLiveCoverageFailure",APPEND_NEW_LIVE_COVERAGE_POSTS_SUCCESS:"_appendNewLiveCoverageSuccess"}},initialize:function(){this.liveCoverage={},this.newLiveCoverage={},this.newLiveCoverageFailureCount=0,this.moreLiveCoveragePostsCount=null},_appendNewLiveCoverageSuccess:function(e){l("_appendNewLiveCoverageSuccess"),this.newLiveCoverage.posts&&this.newLiveCoverage.posts.length>=1&&(this.newLiveCoverage.posts.forEach(function(e,t,n){n[t]&&(n[t].isNew=!0)}),this.liveCoverage.posts=this.newLiveCoverage.posts.concat(this.liveCoverage.posts)),this._updatePosts(this.newLiveCoverage),this.newLiveCoverage=[],this.emitChange()},_getLiveCoverageSuccess:function(e){l("_getLiveCoverageSuccess",e),this.liveCoverage=e.liveCoverage,this._checkAndDeletePosts(e.liveCoverage.deletedPosts,this.liveCoverage.pinnedPosts),this.emitChange()},_getNewLiveCoverageSuccess:function(e){l("_getNewLiveCoverageSuccess",e),this.newLiveCoverageFailureCount=0,(0,a.default)(e,"liveCoverage.posts.length",0)>0&&(this.newLiveCoverage.posts?this.newLiveCoverage.posts=this.newLiveCoverage.posts.concat(e.liveCoverage.posts):this.newLiveCoverage=e.liveCoverage),this._updatePosts(e.liveCoverage),this.emitChange()},_getNewLiveCoverageFailure:function(e){l("_getNewLiveCoverageFailure",e),this.newLiveCoverageFailureCount++,this.emitChange()},_updatePosts:function(e){e&&(this._updatePinnedPosts(e),this._checkAndDeletePosts(e.deletedPosts,this.liveCoverage.posts))},_updatePinnedPosts:function(e){if(e.pinnedPosts){var t=e.pinnedPosts,n=e.deletedPosts;if(this.liveCoverage.pinnedPosts=t,t.length>0){var r=t[0].post_id;(0,s.default)(this.liveCoverage.posts,function(e){return r===e.post_id})}this._checkAndDeletePosts(n,this.liveCoverage.pinnedPosts)}},_checkAndDeletePosts:function(e,t){t&&t.length&&e&&e.length>0&&(0,s.default)(t,function(t){return e.indexOf(t.post_id)>=0})},_getMoreLiveCoverageSuccess:function(e){l("_getMoreLiveCoverageSuccess",e),this.moreLiveCoveragePostsCount=(0,a.default)(e,"liveCoverage.posts.length",0),this.moreLiveCoveragePostsCount>0&&(this.liveCoverage.posts=this.liveCoverage.posts.concat(e.liveCoverage.posts)),this._updatePosts(e.liveCoverage),this.emitChange()},getLiveCoverage:function(){return l("getLiveCoverage",this.liveCoverage),this.liveCoverage},getNewLiveCoverage:function(){return l("getNewLiveCoverage",this.newLiveCoverage),this.newLiveCoverage},getMoreLiveCoveragePostsCount:function(){return l("getMoreLiveCoveragePostsCount",this.moreLiveCoveragePostsCount),this.moreLiveCoveragePostsCount},getNewLiveCoverageFailureCount:function(){return l("getNewLiveCoverageFailureCount",this.newLiveCoverageFailureCount),this.newLiveCoverageFailureCount},dehydrate:function(){return{liveCoverage:this.liveCoverage,newLiveCoverage:this.newLiveCoverage}},rehydrate:function(e){this.liveCoverage=e.liveCoverage,this.newLiveCoverage=e.newLiveCoverage}}),e.exports=t.default},2146:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(1)),u=r(n(3277)),c=r(n(1219)),f=r(n(20)),d=["IMAGE","TEXT","HTML"];t.default=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),s(t,[{key:"renderContent",value:function(e,t,r){var i=(0,n(14).createI13nNode)("p",{scanLinks:{enable:!0,tags:["a"]}}),o=r?e:new u.default(e,{social:"twitter"}).getText();return l.default.createElement(i,{className:"Py(10px) M(0) Ov(h)",dangerouslySetInnerHTML:{__html:o},i13nModel:(0,n(1591).getI13nModel)("context-link-click",{g:t})})}},{key:"renderImg",value:function(e){if(!(e&&e.url&&e.height&&e.width))return null;var t=(0,f.default)(e,"width",0),r=(0,f.default)(e,"height",0);return l.default.createElement("div",{className:"media-img Pos(r) C(#000) H(0) Ovy(h)",style:{paddingBottom:r/(t/100)+"%"}},l.default.createElement(n(74).Img,{url:e.url,className:"D(b) Mih(127px) W(100%)",forceLoad:!0,delayed:!0}))}},{key:"renderPostedTime",value:function(e){return e?l.default.createElement("div",{className:"posted-time C($c-fuji-blue-1-a) Fw(b)"},l.default.createElement(n(31).FormattedRelative,{value:new Date(e)})):null}},{key:"renderAttribution",value:function(e,t){var n=e.creator,r=e.publish_time,i=void 0,o=void 0,a=void 0,s=void 0;if(n&&-1!==d.indexOf(e.type)){var u=n.avatar_url,f=void 0===u?"":u,p=n.name,v=void 0===p?"":p,h=n.avatar_image;if(h){var g=h.original_height,m=h.original_width,_=h.resolutions,w=void 0===_?[]:_,b=w.find(g&&g===m?function(e){return"original"===e.tag}:function(e){return e.height===e.width});i=b&&b.url}o=l.default.createElement(c.default,{className:"creator-avatar Mend(10px)",name:v,size:40,src:i||f}),a=t?l.default.createElement("div",{className:"creator-name D(ib) Va(t) Ta(start) C($c-fuji-grey-f)"},v):l.default.createElement("span",{className:"creator-name C($c-fuji-grey-l)"},v)}return t?l.default.createElement("div",{className:"post-attribution Lh(40px) Fz(15px) Fw(b)"},o,a):(s=this.renderPostedTime(1e3*r),l.default.createElement("div",{className:"post-attribution Fz(14px) Lh(20px)"},o,l.default.createElement("div",{className:"D(ib) H(40px) Va(t) Bxz(bb) Ta(start)"},s,a)))}}]),t}(l.default.Component),e.exports=t.default},2248:function(e,t){if(void 0===n)var n={};n.TwitterReply={name:"TwitterReply",height:96,width:96,path:"M55.822 45.15h-6.738V34.31s.098-.72-.715-1.488c-.815-.766-1.86.07-1.86.07l-19.762 13.77S26 47.24 26 48.132c0 .894.63 1.39.63 1.39l19.772 13.77s1.152.476 1.92-.005c.766-.48.762-1.584.762-1.584v-7.357h6.867c8.364 0 8.51 8.94 11.433 8.94 1.58 0 2.617-.765 2.617-5.17C70 45.467 55.822 45.15 55.822 45.15z"},void 0!==e&&e.exports&&(e.exports=n.TwitterReply)},2249:function(e,t){if(void 0===n)var n={};n.TwitterRetweet={name:"TwitterRetweet",height:96,width:96,path:"M68.594 49.773h-4.387V37.057c0-1.477-1.207-2.686-2.684-2.686H49.535c-1.48 0-2.687 1.21-2.687 2.687v2.068c0 1.477 1.207 2.686 2.687 2.686h7.232v7.964h-4.39c-1.44 0-1.854.9-.927 2l7.11 8.4c.93 1.102 2.478 1.115 3.43.037l7.49-8.472c.954-1.08.557-1.965-.886-1.965zM46.47 54.19h-7.24v-7.964h4.392c1.44 0 1.86-.898.926-2l-7.11-8.4c-.93-1.1-2.472-1.115-3.427-.035l-7.49 8.474c-.952 1.08-.558 1.963.882 1.963h4.393v12.718c0 1.477 1.21 2.684 2.686 2.684h11.99c1.478 0 2.682-1.208 2.682-2.685v-2.068c-.002-1.475-1.206-2.688-2.683-2.688z"},void 0!==e&&e.exports&&(e.exports=n.TwitterRetweet)},2250:function(e,t){if(void 0===n)var n={};n.TwitterStar={name:"TwitterStar",height:96,width:96,path:"M62.088 51.97l7.355-7.9s1.05-1.303.266-2.63c-.552-.927-2.224-.937-2.224-.937h-8.41s-1.52.092-2.55-.545-1.657-1.922-1.657-1.922l-4.44-8.463s-.733-2.232-2.4-2.232c-1.67 0-2.368 2.177-2.368 2.177l-4.395 8.385s-.742 1.27-1.773 1.908c-1.035.64-2.898.693-2.898.693h-8.262s-1.777.062-2.22 1.14c-.44 1.08.517 2.44.517 2.44L33.91 51.9s.945.968 1.164 2.036c.223 1.064.02 2.27.02 2.27l-2.035 9.763s-.414 1.33.578 2.175c.996.848 2.39.29 2.39.29l9.517-4.575s1.094-.758 2.488-.758c1.402 0 2.464.746 2.464.746l9.422 4.53s1.742.726 2.695-.16c.954-.886.356-2.425.356-2.425l-1.98-9.52s-.438-1.05-.176-2.338c.254-1.29 1.278-1.965 1.278-1.965z"},void 0!==e&&e.exports&&(e.exports=n.TwitterStar)},2688:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(0)),u=r(n(1)),c=r(n(2146)),f=r(n(301)),d=r(n(3278)),p=r(n(1219)),v=r(n(5)),h=r(n(20)),g=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"renderTimestamp",value:function(e,t){var r=void 0;return e&&!t?(r=1e3*e,u.default.createElement("div",{className:"D(ib) Fz(14px) Fl(end) C($c-fuji-grey-l) Lh(32px) H(32px)"},u.default.createElement(n(31).FormattedDate,{value:r,day:"numeric",month:"long",year:"numeric"}))):""}},{key:"renderTwitterUserHead",value:function(e,t){var r=this.props,i=r.postTime,o=r.config,a=r.config.isSummaryView,s=r.isPinned,l=a?16:20,c=t||s,d=c?null:this.renderPostedTime(i);if(!e)return u.default.createElement("div",{className:"post-attribution Fz(14px) Lh(20px) Fw(b)"},d);var h=(0,n(1825).getOrignalResolution)(e.media_image),g=h&&h.url||e.media_url,m=u.default.createElement(p.default,{name:e.screen_name,size:40,src:g});return u.default.createElement("div",{className:"post-attribution Mstart(50px) Mend(20px) Fz(14px) Lh(20px)"},u.default.createElement("div",{className:"D(ib) H(40px) Mend(10px) Mstart(-50px) Va(t)"},u.default.createElement("a",{className:"tweet-screen-name Cur(p)","data-screen_name":e.screen_name,href:o.twitter_intent_url_prefix+o.twitter_user_url_suffix+e.screen_name,rel:"nofollow",target:"_blank"},m)),u.default.createElement("div",{className:"D(ib) Va(t) Bxz(bb) Ta(start) Pend(10px) W(100%)"},d,u.default.createElement("a",{className:(0,v.default)("tweet-screen-name Cur(p) Td(n) Pend(10px) Lh(14px)",{"D(b) Py(3px)":c,"D(ib)":!c}),"data-screen_name":e.screen_name,href:o.twitter_intent_url_prefix+o.twitter_user_url_suffix+e.screen_name,rel:"nofollow",target:"_blank"},u.default.createElement("span",{className:"C($c-fuji-grey-l)"},e.name)),u.default.createElement("a",{className:"tweet-screen-name Cur(p) C($c-fuji-blue-1-a) D(ib) Lh(14px) Py(3px)","data-screen_name":e.screen_name,href:o.twitter_intent_url_prefix+o.twitter_user_url_suffix+e.screen_name,rel:"nofollow",target:"_blank"},u.default.createElement("span",null,"@",e.screen_name))),u.default.createElement("div",{className:"D(ib) Pt(10px) C($c-fuji-grey-l) Mend(-20px) Va(t)"},u.default.createElement(n(19).Icon,{asset:f.default,className:"Cur(d)!",width:l,height:l,color:"#1da1f2"})))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.config.isSummaryView,i=e.mode,o=e.postId,a=e.tweet,s=(0,h.default)(a,"id",null);if(!a||!s||!o)return null;var l=(0,h.default)(a,"user",null),c=(0,h.default)(a,"publish_time",null),f=(0,n(1825).getOrignalResolution)((0,h.default)(a,"media_entities[0].media_image",{})),p=(0,h.default)(a,"text",null),g="EMBED"===i;return u.default.createElement("div",{className:(0,v.default)("lc-tweet-post Cl(b)",{"Mt(10px) P(20px) Pb(0) Bdw(1px) Bds(s) Bdrs(4px) Bdc($c-fuji-grey-d)":g})},this.renderTwitterUserHead(l,g),u.default.createElement("div",{className:(0,v.default)({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!g&&!r,"Pb(10px)":r})},u.default.createElement("div",{className:r?"Pt(10px)":""},this.renderContent(p,o)),u.default.createElement("div",{className:(0,v.default)({"Mt(18px)":f},{"Pt(10px)":r})},this.renderImg(f)),u.default.createElement("div",{className:"D(ib)"},u.default.createElement(d.default,{config:t,tweetId:s,postId:o,retweetCount:(0,h.default)(a,"retweet_count",0),favoriteCount:(0,h.default)(a,"favorites_count",0)})),this.renderTimestamp(c,r)))}}]),t}(c.default);g.propTypes={config:l.default.object.isRequired,postId:l.default.string.isRequired,tweet:l.default.object.isRequired,mode:l.default.string},t.default=g,e.exports=t.default},2689:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(n(0)),r(n(1))),o=function(e){var t=e.isEmbed,r=e.markup;if(!r)return null;var o='<blockquote class="twitter-tweet">'+r+"</blockquote>",a="lc-tweet-widget Pb(20px)"+(t?"":" Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d)");return i.default.createElement(n(1214).Tweet,{className:a,content:o,type:"tweet"})};o.displayName="TweetWidget",t.default=o,e.exports=t.default},2690:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(n(0)),r(n(1))),o=function(e){var t=e.sourceURL,r=e.isEmbed,o=e.text,a=e.id;if(!t)return null;var s='<p><a href="'+t+'">'+(o&&o.length?o:"instagram")+"</a></p>",l="instagram-media"+(r?"":" Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d)");return i.default.createElement(n(1214).Instagram,{id:parseInt(a),className:l,content:s})};t.default=o,e.exports=t.default},3272:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(n(0)),f=r(n(1)),d=r(n(1220)),p=r(n(2143)),v=r(n(488)),h=r(n(3273)),g=r(n(3274)),m=r(n(3275)),_=r(n(3276)),w=r(n(3279)),b=r(n(3280)),y=r(n(2688)),C=r(n(2689)),x=r(n(2690)),P=r(n(281)),E=r(n(495)),N=r(n(3281)),T=r(n(3282)),k=r(n(20)),L=r(n(5)),M=r(n(34)),S=r(n(192)),O="undefined"!=typeof window;O&&(s=window,l=document);var I=["IMAGE","TEXT","HTML","TWITTER","INSTAGRAM"],B=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.state={isLive:!1,fetching:!1,viewMore:!0,scrollBeyondTop:!0,scrollBelowBottom:!1};var a=e.config||{};return r.fetchNewPostsTimeoutId=null,r.newPostsClickTime=Date.now(),r.fixedMenuHeight=e.fixedMenuHeight||a.fixedMenuHeight,["fetchNewPosts","handleViewMoreClick","handleNewPostsClick","handleTweetLinksClick","handleScroll","onFocus","onBlur","onVisibilityChange","renderPost","updateContainerBoundary"].forEach(function(e){r[e]=r[e].bind(r)}),r}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.startNewPostsRefresh(),this._subscribers=[(0,M.default)("scroll",this.handleScroll,{enableScrollInfo:!0}),(0,M.default)("resize",this.handleScroll,{enableScrollInfo:!0}),(0,M.default)("visibilitychange",this.onVisibilityChange)],!l||void 0!==l.visibilityState&&void 0!==l.hidden||(this._eventListeners=[S.default.listen(s,"focus",this.onFocus),S.default.listen(s,"blur",this.onBlur)]),setTimeout(function(){e.updateContainerBoundary()},100)}},{key:"componentWillUnmount",value:function(){this.stopNewPostsRefresh(),this._subscribers&&this._subscribers.forEach(function(e){return e.unsubscribe()}),this._eventListeners&&this._eventListeners.forEach(function(e){return e.remove()})}},{key:"componentWillReceiveProps",value:function(e){this.setState({fetching:!1,viewMore:0!==this.props.moreLiveCoveragePostsCount})}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout(function(){e.updateContainerBoundary()},100)}},{key:"shouldFetchNewPosts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.default)(this.props,"liveCoverage.posts[0]",{}),t=Date.now(),n=this.props.config.isSummaryView,r=void 0,i=void 0;if(!n)return this.hasFailed()?(this.context.beacon("info","liveCoverage",{code:"pollingStopped",msg:"serviceFailure"}),!1):!(e.post_id&&(r=(0,k.default)(e,"publish_time",null),r>0&&(i=(t/1e3-r)/86400),Math.abs(i)>(0,k.default)(this.props,"config.max_no_of_days_to_refresh_data",1)||Math.abs((this.newPostsClickTime-Date.now())/1e3/60)>(0,k.default)(this.props,"config.limit_max_idle_time",20)))||(this.context.beacon("info","liveCoverage",{code:"pollingStopped",msg:"oldEvent"}),!1)}},{key:"startNewPostsRefresh",value:function(e){var t=this;t.shouldFetchNewPosts()&&(e&&(t.stopNewPostsRefresh(),t.fetchNewPosts()),t.fetchNewPostsTimeoutId=setTimeout(function(){t.stopNewPostsRefresh(),t.fetchNewPosts(),t.startNewPostsRefresh()},(0,k.default)(t.props,"config.delay",6e4)),this.setState({isLive:!0}))}},{key:"stopNewPostsRefresh",value:function(){clearTimeout(this.fetchNewPostsTimeoutId),this.setState({isLive:!1})}},{key:"updateContainerBoundary",value:function(){if(O){var e=s.pageYOffset||(0,k.default)(l,"documentElement.scrollTop",0),t=this.refs.livecoverage&&this.refs.livecoverage.getBoundingClientRect();t&&t.top&&(this._topBoundary=t.top+e,this._bottomBoundary=t.bottom+e)}}},{key:"handleResize",value:function(e,t){this.updateContainerBoundary(),this.handleScroll(e,t)}},{key:"handleScroll",value:function(e,t){var n=this.state,r=(0,k.default)(t,"scroll.top",0),i=this._topBoundary-r>(0,k.default)(this.props,"config.livecoverage_scrolldetection_offset",0),o=this._bottomBoundary-r<this.fixedMenuHeight;i===n.scrollBeyondTop&&o===n.scrollBelowBottom||this.setState({scrollBeyondTop:i,scrollBelowBottom:o})}},{key:"scrollToTop",value:function(){this.refs.liveCoverageBegin&&this.refs.liveCoverageBegin.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"handleNewPostsClick",value:function(e){this.newPostsClickTime=Date.now(),this.context.executeAction(h.default),e.preventDefault&&(e.preventDefault(),this.scrollToTop())}},{key:"handleViewMoreClick",value:function(e){e.preventDefault&&e.preventDefault(),this.setState({fetching:!0,viewMore:!1});var t=this.props.liveCoverage.posts,n=this.props.liveCoverage.event[0],r=t[t.length-1];r.post_id&&this.context.executeAction(m.default,{event_id:n.event_id,post_id:r.post_id,direction:(0,k.default)(this.props,"config.down","DOWN"),count:(0,k.default)(this.props,"config.limit_no_of_posts",10),instanceId:this.props.id})}},{key:"handleTweetLinksClick",value:function(e){var t=this.props,n=t.config,r=t.config,i=r.twitter_intent_url_prefix,o=r.twitter_reply_url_suffix,a=r.twitter_retweet_url_suffix,l=r.twitter_favorite_url_suffix,u=!1,c="";"A"===(0,k.default)(e,"target.nodeName","")&&(0,k.default)(e,"target.className","").includes("tweet-")&&(e.preventDefault&&e.preventDefault(),""!==(0,k.default)(e,'target.dataset["screen_name"]',"")&&(u=!0,c=i+n.twitter_user_url_suffix+(0,k.default)(e,'target.dataset["screen_name"]',"")));var f=void 0;if("A"===(0,k.default)(e,"target.parentNode.nodeName","")?f=(0,k.default)(e,"target.parentNode",null):"A"===(0,k.default)(e,"target.parentNode.parentNode.nodeName","")&&(f=(0,k.default)(e,"target.parentNode.parentNode",null)),f&&(0,k.default)(f,"className","").includes("tweet-")){if(e.preventDefault&&e.preventDefault(),""!==(0,k.default)(f,'dataset["screen_name"]',""))u=!0,c=i+n.twitter_user_url_suffix+(0,k.default)(f,'dataset["screen_name"]',"");else{var d=(0,k.default)(f,'parentNode.dataset["tweet_id"]',"");if(""!==d){u=!0;var p=(0,k.default)(f,"className","");p.includes("tweet-reply")?c=i+o+d:p.includes("tweet-retweet")?c=i+a+d:p.includes("tweet-favorite")&&(c=i+l+d)}}u=!0}u&&s&&s.open(c,"YahooLiveCoverageTwitterWindow","width=575,height=400")}},{key:"handleFailureNoticeClick",value:function(e){s&&s.location.reload()}},{key:"onFocus",value:function(e){this.newPostsClickTime=Date.now(),this.startNewPostsRefresh(!0)}},{key:"onBlur",value:function(e){this.stopNewPostsRefresh(),this.context.beacon("info","liveCoverage",{code:"pollingStopped",msg:"lostWindowFocus"})}},{key:"onVisibilityChange",value:function(e){l.hidden?this.onBlur(e):this.onFocus(e)}},{key:"fetchNewPosts",value:function(){if(!this.state.fetching){this.setState({fetching:!0});var e=(0,k.default)(this.props,"liveCoverage.event[0]",{}),t=(0,k.default)(this.props,"liveCoverage.posts[0]",{});(0,k.default)(this.props,"newLiveCoverage.posts.length",0)>0&&(t=(0,k.default)(this.props,"newLiveCoverage.posts[0]",{})),this.shouldFetchNewPosts(t)&&t.post_id&&e.event_id?this.context.executeAction(m.default,{event_id:e.event_id,post_id:t.post_id,direction:(0,k.default)(this.props,"config.up","UP"),count:(0,k.default)(this.props,"config.limit_no_of_new_posts",20),instanceId:this.props.id}):this.stopNewPostsRefresh()}}},{key:"renderViewMore",value:function(){return f.default.createElement(n(14).I13nButton,{className:"view-more-btn D(b) Py(10px) Px(25px) Fz(14px) Tt(c) My(20px) Mx(a) Fw(b) Ff(ss) Ta(c) Cur(p) Bdrs(4px) Bdw(2px) Bd Trsdu(.2s) Bgc(#fff) C($c-fuji-blue-1-a) Bdc($c-fuji-blue-1-a) Bgc($c-fuji-blue-1-a):h C(#fff):h",onClick:this.handleViewMoreClick,i13nModel:(0,n(1591).getI13nModel)("view-more-click")},f.default.createElement(n(31).FormattedMessage,{id:"SHOW_MORE"}),f.default.createElement("a",{href:"?view_all_live_posts=1",className:"D(n)"})," ")}},{key:"renderFooter",value:function(){var e=this.props.config.footer.footerConfigs,t=e.link,r=e.followLink;return f.default.createElement("div",null,f.default.createElement("span",{className:"Pos(a) Bxz(bb) W(14px) H(14px) Bgc(#fff) Bdw(4px) Bds(s) Bdc($c-fuji-blue-1-a) Bdrs(50%) Start(-6px) B(1px)"}),f.default.createElement(P.default,{className:"view-more-btn D(b) Fz(14px) Td(n) Tt(c) Mb(40px) Fw(b) C($c-fuji-blue-1-a) Ff(ss) Bdw(0) Ta(s) Mstart(25px) Cur(p) Va(m) Trsdu(.2s)",href:t,follow:r,i13nModel:(0,n(1591).getI13nModel)("view-more-click")},f.default.createElement(n(31).FormattedMessage,{id:"SHOW_MORE"}),f.default.createElement(n(19).Icon,{asset:E.default,className:"D(ib) Pstart(3px)",width:11,height:15,color:"#188fff"}),f.default.createElement("u",{className:"StretchedBox Z(1)"})))}},{key:"renderLiveIndicator",value:function(){if(this.hasFailed())return null;var e="C(#fff) Bgc($c-fuji-red-2-b) Bgi(liveIndicatorGradient)",t="LIVE";return this.state.isLive&&!1!==(0,k.default)(this.props,"liveCoverage.event[0].is_live")||(e="C($c-fuji-grey-g) Bgc($c-fuji-grey-b)",t="NOTLIVE"),f.default.createElement("strong",{className:"lc-live-indicator D(ib) Bdrs(2px) Px(30px) Mstart(-5px) Mb(10px) Py(7px) Fz(16px) Ff(ss) "+e},f.default.createElement(n(31).FormattedMessage,{id:t}))}},{key:"hasFailed",value:function(){return this.props.newLiveCoverageFailureCount>(0,k.default)(this.props,"config.max_new_live_coverage_api_failure_count",2)}},{key:"renderFailureNotice",value:function(){return this.hasFailed()?f.default.createElement(n(14).I13nButton,{className:"view-more-btn D(b) Py(10px) Px(30px) Fz(14px) Td(n) Tt(c) My(20px) Fw(b) Ff(ss) Ta(c) Cur(p) Va(m) Bdrs(4px) Bdw(2px) Bd Trsdu(.2s) Bgc(#fff) C($c-fuji-blue-1-a) Bdc($c-fuji-blue-1-a) Bgc($c-fuji-blue-1-a):h C(#fff):h",onClick:this.handleFailureNoticeClick,i13nModel:(0,n(1591).getI13nModel)("fail-retry-click")},f.default.createElement(n(31).FormattedMessage,{id:"FAIL"})):null}},{key:"renderTweets",value:function(e,t){var n=this,r=e.media.twitter_post,i=e.publish_time,o=e.post_id;return Array.isArray(r)?r.map(function(e){return f.default.createElement(y.default,{config:n.props.config,isPinned:t,key:(0,k.default)(e,"id",null),postId:o,postTime:1e3*i,tweet:e})}):f.default.createElement(y.default,{config:n.props.config,isPinned:t,postId:o,postTime:1e3*i,tweet:r})}},{key:"renderInstagramPosts",value:function(e){var t=(0,k.default)(e,"media.instagram_post");if(!t)return null;return Array.isArray(t)?t.map(function(e){return f.default.createElement(x.default,{key:e.id,id:e.id,sourceURL:e.source_url,text:e.text})}):f.default.createElement(x.default,{id:t.id,sourceURL:t.source_url,text:t.text})}},{key:"renderPostByType",value:function(e,t){switch(e.type){case"TEXT":return e.source&&"null"!==e.source?f.default.createElement(C.default,{markup:e.source}):f.default.createElement(b.default,{isPinned:t,post:e,postId:(0,k.default)(e,"post_id",null),config:this.props.config});case"IMAGE":return e.source&&"null"!==e.source?f.default.createElement(n(1214).Instagram,{content:e.source}):f.default.createElement(w.default,{post:e,isPinned:t,postId:(0,k.default)(e,"post_id",null),config:this.props.config});case"TWITTER":if((0,n(1825).shouldUseTweetWidget)(e.media)){var r=[].concat((0,k.default)(e.media,"twitter_post",{}))[0];return f.default.createElement(C.default,{markup:r.source_url?'<a href="'+r.source_url+'">'+(r.text&&r.text.length?r.text:"twitter")+"</a>":e.source})}return this.renderTweets(e,t);case"INSTAGRAM":return this.renderInstagramPosts(e);case"HTML":return f.default.createElement(_.default,{isPinned:t,post:e,postId:(0,k.default)(e,"post_id",null),config:this.props.config});default:return null}}},{key:"renderPost",value:function(e,t){var r=e.post_id,i=this.props.config.isSummaryView;if(-1===I.indexOf(e.type))return null;var o=f.default.createElement("span",{className:"Pos(a) Bxz(bb) T(0) Start(-11px) Bgc(#fff) Pstart(1px)"},f.default.createElement(n(19).Icon,{asset:T.default,className:"D(ib) Mt(10px) Mb(5px)",width:20,height:20,color:"#ff2429"})),a=f.default.createElement("span",{className:(0,L.default)("Pos(a) Bxz(bb) W(14px) H(14px) Bgc(#fff) Bdw(4px) Bds(s) Bdc($c-fuji-blue-1-a) Bgc(#fff) Bdrs(50%) Start(-7px)",{"new-post":e.isNew,"T(7px)":i,"T(10px)":!i}),style:{outline:"10px solid white"}}),s=t?o:a;return f.default.createElement("li",{key:r,"data-postid":r,className:(0,L.default)("live-coverage-list post Pos(r) List(n) Pstart(25px) Bdstartw(1px) Bdstartc($c-fuji-grey-d) Bdstarts(s) Ovs(touch)",{"Py(6px) Pend(0)":i,"Py(10px)":!i})},f.default.createElement(n(14).I13nDiv,{isLeafNode:!0,i13nModel:(0,n(1591).getI13nModel)("post-view",{g:r})}),s,this.renderPostByType(e,t))}},{key:"renderNewUpdateButton",value:function(){if(0===(0,k.default)(this.props,"newLiveCoverage.posts.length",0))return null;var e=this.state,t=e.scrollBeyondTop,r=e.scrollBelowBottom;t&&this.handleNewPostsClick({});var i=!t&&!r,o={top:i?this.fixedMenuHeight:"-30px"};return f.default.createElement("div",{className:(0,L.default)("W(100%) Start(0)",{"Pos(a)":!i,"Pos(f) Z(11)":i}),style:o},f.default.createElement(n(14).I13nButton,{className:"new-posts-btn D(b) Cur(p) Tt(c) Mx(a) Px(20px) Py(6px) Op(0.9) Ta(c) Bdrs(4px) Bgc(#fff) C($c-fuji-blue-1-a) Fz(14px) Fw(b) Ff(ss)",onClick:this.handleNewPostsClick,i13nModel:(0,n(1591).getI13nModel)("new-posts-click")},f.default.createElement(n(31).FormattedMessage,{id:"NEW_UPDATES"}),f.default.createElement(n(19).Icon,{asset:N.default,className:"D(ib) Pstart(3px)",width:10,height:15,color:"#188fff"})))}},{key:"render",value:function(){var e=this;if(0===(0,k.default)(e.props,"liveCoverage.posts.length",0))return null;var t=e.props.liveCoverage.posts.map(function(t){return e.renderPost(t,!1)}),r=e.props,i=r.config,o=i.enablePinnedPosts,a=i.enableFooter,s=i.isSummaryView,l=r.liveCoverage.pinnedPosts,u=null;o&&l&&(u=l.map(function(t){return e.renderPost(t,!0)}));var c=(0,L.default)("tdv2-applet-livecoverage Pos(r) Pstart(10px) Fz(15px) Mt(40px)",{"Pstart(0)":s});return f.default.createElement("div",{className:c,ref:"livecoverage"},f.default.createElement("a",{ref:"liveCoverageBegin",className:"Pos(a) Mt(-150px)",href:"#"}),s?f.default.createElement("div",{className:"Fz(16px) C($c-fuji-grey-l) Ta(start) Fw(b) Mb(20px)"},f.default.createElement(n(31).FormattedMessage,{id:"HEADER_TITLE"})):null,e.renderLiveIndicator(),e.renderFailureNotice(),f.default.createElement(n(14).I13nDiv,{isLeafNode:!0,i13nModel:(0,n(1591).getI13nModel)("module-view")}),e.renderNewUpdateButton(),f.default.createElement(d.default,{component:"ul",className:(0,L.default)("posts P(0)",{"M(0)":s}),transitionEnterTimeout:500,transitionLeaveTimeout:1e3,transitionName:"action",onClick:e.handleTweetLinksClick},u,t),a?e.renderFooter():e.state.viewMore?e.renderViewMore():null)}}]),t}(f.default.PureComponent);B.componentConfig="componentLiveCoverage",B.initializeAction=g.default,B.contextTypes={executeAction:c.default.func.isRequired,beacon:c.default.func.isRequired,session:c.default.object},B=(0,v.default)(B,[p.default],function(e,t){var n=e.getStore(p.default);return{liveCoverage:n.getLiveCoverage(),newLiveCoverage:n.getNewLiveCoverage(),newLiveCoverageFailureCount:n.getNewLiveCoverageFailureCount(),moreLiveCoveragePostsCount:n.getMoreLiveCoveragePostsCount(),config:t.componentConfig}}),t.default=B,e.exports=t.default},3273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){e.dispatch("APPEND_NEW_LIVE_COVERAGE_POSTS_SUCCESS",null),n&&n()};r.displayName="appendNewLiveCoveragePosts",t.default=r,e.exports=t.default},3274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),i=function(e,t,n){var i=t.instanceId||(0,r.default)(t,"componentProps.id",null),o=(0,r.default)(t,"componentProps.componentConfig.event_id",null),a=(0,r.default)(t,"componentProps.componentConfig.limit_no_of_posts",10);if(!o)return n&&n();e.service.read("LiveCoverageService.event.posts",{instanceId:i,event_id:o,count:a},{},function(t,r){if(!r||t)return n&&n(t);e.dispatch("GET_LIVE_COVERAGE_POSTS_SUCCESS",{instanceId:i,liveCoverage:{event:r.event.result,posts:r.posts.result,deletedPosts:(r.deletes||{}).result,pinnedPosts:(r.pinned_posts||{}).result}}),n&&n()})};i.displayName="getLiveCoveragePosts",t.default=i,e.exports=t.default},3275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(20)),i=function(e,t,n){var i=t.instanceId||(0,r.default)(t,"componentProps.id",null),o=t,a="GET_MORE_LIVE_COVERAGE_POSTS_SUCCESS";"UP"===t.direction&&(a="GET_NEW_LIVE_COVERAGE_POSTS_SUCCESS"),o.instanceId=i,e.service.read("LiveCoverageService.event.more",o,{},function(r,o){if(!o||r)return"UP"===t.direction&&(e.dispatch("GET_NEW_LIVE_COVERAGE_POSTS_FAILURE",r),e.beacon("info","liveCoverage",{code:"serviceFailure",msg:r})),n&&n(r);e.dispatch(a,{instanceId:i,liveCoverage:{event:o.event.result,posts:o.posts.result,deletedPosts:(o.deletes||{}).result,pinnedPosts:(o.pinned_posts||{}).result}}),"UP"===t.direction&&e.beacon("info","liveCoverage",{code:"serviceSuccess"}),n&&n()})};i.displayName="getMoreLiveCoveragePosts",t.default=i,e.exports=t.default},3276:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(0)),u=r(n(1)),c=r(n(5)),f=r(n(20)),d=r(n(2146)),p=r(n(2688)),v=r(n(2689)),h=r(n(2690)),g=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"renderGraphiqContent",value:function(e,t){var r=this.props,i=r.config,o=r.config.graphiqMarkup,a=(0,n(1825).parseGraphiq)(e,o);return o&&a?a.map(function(e){return u.default.createElement(n(1214).Graphiq,{config:i,content:e,key:t,postId:t})}):null}},{key:"renderTwitterContent",value:function(e){var t=(0,f.default)(e,"media",null);if(!t||!t.twitter_post)return null;var r=(0,n(1825).shouldUseTweetWidget)(t),i=[].concat((0,f.default)(e,"media.twitter_post",[])),o=this.props.config,a=void 0;return i.length>0&&(a=i.map(function(t){return r?u.default.createElement(v.default,{key:(0,f.default)(t,"id",null),isEmbed:!0,markup:t.source_url?'<a href="'+t.source_url+'">'+(t.text&&t.text.length?t.text:"twitter")+"</a>":e.source}):u.default.createElement(p.default,{tweet:t,mode:"EMBED",key:(0,f.default)(t,"id",null),postId:(0,f.default)(e,"post_id",null),postTime:1e3*(0,f.default)(e,"publish_time",null),config:o})})),a}},{key:"renderInstagramPosts",value:function(e){var t=[].concat((0,f.default)(e,"media.instagram_post",[]));return t.length?t.map(function(e){return u.default.createElement(h.default,{key:e.id,id:e.id,isEmbed:!0,sourceURL:e.source_url,text:e.text})}):null}},{key:"render",value:function(){var e=this.props,t=e.isPinned,r=e.post,i=e.postId,o=e.config.isSummaryView,a=(0,f.default)(r,"media",null);if(!r||!i||!a)return null;var s=(0,f.default)(r,"content",null);return r.isGraphiq=(0,n(1825).isGraphiq)(s),u.default.createElement("div",{className:"lc-html-post"},this.renderAttribution(r,t),u.default.createElement("div",{className:(0,c.default)({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!o,"Pb(10px)":o})},this.renderContent(s,i,!0),u.default.createElement("div",{className:"Pb(10px) Ov(h) Pos(r)"},r.isGraphiq?this.renderGraphiqContent(s,i):null,this.renderTwitterContent(r),this.renderInstagramPosts(r))))}}]),t}(d.default);g.propTypes={config:l.default.object.isRequired,postId:l.default.string.isRequired,post:l.default.object.isRequired},t.default=g,e.exports=t.default},3277:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.social,o=void 0===i?"":i,a=n.newWindow,s=void 0===a||a,l=n.className,u=void 0===l?"":l;if(r(this,e),this._text=t,!t)return!1;if(this._cfg={newWindow:s,className:u},this.convertLinks(),o){var c=e.getSocialMeta(o);c&&this.convertSocialLinks(c)}}return i(e,[{key:"getAttrs",value:function(){var e=this._cfg,t=e.className,n=e.newWindow,r=[];return n&&r.push('target="_blank" rel="noopener noreferrer"'),t&&r.push('class="'+t+'"'),r.length?" "+r.join(" "):""}}],[{key:"getSocialMeta",value:function(e){return{twitter:{base:"https://twitter.com/",hashPath:"hashtag/"}}[e]}}]),i(e,[{key:"convertLinks",value:function(){var e=this.getAttrs();this._text=this._text.replace(new RegExp(a.default.URLPATTERN,"gim"),'<a href="$&"'+e+">$&</a>").replace(new RegExp(a.default.PSEUDOURLPATTERN,"gim"),'$1<a href="http://$2"'+e+">$2</a>")}},{key:"convertSocialLinks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.base,n=void 0===t?"https://twitter.com/":t,r=e.hashPath,i=void 0===r?"hashtag/":r,o=this.getAttrs();this._text=this._text.replace(new RegExp(a.default.MENTIONS,"gi"),function(e,t,r,i){return t?e:'<a href="'+n+i+'" title="Follow '+i+'"'+o+">@"+i+"</a>"}).replace(new RegExp(a.default.HASHTAGS,"gi"),function(e,t,r,a){return t?e:'<a href="'+n+i+a+'" title="Search tag: '+a+'"'+o+">#"+a+"</a>"})}},{key:"getText",value:function(){return this._text}}]),e}(),e.exports=t.default},function(e,t){"use strict";e.exports=Object.freeze({URLPATTERN:"\\b(?:https?|ftp)://[a-z0-9-+&@#/%?=~_|!:,.;]*[a-z0-9-+&@#/%=~_|]",PSEUDOURLPATTERN:"(^|[^/])(www\\.[a-z0-9-+&@#/%?=~_|!:,.;]*[a-z0-9-+&@#/%=~_|])",MENTIONS:"(://|>)?(@([_a-z0-9-]+))",HASHTAGS:"(://[^ <]*|>)?(#([_a-z0-9-]+))"})}])})},3278:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(r(n(0)),r(n(1))),u=r(n(2248)),c=r(n(2249)),f=r(n(2250)),d=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.tweetId,r=e.config;return!t||!r||r&&r.isSummaryView?null:l.default.createElement("div",{"data-tweet_id":t,className:"twitter-actions"},l.default.createElement(n(14).I13nAnchor,{className:"tweet-reply Cur(p) D(ib) Mend(5px) Fl(start)",href:r.twitter_intent_url_prefix+r.twitter_reply_url_suffix+t,rel:"nofollow",target:"_blank",i13nModel:(0,n(1591).getI13nModel)("twitter-action-click",{g:this.props.postId,subsec:"Reply"})},l.default.createElement(n(19).Icon,{asset:u.default,width:32,height:32,color:"#14171a"})),l.default.createElement(n(14).I13nAnchor,{className:"tweet-retweet Cur(p) D(ib)) Mend(5px) Fl(start)",href:r.twitter_intent_url_prefix+r.twitter_retweet_url_suffix+t,rel:"nofollow",target:"_blank",i13nModel:(0,n(1591).getI13nModel)("twitter-action-click",{g:this.props.postId,subsec:"Retweet"})},l.default.createElement(n(19).Icon,{asset:c.default,width:32,height:32,color:"#14171a"})),l.default.createElement(n(14).I13nAnchor,{className:"tweet-favorite Cur(p) D(ib) Mend(5px) Fl(start)",href:r.twitter_intent_url_prefix+r.twitter_favorite_url_suffix+t,rel:"nofollow",target:"_blank",i13nModel:(0,n(1591).getI13nModel)("twitter-action-click",{g:this.props.postId,subsec:"Favorite"})},l.default.createElement(n(19).Icon,{asset:f.default,width:32,height:32,color:"#14171a"})))}}]),t}(l.default.Component);t.default=d,e.exports=t.default},3279:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(0)),u=r(n(1)),c=r(n(20)),f=r(n(2146)),d=r(n(5)),p=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"render",value:function(){var e=this,t=e.props,r=t.isPinned,i=t.post,o=t.postId,a=t.config.isSummaryView;if(!i||!o)return null;var s=(0,c.default)(i,"content",null),l=(0,c.default)(i,"media.thumbnail",null),f=void 0;return f=Array.isArray(l)?l.map(function(t){return e.renderImg((0,n(1825).getOrignalResolution)(t))}):e.renderImg((0,n(1825).getOrignalResolution)((0,c.default)(i,"media.thumbnail"))),u.default.createElement("div",{className:"lc-img-post"},e.renderAttribution(i,r),u.default.createElement("div",{className:(0,d.default)({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!a,"Pb(10px)":a})},e.renderContent(s,o),f))}}]),t}(f.default);p.propTypes={config:l.default.object.isRequired,postId:l.default.string.isRequired,post:l.default.object.isRequired},t.default=p,e.exports=t.default},3280:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(0)),u=r(n(1)),c=r(n(20)),f=r(n(2146)),d=r(n(5)),p=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"render",value:function(){var e=this.props,t=e.isPinned,n=e.post,r=e.postId,i=e.config.isSummaryView;if(!n||!r)return null;var o=(0,c.default)(n,"content",null);return u.default.createElement("div",{className:"lc-text-post"},this.renderAttribution(n,t),u.default.createElement("div",{className:(0,d.default)({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!i,"Pb(10px)":i})},this.renderContent(o,r)))}}]),t}(f.default);p.propTypes={config:l.default.object.isRequired,postId:l.default.string.isRequired,post:l.default.object.isRequired},t.default=p,e.exports=t.default},3281:function(e,t){if(void 0===n)var n={};n.FinanceArrowUp={name:"FinanceArrowUp",height:512,width:512,path:"M255.97 0L74 181.97l136.563.06v329.283l90.906.062V181.97h136.435L255.97 0z"},void 0!==e&&e.exports&&(e.exports=n.FinanceArrowUp)},3282:function(e,t){if(void 0===n)var n={};n["bookmark-fill"]={name:"bookmark-fill",height:24,width:24,path:"M19 22.007V8H5v14.007c0 .782.87 1.256 1.536.838L12 19.408l5.465 3.437c.666.418 1.536-.056 1.536-.838zM18 1H6c-.553 0-1 .444-1 .992V6h14V1.992C19 1.444 18.553 1 18 1z"},void 0!==e&&e.exports&&(e.exports=n["bookmark-fill"])}});