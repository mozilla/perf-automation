webpackJsonp([16],{1334:function(e,t,n){e.exports={controllerViews:{Header:n(3409),ProfileCard:n(2088),ShareReminder:n(2519)},stores:{HeaderStore:n(1411),MailStore:n(1474),MobileHeaderStore:n(1669),NavStore:n(1917),ThemeStore:n(1584),UHCrumbsStore:n(1515)},meta:{dependencies:["tdv2-applet-account-switch","tdv2-applet-search-input","tdv2-applet-trending","tdv2-service-profile"]}}},1361:function(e,t,n){var s={get:n(20)},o=Object.assign,i=/yahoo.com/,a=null;e.exports={getStaticMethod:function(e,t,n){var s=null;if(e&&e[t])if(Array.isArray(n)){s=e[t];for(var o=0;o<n.length;o++){if(!s[n[o]]){s=null;break}s=s[n[o]]}}else"string"==typeof n&&e[t][n]&&(s=e[t][n]);return s},lightWeightBackground:function(e,t,n,s){e=e?"."+e:"";var o="";return"dark"===s&&(o=["#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\)","{background-color:#000\\9 !important;}","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover b","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\) b:hover","{background-color:#fff\\9 !important; color:#000\\9 !important;}"].join(" ")),o},lightWeightLogo:function(e,t){return"property"===t?["#atomic.ie-7 "+e+" {*display:inline; margin-left:49px!important; zoom:1;}","#atomic.ie-8 "+e+" {position:relative;}"].join(" "):""},mediaBackgroundImage:function(e,t,n){return[e+" {background-image: url("+t+");}","@media",[" only screen and ( -webkit-min-device-pixel-ratio: 2 )"," only screen and ( min--moz-device-pixel-ratio: 2)"," only screen and ( -o-min-device-pixel-ratio: 2/1)"," only screen and ( min-device-pixel-ratio: 2)"," only screen and ( min-resolution: 192dpi)"," only screen and ( min-resolution: 2dppx)"," only screen and ( min-aspect-ratio: 2/1 )"].join(","),"{ "+e+" {background-image: url("+n+");} }"].join(" ")},isClient:function(){return"undefined"!=typeof window},isEnabled:function(e){return["true","1",!0,1].indexOf(e)>-1},strExpand:function(e,t,n){return t&&(e=t+e),n&&(e+=n),e},getLogoUrl:function(e,t,s){t=t||"https";var o={protocol:t,host:e?e+".yahoo.com":"www.yahoo.com"};switch(e){case"e1":o.host="espanol.yahoo.com";break;case"my":o.host="malaysia.yahoo.com";break;case"us":o.host="www.yahoo.com";break;case"xe":o.host="en-maktoob.yahoo.com"}return s&&"fp"!==s&&"all"!==s&&(o.pathname=s),n(29).format(o)},getPageUrl:function(e,t,s){var i="https://www.yahoo.com/",a={protocol:s||"https",host:t||"www.yahoo.com"};if(e)if(e.url){var r=n(29).parse(e.url,!0);r=o(r,a),i=n(29).format(r)}else i=n(29).format(a);return i},handleBackClick:function(e){if(window){var t=n(2)(window,["history","state","referrerUrl"],document&&document.referrer),s=window.location,o=s.origin||s.protocol+"//"+s.host,r=this.getLogoUrl(e.dimensions.intl,e.protocol),l=n(2)(e.dimensions,["device"],""),c="smartphone"===l||"smartphone-lite"===l;if(a)return clearTimeout(a),a=null,void(window.location=r);i.test(t)||-1!==t.indexOf(o)?(history.back(),c&&(a=setTimeout(function(){window.location=r},6e3))):window.location=r}},getSite:function(e){var t,o=e.getStore(n(21)),i=o&&o.getCurrentRoute();return t=s.get(i,"params.contentSite"),t||(t=s.get(i,"contentSite")),t||(t=s.get(i,"query.site")),t},getSubcookie:function(e){return n(282)&&n(282).getSub&&n(282).getSub("ucs",e)},getPromoIdSubcookie:function(){return this.getSubcookie("pnid")},getPromoTimestampSubcookie:function(){var e=this.getSubcookie("pnct");return e?parseInt(e,10):0},getNotifTimestampSubcookie:function(){var e=this.getSubcookie("lnct");return e?parseInt(e,10):0},getCookieOptions:function(){var e=(new Date).setFullYear((new Date).getFullYear()+1);return{expires:new Date(e),path:"/",domain:"yahoo.com",encode:function(e){return e}}},setBackoffSubcookie:function(e){if(e){var t=Math.floor((new Date).getTime()/1e3),s=this.getCookieOptions();n(282)&&n(282).setSub&&n(282).setSub("ucs",e,t,s)}},resetPromoNotifSubcookie:function(){var e=this.getCookieOptions();n(282)&&n(282).get("ucs")&&(n(282).setSub&&n(282).setSub("ucs","pnid","",e),n(282).setSub&&n(282).setSub("ucs","pnct","",e))},setPromoNotifSubcookie:function(e,t,s){n(282)&&n(282).setSub&&n(282).setSub("ucs","pnid",e,s),n(282)&&n(282).setSub&&n(282).setSub("ucs","pnct",t,s)},isBackoffTimerExceeded:function(e,t){var n=this.getSubcookie(t),s=n?parseInt(n,10):0;return s?Math.floor((new Date).getTime()/1e3)-s>e:(this.setBackoffSubcookie(t),!0)},initSubscriptionHelper:function(e,t){var s=JSON.parse(JSON.stringify(t)),o=Object.assign({bucket:e.session.bucketLogString,userAgent:e.session.userAgent},s);o.subscriptionService=o.subscriptionService||{},o.subscriptionService.path=e.service.constructGetXhrUri("RESOURCE_PLACEHOLDER"),e.subscriptionHelper.setSubscriptionHelper(o,e.beacon,n(56).RapidManager&&n(56).RapidManager.getRapidInstance())},isFacebookApp:function(){if("undefined"!=typeof window){var e=window.navigator&&window.navigator.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1}},debounce:function(e,t){var n=null;return function(){var s=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(s,o)},t)}}}},1375:function(e,t,n){"use strict";var s={merge:n(23),get:n(20)},o=n(3)("uh:mixins:AppletMixin");e.exports={contextTypes:{conf:n(0).object,intl:n(0).object,logger:n(0).object,theme:n(0).object},getClassName:function(e,t){var s,i=null;return i=this.getConf(e,t),(!i||n(10).Map.isMap(i)&&i.isEmpty())&&(s=n(1361).getStaticMethod(e,"className",t),i=s&&this[s]&&this[s].call(this,t)),i||(i=this.getTheme(e,t)),i=n(10).Map.isMap(i)?i.toJS():i,o(e.displayName,"getClassName",t,i),i},getConf:function(e,t){var s,i,a=null;return s=e.base?this.context.conf.getIn(e.base):this.context.conf,s&&(Array.isArray(t)?a=s.getIn(t):"string"==typeof t&&(a=s.get(t))),a||(i=n(1361).getStaticMethod(e,"conf",t))&&this[i]&&(a=this[i].call(this)),o(e.displayName,"getConf",t,a),a},getMetaData:function(e,t){var s,i,a=null;return this.props&&this.props.data&&(i=this.props.data,n(10).Map.isMap(i)||(this.context&&this.context.logger&&this.context.logger.warn("The this.props.data is not an Immutable object. name=",t),i=n(10).fromJS(this.props.data)),Array.isArray(t)?a=i.getIn(t):"string"==typeof t&&(a=i.get(t))),a||(s=n(1361).getStaticMethod(e,"metaData",t))&&this[s]&&(a=this[s].call(this)),o(e.displayName,"getMetaData",t,a),a},getI13n:function(e,t,n){var i=e.i13n[t];return n&&(i=s.merge(i,n)),o(e.displayName,"getI13n",t,i,n),i},getIntl:function(e){var t;try{t=this.context.intl.formatMessage({id:e}),o("getIntl",e,t)}catch(t){this.context&&this.context.logger&&this.context.logger.warn('The paramter "name" is not defined in getIntl method. name=',e,t)}return t},getSite:function(e){var t=n(1361).getSite(this.context);return o(e.displayName,"getSite",t),t},getTheme:function(e,t){var n=null,s=null;return this.context&&this.context.theme&&e.base?s=this.context.theme.getIn(e.base):this.context&&(s=this.context.theme),s&&(Array.isArray(t)?n=s.getIn(t):"string"==typeof t&&(n=s.get(t))),o(e.displayName,"getTheme",t,n),n}}},1411:function(e,t,n){"use strict";var s=n(3)("uh:stores:HeaderStore");e.exports=n(283).createImmutableStore({storeName:"HeaderStore",initialize:function(){this._state=n(10).fromJS({})},handlers:{FFPROMO_SHOW_STATE:"_receiveShowFFPromo"},_receiveShowFFPromo:function(e){s("receive ShowFFPromo",e),this.setState(this._state.withMutations(function(t){t.set("showFFPromo",e.show)}))},getShowFFPromo:function(){return this._state.get("showFFPromo")},getState:function(){return this._state}})},1474:function(e,t,n){"use strict";e.exports=n(18)({storeName:"MailStore",statics:{handlers:{FETCH_MAIL_COUNT:"setFetching",SET_UNAUTHORIZEDUSER:"setUnauthorizedUser",NEW_MAIL_COUNT:"_receiveNewMailCount",MAIL_COUNT_TS:"_updateTs",OPEN_MAILPREVIEW_SUCCESS:"_openMailPreviewSuccess",OPEN_MAILPREVIEW_FAILURE:"_openMailPreviewFailure",OPEN_MAILPREVIEW_NO_NEW:"_openMailPreviewNoNew"}},initialize:function(){this.state={unauthorizedUser:!1,fetching:!1,mailcount:-1,mailitems:null,ts:0}},_receiveNewMailCount:function(e){this.state.mailcount=e,this.state.fetching=!1,this.state.unauthorizedUser=!1,this.emitChange()},getMailCount:function(){return parseInt(this.state.mailcount,10)},getMailPreview:function(){return this.state.mailitems},getFetching:function(){return this.state.fetching},getUnauthorizedUser:function(){return this.state.unauthorizedUser},getTs:function(){return this.state.ts},setFetching:function(e){this.state.fetching=e},setUnauthorizedUser:function(e){this.state.unauthorizedUser=e},_openMailPreviewSuccess:function(e){this.state.mailitems=Array.isArray(e)?e:[e],this.state.unauthorizedUser=!1,this.emitChange()},_openMailPreviewFailure:function(){this.state.mailitems=-1,this.emitChange()},_openMailPreviewNoNew:function(){this.state.mailitems=[],this.emitChange()},_updateTs:function(){this.state.ts=Date.now()},dehydrate:function(){return{mailcount:this.state.mailcount,mailitems:this.state.mailitems}},rehydrate:function(e){return this.state.mailitems=e.mailitems||this.state.mailitems,this.state.mailcount=e.mailcount||this.state.mailcount,this}})},1512:function(e,t,n){"use strict";e.exports={nep:"uh3",seperator:"_",queries:{default:{fr:"yfp-t-{BUCKET}"},autos:{fr:"uh3_magautos_web_gs",fr2:"p:auto,m:{FRSOURCE}"},beauty:{fr:"uh3_magbeauty_web_gs",fr2:"p:bty,m:{FRSOURCE}"},celebrity:{fr:"uh3_omg_web_gs_1",fr2:"p:clb,m:{FRSOURCE}"},decor:{fr:"uh3_magdecor_web",fr2:"p:dcr,m:{FRSOURCE}"},finance:{fr:"uh3_finance_web",fr2:"p:finvsrp,m:{FRSOURCE}"},entertainment:{fr:"uh_magentertain_web_gs",fr2:"p:ent,m:{FRSOURCE}"},esports:{fr:"uh3_esports_web_gs",fr2:"p:esports,m:{FRSOURCE}"},food:{fr:"yshineheader_test2",fr2:"p:fd,m:{FRSOURCE}"},gma:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},health:{fr:"uh3_maghealth_web_gs",fr2:"p:hlth,m:{FRSOURCE}"},katiecouric:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},lifestyle:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},lifestyles:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},makers:{fr:"uh3_magdiy_web_gs",fr2:"p:mk,m:{FRSOURCE}"},movies:{fr:"uh3_magmovies_web_gs",fr2:"p:mv,m:{FRSOURCE}"},music:{fr:"uh3_music_web_gs",fr2:"p:msc,m:{FRSOURCE}"},news:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},omg:{fr:"uh3_omg_web_gs",fr2:"p:clb,m:{FRSOURCE}"},parenting:{fr:"uh3_magparenting_web_gs",fr2:"p:prnt,m:{FRSOURCE}"},politics:{fr:"uh3_news_web_gs_t2",vfr:"uh3_news_vert_gs_t2",fr2:"p:pol,m:{FRSOURCE}"},realestate:{fr:"uh3_magrealestate_web",fr2:"p:rles,m:{FRSOURCE}"},sports:{fr:"uh3_sports_web_gs",fr2:"p:sprt,m:{FRSOURCE}"},style:{fr:"magstyle_web_gs",fr2:"p:stl,m:{FRSOURCE}"},tech:{fr:"uh3_magtech_web_gs",fr2:"p:tech,m:{FRSOURCE}"},travel:{fr:"uh3_magtravel_web_gs",fr2:"p:trvl,m:{FRSOURCE}"},tv:{fr:"uh3_magtv_web_gs",fr2:"p:tv,m:{FRSOURCE}"},weather:{fr:"uh3_magweather_web_gs",fr2:"p:weather,m:{FRSOURCE}"},everything:{fr:"yfp-t-{BUCKET}",fp:"1"}}}},1515:function(e,t,n){"use strict";e.exports=n(18)({storeName:"UHCrumbsStore",statics:{handlers:{FETCH_UHCRUMBS_SUCCESS:"_receiveCrumbs",FETCH_UHCRUMBS:"startIsFetching",FETCH_UHCRUMBS_FAILURE:"endIsFetching"}},initialize:function(){this.state={ucsCrumb:null,mailCountCrumb:null,isFetching:!1,tries:0}},_receiveCrumbs:function(e){this.state.ucsCrumb=e.ucsCrumb,this.state.mailCountCrumb=e.mailCountCrumb,this.state.tries=0,this.state.isFetching=!1},endIsFetching:function(){this.state.isFetching=!1},startIsFetching:function(){this.state.tries++,this.state.isFetching=!0},getIsFetching:function(){return this.state.isFetching},getTries:function(){return this.state.tries},getUcsCrumb:function(){return this.state.ucsCrumb},getMailCountCrumb:function(){return this.state.mailCountCrumb},dehydrate:function(){return{ucsCrumb:this.state.ucsCrumb,mailCountCrumb:this.state.mailCountCrumb,isFetching:this.state.isFetching=!1,tries:this.state.tries}},rehydrate:function(e){return this.state.ucsCrumb=e&&e.ucsCrumb?e.ucsCrumb:this.state.ucsCrumb,this.state.mailCountCrumb=e&&e.mailCountCrumb?e.mailCountCrumb:this.state.mailCountCrumb,this.state.isFetching=e&&e.isFetching?e.isFetching:this.state.isFetching,this.state.tries=e&&e.tries?e.tries:this.state.tries,this}})},1542:function(e,t,n){"use strict";function s(e){return o.get(e,"componentProps.componentConfig.uh.profile.mode")}var o={get:n(20)},i=n(3)("uh:actions:UHCrumbsActions"),a=n(1361).isClient();e.exports={initializeUHCrumbs:function(e,t,o){if("0"===e.session.dimensions.authed||!a&&"client"===s(t))return o&&o(null,null);var r=e.getStore(n(1515)),l=r.getUcsCrumb(),c=r.getMailCountCrumb();l||c||r.getIsFetching()?o&&o():(e.dispatch("FETCH_UHCRUMBS"),e.service.read("UHCrumbsService",{xhrCheck:a},{},function(t,n){if(i("UHCrumbs data",n),t||!n)return e.dispatch("FETCH_UHCRUMBS_FAILURE",t),o(t,null);e.dispatch("FETCH_UHCRUMBS_SUCCESS",{ucsCrumb:encodeURIComponent(n.ucsCrumb),mailCountCrumb:encodeURIComponent(n.mailCountCrumb)}),o&&o()}))}}},1584:function(e,t,n){"use strict";var s=n(3)("uh:stores:ThemeStore");e.exports=n(283).createImmutableStore({storeName:"ThemeStore",handlers:{THEME_FAILURE:"_handleThemeFailure",THEME_SUCCESS:"_handleThemeSuccess"},commonDimensionsMap:n(10).Map(),_handleThemeFailure:function(e){s("_handleThemeFailure","error",e),e=e||{},this.setState(this._state.withMutations(function(t){t.set("error",n(10).fromJS(e))}))},_handleThemeSuccess:function(e){s("_handleThemeSuccess","payload",e);var t=e.data||{},o=this.getCacheKey(e.params);s("_handleThemeSuccess","cache_key",o),this.setState(this._state.withMutations(function(e){e.set("last_accessed_cache_key",o),e.setIn(["data",o],n(10).fromJS(t))}))},getCacheKey:function(e){var t=this.getCommonDimensions();return t=t.merge(e),s("cache_key",t,t.hashCode()),t.hashCode()+""},getCommonDimensions:function(){var e=this.getContext().session.dimensions,t=n(10).Map();return 0===this.commonDimensionsMap.size&&n(2086)[0].dimensions.forEach(function(e){this.commonDimensionsMap=this.commonDimensionsMap.set(Object.keys(e)[0],1)}.bind(this)),Object.keys(e).forEach(function(n){this.commonDimensionsMap.has(n)&&(t=t.set(n,e[n]))}.bind(this)),t},getError:function(){return this._state.getIn(["error"])||n(10).Map()},getData:function(){return this._state.getIn(["data"])||n(10).Map()},getCachedData:function(e,t){var o=this.getCacheKey(e),i=this._state.get("last_accessed_cache_key");return s("getCachedData","data",this.getData()),s("getCachedData","cache_key",o),s("getCachedData","last_accessed_cache_key",i),(t?this._state.getIn(["data",o])||this._state.getIn(["data",i]):this._state.getIn(["data",o]))||n(10).Map()},getState:function(){return this._state}})},1654:function(e,t,n){"use strict";function s(){return i=o(n(1226))}function o(e){return e&&e.__esModule?e:{default:e}}var i,a=n(3)("uh:components:search:SearchForm"),r={i13n:{search:{elm:"btn",itc:"0",slk:"srch-click",subsec:"search"},vertical_search:{elm:"btn",itc:"0",slk:"vert-srch-click",subsec:"search"},cancel:{elm:"btn",itc:"0",slk:"cancel-click",subsec:"cancel"}}},l=n(4)({contextTypes:{conf:n(0).object.isRequired,logger:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},childContextTypes:{theme:n(0).object},displayName:"SearchForm",mixins:[n(1375),n(12)],propTypes:{data:n(0).object},statics:{base:["search"],i13n:r.i13n},_getClassNameContent:function(e){var t=[],s=e?"content_3":"content_2";return t.push(this.getClassName(l,["style","search_button","content_1"])),t.push(this.getClassName(l,["style","search_button",s])),t=n(5)(t),a("_getClassNameContent",t,arguments),t},_getMetaDataAction:function(){return this._getActionUrl(this.state.verticalSearchEnabled?"verticalSearchAction":"action")},_getActionUrl:function(e){var t=null,s=this.context.session;if(!(t=this.getConf(l,e))){var o={protocol:s.protocol,host:s.dimensions.intl+".search.yahoo.com",pathname:"/search"};switch(s.dimensions.intl){case"e1":o.host="espanol.search.yahoo.com";break;case"cf":o.host="qc.search.yahoo.com";break;case"my":o.host="malaysia.search.yahoo.com";break;case"us":o.host="search.yahoo.com"}t=n(29).format(o)}return a("_getMetaDataAction",t,arguments),t},_getMetaDataFrSource:function(){var e=this.state.fr_source;return a("_getMetaDataFrSource",e,arguments),e},_getMetaDataBucket:function(){var e=this.context.session.dimensions.bucket;return a("_getMetaDatBucket",e,arguments),e},_getMetaDataPlaceholderText:function(){var e,t;return t=this.getConf(l,"placeholderText"),t&&(e=this.getIntl(t)),e||(e=" "),a("_getMetaDataPlaceholderText",e,arguments),e},_getNodeSearchLayout:function(){var e=this,t=e.context.session.dimensions.device,s=e._getNodeSearchInput(),o=e._getNodeSearchButton(),i="smartphone"===t?e._getNodeCancelButton():null,a=e.getConf(l,"showSubPartnerLogo")?e._getNodeSubLogo():null;if(/desktop|tv/i.test(t)){var r=e.getClassName(l,["style","table","wrapper"]);return n(1).createElement("table",{className:r},n(1).createElement("tbody",null,n(1).createElement("tr",null,n(1).createElement("td",{className:"W(100%) Va(t) Px(0)"},s),n(1).createElement("td",{className:"Va(t) Tren(os) W(10%) Whs(nw) Px(0) Bdcl(s)"},n(1).createElement("div",{id:"search-buttons"},o)),a)))}return[s,o,i]},_getNodeCancelButton:function(){var e=this;return n(1).createElement(n(14).I13nButton,{ref:"cancelButton",key:"cancelButton",className:e.getClassName(l,["style","cancel_button","content"]),id:"uh-search-cancel",i13nModel:e.getI13n(l,"cancel"),onClick:e.handleCancel,type:"button"},e.getIntl("CANCEL"))},_getNodeSearchButton:function(){var e,t=this,s=[],o="submit",i=this.getConf(l,["useIcon"],!1),a=this.getConf(l,["icon"]),r=t.getClassName(l,["style","search_button","content_1"]),c=n(5)(r,t.getClassName(l,["style","search_button","content_2"])),u="buttonText";if(t.state.verticalSearchEnabled){var h=n(5)(r,t.getClassName(l,["style","search_button","content_3"]));o="button",e=t.handleWebSearch,u="webSearchButtonText",s.push(n(1).createElement(n(14).I13nButton,{key:"verticalSearch",className:h,i13nModel:t.getI13n(l,"vertical_search"),id:"vert-search-button",style:t.getClassName(l,["style","search_button","inline_2"]),type:"submit"},t.getIntl(t.getConf(l,"verticalSearchButtonText"))))}return s.push(n(1).createElement(n(14).I13nButton,{key:"webSearch",className:c,i13nModel:t.getI13n(l,"search"),id:"search-button",onClick:e,style:t.getClassName(l,["style","search_button","inline_1"]),type:o},i&&a?n(1).createElement(n(19).Icon,{asset:a.get("asset").toJS(),height:a.get("height")||a.get("size"),width:a.get("width")||a.get("size"),color:this.getClassName(l,["style","search_button","iconColor"])}):t.getIntl(t.getConf(l,u)))),s},_getNodeSearchInput:function(){var e=this;return n(1).createElement("div",{ref:"searchInputWrapper",key:"searchInputWrapper",className:e.getClassName(l,["style","input","wrapper"])},n(1).createElement((i||s()).default,{autofocus:e.getConf(l,"autofocus"),cancelBtn:e.getConf(l,"cancelBtn"),className:e.getClassName(l,["style","input","content"]),clearBtn:e.getConf(l,"clearBtn"),config:e.getConf(l,"autocomplete").toJS(),enableFocusBeacon:e.props.data.get("enable_focus_beacon"),footerComponent:e.props.data.get("footer_component"),id:"search-assist-input",inputName:"p",isSmartphone:"smartphone"===e.context.session.dimensions.device,magnifyingGlass:e.getConf(l,"magnifyingGlass"),onFocus:e.handleFocus,onSearchHintChanged:e.handleSearchHintChanged,onSelect:e.handleSubmit,placeholder:e._getMetaDataPlaceholderText(),placeholderIcon:e.getConf(l,"placeholderIcon"),ref:"searchInput",searchHint:e.getConf(l,"searchHint"),showFooter:e.props.data.get("show_footer"),termCompleteBtn:e.getConf(l,"termCompleteBtn"),templateComponent:e.props.data.get("template_component")}))},_getNodeSearchQuery:function(){var e=this,t=e.getSearchOrigin(),s=e.getConf(l,"queries"),o=this.state.verticalSearchEnabled;return s=t.merge(s),s.keySeq().toArray().map(function(t,i){var a=t;if(o&&"fr"===t&&(a="vfr"),"vfr"===t)return null;var r=s.get(a)||"";return Array.isArray(r)&&(r=r.shift()),r=r&&r.length?n(497)(r,{BUCKET:e._getMetaDataBucket(),SITE:e.getMetaData(l,"site"),FRSOURCE:e._getMetaDataFrSource()}):"",n(1).createElement("input",{ref:"query_"+t,key:i,type:"hidden",name:t,value:r})}.bind(e))},_getNodeSkipNav:function(){if(!n(1361).isEnabled(this.context.conf.getIn(["ui","skip_nav"])))return null;var e={data:this.context.conf.getIn(["skip_nav","data"]).toJS(),style:this.context.conf.getIn(["skip_nav","style"]).toJS()};return n(1).createElement(n(1655),e)},_getNodeSubLogo:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","logo"]))?n(1).createElement(n(1656),null):null},_onGlowClass:function(){this.setState({buttonGlow:!0})},_onNoGlowClass:function(){this.setState({buttonGlow:!1})},_onNoGlowingClass:function(){this.setState({buttonGlowing:!1})},_onGlowingClass:function(){this.setState({buttonGlowing:!0})},_animateSearchBtn:function(){var e=this;e._onNoGlowClass(),setTimeout(function(){e._onGlowClass(),setTimeout(function(){e._onNoGlowClass(),setTimeout(function(){e._onNoGlowingClass()},1e3)},1e3)},1e3)},componentDidMount:function(){var e=this,t=e.context.session.dimensions.device;if("smartphone"===t||"tablet"===t){var s=n(9).findDOMNode(e.refs.searchInput),o=n(9).findDOMNode(e.refs.cancelButton);s&&s.addEventListener("click",e.handleFocus,!1),o&&o.addEventListener("click",e.handleCancel,!1)}this._animateSearchBtn()},doSubmit:function(e){var t=this.context.conf.get("search").toJS().instantSearch,s="",o=this.refs.searchInput,i=this.refs.searchForm;return s=o.getUserInput(),""===s.trim()?void(e&&e.preventDefault()):t?(this.context.executeAction(n(189),{url:"/search/"+encodeURIComponent(s)}),!1):void(i&&i.submit())},getInitialState:function(){var e=this;return{fr_source:"sb",buttonGlow:!0,buttonGlowing:!0,verticalSearchEnabled:n(1361).isEnabled(e.getConf(l,"verticalSearchEnabled"))&&e.getConf(l,"verticalSearchButtonText")&&e._getActionUrl("verticalSearchAction")}},getSearchOrigin:function(){var e,t=this,s=t.context.conf.get("searchOrigin"),o=n(2)(t,["context","session","query","fr"],null);return o?e=n(10).fromJS({fr:o}):s.get("fr")&&("yfp-t-{BUCKET}"===s.get("fr")||"yfp-hrtab-{BUCKET}"===s.get("fr")||"yfp-hrmob-{BUCKET}"===s.get("fr"))&&t.props.data&&t.props.data.get("site")?(e=n(1512).queries[t.props.data.get("site")],"tablet"===t.context.session.dimensions.device&&"yfp-hrtab-{BUCKET}"===s.get("fr")?e=JSON.parse('{"fr": "yfp-hrtab-{BUCKET}"}'):"smartphone"===t.context.session.dimensions.device&&"yfp-hrmob-{BUCKET}"===s.get("fr")?e=JSON.parse('{"fr": "yfp-hrmob-{BUCKET}"}'):e||(e=n(1512).queries.default),e=n(10).fromJS(e)):e=s,e},handleCancel:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.refs.searchInput;t&&t.clearInput();var n=this.props.data.get("hide_search_view");n&&n(e)},handleFocus:function(){var e=this.props.data.get("show_search_view");e&&e()},handleSearchHintChanged:function(e){var t=this.context.conf.get("search").toJS().instantSearch;""!==e&&!0===t&&this.context.executeAction(n(189),{url:"/search/"+e})},handleWebSearch:function(e){var t=this,n=t._getActionUrl("action"),s=t.context.conf.getIn(["searchOrigin","fr"]);""!==t.refs.searchInput.getUserInput().trim()&&(t.refs.searchForm.action=n,t.refs.query_fr.value=s),t.handleSubmit(e)},handleSubmit:function(e){a("handleSubmit",e);var t="sb",n=this,s=this.props.data.get("handle_submit"),o="",i=n.refs.searchInput;e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.source&&(t=e.source)),s?(i&&(o=i.getUserInput()),s(o)):(n.setState({fr_source:t}),n.doSubmit())},render:function(){var e=this,t=n(5)(e.getClassName(l,["style","container","content"]),{glow:e.getConf(l,"glowEnabled")&&e.state.buttonGlow,glowing:e.getConf(l,"glowEnabled")&&e.state.buttonGlowing,"two-btn":e.state.verticalSearchEnabled});return n(1).createElement("div",{id:"uh-search",className:e.getClassName(l,["style","container","wrapper"])},n(1).createElement("form",{action:e._getMetaDataAction(),className:t,method:"get",name:"input",onSubmit:e.props.data.get("handle_submit")||e.handleSubmit,ref:"searchForm"},n(1).createElement("label",{className:"Hidden",htmlFor:"search-assist-input"},e.getIntl("SEARCH")),e._getNodeSearchLayout(),e._getNodeSearchQuery()),this._getNodeSkipNav())}});e.exports=l},1655:function(e,t,n){"use strict";var s=n(3)("uh:components:skip_nav/SkipNav");e.exports=n(4)({autobind:!1,displayName:"SkipNav",propTypes:{data:n(0).object,styles:n(0).object},getData:function(){var e,t={items:[]},n=this.props.data&&this.props.data.items||{},o=Object.keys(n).filter(function(e){return n[e].order>0}).sort(function(e,t){return parseInt(n[e].order)-parseInt(n[t].order)});for(e=0;e<o.length;e++)t.items.push(n[o[e]]);return s("getData",t),t},getInitialState:function(){return{data:this.getData()}},render:function(){var e=this.getData(),t=this;if(s("render","data",e),e&&e.items&&0===e.items.length)return null;var o=e.items.map(function(e,s){return n(1).createElement("li",{key:s,tabIndex:"3"},n(1).createElement("a",{className:t.props.style.link.content,href:e.link},e.name))});return n(1).createElement("ul",{id:"skip-nav",className:this.props.style.container.wrapper},o)}})},1656:function(e,t,n){"use strict";var s=n(3)("uh:components:logo:SubLogo"),o={i13n:{logo:{elm:"btn",itc:"0",slk:"poweredbyyahoo",subsec:"logo"}}},i=n(4)({autobind:!1,contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"SubLogo",mixins:[n(1375),n(12)],statics:{base:["logo"],className:{style:{cobrand:{yahoo:{content:"_getClassNameCobrandYahooContent"}}}},i13n:o.i13n},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(i,["style","cobrand","yahoo","content_1"])),e=n(5)(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getNodeSubLogo:function(){var e=this.context.conf,t=null,s=null,o=this.getIntl(this.getConf(i,"text")||"YAHOO");return n(1361).isEnabled(e.getIn(["ui","logo"]))?(s=this.getClassName(i,["style","template"]),"cobrandSplit"===s&&(t=n(1).createElement("span",null,n(1).createElement("style",null,n(1361).mediaBackgroundImage("#uh-sublogo",this.getClassName(i,["style","cobrand","image_1x"]),this.getClassName(i,["style","cobrand","image_2x"]))),n(1).createElement(n(14).I13nAnchor,{id:"uh-sublogo",className:this.getClassName(i,["style","cobrand","yahoo","content"]),href:this.getConf(i,"partnerLink"),i13nModel:this.getI13n(i,"logo")},n(1).createElement("b",{className:"Hidden"},o)))),t):null},getData:function(){return{site:n(1361).getSite(this.context)||this.context.session.dimensions.site}},getInitialState:function(){return s("getInitialState","data",this.getData()),{data:this.getData()}},render:function(){return n(1).createElement("td",null,this._getNodeSubLogo())}});e.exports=i},1669:function(e,t,n){"use strict";var s={get:n(20)};e.exports=n(283).createImmutableStore({storeName:"MobileHeaderStore",initialize:function(){this._state=n(10).fromJS({navTitle:"home",useNavTitle:!1})},statics:{handlers:{NAVIGATE_SUCCESS:"setHeaderTitle",SET_NAVTRIGGER:"setNavTrigger",ON_STREAM_FOLLOW:"setFollowAnimationState",ON_FOLLOW_ANIM_END:"setFollowAnimationState"}},setHeaderTitle:function(e){var t,n,o=e.route?e.route:e,i=s.get(o,"name",""),a=s.get(o,"params",""),r=s.get(o,"params.contentSite")||s.get(o,"contentSite")||"home",l=s.get(a,"alias","");return"topic"===i||"category"===i?(t=decodeURIComponent(l).split("-"),t&&t.constructor===Array&&(t=t[0]),t.indexOf("_")>-1&&(t=t.replace(/_/g," ")),n=!0):(r&&(t=r),n=!1),!!t&&this.setState(this._state.withMutations(function(e){e.set("navTitle",t),e.set("useNavTitle",n)}))},setNavTrigger:function(e){e&&this.setState(this._state.set("navTrigger",e))},getHeaderTitle:function(){return this._state.get("navTitle")},getHeaderFlag:function(){return this._state.get("useNavTitle")},getNavTrigger:function(){return this._state.get("navTrigger")},setFollowAnimationState:function(e){e&&this.setState(this._state.set("followAnimation",e.followAnimation))},getFollowAnimationState:function(){return this._state.get("followAnimation")}})},1827:function(e,t){e.exports={name:"tdv2-applet-uh",version:"10.1.33"}},1874:function(e,t,n){"use strict";function s(e){return a.get(e,"componentProps.componentConfig.uh.profile.mode")}function o(e){return n(1361).isEnabled(a.get(e,"componentProps.componentConfig.uh.ui.profile",!1))}function i(e){var t=e.getStore(n(75)),s=e.getStore(n(288));if(t&&s&&e.beacon){var o=t.getGUID(),i=s.getGuid();if(o&&i){e.beacon("info",null,{code:"UHCheckGuid",match:o===i?"1":"0"},{fireOnce:!0})}}}var a={get:n(20)},r=n(3)("uh:actions:loadProfile"),l=n(1361).isClient();e.exports=function(e,t,a){return r("context.session.isLightWeightBrowser",e.session.isLightWeightBrowser),o(t)?e.session.isLightWeightBrowser?void e.executeAction(n(498).getProfile,{},a):l||t.IS_CLIENT?(r("client"),void("client"===s(t)?e.executeAction(n(498).getProfile,{},function(t,n){i(e),a&&a(t,n)}):a&&a(null,null))):(r("server"),void("server"===s(t)?e.executeAction(n(498).getProfile,{},a):a&&a(null,null))):a&&a(null,null)}},1915:function(e,t,n){"use strict";function s(e){return i.get(e,"componentProps.componentConfig.uh.profile.mode")}function o(e){return n(1361).isEnabled(i.get(e,"componentProps.componentConfig.uh.ui.topbarFFPromo",!1))}var i={get:n(20)},a=n(3)("uh:actions:loadFFPromo"),r=n(1361).isClient();e.exports=function(e,t,i){var l;return o(t)&&(r||"client"!==s(t))?(l=e.getStore(n(1411)),void 0!==l.getShowFFPromo()?i&&i(null,null):void e.service.read("UHGetFFPromoService",{},{},function(t,n){n&&(a(n),e.dispatch("FFPROMO_SHOW_STATE",n)),i&&i(null,null)})):i&&i(null,null)}},1916:function(e,t,n){"use strict";function s(e){return i.get(e,"componentProps.componentConfig.uh.mail.data.mode")}function o(e){return n(1361).isEnabled(i.get(e,"componentProps.componentConfig.uh.ui.mail",!1))}var i={get:n(20),find:n(296)},a=n(3)("uh:actions:UHMailActions"),r=n(1361).isClient(),l="",c=function(){var e=(new Date).getTime(),t=null;return"xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(n){return t=(e+16*Math.random())%16|0,e=Math.floor(e/16),t.toString(16)})},u=/%7B/gi,h=/%7D/gi,m=function(e,t,s,o){var r=t.url||"https://mg.mail.yahoo.com/mailservices/v1/newmailcount?appid=UnivHeader&wssid={crumb}&ymreqid={ymreqid}";r=r.replace(u,"{"),r=r.replace(h,"}");var l,m=t.timeout||3e3,p=t.prefix||"__uhmc__",g=c(),d=n(497)(r,{ymreqid:g,crumb:s});n(521)(d,{timeout:m,prefix:p},function(t,n){e.dispatch("MAIL_COUNT_TS"),t&&e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"timedout",ymreqid:g||""}),n&&n.query?l=i.get(n,"query.results.result.decos.counts.unseen",0).toString():n&&n.newmailcount&&(a("data is: "+n.newmailcount),l=n.newmailcount),l?e.dispatch("NEW_MAIL_COUNT",l):e.dispatch("FETCH_MAIL_COUNT",!1),o&&o(t)})},p=function(e,t,s){var o=t.api||{};l&&o.query&&(o.query.wssid=l);var a,r=n(510)(o);if(!(window&&"XMLHttpRequest"in window))return s({statusText:"XHR not supported"}),null;a=new XMLHttpRequest,"withCredentials"in a?(a.open("POST",r,!0),a.withCredentials=!0):s({statusText:"CORS not supported"}),a.timeout=t.timeout,a.setRequestHeader("content-type","application/json"),a.setRequestHeader("accept","application/json"),a.setRequestHeader("X-Oath-YmReqId",t.reqid),a.onload=function(){try{var n=JSON.parse(a.responseText),o=n.error||{},r=i.get(o,"details.wssid")||"";if(n.result&&!n.error)s(null,i.get(n,"result.responses[0].response.result")||{});else if("EC-4003"===o.code)if(r&&r!==l){if(t.pendingRetries>0)return l=r,t.pendingRetries-=1,t.reqid=c(),p(e,t,s);s({code:"invalidWssid",statusText:"Invalid WSSID. Retry limit reached"})}else s({code:"invalidWssid",statusText:"Invalid WSSID. API provided same invalid WSSID"});else n.result||n.error?s(o,n):s({statusText:"Key 'result' is missing in the response"})}catch(e){s({statusText:"Could not parse mail api response, message: "+e.message+", code: "+e.name})}},a.onerror=function(){s({status:a.status,statusText:a.statusText})},a.send(JSON.stringify(t.body||{}))},g=function(e,t,l){a("getMailCount");var u=e.getStore(n(75));if(!o(t))return l&&l(null,null);if(!u.isLoaded())return void n(289)(e,t,function(){g(e,t,l)});if(!r&&"client"===s(t))return l&&l(null,null);if(u.isSignedOut())return a("getMailCount: user is signed out"),l&&l();if(e.dispatch("FETCH_MAIL_COUNT",!0),t.useCors)t.reqid=c(),t.pendingRetries=1,p(e,t,function(n,s){var o;if(n)"EC-4008"===n.code&&e.dispatch("SET_UNAUTHORIZEDUSER",!0),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:n.statusText||n.code||"timedout",ymreqid:t.reqid||"",statusCode:n.status||n.code});else{var a=i.get(s,"decos")||[];o=i.find(a,{id:"FTI"}),o?e.dispatch("NEW_MAIL_COUNT",i.get(o,"counts[0].unseen")||0):e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"Inbox is missing in the response",ymreqid:t.reqid||""})}e.dispatch("FETCH_MAIL_COUNT",!1),l&&l(n||s&&s.error)});else{var h=e.getStore(n(1515)),d=h.getMailCountCrumb(),f=parseInt(h.getTries(),10);if(!d)return f>5?(a("getMailCount: retry limit reached"),e.dispatch("FETCH_MAIL_COUNT",!1),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"retry limit reached"}),l&&l(null,null)):void n(1542).initializeUHCrumbs(e,{},function(){g(e,t,l)});t&&t.url&&t.url.match(/decos/)&&(d=h.getUcsCrumb()),m(e,t,d,l)}},d=function(e,t,s,o){var i=t.url;i=i.replace(u,"{"),i=i.replace(h,"}");var a=t.timeout||3e3,r=t.prefix||"__uhmp__",l=c(),m=n(497)(i,{ymreqid:l,crumb:s});n(521)(m,{timeout:a,prefix:r},function(t,n){n&&e&&(n.error?e.dispatch("OPEN_MAILPREVIEW_FAILURE"):n.query&&n.query.results&&n.query.results.result?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.result):n.query&&n.query.results&&n.query.results.json?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.json):n.query&&0===n.query.count&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW")),o&&o(t||n&&n.error)})},f=function(e,t,s){var o=e.getStore(n(75)),r=e.getStore(n(1474));if(!o.isLoaded())return void n(289)(e,{},function(){f(e,t,s)});if(o.isSignedOut()||o.isRecognized())return a("getMailPreview: user is signed out or in recognized state"),e.dispatch("OPEN_MAILPREVIEW_FAILURE"),s&&s();if(t.useCors){if(t.reqid=c(),t.pendingRetries=1,r.getUnauthorizedUser())return e.dispatch("OPEN_MAILPREVIEW_FAILURE"),s&&s();p(e,t,function(n,o){var a=[];n&&e.beacon?e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:n.statusText||"timedout",ymreqid:t.reqid||"",statusCode:n.status}):(a=i.get(o,"messages"),!a&&e.beacon&&e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:"Key 'Messages' is missing in the response",ymreqid:t.reqid||""}),a=(a||[]).filter(function(n){var s=n.headers||{};return!!(n.id&&s.from&&s.from[0]&&s.date)||(e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:"Invalid message in the response",ymreqid:t.reqid||""}),!1)}).map(function(e){var t=e.headers||{},n=t.from&&t.from[0]||{};return{messages:{id:e.id,headers:{date:t.date,subject:t.subject,from:{name:n.name,email:n.email}},flags:e.flags}}})),n?("EC-4008"===n.code&&e.dispatch("SET_UNAUTHORIZEDUSER",!0),e.dispatch("OPEN_MAILPREVIEW_FAILURE")):a&&a.length?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",a):a&&!a.length&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW"),s&&s(n||o&&o.error)})}else{var l=e.getStore(n(1515)),u=l.getUcsCrumb();u?d(e,t,u,s):n(1542).initializeUHCrumbs(e,{},function(){u=l.getUcsCrumb(),u?d(e,t,u,s):s&&s()})}};e.exports={getMailCount:g,getMailPreview:f}},1917:function(e,t,n){"use strict";var s=n(3)("uh:stores:NavStore");e.exports=n(18)({storeName:"NavStore",handlers:{NAV_FAILURE:"_handleNavFailure",NAV_SUCCESS:"_handleNavSuccess"},initialize:function(){this.state={}},_handleNavFailure:function(e){s("_handleNavFailure","error",e),this.state.error=e||{}},_handleNavSuccess:function(e){s("_handleNavSuccess","payload",e),this.state.data=e&&e.data||{},this.emitChange()},getError:function(){return this.state.error||null},getItems:function(){return this.state.data&&this.state.data.items||[]},getState:function(){return this.state},dehydrate:function(){return this.state},rehydrate:function(e){this.state=e}})},2083:function(e,t,n){"use strict";var s=n(3)("uh:actions:loadHeader");e.exports=function(e,t,o){s("Loading the Header");var i=e.getStore("RouteStore");({}).payload=t,e.dispatch("UH_NAVIGATE_INIT_ON_START",i.getCurrentRoute()),n(284)(e,{loadProfile:{action:n(1874),params:t},loadNav:{action:n(2084),params:t},loadTheme:{action:n(2085),params:t},loadFFPromo:{action:n(1915),params:t},loadUHCrumbs:{action:n(1542).initializeUHCrumbs,params:t},registerComposite:{action:n(1207).registerComposite,params:Object.assign({},t,{accountSwitchConfigPath:["uh","account_switch"],compositeName:"account-switch-uh"})}},function(e,t){return e?o&&o(e,null):o&&o(null,t)})}},2084:function(e,t,n){"use strict";function s(e){return n(1361).isEnabled(i.get(e,"componentProps.componentConfig.uh.ui.topbar",!1))}function o(e){return n(1361).isEnabled(i.get(e,"componentProps.componentConfig.uh.data.action.load_nav.cache.enabled",!1))}var i={get:n(20)},a=n(3)("uh:actions:loadNav"),r=n(1361).isClient();e.exports=function(e,t,n){if(!s(t))return n&&n(null,null);if(r)return a("client"),n&&n(null,null);a("server");var i={app:"yahoo",cache:o(t)};a("params",i),e.service.read("nav",i,{},function(t,s){return t?(e.dispatch("NAV_FAILURE",t),n&&n(t,null)):(e.dispatch("NAV_SUCCESS",s),n&&n(null,s))})}},2085:function(e,t,n){"use strict";function s(e,t,s){var r={site:o(e),theme:i(t)},l=e.getStore(n(1584)).getCachedData(r);if(a(t)&&0!==l.size)return c("Get data from cache"),c("data",l),s&&s(null,{message:"ok",statusCode:200,params:r});c("Get data from service"),e.service.read("theme",r,{},function(t,n){return t?(c("err",t),e.dispatch("THEME_FAILURE",t),s&&s(t,null)):(n.params=r,e.dispatch("THEME_SUCCESS",n),s&&s(null,n))})}function o(e){var t=e.getStore("RouteStore"),n=t.getCurrentRoute(),s=null;return n&&(s=l.get(n,"params.contentSite")),n&&!s&&(s=l.get(n,"contentSite")),s||(s=e.session.dimensions.site),s}function i(e){return l.get((e&&e.componentProps||{}).componentConfig||{},"uh.ui.theme",!1)}function a(e){return l.get(e,"componentProps.componentConfig.uh.data.action.load_theme.cache.enabled",!1)}function r(e){return l.get(e,"componentProps.componentConfig.uh.data.action.load_theme.client.enabled",!0)}var l={get:n(20)},c=n(3)("uh:actions:loadTheme"),u=n(1361).isClient();e.exports=function(e,t,n){return c("Loading theme"),u?(c("client"),r(t)?s(e,t,n):(c("no op"),n&&n(null,null))):(c("server"),s(e,t,n))}},2086:function(e,t){e.exports=[{dimensions:[{ynet:{1:null,0:null}},{authed:{2:null,1:null,0:null}},{ssl:{1:null,0:null}},{spdy:{1:null,0:null}},{bot:{1:null,0:null}},{environment:{development:{dev:null,corp:null},integration:{int:null,int1:null},qa:{qa1:null},production:{canary:null,prev:null,prod:null,stage:null},performance:{perf:null}}},{device:{desktop:{full:null,lightweight:null,"desktop-lite":null,"desktop-full":null,tv:null},mobile:{tablet:{"tablet-lite":null,"tablet-full":null},smartphone:{"smartphone-lite":null,"smartphone-full":null},featurephone:null},console:null}},{ecma:{default:null,modern:null}},{partner:{att:null,frontier:null,ideanetsetter:null,none:null,mts:null,rjio:null,rogers:null,smartfren:null,tata:null,tikona:null,tnz:null,verizon:null}},{lang:{ar:{"ar-JO":null,"ar-MA":null,"ar-SA":null,"ar-EG":null},bn:{"bn-IN":null},ca:{"ca-ES":null},cs:{"cs-CZ":null},da:{"da-DK":null},de:{"de-AT":null,"de-DE":null},el:{"el-GR":null},en:{"en-AE":null,"en-AU":null,"en-BG":null,"en-CA":null,"en-GB":null,"en-GY":null,"en-HK":null,"en-IE":null,"en-IN":null,"en-JO":null,"en-MY":null,"en-NZ":null,"en-PH":null,"en-SG":null,"en-US":null,"en-ZA":null},es:{"es-AR":null,"es-BO":null,"es-CL":null,"es-CO":null,"es-EC":null,"es-ES":null,"es-MX":null,"es-PE":null,"es-PY":null,"es-US":null,"es-UY":null,"es-VE":null},fi:{"fi-FI":null},fr:{"fr-BE":null,"fr-CA":null,"fr-FR":null,"fr-GF":null},hi:{"hi-IN":null},hu:{"hu-HU":null},id:{"id-ID":null},it:{"it-IT":null},ja:{"ja-JP":null},kn:{"kn-IN":null},ko:{"ko-KR":null},ml:{"ml-IN":null},mr:{"mr-IN":null},ms:{"ms-MY":null},nb:{"nb-NO":null},nl:{"nl-BE":null,"nl-NL":null,"nl-SR":null},pl:{"pl-PL":null},pt:{"pt-BR":null},ro:{"ro-RO":null},ru:{"ru-RU":null},sv:{"sv-SE":null},ta:{"ta-IN":null},te:{"te-IN":null},th:{"th-TH":null},tr:{"tr-TR":null},vi:{"vi-VN":null},zh:{"zh-Hans":{"zh-Hans-CN":null},"zh-Hant":{"zh-Hant-HK":null,"zh-Hant-TW":null}}}},{region:{ZZ:null,AFRICA:{NG:{ng:null},ZA:{za:null}},ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{au:null},NZ:{nz:null}}},ASIA:{CN:{cn:null},HK:{h1:null,hk:null},IN:{in:null},ID:{id:null},JP:{jp:null},KR:{kr:null},MY:{my:null},PH:{ph:null},PK:{pk:null},SG:{aa:null,sg:null},TW:{tw:null,k1:null},TH:{th:null},VN:{vn:null}}},XA:{EG:null,MA:null,AE:null,IL:null,JO:{xa:null},SA:null},XE:{xe:null},ME:{me:null},EUROPE:{AT:{at:null},BE:{b2:null,b3:null},BG:{bg:null},CH:{ch:null},CZ:{cz:null},DE:{de:null},DK:{dk:null},EE:{ee:null},ES:{es:null,ct:null},FI:{fi:null},FR:{fr:null},GB:{UK:{uk:null}},GR:{gr:null},HU:{hu:null},IE:{ie:null},IT:{it:null},LT:{lt:null},LV:{lv:null},NL:{nl:null},NO:{no:null},PL:{pl:null},RO:{ro:null},RS:null,RU:null,SE:{se:null},SI:null,SK:null,TR:{tr:null},UA:{ua:null}},AMERICAS:{NORTH_AMERICA:{CA:{ca:null,cf:null,qc:null},MX:{mx:null},US:{us:null,e1:null}},SOUTH_AMERICA:{AR:{ar:null},BO:{bo:null},BR:{br:null},CL:{cl:null},CO:{co:null},EC:{ec:null},GF:{gf:null},GY:{gy:null},PE:{pe:null},PY:{py:null},SR:{sr:null},UY:{uy:null},VE:{ve:null}}}}},{site:{aol:{aolfrontpage:null},autos:null,beauty:null,celebrity:{omg:null},cricket:null,decor:null,entertainment:null,esports:null,everything:null,fantasy:{dailyfantasy:null},finance:null,food:null,fp:null,games:null,gma:null,health:null,home:null,homes:null,ivy:null,lifestyle:null,lifestyles:null,mail:null,makers:null,movies:null,music:null,my:null,news:{m6info:null},katiecouric:null,parenting:null,politics:null,realestate:null,shopping:null,softwarecenter:null,sports:null,style:null,surfing:null,tech:null,travel:null,tumblr:null,tv:null,weather:null,ytb:null}},{mode:{failsafe:null,fallback:null,normal:null}},{colo:{aws:null,AFRICA:null,ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{aue:null}}},ASIA:{CN:{cn2:null,cn3:null,cnb:null,cnh:null},HK:{hki:null,hk2:null},IN:{in:null,in2:null},JP:{jp1:null,jp2:null},KR:{kr1:null,kr2:null,kr3:null,krs:null},PH:{ph1:null,ph2:null},SG:{sg:null,sg1:null,sg2:null,sg3:null},TW:{tp2:null,tpc:null,tpe:null,tw1:null}}},EUROPE:{GB:{UK:{ukl:null}},IE:{ird:null,ir2:null},CH:{ch1:null,ch2:null}},AMERICAS:{NORTH_AMERICA:{US:{US_WEST:{cc1:null,gk1:null,scd:null,sk1:null,sp1:null,sp2:null,gq1:null,sw1:null,sql:null},US_MIDWEST:{mud:null,ne1:null},US_EAST:{a2s:null,ac2:null,ac4:null,dcn:null,re1:null,re2:null,re3:null,re4:null,bf1:null}}},SOUTH_AMERICA:{BR:{bro:null}}}}}]}]},2087:function(e,t,n){"use strict";var s={set:n(502)},o=n(4)({mixins:[n(1375),n(12)],contextTypes:{getStore:n(0).func,conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"MailCount",statics:{base:["mail"],className:{style:{mailcount:{wrapper:"_getClassNameMailcountWrapper"}}},storeListeners:[n(1474)]},propTypes:{countConfig:n(0).object,isSmartPhone:n(0).bool},getDefaultProps:function(){return{countConfig:n(10).fromJS({maxCountDisplay:99,pollingInterval:2,pollingDuration:10})}},getInitialState:function(){return this._initConfig(),this.mailStore=this.getStore(n(1474)),this.focusTimeoutValue=null,this.pollingDurationTimer=null,this.pollingIntervalTimer=null,{mailCount:this._getMailCountFromStore()}},componentDidMount:function(){"smartphone"!==this.device&&(window.addEventListener("focus",this._handleWindowFocus),window.addEventListener("blur",this._stopFetchTimer)),this._startDurationTimer(),this._startFetchTimer()},componentWillUnmount:function(){this._stopTimers(),"smartphone"!==this.device?(window.removeEventListener("focus",this._handleWindowFocus),window.removeEventListener("blur",this._stopFetchTimer),window.removeEventListener("mousemove",this._handleKBMouseFocus),window.removeEventListener("keypress",this._handleKBMouseFocus)):window.removeEventListener("mouseup",this._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)},onChange:function(e){this.setState({mailCount:this._getMailCountFromStore()})},_initConfig:function(){var e=this.context.conf.get("profile"),t=this.props.mail.toJS(),o=t.count,i=n(510)(o.api);this.mode=e.get("mode")||"server",this.fetchConfig={url:i,api:t.api,body:o.body,timeout:o.timeout,prefix:o.jsonp.prefix,useCors:this.context.conf.getIn(["mail","useCors"])},s.set(this.fetchConfig,"componentProps.componentConfig.uh.profile.mode",this.mode),s.set(this.fetchConfig,"componentProps.componentConfig.uh.ui.mail",!0),this.pollingInterval=6e4*o.pollingInterval,this.pollingDuration=6e4*o.pollingDuration,this.pollingWindow=o.pollingWindow,this.mailCountMaxDisplay=o.maxCountDisplay,this.device=this.props.device||"desktop"},_startFetchTimer:function(){this._fetch(),this.pollingIntervalTimer=setInterval(this._fetch,this.pollingInterval)},_startDurationTimer:function(){var e=this;"smartphone"!==e.device?(window.removeEventListener("mousemove",e._handleKBMouseFocus),window.removeEventListener("keypress",e._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)):window.removeEventListener("mouseup",e._handleKBMouseFocus),this.pollingDurationTimer=setTimeout(e._stopFetchTimer,e.pollingDuration)},_stopTimers:function(){clearInterval(this.pollingIntervalTimer),clearTimeout(this.pollingDurationTimer)},_stopFetchTimer:function(e){var t=this;e||(t.isSmartPhone?window.addEventListener("mouseup",t._handleKBMouseFocus):(window.addEventListener("mousemove",t._handleKBMouseFocus),window.addEventListener("keypress",t._handleKBMouseFocus))),clearInterval(t.pollingIntervalTimer)},_fetch:function(){var e=this,t=Date.now()-e.mailStore.getTs();!e.mailStore.getFetching()&&!e.mailStore.getUnauthorizedUser()&&this.pollingWindow<t&&e.executeAction(n(1916).getMailCount,e.fetchConfig)},_getMailCountFromStore:function(){return this.mailStore.getMailCount()},_handleWindowFocus:function(e){this._stopTimers(),this._startDurationTimer(),this._startFetchTimer()},_handleKBMouseFocus:function(){var e=this;e.focusTimeoutValue&&clearTimeout(e.focusTimeoutValue),e.focusTimeoutValue=setTimeout(e._handleWindowFocus,1e3)},shouldComponentUpdate:function(e,t){return t.mailCount!==this.state.mailCount},_getClassNameMailcountWrapper:function(){var e=[];return e.push(this.getClassName(o,["style","mailcount","wrapper_1"])),e=n(5)(e)},render:function(){var e=this,t=e.state.mailCount>0,s=e.state.mailCount>e.mailCountMaxDisplay?e.mailCountMaxDisplay+"+":e.state.mailCount,i=this.props.mail.toJS(),a=n(2)(i,["style","mailCount","badge"]),r=n(5)(a||e.getClassName(o,["style","mailcount","wrapper"]),{"Px(3px)":e.state.mailCount>e.mailCountMaxDisplay},{"V(h)":!t},"desktop"!==e.device?e.props.themeMailNotificationBorderColor:"",{"D(n)":!t&&"desktop"!==e.device});return n(1).createElement("span",{id:"uh-mail-count",className:r},s)}});e.exports=o},2088:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};e.exports=n(4)({displayName:"ProfileCard",mixins:[n(1375),n(12)],contextTypes:{session:n(0).object.isRequired},statics:{initializeAction:n(498).getProfile,componentConfig:{name:"componentHeader",filters:"uh"},storeListeners:[n(75),n(288)]},getInitialState:function(){this.UserStore=this.getStore(n(75)),this.ProfileStore=this.getStore(n(288));var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh;return{avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:n(2)(t,["ui","profileCardOpen"])||!1,componentConfig:t}},onChange:function(){var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh;this.setState({avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:!this.state.open,componentConfig:t})},render:function(){var e=this,t=e.state.componentConfig,o=t.profile,i=t.ui;if(!e.state.isSignedIn)return null;var a={elm:"itm",itc:"0",slk:"acctinfo",subsec:"profile"},r={elm:"itm",itc:"0",slk:"signout",subsec:"profile"},l=n(5)("uh-profile-card Bgc(#fff)",{"uh-profile-card-open":e.state.open}),c=e.state.avatar,u={email:e.state.email,userName:e.state.firstName||e.getIntl("WELCOME_BACK"),avatarImg:c},h=o.avatarSize,m=c&&!/(profile_|39361574426_98028a_)/.test(c),p=m?{style:{backgroundImage:"url("+c+")",backgroundSize:"cover",width:h,height:h}}:{style:{verticalAlign:"middle",marginRight:"10px"}},g=m?n(1).createElement("i",s({className:"profile-avatar D(ib) Mend(10px) Bdrs(100px)"},p)):n(1).createElement(n(19).Icon,s({asset:n(511),height:h,color:"#32007f"},p));return n(1).createElement("div",{id:this.props.id,className:l},n(1).createElement("div",{className:"P(20px)"},i.profileCardAvatar?g:null,n(1).createElement("div",{className:"D(ib) Va(t) C(#0076e6)"},i.profileCardName?n(1).createElement("div",{className:"profile-name Fw(b) Maw(120px) Ell"},u.userName||e.getIntl("WELCOME_BACK")):null,i.profileCardEmail?n(1).createElement("div",{className:"profile-email Maw(120px) Ell"},u.email):null),n(1).createElement("span",{className:"Fl(end) Px(20px) Py(10px) Cur(p) uh-profile-card-open_Rotate(180deg)",onClick:this.onChange},n(1).createElement(n(19).Icon,{asset:n(1208),height:"14",color:"#dfdfdf"}))),n(1).createElement("div",{className:"D(n) uh-profile-card-open_D(b)"},i.profileCardAcctInfo?n(1).createElement(n(14).I13nAnchor,{className:"profile-acctinfo D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:o.settingUrl,i13nModel:a},e.getIntl("ACCOUNT_INFO")):null,i.profileCardSignout?n(1).createElement(n(14).I13nAnchor,{className:"profile-signout D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:o.signoutUrl,i13nModel:r},e.getIntl("SIGNOUT")):null))}})},2158:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarNavItem"),o={i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},i=n(4)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1},method:{getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){},getClassNameLinkHomeIconHomeStyle:function(){}}}},mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired,method:n(0).object},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{home:{style:"_getClassNameLinkHomeIconStyleHome"}}}}}},i13n:o.i13n},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?n(1).createElement("div",null,this._getNodeIcon(),n(1).createElement("b",{className:this.getClassName(i,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):this._getName()},_getNodeIcon:function(){var e=this._getId(),t=this.getConf(i,["data","icon",e]);return n(1).createElement(n(19).Icon,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(i,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(i,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])})},_getClassWrapper:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(i,["style",this._getGroup("nav_"),e,"wrapper"])},_getClassContent:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(i,["style",this._getGroup("nav_"),e,"content"])},_getFollow:function(){return this.props.data.item.follow},_getGroup:function(e,t){return n(1361).strExpand(this.props.data.group,e,t)},_getId:function(e,t){return n(1361).strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getOrder:function(){return this.props.data.item.order+""},_getUrl:function(){return this.props.data.item.url},_isMenuOpen:function(){return this.props.data.is_open},render:function(){s("data",this.props.data);var e=i.i13n.link;return e.slk=this._getId("uh-tb-"),e.subsec=this._getGroup("tb-"),e.cpos=this._getOrder(),n(1).createElement("li",{id:this._getId("uh-tb-"),className:this._getClassWrapper()},n(1).createElement(n(281),{className:this._getClassContent(),followLink:this._getFollow(),href:this._getUrl(),model:this.getI13n(i,"link",e)},this._getNodeContent()))}});e.exports=i},2517:function(e,t,n){"use strict";var s,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(3)("uh:I13nHoverAnchor"),a=n(4)({displayName:"HoverAnchor",onMouseEnter:function(){var e,t=this,n=t.props.onHoverPayload;e={beaconType:n.beaconType||"beaconEvent",arguments:n.arguments||[]},t.props.hasPanel||t.props.i13n.executeEvent("beacon",e,function(){i("callback for on mouse hover beacon")})},render:function(){var e=this,t=Object.assign({},e.props);return delete t.onHoverPayload,delete t.i13n,delete t.hasPanel,e.props.onHoverPayload?n(1).createElement("a",o({},t,{onMouseEnter:e.onMouseEnter})):n(1).createElement("a",t)}});s=n(14).createI13nNode(a,{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2518:function(e,t,n){"use strict";function s(e,t){var s=n(1206)(e);t=!!t,o("menuState: ",t),t?s.add(i):s.remove(i),this.setState({isVisible:t})}var o=n(3)("uh:mixins:FlyoutMixin"),i="uh-menu-open",a=null,r={mouseenter:!0,focus:!0},l={mouseleave:!0,blur:!0};e.exports={contextTypes:{executeAction:n(0).func.isRequired},getMenuEvents:function(){return{onMouseEnter:this.toggleMenu,onMouseLeave:this.toggleMenu,onFocus:this.toggleMenu,onBlur:this.toggleMenu}},toggleMenu:function(e){var t=this,n=e.currentTarget,i=e.type;e.preventDefault(),o("toggleMenu: ",i,n),t.menuTimeout&&(o("clearTimeout"),clearTimeout(t.menuTimeout)),t.menuTimeout=setTimeout(function(){r[i]&&n===a?s.call(t,n,!0):l[i]&&n!==a&&s.call(t,n,!1)},300),a=r[i]?n:null}}},2519:function(e,t,n){"use strict";e.exports=n(4)({contextTypes:{executeAction:n(0).func.isRequired,getStore:n(0).func.isRequired,renderTarget:n(0).object,session:n(0).object},propTypes:{label:n(0).string,labelBackground:n(0).string,labelColor:n(0).string,pointerColor:n(0).string},displayName:"ShareReminder",getInitialState:function(){return{showReminder:!1}},getDefaultProps:function(){return{label:"Remember to share!",labelBackground:"Bgc(#2592fc)",labelColor:"C(#fff)",pointerColor:"Bdtc(#2592fc) Bdbc(#2592fc)"}},componentDidMount:function(){this.setState({showReminder:!0})},render:function(){if(!this.state.showReminder)return null;if(!(this.props.componentConfig||{}).enableFBShareReminder||!n(1361).isFacebookApp())return null;var e=this.props,t={bubble:"reminder-bubble Pos(a) Ov(v) D(ib) Z(1) H(a) W(a) T(3px) P(0) End(0)",container:"Pos(f) End(2px)",cover:"Z(1) Pos(r) W(130px)",label:n(5)("Pos(r) Bdrs(5px) Pstart(4px) Pend(4px) Pt(8px) Pb(8px) Fz(11px) Ff(Helvetica Neue) Fw(n)",e.labelBackground,e.labelColor,"reminder-label"),pointer:n(5)("Pos(a) Bds(s) Bdtw(0) Bdstartw(6px) Bdbw(7px) Bdendw(6px) Bdstartc(t)","Bdendc(t) D(b) H(0) W(0) Z(1) T(0) Start(72%)",e.pointerColor)};return n(1).createElement("div",{className:"reminder-bubble-container"},n(1).createElement("div",{className:t.container},n(1).createElement("div",{className:t.cover},n(1).createElement("div",{className:t.pointer}),n(1).createElement("div",{className:t.bubble},n(1).createElement("div",{className:t.label},e.label)))))}})},2737:function(e,t,n){"use strict";e.exports={NotificationClient:n(3421)}},2738:function(e,t,n){"use strict";var s,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(3)("uh:I13nHoverButton"),a={cloneDeep:n(298),merge:n(23)},r=n(4)({displayName:"HoverButton",fireBeacon:function(){var e=this,t=a.cloneDeep(e.props.hoverI13Params),n={itc:2},s={beaconType:"beaconClick",arguments:["uh",t.slk,0,a.merge(t,n)]};e.props.hasPanel||e.props.i13n.executeEvent("beacon",s,function(){i("callback for on mouse hover/focus beacon")})},render:function(){var e=this,t=Object.assign({},e.props);return delete t.hoverI13Params,delete t.hasPanel,delete t.i13n,e.props.hoverI13Params?n(1).createElement("button",o({},t,{onMouseEnter:e.fireBeacon,onFocus:e.fireBeacon})):n(1).createElement("button",t)}});s=n(14).createI13nNode(r,{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2739:function(e,t,n){"use strict";var s=n(3)("uh:components:profile:SignedOutProfile"),o={i13n:{signed_in:{elm:"btn",itc:"0",slk:"signin",subsec:"profile"}}},i=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"SignedOutProfile",mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired},statics:{base:["profile"],className:{style:{button:{content:"_getClassNameContent",wrapper:"_getClassNameWrapper"}}},i13n:o.i13n},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(i,["style","button","content_1"])),e.push(this.getClassName(i,["style","button","content_2"])),e=n(5)(e),s("_getClassNameContent",e,arguments),e},_getClassNameWrapper:function(){return s("_getClassNameWrapper",null,this.arguments),null},_getMetaDataDoneUrl:function(){var e=this.getMetaData(i,"page_url");return s("_getMetaDataDoneUrl",e),e},_getMetaDataLink:function(){var e=null,t=this.context.session.dimensions,o=["urls","signed_in","query"],a=this.getConf(i,["urls","signed_in"])||n(10).Map();return a=a.mergeDeep({query:{".intl":this.getConf(i,o.concat([".intl"]))||t.intl,".lang":this.getConf(i,o.concat([".lang"]))||t.lang,".src":this.getConf(i,o.concat([".src"]))||this.getMetaData(i,"site")||t.site,".done":this.getConf(i,o.concat([".done"]))||this._getMetaDataDoneUrl()}}).toJS(),e=n(29).format(a),s("_getMetaDataLink",e),e},render:function(){return n(1).createElement("li",{className:this.getClassName(i,["style","button","wrapper"])},n(1).createElement(n(2517),{id:"uh-signedin",className:this.getClassName(i,["style","button","content"]),onHoverPayload:this.getClassName(i,["onHoverI13nSignOut"]),hasPanel:!0,href:this._getMetaDataLink(),i13nModel:this.getI13n(i,"signed_in"),style:this.getClassName(i,["style","button","inline"])},this.getIntl("SIGNIN")))}});e.exports=i},2740:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(3)("uh:components:profile:SignedInProfile"),i={i13n:{signed_out:{elm:"btn",itc:"0",slk:"signout",subsec:"profile"},account_info:{elm:"itm",itc:"0",slk:"acct-info",subsec:"profile"},signed_in:{elm:"btn",itc:"1",slk:"profile",subsec:"profile"}}},a=n(4)({contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"SignedInProfile",mixins:[n(1375),n(12),n(2518)],propTypes:{data:n(0).object.isRequired,triggerAccountFetch:n(0).func,extraAccountInfoComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object])},statics:{base:["profile"],className:{style:{avatar:{image:"_getClassNameImage"},button:{content:"_getClassNameContent"}}},i13n:i.i13n},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(a,["style","button","content_1"])),e.push(this.getClassName(a,["style","button","content_2"])),e=n(5)(e),o("_getClassNameContent",e,arguments),e},_getClassNameImage:function(){var e=this.getMetaData(a,"alias"),t=null,s=this.getMetaData(a,"image");return this.context.session&&this.context.session.isCorpUser&&(s=n(29).format({protocol:"https",hostname:"backyard.yahoo.com",pathname:["/isweb-icons/staff/",e.replace("@yahoo-inc.com",""),"_square.jpg"].join("")})),t={backgroundImage:"url("+s+")"},o("_getClassNameImage",t,arguments),t},_getMetaDataAccountInfoLink:function(){var e=null,t=this.context.session.dimensions,s=["urls","account_info","query"],i=this.getConf(a,["urls","account_info"])||n(10).Map();return i=i.mergeDeep({query:{".intl":this.getConf(a,s.concat([".intl"]))||t.intl,".lang":this.getConf(a,s.concat([".lang"]))||t.lang,".src":this.getConf(a,s.concat([".src"]))||this.getMetaData(a,"site")||t.site}}).toJS(),e=n(29).format(i),o("_getMetaDataAccountInfoLink",e,arguments),e},_getMetaDataDoneUrl:function(){var e=this.getMetaData(a,"page_url");return o("_getMetaDataDoneUrl",e),e},_getMetaDataName:function(){var e=null;return this.props.data.get("first_name")?e=this.props.data.get("first_name"):this.props.data.get("alias")&&(e=this.props.data.get("alias")),o("_getMetaDataName",e,arguments),e},_getMetaDataSignedOutLink:function(){var e=null,t=this.context.session,s=t.dimensions,i=["urls","signed_out","query"],r=this.getConf(a,i.concat([".intl"]))||s.intl,l=this.getConf(a,["urls","signed_out"])||n(10).Map();return l=l.mergeDeep({query:{".intl":r,".lang":this.getConf(a,i.concat([".lang"]))||s.lang,".src":this.getConf(a,i.concat([".src"]))||this.getMetaData(a,"site")||s.site,".done":this.getConf(a,i.concat([".done"]))||n(1361).getLogoUrl(r,t.protocol)||this._getMetaDataDoneUrl()}}).toJS(),e=n(29).format(l),o("_getMetaDataSignedOutLink",e,arguments),e},_getNodeAccountSwitch:function(){var e=this.getStore(n(7)),t=e.getComposite("account-switch-uh");return t&&t.components?(this.props.extraAccountInfoComponent&&t.components[0]&&(t.components[0].props=Object.assign({},t.components[0].props,{extraAccountInfoComponent:this.props.extraAccountInfoComponent})),n(1).createElement(n(190),{components:t.components})):null},_getNodeAccountInfo:function(){return n(1).createElement("div",{className:this.getClassName(a,["style","account_info","wrapper"])},n(1).createElement("div",{className:this.getClassName(a,["style","account_info","name"])},this._getMetaDataName()),n(1).createElement("div",{className:this.getClassName(a,["style","account_info","alias"])},this.getMetaData(a,"alias")),n(1).createElement(n(14).I13nAnchor,{id:"uh-settings",className:this.getClassName(a,["style","account_info","content"]),href:this._getMetaDataAccountInfoLink(),i13nModel:this.getI13n(a,"account_info")},this.getIntl("ACCOUNT_INFO")))},_getNodeSignedOut:function(){return n(1).createElement("div",{className:this.getClassName(a,["style","signed_out","wrapper"])},n(1).createElement(n(14).I13nAnchor,{id:"uh-signedout",className:this.getClassName(a,["style","signed_out","content"]),href:this._getMetaDataSignedOutLink(),i13nModel:this.getI13n(a,"signed_out")},this.getIntl("SIGNOUT")))},_getNodePanel:function(){var e=this.getClassName(a,["style","panel","wrapper"]);return this.getStore(n(1207).UHAccountSwitchStore).getIsEnabled()?n(1).createElement("div",{className:e},this._getNodeAccountSwitch()):n(1).createElement("div",{className:e},this._getNodeAccountInfo(),this._getNodeSignedOut())},getInitialState:function(){return{}},menuTriggerHandler:function(e){var t=this;t.props.triggerAccountFetch&&t.props.triggerAccountFetch(),t.toggleMenu(e)},onChange:function(e){},_getNodeAvatar:function(){var e=this.getClassName(a,["style","avatar"]),t={src:this.getMetaData(a,"image"),name:this._getMetaDataName(),enableAlphatar:this.getConf({},["ui","alphatar"])};return n(1).createElement(n(2738),{id:"uh-profile",i13nModel:this.getI13n(a,"signed_in"),hasPanel:this.state.isVisible,hoverI13Params:this.getI13n(a,"signed_in"),className:e.wrapper},n(1).createElement(n(1207).Avatar,s({},t,{styles:{avatar:e}})),n(1).createElement("b",{className:e.name},this._getMetaDataName()))},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return this.context.session.isLightWeightBrowser?n(1).createElement("li",{className:this.getClassName(a,["style","button","wrapper"])},n(1).createElement(n(14).I13nAnchor,{id:"uh-signedin",href:this._getMetaDataSignedOutLink(),className:this.getClassName(a,["style","button","content"]),i13nModel:this.getI13n(a,"signed_out")},this.getIntl("SIGNOUT"))):n(1).createElement("li",{className:this.getClassName(a,["style","container","wrapper"]),onFocus:this.menuTriggerHandler,onBlur:this.toggleMenu,onMouseEnter:this.menuTriggerHandler,onMouseLeave:this.toggleMenu},this._getNodeAvatar(),this._getNodePanel())}});e.exports=a},2741:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarNavDropdownItem"),o=Object.assign,i={i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},a=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavDropdownItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1,getClassNameLinkHomeIconHomeStyle:function(){}},methods:{getClassNameLinkHomeIconHomeStyle:function(){},getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){}}}},mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired,methods:n(0).object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{down_arrow:{style:"_getClassNameLinkHomeIconStyleDownArrow"},home:{style:"_getClassNameLinkHomeIconStyleHome"}}},link_more:{content:"_getClassNameLinkMoreContent",wrapper:"_getClassNameLinkMoreWrapper",icon:{down_arrow:{style:"_getClassNameLinkMoreIconStyleDownArrow"}}}}}},i13n:i.i13n},_getClassNameLinkHomeIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_home","icon","down_arrow"];return e=this.getClassName(a,t.concat(["inline"])),e&&(e=this._isMenuOpen()?o(e,{fill:this.getClassName(a,t.concat(["color_2"]))}):o(e,{fill:this.getClassName(a,t.concat(["color_1"]))})),s("_getClassNameLinkHomeIconStyleDownArrow",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkMoreIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_more","icon","down_arrow"];return e=this.getClassName(a,t.concat(["inline"])),e&&(e=this._isMenuOpen()?o(e,{fill:this.getClassName(a,t.concat(["color_2"]))}):o(e,{fill:this.getClassName(a,t.concat(["color_1"]))})),s("_getClassNameLinkMoreIconStyle",e,arguments),e},_getClassNameLinkMoreContent:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(a,t.concat(["content_1"]))),this._isMenuOpen()&&e.push(this.getClassName(a,t.concat(["content_2"]))),e=n(5)(e),s("_getClassNameLinkMoreContent",e,arguments),e},_getClassNameLinkMoreWrapper:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(a,t.concat(["wrapper_1"]))),this._isMenuOpen()&&e.push(this.getClassName(a,t.concat(["wrapper_2"]))),e=n(5)(e),s("_getClassNameLinkMoreWrapper",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?n(1).createElement("span",null,this._getNodeIcon(),n(1).createElement("b",{className:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):n(1).createElement("span",{className:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())},_getNodeIcon:function(){return this._getIcon(this._getId())},_getNodeIconDownArrow:function(){return this.context.session.isLightWeightBrowser?null:this._getIcon("down_arrow")},_getNodeLink:function(){return n(1).createElement(n(14).I13nAnchor,{id:this._getId("uh-tb-","-link"),className:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"content"]),href:this._getUrl(),follow:!1,onClick:this._handleClick,onKeyDown:this._handleKeyDown,role:"button",i13nModel:this.getI13n(a,"link",{slk:this._getId(),subsec:"tb",cpos:this._getIndex()+1+""})},this._getNodeContent(),this._getNodeIconDownArrow())},_getNodeMenu:function(){if(!this._isMenuOpen())return null;var e={group:this._getId(),items:this.props.children};return n(1).createElement(n(3428),{data:e})},_getGroup:function(e,t){return n(1361).strExpand(this.props.data.group,e,t)},_getIcon:function(e){var t=this.getConf(a,["data","icon",e]);return n(1).createElement(n(19).Icon,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])})},_getId:function(e,t){return n(1361).strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getUrl:function(){return this.props.data.item.url},_handleClick:function(e){e.preventDefault(),s("_handleClick","id",this._getId()),this.props.methods.click.call(this,e,this._getId())},_handleKeyDown:function(e){13!==e.keyCode&&40!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),s("_handleKeyDown","keyCode",e.keyCode,"id",this._getId()),40===e.keyCode||this.props.methods.click.call(this,e,this._getId()))},_isMenuOpen:function(){return this.props.data.is_open},render:function(){return s("data",this.props.data),n(1).createElement("li",{key:this._getIndex(),id:this._getId("uh-tb-"),className:this.getClassName(a,["style",this._getGroup("nav_"),this._getId("link_"),"wrapper"])},this._getNodeLink(),this._getNodeMenu())}});e.exports=a},2742:function(e,t,n){"use strict";var s=n(1361).isClient();e.exports=function(e,t,n){if(!s||!t)return n&&n();var o=e.subscriptionHelper&&e.subscriptionHelper.getSubscriptionHelper();if(!o)return n&&n();o.pushNotificationSubscribe(t,n)}},3409:function(e,t,n){"use strict";var s=n(3)("uh:components:Header"),o=n(4)({childContextTypes:{conf:n(0).object,theme:n(0).object},contextTypes:{intl:n(0).object,renderTarget:n(0).object,session:n(0).object},propTypes:{componentConfig:n(0).object,enableFocusBeacon:n(0).bool,footerTemplateComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),id:n(0).string,onSubmit:n(0).func,resultTemplateComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),searchComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),extraAccountInfoComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),showFooter:n(0).bool},displayName:"Header",mixins:[n(1375),n(12)],statics:{className:{style:{container:{wrapper:"_getClassNameContainerWrapper"}}},componentConfig:{name:"componentHeader",filter:"uh"},initializeAction:n(2083),storeListeners:[n(1207).UHAccountSwitchStore]},_getClassNameContainerWrapper:function(){var e=[],t=["style","container"];return e.push(this.getClassName(o,t.concat(["wrapper_1"]))),e.push(this.getClassName(o,t.concat(["wrapper_2"]))),e.push(this.getClassName(o,t.concat(["wrapper_7"]))),e.push(n(1361).isEnabled(this.context.conf.getIn(["ui","topbar"]))&&n(1361).isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?this.getClassName(o,t.concat(["wrapper_4"])):this.getClassName(o,t.concat(["wrapper_3"]))),e.push(n(1361).isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?this.getClassName(o,t.concat(["wrapper_5"])):this.getClassName(o,t.concat(["wrapper_6"]))),n(1361).isEnabled(this.context.conf.getIn(["featureSwitches","navrailCollapse"]))&&e.push(this.getClassName(o,t.concat(["wrapper_8"]))),n(1361).isEnabled(this.context.conf.getIn(["ui","partnerTheme"]))&&e.push(this.getClassName(o,t.concat(["wrapper_9"]))),e=n(5)(e),s("_getClassNameContainerWrapper",e,arguments),e},_getNodeHelp:function(){if(!n(1361).isEnabled(this.context.conf.getIn(["ui","help"])))return null;var e={click:this._handleClick,update:this._handleUpdate};return n(1).createElement(n(3410),{data:this.state.data,methods:e})},_getNodeLightweight:function(){var e=null;return this.context.session.isLightWeightBrowser&&(e=n(1).createElement("style",null,n(1361).lightWeightBackground(this.getSite(o)||this.context.session.dimensions.site,this.context.session.dimensions.lang,this.context.session.dimensions.region,this.context.conf.getIn(["ui","theme"])))),e},_getNodeLogo:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","logo"]))?n(1).createElement(n(3415),{instanceId:this.props.id}):null},_getNodeMail:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","mail"]))?n(1).createElement(n(3416),null):null},_getNodeNotifications:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","notifications"]))?n(1).createElement(n(3420),null):null},_getNodeProfile:function(){if(!n(1361).isEnabled(this.context.conf.getIn(["ui","profile"])))return null;var e={componentConfig:{uh:this.props.componentConfig.uh}};return n(1).createElement(n(3422),{triggerAccountFetch:this._triggerAccountFetch,extraAccountInfoComponent:this.props.extraAccountInfoComponent,componentProps:e})},_getNodeSearch:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","search"]))?n(1).createElement(n(3425),{enableFocusBeacon:this.props.enableFocusBeacon,footerTemplateComponent:this.props.footerTemplateComponent,onSubmit:this.props.onSubmit,resultTemplateComponent:this.props.resultTemplateComponent,searchComponent:this.props.searchComponent,showFooter:this.props.showFooter}):null},_getNodeTopbar:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","topbar"]))?n(1).createElement(n(3426),null):null},_getContextConf:function(){return n(10).fromJS(this.props.componentConfig.uh)},_getContextTheme:function(){var e=this._getContextConf();if(!e)return n(10).Map();var t=n(10).Map({site:this.getSite(o)||this.context.session.dimensions.site,theme:e.getIn(["ui","theme"])}),s=this.stores.theme.getCachedData(t,this.context.renderTarget&&this.context.renderTarget.isActive());return n(10).Map.isMap(s)?s.get("uh",n(10).Map()):n(10).Map()},_handleClick:function(e){var t=this.state.data,n=t;t.get("is_open").map(function(t,s){n=e===s?n.setIn(["is_open",s],!t):n.setIn(["is_open",s],!1)}),s("_handleClick","name",e),s("_handleClick","prev",t),s("_handleClick","next",n),t!==n&&this.setState({data:n})},_triggerAccountFetch:function(){this.executeAction(n(1207).UHAccountSwitchActions.getAccounts)},_handleUpdate:function(e){var t=this.state.data,n=t;n=t.merge(e),s("_handleUpdate","data",e),s("_handleUpdate","prev",t),s("_handleUpdate","next",n),t!==n&&this.setState({data:n})},_startAutoPushSubscription:function(){var e=this.props.componentConfig.uh||{},t=e.notifications||{},s=t.subscriptionHelper||{};if(s.enabled&&t.autoInitSubscription&&n(1361).isBackoffTimerExceeded(t.notifPromoBackoffDuration,"bnpt")){if(window&&window.Notification&&"default"!==window.Notification.permission)return;var o=Object.assign({trackingParams:{aid:t.promoId,elm:"btn",itc:1,sec:"uh-interstisial",subsec:"browser-prompt"},showInstructionsDefault:!1,showInstructionsDenied:!1},s.subscriptionPayload);this.executeAction(n(2742),o)}},getChildContext:function(){return{conf:this._getContextConf(),theme:this._getContextTheme()}},getData:function(){var e=this.stores.route,t=e&&e.getCurrentNavigate(),o=this.context.session,i=this.stores.accountSwitch,a=n(1361).getPageUrl(t,o.host,o.protocol),r=n(10).Map({page_url:a,is_open:{help:!1},addMouseHandler:i.getIsEnabled()&&!i.getAccountsReceived()});return s("getData",r),r},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1411)),this.stores.route=this.getStore("RouteStore"),this.stores.theme=this.getStore(n(1584)),this.stores.accountSwitch=this.getStore(n(1207).UHAccountSwitchStore),s("getInitialState",this.stores.theme.getState()),{data:this.getData()}},componentWillMount:function(){var e=n(2)(this.props,["componentConfig","uh","notifications","subscriptionHelper"],{});e.enabled&&this.executeAction(n(3430),e)},componentDidMount:function(){var e=this;e.mounted=!0,e.executeAction(n(1542).initializeUHCrumbs),e._pushSubscriptionTimer=setTimeout(e._startAutoPushSubscription,500)},componentWillUnmount:function(){this.mounted=!1,clearTimeout(this._pushSubscriptionTimer)},onChange:function(){if(this.mounted){var e=this.getData();s("onChange","data",e),this.setState({data:e})}},shouldComponentUpdate:function(e,t){var n=!0;return this.context.renderTarget&&(n=this.context.renderTarget.isActive()),n},render:function(){var e=this.state.data;if(this.context.conf=this._getContextConf(),this.context.theme=this._getContextTheme(),s("render","data",e),n(1361).isEnabled(this.context.conf.getIn(["data","action","load_theme","client","enabled"],!1))&&(!this.context.theme||0===this.context.theme.size))return null;var t;return e.get("addMouseHandler")&&(s("account switch mouse handler added"),t=this._triggerAccountFetch),n(1).createElement("div",{onMouseMove:t},this._getNodeLightweight(),this._getNodeTopbar(),n(1).createElement("div",{id:this.props.id,className:this.getClassName(o,["style","container","wrapper"]),"data-name":n(1827).name,"data-version":n(1827).version},n(1).createElement("div",{className:this.getClassName(o,["style","container","content"])},this._getNodeLogo(),this._getNodeSearch(),n(1).createElement("ul",{id:"uh-right",className:this.getClassName(o,["style","container","right_list"])},this._getNodeProfile(),this._getNodeNotifications(),this._getNodeMail(),this._getNodeHelp()))))}});e.exports=o},3410:function(e,t,n){"use strict";var s=n(3)("uh:components:help/Help"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"Help",mixins:[n(1375),n(12)],propTypes:{data:n(0).object,methods:n(0).object},statics:{base:["help"],metaData:{done_url:"_getMetaDataDoneUrl"}},_formatItem:function(e,t){var i=e,a=i;a=a.set("id",t);var r=this._formatTitle(t,i.get("title"));if(r&&(a=a.set("title",r)),!i.get("link")&&i.get("url")){var l=this.context.session.dimensions,c=["url","query"],u=i.get("url")||n(10).Map();"account_info"===t&&(u=u.mergeDeep({query:{".intl":i.getIn(c.concat([".intl"]))||l.intl,".lang":i.getIn(c.concat([".lang"]))||l.lang,".src":i.getIn(c.concat([".src"]))||n(1361).getSite(this.context)||l.site,".done":this.getConf(o,c.concat([".done"]))||this._getMetaDataDoneUrl()}})),a=a.set("link",n(29).format(u.toJS())),a=a.set("follow",!0)}return s("_formatItem",i,a),a},_formatTitle:function(e,t){return t},_getMetaDataDoneUrl:function(){var e=this.getMetaData(o,"page_url");return s("_getMetaDataDoneUrl",e),e},_processItems:function(e){return e.filter(function(e){return e.get("order")>0}).map(function(e,t){return e.merge(this._formatItem(e,t)).delete("url")}.bind(this)).sort(function(e,t){return parseInt(e.get("order"))-parseInt(t.get("order"))}).toList()},getData:function(){var e=this.getMetaData(o,"items")||n(10).fromJS(this.getConf(o,["data","items"])),t=n(10).Map({is_open:this.getMetaData(o,["is_open","help"]),items:this._processItems(e)});return s("getData",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1411)),{data:this.getData()}},render:function(){var e=this.getData();return s("render","data",e),this.context.session.isLightWeightBrowser?n(1).createElement(n(3411),{data:e,methods:this.props.methods}):n(1).createElement(n(3412),{data:e,methods:this.props.methods})}});e.exports=o},3411:function(e,t,n){"use strict";var s=n(3)("uh:components:help:HelpLWDefaultView"),o=n(4)({displayName:"HelpLWDefaultView",mixins:[n(1375),n(39)],propTypes:{data:n(0).object},statics:{base:["help"]},_getLink:function(e){return e.get("link")},_getTitle:function(e){return e.get("title")},_getDropDownItems:function(e){var t,s;return e.map(function(e,o){if(t=this._getTitle(e),s=this._getLink(e),t&&s)return t=t.replace(/ /g,"_"),n(1).createElement("option",{value:s,key:o},this.getIntl(t.toUpperCase()))}.bind(this))},_getDropDownMenu:function(){var e=this.props.data.get("items");return e&&0!==e.size?n(1).createElement("select",{id:"uhLWHelpSelect",className:this.getClassName(o,["style","menulist","wrapper"])},this._getDropDownItems(e)):null},render:function(){s("render");var e=["var form = document.getElementById('uh-LWHelpForm');","form.onsubmit = function () {","var e = document.getElementById('uhLWHelpSelect');","var url = e.options[e.selectedIndex].value;","if (url) {","window.location.href=url;","}","return false;","}"].join(" ");return n(1).createElement("li",{className:this.getClassName(o,["style","container","wrapper"])},n(1).createElement("form",{id:"uh-LWHelpForm",name:"form"},this._getDropDownMenu(),n(1).createElement("button",{className:this.getClassName(o,["style","button","wrapper"]),type:"submit"},this.getIntl("GO_TO_HELP"))),n(1).createElement("script",{dangerouslySetInnerHTML:{__html:e}}))}});e.exports=o},3412:function(e,t,n){"use strict";var s=n(3)("uh:components:help:HelpDefaultView"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpDefaultView",mixins:[n(1375),n(12),n(39)],propTypes:{data:n(0).object,methods:n(0).object},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)},onMouseEnter:function(e){this.props.methods.update.call(this,{is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}})},onMouseLeave:function(e){this.props.methods.update.call(this,{is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}})},_getNodeIcon:function(){var e=n(1).createElement(n(19).Icon,{asset:this.getClassName(o,["style","icon","settings","asset"]),height:this.getClassName(o,["style","icon","settings","size"]),color:this.getClassName(o,["style","icon","settings","color"])});return n(1).createElement(n(2517),{className:this.getClassName(o,["style","icon","settings","wrapper"]),id:"uh-help",href:"#",onClick:this._handleClick,onHoverPayload:this.getClassName(o,["onHoverI13n"]),hasPanel:this.getMetaData(o,"is_open"),parentType:"cogWheel",ref:"uh-help-menu-icon"},e,n(1).createElement("b",{className:this.getClassName(o,["style","icon","settings","content"])},this.getMetaData(o,"name")))},_getNodeMenuPanel:function(){if(!this.getMetaData(o,"is_open"))return null;var e=this.props.methods;return e.is_point_in_polygons=this.isPointInPolygons,n(1).createElement(n(3413),{data:this.props.data,methods:e,ref:"uh-help-menu-panel"})},_handleClick:function(e){e.preventDefault();s("_handleClick","id","help"),this.props.methods.click.call(this,"help")},isPointInPolygons:function(e){var t=!1;return this.getPolygons().map(function(n,o){s("is_point_in_polygons",o,e,n),e.x>=n.left&&e.x<n.right&&e.y>=n.top&&e.y<n.bottom&&(t=!0)}),s("is_point_in_polygons",t),t},getPolygons:function(){var e={icon:n(9).findDOMNode(this.refs["uh-help-menu-icon"]),panel:this.refs["uh-help-menu-panel"]},t={},s=[];return Object.keys(e).forEach(function(n){if(e[n]&&e[n].getBoundingClientRect&&(s.push(e[n].getBoundingClientRect()),t[n]=e[n].getBoundingClientRect(),"panel"===n)){var o={};o.top=t.icon.bottom,o.bottom=t.panel.top,o.left=t.icon.left,o.right=t.icon.right,o.height=o.bottom-o.top,o.width=o.right-o.left,s.push(o)}}),s},render:function(){return s("render"),n(1).createElement("li",{className:this.getClassName(o,["style","container","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this._getNodeIcon(),this._getNodeMenuPanel())}});e.exports=o},3413:function(e,t,n){"use strict";var s=n(3)("uh:components:help/HelpMenuPanel"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpMenuPanel",mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this._getNodeMenuItems=this._getNodeMenuItems.bind(this)},onMouseEnter:function(e){this.props.methods.update.call(this,{is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}})},onMouseLeave:function(e){this.props.methods.update.call(this,{is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}})},_getNodeMenuItems:function(){var e=this.props.data.get("items");return e&&0!==e.size?e.map(function(e,t){return n(1).createElement(n(3414),{key:e.get("id"),data:n(10).fromJS({item:e,index:t})})}):null},getBoundingClientRect:function(){return n(9).findDOMNode(this).getBoundingClientRect()},render:function(){return s("data",this.props.data),n(1).createElement("div",{className:this.getClassName(o,["style","panel","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n(1).createElement("ul",{id:"uh-help-menu-panel",className:this.getClassName(o,["style","panel","content"])},this._getNodeMenuItems()))}});e.exports=o},3414:function(e,t,n){"use strict";var s=n(3)("uh:components:help/HelpMenuItem"),o=n(10).fromJS({i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}}),i=n(4)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpMenuItem",mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired},statics:{base:["help"],i13n:o.get("i13n")},_getClassWrapper:function(){return this.getClassName(i,["style","link","wrapper"])},_getClassContent:function(){return this.getClassName(i,["style","link","content"])},_getFollow:function(){return this.props.data.getIn(["item","follow"])},_getId:function(e,t){return n(1361).strExpand(this.props.data.getIn(["item","id"]),e,t)},_getLink:function(){return this.props.data.getIn(["item","link"])},_getOrder:function(){return this.props.data.getIn(["item","order"])+""},_getTitle:function(){return this.props.data.getIn(["item","title"])},render:function(){s("data",this.props.data);var e=this._getTitle();return e?(e=e.replace(/ /g,"_"),n(1).createElement("li",{id:this._getId("uh-mi-"),className:this._getClassWrapper()},n(1).createElement(n(281),{className:this._getClassContent(),followLink:this._getFollow(),href:this._getLink(),model:this.getI13n(i,"link",{slk:this._getId("uh-mi-"),subsec:"mi-help",cpos:this._getOrder()})},this.getIntl(e.toUpperCase())))):n(1).createElement("li",{role:"separator",className:this.getClassName(i,["style","separator","content"])})}});e.exports=i},3415:function(e,t,n){"use strict";var s=n(3)("uh:components:logo:Logo"),o={i13n:{logo:{elm:"btn",itc:"0",slk:"yahoo",subsec:"logo"},partner_logo:{elm:"btn",itc:"0",slk:void 0,subsec:"logo"}}},i=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},propTypes:{instanceId:n(0).string},displayName:"Logo",mixins:[n(1375),n(12)],statics:{base:["logo"],className:{style:{cobrand:{wrapper:"_getClassNameCobrandWrapper",partner:{content:"_getClassNameCobrandPartnerContent"},yahoo:{content:"_getClassNameCobrandYahooContent"}},container:{wrapper:"_getClassNameContainerWrapper"},country_property:{content:"_getClassNameCountryPropertyContent"},property:{content:"_getClassNamePropertyContent"},yahoo:{content:"_getClassNameYahooContent"}}},conf:{link:"_getConfLink"},i13n:o.i13n,storeListeners:[n(1411)]},_getClassNameCobrandWrapper:function(){var e=[];return e.push(this.getClassName(i,["style","cobrand","wrapper_1"])),e.push(this.getClassName(i,["style","cobrand","wrapper_2"])),e=n(5)(e),s("_getClassNameCobrandWrapper",e,arguments),e},_getClassNameCobrandPartnerContent:function(){var e=[];return e.push(this.getClassName(i,["style","cobrand","partner","content_1"])),e.push(this.getClassName(i,["style","cobrand","partner","content_2"])),e=n(5)(e),s("_getClassNameCobrandPartnerContent",e,arguments),e},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(i,["style","cobrand","yahoo","content_1"])),e.push(this.getClassName(i,["style","cobrand","yahoo","content_2"])),e=n(5)(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getClassNameContainerWrapper:function(){var e=[];return e.push(this.getClassName(i,["style","container","wrapper_1"])),e.push(this.getClassName(i,["style","container","wrapper_2"])),e=n(5)(e),s("_getClassNameContainerWrapper",e,arguments),e},_getClassNameCountryPropertyContent:function(){var e=[];return e.push(this.getClassName(i,["style","country_property","content_1"])),e.push(this.getClassName(i,["style","country_property","content_2"])),e=n(5)(e),s("_getClassNameCountryPropertyContent",e,arguments),e},_getClassNamePropertyContent:function(){var e=[];return e.push(this.getClassName(i,["style","property","content_1"])),e.push(this.getClassName(i,["style","property","content_2"])),e=n(5)(e),s("_getClassNamePropertyContent",e,arguments),e},_getClassNameYahooContent:function(){var e=[];return e.push(this.getClassName(i,["style","yahoo","content_1"])),e.push(this.getClassName(i,["style","yahoo","content_2"])),e=n(5)(e),s("_getClassNameYahooContent",e,arguments),e},_getConfLink:function(){var e=this.context.session,t=this.state.data.get("site")||e.dimensions.site,o=n(1361).getLogoUrl(e.dimensions.intl,e.protocol,t);return s("_getConfLink",o,arguments),o},_getIdSelectorWithParentPrefix:function(e){return this.props.instanceId?"#"+this.props.instanceId+" #"+e:"#"+e},_getNodeLightweight:function(){return this.context.session.isLightWeightBrowser?n(1).createElement("style",null,n(1361).lightWeightLogo("#uh-logo",this.getClassName(i,["style","template"]))):null},_getNodeLogo:function(){var e=this.context.conf,t=null,o=this.context.session.dimensions,a=null,r=this.getIntl(this.getConf(i,"text")||"YAHOO");return n(1361).isEnabled(e.getIn(["ui","logo"]))?(a=this.getClassName(i,["style","template"]),"cobrand"===a?(s("_getNodeLogo","template","cobrand"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1361).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(i,["style","cobrand","image_1x"]),this.getClassName(i,["style","cobrand","image_2x"]))),this._getNodeLightweight(),n(1).createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(i,["style","cobrand","wrapper"])},n(1).createElement(n(14).I13nAnchor,{id:"partner-logo",className:this.getClassName(i,["style","cobrand","partner","content"]),href:this.getConf(i,"partnerLink"),i13nModel:this.getI13n(i,"partner_logo",{slk:o.partner})},n(1).createElement("b",{className:"Hidden"},o.partner)),n(1).createElement(n(14).I13nAnchor,{id:"uh-logo",className:this.getClassName(i,["style","cobrand","yahoo","content"]),href:this.getConf(i,"link"),i13nModel:this.getI13n(i,"logo")},n(1).createElement("b",{className:"Hidden"},r))))):"cobrandSplit"===a?(s("_getNodeLogo","template","cobrand"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1361).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(i,["style","cobrand","image_1x"]),this.getClassName(i,["style","cobrand","image_2x"]))),this._getNodeLightweight(),n(1).createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(i,["style","cobrand","wrapper"])},n(1).createElement(n(14).I13nAnchor,{id:"partner-logo",className:this.getClassName(i,["style","cobrand","partner","content"]),href:this.getConf(i,"partnerLink"),i13nModel:this.getI13n(i,"partner_logo",{slk:o.partner})},n(1).createElement("b",{className:"Hidden"},o.partner))))):"country_property"===a?(s("_getNodeLogo","template","country_property"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1361).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(i,["style","country_property","image_1x"]),this.getClassName(i,["style","country_property","image_2x"]))),this._getNodeLightweight(),n(1).createElement(n(14).I13nAnchor,{id:"uh-logo",className:this.getClassName(i,["style","country_property","content"]),href:this.getConf(i,"link"),i13nModel:this.getI13n(i,"logo")},n(1).createElement("b",{className:"Hidden"},r)))):"property"===a?(s("_getNodeLogo","template","property"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1361).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(i,["style","property","image_1x"]),this.getClassName(i,["style","property","image_2x"]))),this._getNodeLightweight(),n(1).createElement(n(14).I13nAnchor,{id:"uh-logo",className:this.getClassName(i,["style","property","content"]),href:this.getConf(i,"link"),i13nModel:this.getI13n(i,"logo")},n(1).createElement("b",{className:"Hidden"},r)))):(s("_getNodeLogo","template","yahoo"),t=n(1).createElement("div",null,n(1).createElement("style",null,n(1361).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(i,["style","yahoo","image_1x"]),this.getClassName(i,["style","yahoo","image_2x"]))),this._getNodeLightweight(),n(1).createElement(n(14).I13nAnchor,{id:"uh-logo",className:this.getClassName(i,["style","yahoo","content"]),href:this.getConf(i,"link"),i13nModel:this.getI13n(i,"logo")},n(1).createElement("b",{className:"Hidden"},r)))),t):null},getData:function(){return n(10).Map({site:n(1361).getSite(this.context)||this.context.session.dimensions.site})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1411)),s("getInitialState","data",this.getData()),{data:this.getData()}},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return n(1).createElement("div",{className:this.getClassName(i,["style","container","wrapper"]),style:this.getClassName(i,["style","container","inline"])},this._getNodeLogo())}});e.exports=i},3416:function(e,t,n){"use strict";var s=n(3)("uh:components:mail:Mail"),o={i13n:{mail:{elm:"btn",itc:"0",slk:"mail",subsec:"mail"}},state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},i=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"Mail",mixins:[n(1375),n(12),n(2518),n(39)],statics:{base:["mail"],className:{style:{button:{content:"_getClassNameContent",icon:"_getClassNameIcon",text:"_getClassNameText"}}},i13n:o.i13n,state:o.state,storeListeners:[n(1411),n(75)]},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(i,["style","button","content_1"])),e.push(this.getClassName(i,["style","button","content_2"])),e=n(5)(e),s("_getClassNameContent",e,arguments),e},_getClassNameIcon:function(){var e=this.getClassName(i,["style","button","icon_1"]);return this.state.data.get("hover")&&(e=this.getClassName(i,["style","button","icon_2"])),s("_getClassNameIcon",e,arguments),e},_getClassNameText:function(){var e=this.getClassName(i,["style","button","text_1"]);return this.state.data.get("hover")&&(e=this.getClassName(i,["style","button","text_2"])),s("_getClassNameText",e,arguments),e},_getMetaDataLink:function(){var e=null,t=this.context.session.dimensions,o=["urls","mail","query"],a=this.getConf(i,["urls","mail"])||n(10).Map();return a=a.mergeDeep({query:{".intl":this.getConf(i,o.concat([".intl"]))||t.intl,".lang":this.getConf(i,o.concat([".lang"]))||t.lang,".partner":this.getConf(i,o.concat([".partner"]))||t.partner,".src":this.getConf(i,o.concat([".src"]))||this._getMetaDataSite()}}).toJS(),e=n(29).format(a),s("_getMetaDataLink",e),e},_getMetaDataSite:function(){var e=null;return e=this.state.data.get("site"),s("_getMetaDataSite",e,arguments),e},_getMetaDataText:function(){var e=null;return e=this.getIntl("MAIL"),this.context.session&&this.context.session.isCorpUser&&(e=this.getIntl("CORPMAIL")),s("_getMetaDataText",e,arguments),e},_getNodeButton:function(){var e=this.getConf(i,["data","icon","mail"]);return n(1).createElement(n(2517),{id:"uh-mail",className:this.getClassName(i,["style","button","content"]),href:this._getMetaDataLink(),i13nModel:this.getI13n(i,"mail"),hasPanel:this.state.isVisible||this.state.data.get("state")===i.state.signed_out,onHoverPayload:this.getClassName(i,["onHoverI13n"]),style:this.getClassName(i,["style","button","inline"])},n(1).createElement(n(19).Icon,{asset:e.get("asset").toJS(),height:e.get("height")||e.get("size"),width:e.get("width")||e.get("size"),color:this.getClassName(i,["style","button","icon"])}),n(1).createElement("b",{className:this.getClassName(i,["style","button","text"])},this._getMetaDataText()),this._getNodeCount())},_getNodeCount:function(){var e=null;return this.state.data.get("state")!==i.state.signed_out&&this.context.conf.getIn(["ui","mailcount"])&&(e=n(1).createElement(n(2087),{mail:this.context.conf.get("mail")})),e},_getNodePreview:function(){var e=null;return this.state.data.get("state")!==i.state.signed_in&&this.state.data.get("state")!==i.state.middle_auth||!this.context.conf.getIn(["ui","mailpreview"])||(e=n(1).createElement(n(3417),{mail:this.context.conf.get("mail"),hoverState:this.state.data.get("hover")})),e},getData:function(){var e,t=this.stores.user;return e=t.isSignedIn()?i.state.signed_in:t.isRecognized()?i.state.middle_auth:i.state.signed_out,n(10).Map({alias:t.getAlias(),hover:!1,site:n(1361).getSite(this.context)||this.context.session.dimensions.site,state:e})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1411)),this.stores.user=this.getStore(n(75)),{data:this.getData()}},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),this.setState({data:e}))},handleMouseEnter:function(e){this.setState({data:this.getData().set("hover",!0)}),this.toggleMenu(e)},handleMouseLeave:function(e){this.setState({data:this.getData().set("hover",!1)}),this.toggleMenu(e)},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return s("render","data",this.state.data),n(1).createElement("li",{className:this.getClassName(i,["style","button","wrapper"]),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._getNodeButton(),this._getNodePreview())}});e.exports=i},3417:function(e,t,n){"use strict";e.exports=n(4)({displayName:"MailPreview",mixins:[n(1375),n(12)],statics:{base:["mail"],storeListeners:[n(1474)]},propTypes:{mail:n(0).object,hoverState:n(0).bool},getDefaultProps:function(){return{hoverState:!1}},getInitialState:function(){var e=this.props.mail.toJS(),t=e.preview,s=n(510)(t.api);return this.panelConfig={composeUrl:e.compose.url||"https://mail.yahoo.com/compose",gotoUrl:e.url||"https://mail.yahoo.com",msgUrl:t.urls.message||"https://mrd.mail.yahoo.com/msg?fid=Inbox&src=hp&mid="},this.fetchConfig={url:s,api:e.api,body:t.body,timeout:t.timeout,prefix:t.jsonp.prefix,useCors:this.context.conf.getIn(["mail","useCors"])},this.mailStore=this.getStore(n(1474)),this.fetchInterval=t.fetchInterval,this.lastFetchedTime=null,{mailItems:null}},componentWillReceiveProps:function(e){var t=this,n=Date.now();e.hoverState&&n-t.lastFetchedTime>t.fetchInterval&&(t._fetch(),t.lastFetchedTime=n)},shouldComponentUpdate:function(e,t){return null!==t.mailItems||!this.props.hoverState&&e.hoverState},onChange:function(e){this.setState({mailItems:this._getMailPreviewFromStore(),unauthorizedUser:this._getUnauthorizedUserFromStore()})},_fetch:function(){this.executeAction(n(1916).getMailPreview,this.fetchConfig)},_getMailPreviewFromStore:function(){return this.mailStore.getMailPreview()},_getUnauthorizedUserFromStore:function(){return this.mailStore.getUnauthorizedUser()},render:function(){return n(1).createElement("div",{id:"uh-mail-preview",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(280px) D(n) uh-menu-open_D(b)"},n(1).createElement(n(3418),{items:this.state.mailItems,unauthorizedUser:this.state.unauthorizedUser,panel:this.panelConfig}))}})},3418:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};e.exports=n(4)({displayName:"MailItems",mixins:[n(1375)],statics:{base:["mail"]},render:function(){var e=this,t="",o={elm:"btn",itc:"0",slk:"compose",subsec:"mail"},i={elm:"btn",itc:"0",slk:"go-to-mail",subsec:"mail"},a={elm:"itm",itc:"0",slk:"go-to-mail",subsec:"middle-auth"},r=!0;if(e.props.unauthorizedUser){r=!1;t=n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement(n(14).I13nAnchor,{className:"C(mailLinkHoverColor) C(mailLinkHoverColor):h C(mailLinkHoverColor):v Td(n) Fz(m) Hy(n) Py(16px) D(ib)",href:e.props.panel.gotoUrl,i13nModel:a},e.getIntl("SIGNIN")),e.getIntl("TO_VIEW_MAIL"))}else if(e.props.items&&-1!==e.props.items)r=!1,t=e.props.items.length>0?e.props.items.map(function(t,s){var o,i,a,r,l="";if(t&&t.messageInfo)l=t.messageInfo.from.name,o=t.messageInfo.flags.isRead,i=t.messageInfo.mid,a=t.messageInfo.subject,r=new Date(1e3*t.messageInfo.receivedDate);else{if(!(t&&t.messages&&t.messages.headers&&t.messages.headers.from&&t.messages.headers.date))return null;l=t.messages.headers.from.name||t.messages.messages.headers.from.email,o=t.messages.flags&&t.messages.flags.read?"1":"0",i=t.messages.id,a=t.messages.headers.subject?t.messages.headers.subject:"",r=new Date(1e3*t.messages.headers.date)}var c=n(5)({firstEmail:0===s},"Ta(start)","D(b)"),u=n(5)({"isRead C(textColor)":"1"===o},"D(b)","Px(20px)","Py(15px)","Td(n)","Bgc(#c2dfff):h"),h=n(5)({"Fw(b) C($c-fuji-grey-l)":"0"===o},"D(b)","Fz(13px)","Ell"),m=n(5)({"C($c-fuji-grey-l)":"0"===o},"D(b)","Cl(b)","Ell","Fz(13px)","Pt(4px)"),p=n(5)("Fl(end)","Fz(13px)","C($c-fuji-grey-g)","C($c-fuji-grey-g):h","C($c-fuji-grey-g):v"),g={elm:"itm",itc:"0",slk:"email",subsec:"mail",cpos:s+1};return n(1).createElement("li",{key:s,className:c},n(1).createElement(n(14).I13nAnchor,{className:u,href:e.props.panel.msgUrl+i,i13nModel:g},n(1).createElement("div",null,n(1).createElement("div",{className:p},n(1).createElement(n(31).FormattedRelative,{value:r})),n(1).createElement("div",{className:h},l)),n(1).createElement("div",{className:m},a)))}):n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement("div",{className:"Fz(m) Hy(n) P(10px)"},e.getIntl("HAVE_NO_NEW_MESSAGES")));else if(e.props.items&&-1===e.props.items){r=!1;t=n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement(n(14).I13nAnchor,{className:"C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Td(n) Fz(m) Hy(n) P(10px)",href:e.props.panel.gotoUrl,i13nModel:a},n(1).createElement("div",null,e.getIntl("UNABLE_TO_PREVIEW_MAIL"))))}var l=n(5)({"D(n)":!1===r},"P(10px)","Ti(-9999px)","Bg(uhSpinner)","H(17px)"),c=n(5)({"D(n)":!0===r},"Pos(r)","W(100%)","My(0)","Td(n)"),u={style:{verticalAlign:"middle"},className:"uh-mail-compose:h_Fill(mailLinkHoverColor) uh-mail-compose:h_Stk(mailLinkHoverColor)"};return n(1).createElement("div",null,n(1).createElement("div",{className:l}),n(1).createElement("ul",{className:c},t,!e.props.unauthorizedUser&&n(1).createElement("li",{className:"Lh(57px) Bdtw(1px) Bdts(s) Bdtc(#e0e0e4) Bgc(#f9f9f9)"},n(1).createElement(n(14).I13nAnchor,{id:"uh-mail-compose",className:"uh-mail-compose Mend(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) Fl(end) Fz(s) Td(n)",href:e.props.panel.composeUrl,i13nModel:o},n(1).createElement(n(19).Icon,s({asset:n(3419),height:"24",width:"24",color:"#000"},u)),n(1).createElement("b",{className:"Mstart(5px)"},e.getIntl("COMPOSE"))),n(1).createElement(n(14).I13nAnchor,{id:"uh-mail-goto",className:"Mstart(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) D(ib) Fz(s) Ta(start) Td(n)",href:e.props.panel.gotoUrl,i13nModel:i},e.getIntl("GO_TO_MAIL")))))}})},3419:function(e,t){if(void 0===n)var n={};n.ActionCompose={name:"ActionCompose",height:96,width:96,path:"M90.477 33.3L61.347 4.173c-1.56-1.562-4.093-1.562-5.655 0L5.522 54.34c-.75.75-1.17 1.766-1.17 2.828v29.13c0 2.206 1.788 4 4 4H37.48c1.062 0 2.078-.423 2.828-1.173l50.168-50.168c.75-.75 1.172-1.77 1.172-2.828 0-1.064-.42-2.08-1.17-2.83zM35.824 82.298H23.777L12.352 70.875v-12.05l30.516-30.517 23.472 23.47-30.516 30.52zM71.996 46.12L48.523 22.653l9.996-9.996L81.99 36.13l-9.996 9.99z"},void 0!==e&&e.exports&&(e.exports=n.ActionCompose)},3420:function(e,t,n){"use strict";var s={i13n:{notifications:{elm:"btn",itc:"1",slk:"notifications",sec:"hd",subsec:"notifications-badge"}}},o=n(4)({contextTypes:{beacon:n(0).func.isRequired,conf:n(0).object.isRequired,i13n:n(0).object,subscriptionHelper:n(0).object},displayName:"Notifications",mixins:[n(1375),n(2518)],statics:{base:["notifications"],i13n:s.i13n},getInitialState:function(){return{}},componentDidMount:function(){var e=this;e.rapidInstance=n(56).RapidManager&&n(56).RapidManager.getRapidInstance(),e.rapidInstance&&e.rapidInstance.addModules&&e.rapidInstance.addModules("uh-notifications",0),e.initNotificationClient()},componentWillMount:function(){this.handleRefreshPanel=n(1361).debounce(this.handleRefreshPanel,200)},componentWillUnmount:function(){this.refreshPanelInterval&&clearInterval(this.refreshPanelInterval)},shouldComponentUpdate:function(e,t){return t.isVisible!==this.state.isVisible},initNotificationClient:function(){var e=this,t=e.context.conf&&e.context.conf.get("notifications"),s=t&&t.get("notificationClient").toJS();if(s.enabled&&"false"!==s.enabled){s.badge=s.badge||{},s.service=s.service||{},s.panel=s.panel||{},s.badge.selector="#yns-uh-badge";s.service.url=(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))+(s.historyServicePath||""),s.panel.parentSelector="#yns-notif-panel-container",s.panel.headerMsg=e.getIntl("NOTIFICATIONS")||"",s.panel.notificationCenterNavMsg=e.context.intl.formatMessage({id:"NOTIFICATION_CENTER_NAV_MSG"},{newCount:"{newCount}"})||"",s.panel.errorMsg=e.getIntl("PLEASE_CHECK_BACK_LATER")||"",s.panel.emptyPanelMsg=e.getIntl("NO_NEW_NOTIFICATIONS")||"";var o=t.get("hasNotificationCenterLink");if(o&&"false"!==o||(s.panel.notificationCenterPath=null),n(2737).NotificationClient&&!e.notificationClient&&(e.notificationClient=new(n(2737).NotificationClient)(s))&&e.notificationClient.helpers&&(e.handleRefreshPanel(!0),t.get("polling"))){var i=1e3*t.get("pollingInterval")||3e5;e.refreshPanelInterval=setInterval(e.handleRefreshPanel,i,!0)}e.notificationClient&&e.notificationClient.helpers||e.context.beacon("error","bell_notif",{code:"initializeFail",msg:e.notificationClient?"Validation Failure":"Instantiation Failure"})}},handleRefreshPanel:function(e){var t=this,s=t.getConf(o,["notificationClient","badge","hideClass"]);if(t.notificationClient){var i=n(1361).getNotifTimestampSubcookie();0===i&&n(1361).setBackoffSubcookie("lnct"),t.notificationClient.helpers.refreshPanelNode({matrixParams:{lastUpdate:i}},function(o,i){if(o)return void t.context.beacon("error","bell_notif",{code:"refreshFail",msg:o&&o.message});if(e){var a=t.refs.badgeCount;if(a&&a.className.indexOf(s)<0){t.context.i13n.executeEvent("beacon",{beaconType:"beaconLinkViews",arguments:[{sec:"hd",_links:[{elm:"btn",slk:"notification",subsec:"notification-badge",cat:a.innerText}]},2]})}}else t.resetPanelAccessibility(),n(1361).setBackoffSubcookie("lnct"),t.rapidInstance&&t.rapidInstance.refreshModule&&t.rapidInstance.refreshModule("uh-notifications",2),t.notificationClient.helpers.resetBadge()})}},handleMouseEnter:function(e){var t=this;t.notificationClient&&t.notificationClient.helpers&&!t.state.isVisible&&t.handleRefreshPanel(),this.toggleMenu(e)},handleMouseLeave:function(e){this.toggleMenu(e)},resetPanelAccessibility:function(){var e=this.getConf(o,["notificationClient","panel","maxCount"])||0,t=window&&n(2)(window,["document","body","className"],""),s=this.refs.notifPanelContainer.querySelectorAll(".yns-container"),i=s.length;t.indexOf("display-push-promos")<0&&(e+=1);for(var a=e;a<i;a++)s[a].style.display="none"},render:function(){var e=this,t=e.getConf(o,["data","icon"]),s=n(1).createElement(n(2738),{id:"yns-uh-bell",i13nModel:e.getI13n(o,"notifications"),hoverI13Params:e.getI13n(o,"notifications"),hasPanel:e.state.isVisible,"aria-label":e.getIntl("NOTIFICATIONS"),className:"Pos(r)"},n(1).createElement(n(19).Icon,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:e.getClassName(o,["style","button","icon"])}),n(1).createElement("span",{id:"yns-uh-badge",ref:"badgeCount",className:e.getClassName(o,["style","notificationsCount","wrapper_1"])}));return n(1).createElement("li",{className:e.getClassName(o,["style","button","wrapper"]),onMouseLeave:e.handleMouseLeave,onMouseEnter:e.handleMouseEnter,onFocus:e.handleMouseEnter,onBlur:e.handleMouseLeave,id:"uh-notifications"},s,n(1).createElement("div",{id:"yns-notif-panel-container",ref:"notifPanelContainer",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(380px) D(n) uh-menu-open_D(b) Mah(470px) Ov(h)"}))}});e.exports=o},3421:function(e,t,n){"use strict";function s(e,t){if(e&&!o(e,t)){e.className=e.className+h+t}}function o(e,t){var n=e&&e.className&&e.className.split(h);return!!n&&-1!==n.indexOf(t)}function i(e,t){if(e){var n=e.className&&e.className.split(h);if(n){var s=n.indexOf(t);0<=s&&n.splice(s,1),e.className=n.join(h)}}}function a(e,t){if(e){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=function(){function e(t){l(this,e),this._config=t}return c(e,[{key:"_getRequestUrl",value:function(e){var t=e.url||this._config.service.url;if(t){var n=t.split("?"),s={path:n[0],queryParams:n[1]?n[1].split("&"):[]};n=s.path.split(";"),s.path=n[0],s.matrixParams=n.slice(1);var o=e.queryParams,i=e.matrixParams;i&&Object.keys(i).forEach(function(e){s.matrixParams.push(encodeURIComponent(e)+"="+encodeURIComponent(i[e]||""))}),o&&Object.keys(o).forEach(function(e){s.queryParams.push(encodeURIComponent(e)+"="+encodeURIComponent(o[e]||""))});var a=s.path;return s.matrixParams.length&&(a+=";"+s.matrixParams.join(";")),s.queryParams.length&&(a+="?"+s.queryParams.join("&")),a}}},{key:"_getRequestBody",value:function(e){return e&&JSON.stringify(e)||""}},{key:"_parseRequestResult",value:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}return e=e||{},{css:e.css,count:e.count,markup:e.html,newCount:e.newCount}}},{key:"read",value:function(e,t){this._attemptRequest("GET",e,t)}},{key:"update",value:function(e,t){this._attemptRequest("PUT",e,t)}},{key:"create",value:function(e,t){this._attemptRequest("POST",e,t)}},{key:"_attemptRequest",value:function(e,t,n){var s=this._config.service.attemptCount;t||(t={});var o=this._getRequestUrl(t);this._sendRequest({body:this._getRequestBody(t.body),method:e,url:o},s,n)}},{key:"_sendRequest",value:function(e,t,n){var s=this;e=e||{};var o=s._config.service,i=1e3*o.attemptDelay,a=e,r=a.url,l=a.body,c=new XMLHttpRequest;c.open(e.method,r),c.responseType=o.responseType,c.timeout=o.timeout;var u=function(){0<t?(t--,setTimeout(function(){s._sendRequest(e,t,n)},i)):n&&n(new Error("Error: "+c.status+" "+c.statusText),null)};c.onload=function(){if(200===c.status){var t=s._parseRequestResult(c.response||c.responseText);n&&n(null,t,e)}else u()},c.onerror=u,"GET"===e.method?c.send():c.send(l)}}]),e}(),h=" ",m=function(){function e(t,n){l(this,e);var s=this;s._config=t,s._markup="",s._request=n}return c(e,[{key:"_replaceAllNotifications",value:function(e){this._markup=e.markup||"",this._newCount=e.newCount&&parseInt(e.newCount,10)||0,this._count=e.count&&parseInt(e.count,10)||0}},{key:"resetNewCount",value:function(){this._newCount=0}},{key:"_requestNotifications",value:function(e,t){var n=this,s=n._config.panel,o={count:s.maxCount,imageTag:s.imageTag};e||(e={}),a(o,e.matrixParams),n._request.read({matrixParams:o},function(e,s){!e&&s&&n._replaceAllNotifications(s),s=s||{},t&&t(e,s)})}},{key:"getNotifications",value:function(){return{count:this._count,markup:this._markup,newCount:this._newCount}}},{key:"fetchNotifications",value:function(e,t){this._requestNotifications(e,t)}}]),e}(),p={panelLoading:"yns-panel-loading",panelNodeId:"yns-panel",panelNodeClass:"yns-panel",panelHideElement:"yns-hide",panelError:"yns-panel-error",panelPaddingBtm:"yns-panel-padding-btm"},g='<li class="yns-container yns-empty"><div class="yns-content">{emptyPanelMsg}</div></li>',d=function(){function e(t,n){l(this,e);var s=this;s._config=t,s._panelNode=null,s._store=n}return c(e,[{key:"_generatePanelMarkup",value:function(e,t){var n,s=this._config,o=s.promos.enableNotifOnboard,i=o?'<li class="yns-container yns-promo"><div class="yns-link"><img class="yns-img" src="https://s.yimg.com/cv/ae/notifications/Y-Notif-Panel.png" /><div class="yns-content"><span class="yns-promo-title yns-title">Get Breaking News alerts on your desktop</span><span class="yns-promo-button"><button class="yns-promo-ctr js-push-subscribe" data-subscription-topic="gondor_homerun_news" data-ylk="sec:hd;subsec:follow-promo;" data-subscription-ylk="sec:hd;subsec:follow-promo;" >Notify Me</button></span></div></div></li>':"",a=t.newCount>s.panel.maxCount,r=a?t.newCount:"",l=s.panel.notificationCenterPath,c=l?"":p.panelHideElement,u=l?p.panelPaddingBtm:"";return n=t.count?t.markup:g.replace("{emptyPanelMsg}",s.panel.emptyPanelMsg),e=e.replace("{notifMarkup}",n).replace("{promoMarkup}",i).replace("{hideClass}",c).replace("{notifCenterLink}",l).replace("{paddingClass}",u).replace("{headerMsg}",s.panel.headerMsg).replace("{notificationCenterNavMsg}",s.panel.notificationCenterNavMsg).replace("{newCount}",r)}},{key:"render",value:function(e,t){var n=this;if(!n._panelNode)return void(t&&t(new Error("No panel parent")));var s,o,i,a=n._panelNode;switch(e){case"expanded_panel":s='<div class="yns-panel-header"><span class="yns-panel-header-title">{headerMsg}</span></div><div class="yns-panel-data"><ul class="yns-notifications {paddingClass}">{promoMarkup}{notifMarkup}</ul></div><div class="yns-panel-footer-action {hideClass}"><a class="yns-navigate-center" href="{notifCenterLink}" data-ylk="sec:hd;subsec:follow-viewall;">{notificationCenterNavMsg}</a></div>',i=n._store.getNotifications(),o=n._generatePanelMarkup(s,i),a.innerHTML=o;break;case"error_panel":s='<div class="yns-panel-error"><span> {errorMsg} </span></div>',o=s.replace("{errorMsg}",n._config.panel.errorMsg),a.innerHTML=o}t&&t()}},{key:"createPanelParentNode",value:function(e){e&&(e.innerHTML='<div class="yns-panel" id="yns-panel"></div>',this._panelNode=document.getElementById(p.panelNodeId))}},{key:"updateBadgeNode",value:function(e){if(e){var t=this._store.getNotifications(),n=t.newCount,s=this._config.badge.maxCount;if(n){e.innerHTML=n>s?s+"+":n}else e.innerHTML=""}}},{key:"addStyles",value:function(e){if(e&&"undefined"!=typeof window){var t=document.getElementById(this._config.panel.styleTagId);t||(t=document.createElement("style"),t.type="text/css",t.id=this._config.panel.styleTagId,t.innerText=e,document.head.appendChild(t))}}}]),e}(),f=function(){function e(t,n,s){l(this,e);var o=this;o._store=n,o._view=s,o._config=t,o._panelParentNode=document.querySelector(o._config.panel.parentSelector),o._badgeNode=o._config.badge.selector&&document.querySelector(o._config.badge.selector)}return c(e,[{key:"createPanelParentNode",value:function(){this._view.createPanelParentNode(this._panelParentNode),this._notifPanelNode=document.getElementById(p.panelNodeId)}},{key:"refreshPanelNode",value:function(e,t){var n=this;s(n._notifPanelNode,p.panelLoading),n._store.fetchNotifications(e,function(e,o){e?!n._notifPanelNode.innerHTML&&(n._view.render("error_panel"),s(n._notifPanelNode,p.panelLoading)):(n._view.render("expanded_panel"),n._view.updateBadgeNode(n._badgeNode),n._showBadge(),n._view.addStyles(o.css)),i(n._notifPanelNode,p.panelLoading),t&&t(e,o)})}},{key:"resetBadge",value:function(){var e=this;e._store.resetNewCount(),e._view.updateBadgeNode(e._badgeNode),s(e._badgeNode,e._config.badge.hideClass)}},{key:"_showBadge",value:function(){var e=this;e._store.getNotifications().newCount?i(e._badgeNode,e._config.badge.hideClass):s(e._badgeNode,e._config.badge.hideClass)}}]),e}(),_={promos:{enableNotifOnboard:!0},badge:{selector:"",hideClass:"",maxCount:5},panel:{emptyPanelMsg:"You have no new notifications.",errorMsg:"",headerMsg:"Notifications",imageTag:"img:40x40|2|80",maxCount:6,notificationCenterNavMsg:"View all {newCount} notifications",notificationCenterPath:"",styleTagId:"notificationStyles",parentSelector:null},service:{attemptCount:2,attemptDelay:1,url:null,responseType:"json",timeout:1500}};e.exports=function(){function e(t){l(this,e);var n=this;n.config=n._parseConfig(t),n._validateRequiredConfigs()&&(n._request=new u(n.config),n._store=new m(n.config,n._request),n._view=new d(n.config,n._store),n._panelController=new f(n.config,n._store,n._view),n._panelController.createPanelParentNode(),n._assignHelperMethods())}return c(e,[{key:"_parseConfig",value:function(e){var t={};for(var n in a(t,_),t)if(t.hasOwnProperty(n)){var s=t[n],o=e[n];"object"===(void 0===s?"undefined":r(s))?a(s,o):t[n]=e[n]}return t}},{key:"_validateRequiredConfigs",value:function(){var e=this.config;return!(!e.panel.parentSelector||!e.service.url)}},{key:"_assignHelperMethods",value:function(){var e=this;e.helpers={refreshPanelNode:e._panelController.refreshPanelNode.bind(e._panelController),resetBadge:e._panelController.resetBadge.bind(e._panelController)}}}]),e}()},3422:function(e,t,n){"use strict";var s=n(3)("uh:components:profile:Profile"),o={get:n(20)},i={state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},a=n(4)({displayName:"Profile",mixins:[n(12)],statics:{storeListeners:[n(1411),n(288),n(75)],state:i.state},propTypes:{triggerAccountFetch:n(0).func,extraAccountInfoComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),componentProps:n(0).object},contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},getConf:function(e){var t=this.context.conf.get("profile"),n=null;switch(e){case"mode":n=t.get("mode");break;case"defaultImg":n=t.get("defaultImg");break;case"authStateCheck":n=t.get("authStateCheck")}return n},getData:function(){var e,t=this.stores.profile,s=this.stores.route,o=this.stores.user,i=s&&s.getCurrentNavigate(),r=this.context.session,l=o&&o.getFirstName()||t&&t.getProfile().nickName;e=n(1361).getPageUrl(i,r.host,r.protocol);var c,u=t&&this.validateImage(t.getProfile().imageUrl)||this.getConf("defaultImg")||null;return c=o.isSignedIn()?a.state.signed_in:o.isRecognized()?a.state.middle_auth:a.state.signed_out,n(10).Map({alias:o.getAlias(),first_name:l,guid:o.getGUID(),image:u,page_url:e,site:n(1361).getSite(this.context)||this.context.session.dimensions.site,state:c,yid:o.getLogin()})},validateImage:function(e){return e&&!/(profile_|39361574426_98028a_)/.test(e)?e:null},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1411)),this.stores.profile=this.getStore(n(288)),this.stores.route=this.getStore("RouteStore"),this.stores.user=this.getStore(n(75)),"client"!==this.getConf("mode")&&this.stores.user.isLoaded()&&(this.stores.profile.isLoaded()||this.stores.profile.err)?{data:this.getData()}:{data:n(10).Map()}},componentDidMount:function(){s("componentDidMount","data",this.getData()),this.mounted=!0,"client"===this.getConf("mode")&&(this.stores.profile.isLoaded()?this.setState({data:this.getData()}):this.executeAction(n(1874),this.props))},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),e.state===a.state.signed_in?this.stores.profile.isLoaded()&&this.setState({data:e}):this.setState({data:e}))},render:function(){var e=o.get(this.context.session,"dimensions.authed",!1);if(this.context.session.isFailsafe)return null;var t=null,i=this.state.data;if(s("render","data",i),i.isEmpty())t="client"===this.getConf("mode")&&n(1361).isEnabled(this.getConf("authStateCheck"))&&"0"===e?n(1).createElement(n(2739),{data:i}):n(1).createElement(n(3423),null);else switch(i.get("state")){case a.state.middle_auth:t=n(1).createElement(n(3424),{data:i});break;case a.state.signed_in:t=n(1).createElement(n(2740),{triggerAccountFetch:this.props.triggerAccountFetch,extraAccountInfoComponent:this.props.extraAccountInfoComponent,data:i});break;case a.state.signed_out:t=n(1).createElement(n(2739),{data:i})}return t}});e.exports=a},3423:function(e,t,n){"use strict";var s=n(3)("uh:components:profile:NullProfile"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"NullProfile",mixins:[n(1375),n(39)],statics:{base:["profile"],className:{style:{button:{wrapper:"_getClassNameWrapper"}}}},_getClassNameWrapper:function(){var e=[];return e.push(this.getTheme(o,["style","button","wrapper"])),e.push("V(h)"),e=0!==e.length?n(5)(e):null,s("_getClassNameWrapper",e,arguments),e},render:function(){return n(1).createElement("li",{className:this.getClassName(o,["style","button","wrapper"])},n(1).createElement(n(19).Icon,{asset:n(511),height:"34",width:"34",color:"#400090"}))}});e.exports=o},3424:function(e,t,n){"use strict";e.exports=n(4)({displayName:"MiddleAuthProfile",mixins:[n(39)],propTypes:{data:n(0).object.isRequired},render:function(){return n(1).createElement(n(2740),{data:this.props.data})}})},3425:function(e,t,n){"use strict";var s=n(3)("uh:components:search:Search");e.exports=n(4)({displayName:"Search",mixins:[n(12)],contextTypes:{session:n(0).object.isRequired},propTypes:{enableFocusBeacon:n(0).bool,footerTemplateComponent:n(0).node,onSubmit:n(0).func,resultTemplateComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),showFooter:n(0).bool,searchComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object])},statics:{storeListeners:[n(1411)]},getData:function(){var e=this.context.session.dimensions,t=n(10).Map({bucket:e.bucket,device:e.device,enable_focus_beacon:this.props.enableFocusBeacon,footer_component:this.props.footerTemplateComponent,handle_submit:this.props.onSubmit,lang:e.lang,partner:e.partner,placeholder:" ",region:e.region,show_footer:this.props.showFooter,site:n(1361).getSite(this.context)||e.site,template_component:this.props.resultTemplateComponent});return s("getData","data",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1411)),s("getInitialState","this.stores.header.getState()",this.stores.header.getState()),{data:this.getData()}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},render:function(){var e=this.state.data;s("render","data",e);var t=this.props.searchComponent||n(1654);return n(1).createElement(t,{data:e})}})},3426:function(e,t,n){"use strict";var s={cloneDeep:n(298),isEqual:n(203)},o=n(3)("uh:components:nav/Topbar"),i=n(4)({autobind:!1,contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"Topbar",mixins:[n(1375),n(12)],propTypes:{data:n(0).object},statics:{base:["topbar"],storeListeners:["RouteStore"]},_formatItem:function(e,t){var s,i=e,a=i.url;return this._isForceAbsolute(t)||(a=n(489).convertUrl(a,this._getSite())),s={id:t,name:this._formatTitle(t,i.name),order:e.order,url:a,follow:this._isFollow(a)},o("_formatItem",i,s),s},_formatTitle:function(e,t){return t},_getData:function(e,t){e=s.cloneDeep(e);var n,o,a=this.getConf(i,["data","more"]),r=[];if(a<=0||0===e.length)return[];"home"===t?(e=e[0].children,o=1):"main"===t?(e=e.slice(0,a),o=1):"more"===t&&(e=e.slice(a),o=a+1);for(var l=0;l<e.length;l++)n=e[l],n.children=void 0,n.order=o,o++,n=this._formatItem(n,n.id),r.push(n);return r},_getSite:function(){return this.context.session.dimensions.site},_handleClick:function(e,t){var n=this.state.data,i=s.cloneDeep(n);Object.keys(n.is_open).map(function(e){i.is_open[e]=t===e&&!n.is_open[e]}),this.currentTarget=e.currentTarget,this._addBodyClick(t),o("_handleClick","name",t),o("_handleClick","prev",n),o("_handleClick","next",i),s.isEqual(n,i)||this.setState({data:i})},_addBodyClick:function(e){this.bodyClickHandler?this._removeBodyClick():this.bodyClickHandler=n(192).listen(document,"click",function(t){if(!this.currentTarget.contains(t.target)){var n=this.currentTarget.nextSibling,s=this.state.data;n.contains(t.target)||(s.is_open[e]=!1,this.setState({data:s}),this._removeBodyClick())}}.bind(this))},_removeBodyClick:function(){this.bodyClickHandler&&(this.bodyClickHandler.remove(),this.bodyClickHandler=null)},_isAbsolute:function(e){var t=n(29).parse(e);return!t||null!==t.hostname},_isFollow:function(e){var t=n(29).parse(e);return!!n(1361).isEnabled(this.getConf(i,["data","force_absolute_all"]))||(!t||null!==t.hostname)&&(!t||t.hostname!==this.context.session.host)},_isForceAbsolute:function(e){if(n(1361).isEnabled(this.getConf(i,["data","force_absolute_all"])))return!0;var t=this.getConf(i,["data","force_absolute"]);return!(!t.has(e)||!t.get(e))},_getConfLink:function(){var e=this.context.session,t=["de","es","e1","cf","fr","it","br"],s={protocol:t.indexOf(e.dimensions.intl)>=0?"http":e.protocol,host:e.dimensions.intl+".everything.yahoo.com/"};return"cf"===e.dimensions.intl&&(s.host="fr-ca.sites.yahoo.com/"),"e1"===e.dimensions.intl&&(s.host="es-us.sitios.yahoo.com/"),"xe"===e.dimensions.intl&&(s.host="en-maktoob.everything.yahoo.com/"),"us"===e.dimensions.intl&&(s.host="everything.yahoo.com/"),n(29).format(s)},_processMainItems:function(e,t){return t.length>0&&e.push(this._formatItem({url:this._getConfLink(),order:e.length+t.length+1,name:this.getIntl(this.getConf(i,["data","more_item","title"]).toUpperCase())},"more")),e},getData:function(){var e=this.stores.nav,t=this.props.data&&this.props.data.items||e.getItems(),n=this._getData(t,"more"),s={home:this._getData(t,"home"),more:n,main:this._processMainItems(this._getData(t,"main"),n),is_open:{home:!1,more:!1},homeSwitcher:this.getConf(i,["data","homeSwitcher"])};return o("getData",s),s},getInitialState:function(){return this.stores={},this.stores.nav=this.getStore(n(1917)),this.stores.route=this.getStore("RouteStore"),o("getInitialState","this.stores.nav.getState()",this.stores.nav.getState()),{data:this.getData()}},onChange:function(){if(this.mounted){var e=this.getData();o("onChange","data",e),this.setState({data:e})}},componentDidMount:function(){this.mounted=!0},componentWillMount:function(){this._handleClick=this._handleClick.bind(this),this.onChange=this.onChange.bind(this)},componentWillUnmount:function(){this.mounted=!1,this._removeBodyClick()},render:function(){var e=this.state.data,t={click:this._handleClick};return o("render","data",e),n(1).createElement(n(3427),{data:e,methods:t})}});e.exports=i},3427:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarItems"),o=Object.assign,i=n(4)({contextTypes:{conf:n(0).object.isRequired,getStore:n(0).func,session:n(0).object.isRequired,theme:n(0).object.isRequired},getDefaultProps:function(){return{data:{home:[],main:[],more:[],is_open:{home:!1,more:!1},homeSwitcher:{enabled:!1,link:"https://www.yahoo.com/?p=dnr",title:"Back to Yahoo.com"}},methods:{click:function(){}}}},getInitialState:function(){return{showSwitcher:!1}},displayName:"TopbarItems",mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired,methods:n(0).object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{wrapper:"_getClassNameWrapper",content:"_getClassNameContent"}}},node:{nav_home:"_getNodeNavHome",nav_main:"_getNodeNavMain",nav_more:"_getNodeNavMore",nav_switcher:"_getNodeHomeSwitcher"}},_getClassNameLinkHomeIconHomeStyle:function(e){var t=null,n=["style","nav_main","link_home","icon","home"];return t=this.getClassName(i,n.concat(["inline"])),t&&(t=e?o(t,{fill:this.getClassName(i,n.concat(["color_2"]))}):o(t,{fill:this.getClassName(i,n.concat(["color_1"]))})),s("_getClassNameLinkHomeIconHomeStyle",t,arguments),t},_getClassNameLinkHomeContent:function(e){var t=[],o=["style","nav_main","link_home"];return t.push(this.getClassName(i,o.concat(["content_1"]))),e&&t.push(this.getClassName(i,o.concat(["content_2"]))),t=n(5)(t),s("_getClassNameLinkHomeContent",t,arguments),t},_getClassNameLinkHomeWrapper:function(e){var t=[],o=["style","nav_main","link_home"];return t.push(this.getClassName(i,o.concat(["wrapper_1"]))),e&&t.push(this.getClassName(i,o.concat(["wrapper_2"]))),t.push(this.getClassName(i,o.concat(["wrapper_3"]))),t=n(5)(t),s("_getClassNameLinkHomeWrapper",t,arguments),t},_getClassNameWrapper:function(){var e=[];return e.push(this.getClassName(i,["style","nav_main","wrapper_1"])),e.push(this.getClassName(i,["style","nav_main","wrapper_2"])),e=n(5)(e),s("_getClassNameNavMainWrapper",e,arguments),e},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(i,["style","nav_main","content_1"])),e.push(this.getClassName(i,["style","nav_main","content_2"])),e.push(this.getClassName(i,["style","nav_main","content_3"])),e=n(5)(e),s("_getClassNameNavMainContent",e,arguments),e},_getNodeHomeSwitcher:function(){var e=null,t=this.context&&this.context.getStore("RouteStore"),s=t&&t.getCurrentNavigate(),o=this.props.data.homeSwitcher,i=o&&n(1361).isEnabled(o.get("enabled")),a=Object.assign({},{subsec:"uh",slk:"Back to Yahoo.com",cpos:0});return i&&s&&s.url&&s.url.indexOf("p=us")>-1&&(e=n(1).createElement("li",{className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},n(1).createElement(n(14).I13nAnchor,{href:o.get("link"),i13nModel:a,className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)"},o.get("title")))),e},_getNodeNavHome:function(e,t){var s={group:"main",icon:!0,index:t,item:e},o=this._getItems("home"),i=this.props.methods||{};return i.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,i.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,i.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===o.length?n(1).createElement(n(2158),{key:e.id,data:s,methods:i}):(s.is_open=this.props.data.is_open.home,n(1).createElement(n(2741),{key:e.id,data:s,methods:i},o))},_getNodeNavMain:function(){var e=this._getItems("main");return 0===e.length?null:e.map(function(e,t){if("home"===e.id)return this._getNodeNavHome(e,t);if("more"===e.id)return this._getNodeNavMore(e,t);var s={key:e.id,data:{group:"main",item:e,index:t}};return n(1).createElement(n(2158),s)}.bind(this))},_getNodeNavMore:function(e,t){var s={group:"main",index:t,item:e},o=this._getItems("more"),i=this.props.methods;return i.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,i.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,i.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===o.length?n(1).createElement(n(2158),{key:e.id,data:s,methods:i}):(s.is_open=this.props.data.is_open.more,n(1).createElement(n(2741),{key:e.id,data:s,methods:i},o))},_getItems:function(e){var t=this.props.data[e];return s("_getItems","items",e,t),t},_getPromo:function(){return n(1361).isEnabled(this.context.conf.getIn(["ui","topbarPromo"],!1))?n(1).createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Pend(14px) Mend(0) D(n)--md1160"},n(1).createElement("a",{className:"C(#fff) Pstart(78px) Td(n)! Td(u)!:h Fz(13px)",href:this.context.conf.getIn(["topbar","promo","link"],!1),target:"_blank",rel:"noopener noreferrer"},n(1).createElement("img",{className:"Pend(4px) Va(m)",src:this.context.conf.getIn(["topbar","promo","icon"]),width:"13",height:"13",alt:this.context.conf.getIn(["topbar","promo","iconAlt"])}),n(1).createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:this.context.conf.getIn(["topbar","promo","text"])}}),n(1).createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}}))):n(1).createElement(n(3429),null)},render:function(){return n(1).createElement("div",{id:"masterNav",className:this.getClassName(i,["style","nav_main","wrapper"])},n(1).createElement("ul",{id:"eyebrow",role:"navigation",className:this.getClassName(i,["style","nav_main","content"])},this._getNodeNavMain(),this._getNodeHomeSwitcher(),this._getPromo()))}});e.exports=i},3428:function(e,t,n){"use strict";var s=n(3)("uh:components:nav/TopbarNavDropdownMenu"),o=n(4)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavDropdownMenu",getDefaultProps:function(){return{data:{group:"main",items:[{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1}]}}},mixins:[n(1375),n(39)],propTypes:{data:n(0).object.isRequired},statics:{base:["topbar"]},_getGroup:function(e,t){return n(1361).strExpand(this.props.data.group,e,t)},_getNodeMenuItems:function(){var e=this.props.data.items;return 0===e.length?null:e.map(function(e,t){var s={key:e.id,data:{group:"more",item:e,index:t}};return n(1).createElement(n(2158),s)}.bind(this))},render:function(){return s("data",this.props.data),n(1).createElement("div",{id:this._getGroup("uh-tb-","-menu")},n(1).createElement("div",{className:this.getClassName(o,["style",this._getGroup("nav_"),"wrapper"]),style:this.getClassName(o,["style",this._getGroup("nav_"),"inline"])},n(1).createElement("ul",{className:this.getClassName(o,["style",this._getGroup("nav_"),"content"])},this._getNodeMenuItems())))}});e.exports=o},3429:function(e,t,n){"use strict";var s={set:n(502)},o=n(3)("uh:components:nav/TopbarFFPromo");e.exports=n(4)({autobind:!1,mixins:[n(12)],contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired},displayName:"TopbarFFPromo",statics:{storeListeners:[n(1411)]},_getData:function(){var e=this,t={showFFPromo:e.headerStore.getShowFFPromo(),content:null,link:null},s=n(1361).getSite(e.context)||e.context.session.dimensions.site;if(t.showFFPromo)switch(s){case"finance":t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-finance-try"].join(""),t.content="Try Yahoo Finance on Firefox";break;case"news":t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-news-try"].join(""),t.content="Try Yahoo News on Firefox";break;case"sports":t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-sports-try"].join(""),t.content="Try Yahoo Sports on Firefox";break;default:t.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-install-new-firefox"].join(""),t.content="Install the new Firefox"}return t},componentWillMount:function(){this.onChange=this.onChange.bind(this)},componentDidMount:function(){var e=this;if(void 0===e.headerStore.getShowFFPromo()){var t=e.context.conf.get("profile"),o=t.get("mode")||"server",i=e.context.conf.get("ui"),a=i.get("topbarFFPromo"),r={};a&&(s.set(r,"componentProps.componentConfig.uh.profile.mode",o),s.set(r,"componentProps.componentConfig.uh.ui.topbarFFPromo",!0),e.context.executeAction(n(1915),r))}},getInitialState:function(){var e=this;return e.headerStore=e.context.getStore(n(1411)),e._getData()},onChange:function(){this.setState(this._getData())},shouldComponentUpdate:function(e,t){var n=this.state;return t.showFFPromo!==n.showFFPromo||t.link!==n.link||t.content!==n.content},render:function(){o("render");var e=this.state,t=null;return e&&e.showFFPromo&&e.link&&e.content&&(t=n(1).createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},n(1).createElement("a",{className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)",href:e.link,target:"_blank",rel:"noopener noreferrer"},n(1).createElement("img",{className:"Pend(4px) Va(m)",src:"https://s.yimg.com/kx/yucs/uh3s/promo-ff/1/images/ff_icon-compressed.png",width:"15",height:"15",alt:"Firefox"}),n(1).createElement("span",null,e.content),n(1).createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}})))),t}})},3430:function(e,t,n){"use strict";var s=n(1361).isClient();e.exports=function(e,t,o){if(!s||!t)return void(o&&o());var i=t||{};if(i.enabled){n(1361).initSubscriptionHelper(e,i);var a=e.subscriptionHelper&&e.subscriptionHelper.getSubscriptionHelper();if(!a)return void(o&&o());setTimeout(function(){a.addPromoButtonDelegator(),a.showPushSubscriptionPromos(),a.checkIsSupportedBrowser()&&(i.enableChurnCheck||i.enableSubsResyncIfError)&&window&&window.Notification&&"granted"===window.Notification.permission&&n(1361).isBackoffTimerExceeded(i.churnCheckBackoff,"bnct")?(n(1361).setBackoffSubcookie("bnct"),a.checkSubscriptionChurn(function(t,s){var a=s.isOnboardError,r=s.pushManagerChurn;if(!t&&(a||r)&&i.resubscribeOnChurn){var l="subChurn";a&&i.enableSubsResyncIfError&&(l="subResync");var c=Object.assign({trackingParams:{sec:l,subsec:"browser-prompt"},showInstructionsDefault:!1,showInstructionsDenied:!1},i.subscriptionPayload);e.executeAction(n(2742),c),o&&o()}else o&&o(t)})):o&&o()},500)}else o&&o()}}});